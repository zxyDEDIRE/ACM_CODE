/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Ree=Object.create;var Rd=Object.defineProperty;var Tee=Object.getOwnPropertyDescriptor;var Oee=Object.getOwnPropertyNames;var Aee=Object.getPrototypeOf,Cee=Object.prototype.hasOwnProperty;var Pee=(e,t,r)=>t in e?Rd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var w=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Iee=(e,t)=>{for(var r in t)Rd(e,r,{get:t[r],enumerable:!0})},PN=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Oee(t))!Cee.call(e,n)&&n!==r&&Rd(e,n,{get:()=>t[n],enumerable:!(i=Tee(t,n))||i.enumerable});return e};var Bt=(e,t,r)=>(r=e!=null?Ree(Aee(e)):{},PN(t||!e||!e.__esModule?Rd(r,"default",{value:e,enumerable:!0}):r,e)),Nee=e=>PN(Rd({},"__esModule",{value:!0}),e);var C=(e,t,r)=>(Pee(e,typeof t!="symbol"?t+"":t,r),r),A1=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var d=(e,t,r)=>(A1(e,t,"read from private field"),r?r.call(e):t.get(e)),N=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},A=(e,t,r,i)=>(A1(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r);var va=(e,t,r,i)=>({set _(n){A(e,t,n,r)},get _(){return d(e,t,i)}}),L=(e,t,r)=>(A1(e,t,"access private method"),r);var NN=w((P3e,IN)=>{"use strict";function $ee(e){var t=new e,r=t;function i(){var s=t;return s.next?t=s.next:(t=new e,r=t),s.next=null,s}function n(s){r.next=s,r=s}return{get:i,release:n}}IN.exports=$ee});var P1=w((I3e,C1)=>{"use strict";var Fee=NN();function $N(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),!(r>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var i=Fee(Dee),n=null,s=null,o=0,a=null,l={push:g,drain:on,saturated:on,pause:u,paused:!1,get concurrency(){return r},set concurrency(O){if(!(O>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(r=O,!l.paused)for(;n&&o<r;)o++,_()},running:c,resume:p,idle:m,length:f,getQueue:h,unshift:y,empty:on,kill:S,killAndDrain:b,error:v};return l;function c(){return o}function u(){l.paused=!0}function f(){for(var O=n,j=0;O;)O=O.next,j++;return j}function h(){for(var O=n,j=[];O;)j.push(O.value),O=O.next;return j}function p(){if(l.paused){if(l.paused=!1,n===null){o++,_();return}for(;n&&o<r;)o++,_()}}function m(){return o===0&&l.length()===0}function g(O,j){var R=i.get();R.context=e,R.release=_,R.value=O,R.callback=j||on,R.errorHandler=a,o>=r||l.paused?s?(s.next=R,s=R):(n=R,s=R,l.saturated()):(o++,t.call(e,R.value,R.worked))}function y(O,j){var R=i.get();R.context=e,R.release=_,R.value=O,R.callback=j||on,R.errorHandler=a,o>=r||l.paused?n?(R.next=n,n=R):(n=R,s=R,l.saturated()):(o++,t.call(e,R.value,R.worked))}function _(O){O&&i.release(O);var j=n;j&&o<=r?l.paused?o--:(s===n&&(s=null),n=j.next,j.next=null,t.call(e,j.value,j.worked),s===null&&l.empty()):--o===0&&l.drain()}function S(){n=null,s=null,l.drain=on}function b(){n=null,s=null,l.drain(),l.drain=on}function v(O){a=O}}function on(){}function Dee(){this.value=null,this.callback=on,this.next=null,this.release=on,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,i){var n=e.callback,s=e.errorHandler,o=e.value;e.value=null,e.callback=on,e.errorHandler&&s(r,o),n.call(e.context,r,i),e.release(e)}}function Lee(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function i(u,f){t.call(this,u).then(function(h){f(null,h)},f)}var n=$N(e,i,r),s=n.push,o=n.unshift;return n.push=a,n.unshift=l,n.drained=c,n;function a(u){var f=new Promise(function(h,p){s(u,function(m,g){if(m){p(m);return}h(g)})});return f.catch(on),f}function l(u){var f=new Promise(function(h,p){o(u,function(m,g){if(m){p(m);return}h(g)})});return f.catch(on),f}function c(){if(n.idle())return new Promise(function(h){h()});var u=n.drain,f=new Promise(function(h){n.drain=function(){u(),h()}});return f}}C1.exports=$N;C1.exports.promise=Lee});var N1=w((N3e,jy)=>{"use strict";var{format:jee}=require("util");function qee(){return`${this.name} [${this.code}]: ${this.message}`}function I1(e,t,r=500,i=Error){if(!e)throw new Error("Fastify error code must not be empty");if(!t)throw new Error("Fastify error message must not be empty");e=e.toUpperCase(),!r&&(r=void 0);function n(...s){if(!new.target)return new n(...s);this.code=e,this.name="FastifyError",this.statusCode=r;let o=s.length-1;o!==-1&&s[o]&&typeof s[o]=="object"&&"cause"in s[o]&&(this.cause=s.pop().cause),this.message=jee(t,...s),Error.stackTraceLimit!==0&&Error.captureStackTrace(this,n)}return n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),n.prototype[Symbol.toStringTag]="Error",n.prototype.toString=qee,n}jy.exports=I1;jy.exports.default=I1;jy.exports.createError=I1});var qy=w(($3e,FN)=>{"use strict";var{createError:_a}=N1();FN.exports={AVV_ERR_EXPOSE_ALREADY_DEFINED:_a("AVV_ERR_EXPOSE_ALREADY_DEFINED","'%s' is already defined, specify an expose option for '%s'"),AVV_ERR_ATTRIBUTE_ALREADY_DEFINED:_a("AVV_ERR_ATTRIBUTE_ALREADY_DEFINED","'%s' is already defined"),AVV_ERR_CALLBACK_NOT_FN:_a("AVV_ERR_CALLBACK_NOT_FN","Callback for '%s' hook is not a function. Received: '%s'"),AVV_ERR_PLUGIN_NOT_VALID:_a("AVV_ERR_PLUGIN_NOT_VALID","Plugin must be a function or a promise. Received: '%s'"),AVV_ERR_ROOT_PLG_BOOTED:_a("AVV_ERR_ROOT_PLG_BOOTED","Root plugin has already booted"),AVV_ERR_PARENT_PLG_LOADED:_a("AVV_ERR_PARENT_PLG_LOADED","Impossible to load '%s' plugin because the parent '%s' was already loaded"),AVV_ERR_READY_TIMEOUT:_a("AVV_ERR_READY_TIMEOUT","Plugin did not start in time: '%s'. You may have forgotten to call 'done' function or to resolve a Promise"),AVV_ERR_PLUGIN_EXEC_TIMEOUT:_a("AVV_ERR_PLUGIN_EXEC_TIMEOUT","Plugin did not start in time: '%s'. You may have forgotten to call 'done' function or to resolve a Promise")}});var Cu=w((F3e,DN)=>{"use strict";var Mee=Symbol("avvio.Boot"),zee=Symbol("isOnCloseHandler"),Uee=Symbol("avvio.ThenifyDoNotWrap"),Bee=Symbol("avvio.TimeTree.untrackNode"),Hee=Symbol("avvio.TimeTree.trackNode"),Vee=Symbol("avvio.TimeTree.getParent"),Wee=Symbol("avvio.TimeTree.getNode"),Gee=Symbol("avvio.TimeTree.addNode"),Yee=Symbol.for("plugin-meta");DN.exports={kAvvio:Mee,kIsOnCloseHandler:zee,kThenifyDoNotWrap:Uee,kUntrackNode:Bee,kTrackNode:Hee,kGetParent:Vee,kGetNode:Wee,kAddNode:Gee,kPluginMeta:Yee}});var BN=w((D3e,UN)=>{"use strict";var{kUntrackNode:LN,kTrackNode:$1,kGetParent:jN,kGetNode:qN,kAddNode:MN}=Cu(),F1=class{constructor(){this.root=null,this.tableId=new Map,this.tableLabel=new Map}[$1](t){this.tableId.set(t.id,t),this.tableLabel.has(t.label)?this.tableLabel.get(t.label).push(t):this.tableLabel.set(t.label,[t])}[LN](t){this.tableId.delete(t.id);let r=this.tableLabel.get(t.label);r.pop(),r.length===0&&this.tableLabel.delete(t.label)}[jN](t){if(t===null)return null;if(this.tableLabel.has(t)){let r=this.tableLabel.get(t);return r[r.length-1]}else return null}[qN](t){return this.tableId.get(t)}[MN](t,r,i){let n=this[jN](t);if(n===null)return this.root={parent:null,id:"root",label:r,nodes:[],start:i,stop:null,diff:-1},this[$1](this.root),this.root.id;let o=`${r}-${Math.random()}`,a={parent:t,id:o,label:r,nodes:[],start:i,stop:null,diff:-1};return n.nodes.push(a),this[$1](a),o}start(t,r,i=Date.now()){return this[MN](t,r,i)}stop(t,r=Date.now()){let i=this[qN](t);i&&(i.stop=r,i.diff=i.stop-i.start||0,this[LN](i))}toJSON(){return Object.assign({},this.root)}prettyPrint(){return zN(this.toJSON())}};function zN(e,t=""){let r=t,i=e.nodes.length,n=i-1;r+=`${e.label} ${e.diff} ms
`;for(let s=0;s<i;++s){let o=e.nodes[s],a=t+(s===n?"  ":"\u2502 ");r+=t,r+=s===n?"\u2514\u2500":"\u251C\u2500",r+=o.nodes.length===0?"\u2500 ":"\u252C ",r+=zN(o,a).slice(t.length+2)}return r}UN.exports={TimeTree:F1}});var My=w((L3e,HN)=>{"use strict";var{debuglog:Kee}=require("util"),Jee=Kee("avvio");HN.exports={debug:Jee}});var WN=w((j3e,VN)=>{"use strict";function Zee(){let e={resolve:null,reject:null,promise:null};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e}VN.exports={createPromise:Zee}});var YN=w((q3e,GN)=>{"use strict";var{kPluginMeta:D1}=Cu();function Xee(e,t){return e[D1]&&e[D1].name?e[D1].name:t&&t.name?t.name:e.name?e.name:e.toString().split(`
`).slice(0,2).map(r=>r.trim()).join(" -- ")}GN.exports={getPluginName:Xee}});var zy=w((M3e,KN)=>{"use strict";function Qee(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}KN.exports={isPromiseLike:Qee}});var ZN=w((z3e,JN)=>{"use strict";var{EventEmitter:ete}=require("events"),{inherits:tte}=require("util"),{debug:br}=My(),{createPromise:rte}=WN(),{AVV_ERR_PLUGIN_EXEC_TIMEOUT:ite}=qy(),{getPluginName:nte}=YN(),{isPromiseLike:ste}=zy();function Pu(e,t,r,i,n){this.queue=e,this.func=t,this.options=r,this.isAfter=i,this.timeout=n,this.started=!1,this.name=nte(t,r),this.queue.pause(),this._error=null,this.loaded=!1,this._promise=null,this.startTime=null}tte(Pu,ete);Pu.prototype.exec=function(e,t){br("exec",this.name),this.server=e;let r=this.func,i=this.name,n=!1;this.options=typeof this.options=="function"?this.options(this.server):this.options;let s=null,o=l=>{if(n){br("loading complete",i);return}this._error=l,br(l?"exec errored":"exec completed",i),n=!0,s&&clearTimeout(s),t(l)};this.timeout>0&&(br("setting up timeout",i,this.timeout),s=setTimeout(function(){br("timed out",i),s=null;let l=new ite(i);l.fn=r,o(l)},this.timeout)),this.started=!0,this.startTime=Date.now(),this.emit("start",this.server?this.server.name:null,this.name,Date.now());let a=r(this.server,this.options,o);ste(a)&&(br("exec: resolving promise",i),a.then(()=>process.nextTick(o),l=>process.nextTick(o,l)))};Pu.prototype.loadedSoFar=function(){if(br("loadedSoFar",this.name),this.loaded)return Promise.resolve();let e=()=>{this.server.after((r,i)=>{this._error=r,this.queue.pause(),this._promise&&(r?(br("rejecting promise",this.name,r),this._promise.reject(r)):(br("resolving promise",this.name),this._promise.resolve()),this._promise=null),process.nextTick(i,r)}),this.queue.resume()},t;return this._promise?t=Promise.resolve():(this._promise=rte(),t=this._promise.promise,this.server?e():this.on("start",e)),t};Pu.prototype.enqueue=function(e,t){br("enqueue",this.name,e.name),this.emit("enqueue",this.server?this.server.name:null,this.name,Date.now()),this.queue.push(e,t)};Pu.prototype.finish=function(e,t){br("finish",this.name,e);let r=()=>{this.loaded||(br("loaded",this.name),this.emit("loaded",this.server?this.server.name:null,this.name,Date.now()),this.loaded=!0,t(e))};if(e){this._promise&&(this._promise.reject(e),this._promise=null),r();return}let i=()=>{if(br("check",this.name,this.queue.length(),this.queue.running(),this._promise),this.queue.length()===0&&this.queue.running()===0)if(this._promise){let n=()=>{br("wrap"),queueMicrotask(i)};this._promise.resolve(),this._promise.promise.then(n,n),this._promise=null}else r();else br("delayed",this.name),this.queue.drain=()=>{br("drain",this.name),this.queue.drain=ote,queueMicrotask(i)}};queueMicrotask(i),this.queue.resume()};function ote(){}JN.exports={Plugin:Pu}});var QN=w((U3e,XN)=>{"use strict";var{AVV_ERR_PLUGIN_NOT_VALID:L1}=qy();function ate(e){if(!(e&&(typeof e=="function"||typeof e.then=="function")))throw Array.isArray(e)?new L1("array"):e===null?new L1("null"):new L1(typeof e)}XN.exports={validatePlugin:ate}});var t$=w((B3e,e$)=>{"use strict";function lte(e){return e!==null&&typeof e=="object"&&typeof e.default=="function"}e$.exports={isBundledOrTypescriptPlugin:lte}});var n$=w((H3e,i$)=>{"use strict";var{debug:r$}=My(),{kThenifyDoNotWrap:j1}=Cu();function cte(){if(this.booted){r$("thenify returning undefined because we are already booted");return}if(this[j1]){this[j1]=!1;return}return r$("thenify"),(e,t)=>this._loadRegistered().then(()=>(this[j1]=!0,e(this._server)),t)}i$.exports={thenify:cte}});var o$=w((V3e,s$)=>{"use strict";var{isPromiseLike:ute}=zy(),{kAvvio:fte}=Cu();function hte(e,t,r){let i=e.apply(e,t);ute(i)&&!i[fte]?i.then(()=>process.nextTick(r),n=>process.nextTick(r,n)):r&&process.nextTick(r)}s$.exports={executeWithThenable:hte}});var p$=w((W3e,M1)=>{"use strict";var Uy=P1(),dte=require("events").EventEmitter,pte=require("util").inherits,{AVV_ERR_EXPOSE_ALREADY_DEFINED:Td,AVV_ERR_CALLBACK_NOT_FN:Iu,AVV_ERR_ROOT_PLG_BOOTED:mte,AVV_ERR_READY_TIMEOUT:gte,AVV_ERR_ATTRIBUTE_ALREADY_DEFINED:yte}=qy(),{kAvvio:c$,kIsOnCloseHandler:u$}=Cu(),{TimeTree:vte}=BN(),{Plugin:f$}=ZN(),{debug:Nu}=My(),{validatePlugin:_te}=QN(),{isBundledOrTypescriptPlugin:bte}=t$(),{isPromiseLike:wte}=zy(),{thenify:h$}=n$(),{executeWithThenable:a$}=o$();function kt(e,t,r){if(typeof e=="function"&&arguments.length===1&&(r=e,t={},e=null),typeof t=="function"&&(r=t,t={}),t=t||{},t.autostart=t.autostart!==!1,t.timeout=Number(t.timeout)||0,t.expose=t.expose||{},!new.target)return new kt(e,t,r);this._server=e||this,this._opts=t,e&&this._expose(),this._current=[],this._error=null,this._lastUsed=null,this.setMaxListeners(0),r&&this.once("start",r),this.started=!1,this.booted=!1,this.pluginTree=new vte,this._readyQ=Uy(this,d$,1),this._readyQ.pause(),this._readyQ.drain=()=>{this.emit("start"),this._readyQ.drain=l$},this._closeQ=Uy(this,xte,1),this._closeQ.pause(),this._closeQ.drain=()=>{this.emit("close"),this._closeQ.drain=l$},this._doStart=null;let i=this;this._root=new f$(Uy(this,this._loadPluginNextTick,1),function(s,o,a){i._doStart=a,o.autostart&&i.start()},t,!1,0),this._trackPluginLoading(this._root),this._loadPlugin(this._root,n=>{Nu("root plugin ready");try{this.emit("preReady"),this._root=null}catch(s){n=n||this._error||s}if(n){if(this._error=n,this._readyQ.length()===0)throw n}else this.booted=!0;this._readyQ.resume()})}pte(kt,dte);kt.prototype.start=function(){return this.started=!0,process.nextTick(this._doStart),this};kt.prototype.override=function(e,t,r){return e};kt.prototype[c$]=!0;kt.prototype.use=function(e,t){return this._lastUsed=this._addPlugin(e,t,!1),this};kt.prototype._loadRegistered=function(){let e=this._current[0];return!this.started&&!this.booted&&process.nextTick(()=>this._root.queue.resume()),e?e.loadedSoFar():Promise.resolve()};Object.defineProperty(kt.prototype,"then",{get:h$});kt.prototype._addPlugin=function(e,t,r){if(bte(e)&&(e=e.default),_te(e),t=t||{},this.booted)throw new mte;let i=this._current[0],n=this._opts.timeout;if(!i.loaded&&i.timeout>0){let o=Date.now()-i.startTime;n=i.timeout-(o+3)}let s=new f$(Uy(this,this._loadPluginNextTick,1),e,t,r,n);if(this._trackPluginLoading(s),i.loaded)throw new Error(s.name,i.name);return i.enqueue(s,o=>{o&&(this._error=o)}),s};kt.prototype._expose=function(){let t=this,r=t._server,{use:i="use",after:n="after",ready:s="ready",onClose:o="onClose",close:a="close"}=this._opts.expose;if(r[i])throw new Td(i,"use");if(r[i]=function(l,c){return t.use(l,c),this},r[n])throw new Td(n,"after");if(r[n]=function(l){return typeof l!="function"?t._loadRegistered():(t.after(q1(l,this)),this)},r[s])throw new Td(s,"ready");if(r[s]=function(l){if(l&&typeof l!="function")throw new Iu(s,typeof l);return t.ready(l?q1(l,this):void 0)},r[o])throw new Td(o,"onClose");if(r[o]=function(l){if(typeof l!="function")throw new Iu(o,typeof l);return t.onClose(Ete(l,this)),this},r[a])throw new Td(a,"close");if(r[a]=function(l){if(l&&typeof l!="function")throw new Iu(a,typeof l);return l?(t.close(q1(l,this)),this):t.close()},r.then)throw new yte("then");Object.defineProperty(r,"then",{get:h$.bind(t)}),r[c$]=!0};kt.prototype.after=function(e){if(!e)return this._loadRegistered();this._addPlugin(t.bind(this),{},!0);function t(r,i,n){d$.call(this,e,n)}return this};kt.prototype.onClose=function(e){if(typeof e!="function")throw new Iu("onClose",typeof e);return e[u$]=!0,this._closeQ.unshift(e,t=>{t&&(this._error=t)}),this};kt.prototype.close=function(e){let t;if(e){if(typeof e!="function")throw new Iu("close",typeof e)}else t=new Promise(function(r,i){e=function(n){if(n)return i(n);r()}});return this.ready(()=>{this._error=null,this._closeQ.push(e),process.nextTick(this._closeQ.resume.bind(this._closeQ))}),t};kt.prototype.ready=function(e){if(e){if(typeof e!="function")throw new Iu("ready",typeof e);this._readyQ.push(e),queueMicrotask(this.start.bind(this));return}return new Promise((t,r)=>{this._readyQ.push(n),this.start();let i=this._current[0].server;function n(s,o,a){s?r(s):t(i),process.nextTick(a)}})};kt.prototype._trackPluginLoading=function(e){let t=this._current[0]?.name||null;e.once("start",(r,i,n)=>{let s=this.pluginTree.start(t||null,i,n);e.once("loaded",(o,a,l)=>{this.pluginTree.stop(s,l)})})};kt.prototype.prettyPrint=function(){return this.pluginTree.prettyPrint()};kt.prototype.toJSON=function(){return this.pluginTree.toJSON()};kt.prototype._loadPlugin=function(e,t){let r=this;if(wte(e.func)){e.func.then(o=>{typeof o.default=="function"&&(o=o.default),e.func=o,this._loadPlugin(e,t)},t);return}let i=r._current[0];if(r._current.unshift(e),r._error&&!e.isAfter){Nu("skipping loading of plugin as instance errored and it is not an after",e.name),process.nextTick(s);return}let n=i&&i.server||r._server;if(!e.isAfter)try{n=r.override(n,e.func,e.options)}catch(o){return Nu("override errored",e.name),s(o)}e.exec(n,s);function s(o){e.finish(o,a=>{r._current.shift(),t(a)})}};kt.prototype._loadPluginNextTick=function(e,t){process.nextTick(this._loadPlugin.bind(this),e,t)};function l$(){}function d$(e,t){let r=this._server,i=this._error;if(this._error=null,e.length===0)this._error=i,a$(e,[],t);else if(e.length===1)a$(e,[i],t);else if(this._opts.timeout===0){let n=s=>{this._error=s,t(this._error)};e.length===2?e(i,n):e(i,r,n)}else Ste.call(this,e,i,r,t)}function Ste(e,t,r,i){let n=e.unwrappedName??e.name;Nu("setting up ready timeout",n,this._opts.timeout);let s=setTimeout(()=>{Nu("timed out",n),s=null;let a=new gte(n);a.fn=e,this._error=a,i(a)},this._opts.timeout);e.length===2?e(t,o.bind(this)):e(t,r,o.bind(this));function o(a){s&&(clearTimeout(s),this._error=a,i(this._error))}}function xte(e,t){let r=this._server,i=e[u$];if(e.length===0||e.length===1){let n;i?n=e(r):n=e(this._error),n&&typeof n.then=="function"?(Nu("resolving close/onClose promise"),n.then(()=>process.nextTick(t),s=>process.nextTick(t,s))):process.nextTick(t)}else e.length===2?e(i?r:this._error,t):i?e(r,t):e(this._error,r,t)}function Ete(e,t){return r.bind(t);function r(i,n){let s;e.length===0?(s=e(),s&&s.then?s.then(function(){process.nextTick(n)},n):process.nextTick(n)):e.length===1?(s=e(this),s&&s.then?s.then(function(){process.nextTick(n)},n):process.nextTick(n)):e(this,n)}}function q1(e,t){let r=i.bind(t);return r.unwrappedName=e.name,r;function i(n,s){let o;e?e.length===0?(o=e(),o&&o.then?o.then(function(){process.nextTick(s,n)},s):process.nextTick(s,n)):e.length===1?(o=e(n),o&&o.then?o.then(function(){process.nextTick(s)},s):process.nextTick(s)):e.length===2?e(n,s):e(n,this,s):process.nextTick(s)}}M1.exports=kt;M1.exports.express=function(e){return kt(e,{expose:{use:"load"}})}});var tr=w((G3e,m$)=>{"use strict";var kte={kAvvioBoot:Symbol("fastify.avvioBoot"),kChildren:Symbol("fastify.children"),kServerBindings:Symbol("fastify.serverBindings"),kBodyLimit:Symbol("fastify.bodyLimit"),kRoutePrefix:Symbol("fastify.routePrefix"),kLogLevel:Symbol("fastify.logLevel"),kLogSerializers:Symbol("fastify.logSerializers"),kHooks:Symbol("fastify.hooks"),kContentTypeParser:Symbol("fastify.contentTypeParser"),kState:Symbol("fastify.state"),kOptions:Symbol("fastify.options"),kDisableRequestLogging:Symbol("fastify.disableRequestLogging"),kPluginNameChain:Symbol("fastify.pluginNameChain"),kRouteContext:Symbol("fastify.context"),kPublicRouteContext:Symbol("fastify.routeOptions"),kGenReqId:Symbol("fastify.genReqId"),kSchemaController:Symbol("fastify.schemaController"),kSchemaHeaders:Symbol("headers-schema"),kSchemaParams:Symbol("params-schema"),kSchemaQuerystring:Symbol("querystring-schema"),kSchemaBody:Symbol("body-schema"),kSchemaResponse:Symbol("response-schema"),kSchemaErrorFormatter:Symbol("fastify.schemaErrorFormatter"),kSchemaVisited:Symbol("fastify.schemas.visited"),kRequest:Symbol("fastify.Request"),kRequestPayloadStream:Symbol("fastify.RequestPayloadStream"),kRequestAcceptVersion:Symbol("fastify.RequestAcceptVersion"),kRequestCacheValidateFns:Symbol("fastify.request.cache.validateFns"),kRequestOriginalUrl:Symbol("fastify.request.originalUrl"),kFourOhFour:Symbol("fastify.404"),kCanSetNotFoundHandler:Symbol("fastify.canSetNotFoundHandler"),kFourOhFourLevelInstance:Symbol("fastify.404LogLevelInstance"),kFourOhFourContext:Symbol("fastify.404ContextKey"),kDefaultJsonParse:Symbol("fastify.defaultJSONParse"),kReply:Symbol("fastify.Reply"),kReplySerializer:Symbol("fastify.reply.serializer"),kReplyIsError:Symbol("fastify.reply.isError"),kReplyHeaders:Symbol("fastify.reply.headers"),kReplyTrailers:Symbol("fastify.reply.trailers"),kReplyHasStatusCode:Symbol("fastify.reply.hasStatusCode"),kReplyHijacked:Symbol("fastify.reply.hijacked"),kReplyStartTime:Symbol("fastify.reply.startTime"),kReplyNextErrorHandler:Symbol("fastify.reply.nextErrorHandler"),kReplyEndTime:Symbol("fastify.reply.endTime"),kReplyErrorHandlerCalled:Symbol("fastify.reply.errorHandlerCalled"),kReplyIsRunningOnErrorHook:Symbol("fastify.reply.isRunningOnErrorHook"),kReplySerializerDefault:Symbol("fastify.replySerializerDefault"),kReplyCacheSerializeFns:Symbol("fastify.reply.cache.serializeFns"),kTestInternals:Symbol("fastify.testInternals"),kErrorHandler:Symbol("fastify.errorHandler"),kChildLoggerFactory:Symbol("fastify.childLoggerFactory"),kHasBeenDecorated:Symbol("fastify.hasBeenDecorated"),kKeepAliveConnections:Symbol("fastify.keepAliveConnections"),kRouteByFastify:Symbol("fastify.routeByFastify")};m$.exports=kte});var B1=w((Y3e,By)=>{"use strict";var{format:z1}=require("util");function Rte(e){return g$({...e,name:"DeprecationWarning"})}function g$({name:e,code:t,message:r,unlimited:i=!1}={}){if(!e)throw new Error("Warning name must not be empty");if(!t)throw new Error("Warning code must not be empty");if(!r)throw new Error("Warning message must not be empty");if(typeof i!="boolean")throw new Error("Warning opts.unlimited must be a boolean");t=t.toUpperCase();let n={[e]:function(o,a,l){s.emitted===!0&&s.unlimited!==!0||(s.emitted=!0,process.emitWarning(s.format(o,a,l),s.name,s.code))}};i&&(n={[e]:function(o,a,l){s.emitted=!0,process.emitWarning(s.format(o,a,l),s.name,s.code)}});let s=n[e];return s.emitted=!1,s.message=r,s.unlimited=i,s.code=t,s.format=function(o,a,l){let c;return o&&a&&l?c=z1(r,o,a,l):o&&a?c=z1(r,o,a):o?c=z1(r,o):c=r,c},s}var U1={createWarning:g$,createDeprecation:Rte};By.exports=U1;By.exports.default=U1;By.exports.processWarning=U1});var vo=w((K3e,v$)=>{"use strict";var{createDeprecation:wr,createWarning:y$}=B1(),Tte=wr({code:"FSTDEP005",message:'You are accessing the deprecated "request.connection" property. Use "request.socket" instead.'}),Ote=wr({code:"FSTDEP006",message:"You are decorating Request/Reply with a reference type. This reference is shared amongst all requests. Use onRequest hook instead. Property: %s"}),Ate=wr({code:"FSTDEP007",message:'You are trying to set a HEAD route using "exposeHeadRoute" route flag when a sibling route is already set. See documentation for more info.'}),Cte=wr({code:"FSTDEP008",message:'You are using route constraints via the route { version: "..." } option, use { constraints: { version: "..." } } option instead.'}),Pte=wr({code:"FSTDEP009",message:'You are using a custom route versioning strategy via the server { versioning: "..." } option, use { constraints: { version: "..." } } option instead.'}),Ite=wr({code:"FSTDEP010",message:'Modifying the "reply.sent" property is deprecated. Use the "reply.hijack()" method instead.'}),Nte=wr({code:"FSTDEP011",message:'Variadic listen method is deprecated. Please use ".listen(optionsObject)" instead. The variadic signature will be removed in `fastify@5`.'}),$te=wr({code:"FSTDEP012",message:'request.context property access is deprecated. Please use "request.routeOptions.config" or "request.routeOptions.schema" instead for accessing Route settings. The "request.context" will be removed in `fastify@5`.'}),Fte=wr({code:"FSTDEP013",message:'Direct return of "trailers" function is deprecated. Please use "callback" or "async-await" for return value. The support of direct return will removed in `fastify@5`.'}),Dte=wr({code:"FSTDEP014",message:"You are trying to set/access the default route. This property is deprecated. Please, use setNotFoundHandler if you want to custom a 404 handler or the wildcard (*) to match all routes."}),Lte=wr({code:"FSTDEP015",message:'You are accessing the deprecated "request.routeSchema" property. Use "request.routeOptions.schema" instead. Property "req.routeSchema" will be removed in `fastify@5`.'}),jte=wr({code:"FSTDEP016",message:'You are accessing the deprecated "request.routeConfig" property. Use "request.routeOptions.config" instead. Property "req.routeConfig" will be removed in `fastify@5`.'}),qte=wr({code:"FSTDEP017",message:'You are accessing the deprecated "request.routerPath" property. Use "request.routeOptions.url" instead. Property "req.routerPath" will be removed in `fastify@5`.'}),Mte=wr({code:"FSTDEP018",message:'You are accessing the deprecated "request.routerMethod" property. Use "request.routeOptions.method" instead. Property "req.routerMethod" will be removed in `fastify@5`.'}),zte=wr({code:"FSTDEP019",message:'reply.context property access is deprecated. Please use "request.routeOptions.config" or "request.routeOptions.schema" instead for accessing Route settings. The "reply.context" will be removed in `fastify@5`.'}),Ute=wr({code:"FSTDEP020",message:'You are using the deprecated "reply.getResponseTime()" method. Use the "reply.elapsedTime" property instead. Method "reply.getResponseTime()" will be removed in `fastify@5`.'}),Bte=wr({code:"FSTDEP021",message:"The `reply.redirect()` method has a new signature: `reply.redirect(url: string, code?: number)`. It will be enforced in `fastify@v5`"}),Hte=y$({name:"FastifyWarning",code:"FSTWRN001",message:"The %s schema for %s: %s is missing. This may indicate the schema is not well specified.",unlimited:!0}),Vte=y$({name:"FastifyWarning",code:"FSTWRN002",message:"The %s plugin being registered mixes async and callback styles, which will result in an error in `fastify@5`",unlimited:!0});v$.exports={FSTDEP005:Tte,FSTDEP006:Ote,FSTDEP007:Ate,FSTDEP008:Cte,FSTDEP009:Pte,FSTDEP010:Ite,FSTDEP011:Nte,FSTDEP012:$te,FSTDEP013:Fte,FSTDEP014:Dte,FSTDEP015:Lte,FSTDEP016:jte,FSTDEP017:qte,FSTDEP018:Mte,FSTDEP019:zte,FSTDEP020:Ute,FSTDEP021:Bte,FSTWRN001:Hte,FSTWRN002:Vte}});var Ir=w((J3e,Hy)=>{"use strict";var re=N1(),Bl={FST_ERR_NOT_FOUND:re("FST_ERR_NOT_FOUND","Not Found",404),FST_ERR_OPTIONS_NOT_OBJ:re("FST_ERR_OPTIONS_NOT_OBJ","Options must be an object",500,TypeError),FST_ERR_QSP_NOT_FN:re("FST_ERR_QSP_NOT_FN","querystringParser option should be a function, instead got '%s'",500,TypeError),FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN:re("FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN","schemaController.bucket option should be a function, instead got '%s'",500,TypeError),FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN:re("FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN","schemaErrorFormatter option should be a non async function. Instead got '%s'.",500,TypeError),FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ:re("FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ","ajv.customOptions option should be an object, instead got '%s'",500,TypeError),FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR:re("FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR","ajv.plugins option should be an array, instead got '%s'",500,TypeError),FST_ERR_VERSION_CONSTRAINT_NOT_STR:re("FST_ERR_VERSION_CONSTRAINT_NOT_STR","Version constraint should be a string.",500,TypeError),FST_ERR_VALIDATION:re("FST_ERR_VALIDATION","%s",400),FST_ERR_LISTEN_OPTIONS_INVALID:re("FST_ERR_LISTEN_OPTIONS_INVALID","Invalid listen options: '%s'",500,TypeError),FST_ERR_ERROR_HANDLER_NOT_FN:re("FST_ERR_ERROR_HANDLER_NOT_FN","Error Handler must be a function",500,TypeError),FST_ERR_CTP_ALREADY_PRESENT:re("FST_ERR_CTP_ALREADY_PRESENT","Content type parser '%s' already present."),FST_ERR_CTP_INVALID_TYPE:re("FST_ERR_CTP_INVALID_TYPE","The content type should be a string or a RegExp",500,TypeError),FST_ERR_CTP_EMPTY_TYPE:re("FST_ERR_CTP_EMPTY_TYPE","The content type cannot be an empty string",500,TypeError),FST_ERR_CTP_INVALID_HANDLER:re("FST_ERR_CTP_INVALID_HANDLER","The content type handler should be a function",500,TypeError),FST_ERR_CTP_INVALID_PARSE_TYPE:re("FST_ERR_CTP_INVALID_PARSE_TYPE","The body parser can only parse your data as 'string' or 'buffer', you asked '%s' which is not supported.",500,TypeError),FST_ERR_CTP_BODY_TOO_LARGE:re("FST_ERR_CTP_BODY_TOO_LARGE","Request body is too large",413,RangeError),FST_ERR_CTP_INVALID_MEDIA_TYPE:re("FST_ERR_CTP_INVALID_MEDIA_TYPE","Unsupported Media Type: %s",415),FST_ERR_CTP_INVALID_CONTENT_LENGTH:re("FST_ERR_CTP_INVALID_CONTENT_LENGTH","Request body size did not match Content-Length",400,RangeError),FST_ERR_CTP_EMPTY_JSON_BODY:re("FST_ERR_CTP_EMPTY_JSON_BODY","Body cannot be empty when content-type is set to 'application/json'",400),FST_ERR_CTP_INSTANCE_ALREADY_STARTED:re("FST_ERR_CTP_INSTANCE_ALREADY_STARTED",'Cannot call "%s" when fastify instance is already started!',400),FST_ERR_DEC_ALREADY_PRESENT:re("FST_ERR_DEC_ALREADY_PRESENT","The decorator '%s' has already been added!"),FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:re("FST_ERR_DEC_DEPENDENCY_INVALID_TYPE","The dependencies of decorator '%s' must be of type Array.",500,TypeError),FST_ERR_DEC_MISSING_DEPENDENCY:re("FST_ERR_DEC_MISSING_DEPENDENCY","The decorator is missing dependency '%s'."),FST_ERR_DEC_AFTER_START:re("FST_ERR_DEC_AFTER_START","The decorator '%s' has been added after start!"),FST_ERR_HOOK_INVALID_TYPE:re("FST_ERR_HOOK_INVALID_TYPE","The hook name must be a string",500,TypeError),FST_ERR_HOOK_INVALID_HANDLER:re("FST_ERR_HOOK_INVALID_HANDLER","%s hook should be a function, instead got %s",500,TypeError),FST_ERR_HOOK_INVALID_ASYNC_HANDLER:re("FST_ERR_HOOK_INVALID_ASYNC_HANDLER","Async function has too many arguments. Async hooks should not use the 'done' argument.",500,TypeError),FST_ERR_HOOK_NOT_SUPPORTED:re("FST_ERR_HOOK_NOT_SUPPORTED","%s hook not supported!",500,TypeError),FST_ERR_MISSING_MIDDLEWARE:re("FST_ERR_MISSING_MIDDLEWARE","You must register a plugin for handling middlewares, visit fastify.dev/docs/latest/Reference/Middleware/ for more info.",500),FST_ERR_HOOK_TIMEOUT:re("FST_ERR_HOOK_TIMEOUT","A callback for '%s' hook timed out. You may have forgotten to call 'done' function or to resolve a Promise"),FST_ERR_LOG_INVALID_DESTINATION:re("FST_ERR_LOG_INVALID_DESTINATION","Cannot specify both logger.stream and logger.file options"),FST_ERR_LOG_INVALID_LOGGER:re("FST_ERR_LOG_INVALID_LOGGER","Invalid logger object provided. The logger instance should have these functions(s): '%s'.",500,TypeError),FST_ERR_REP_INVALID_PAYLOAD_TYPE:re("FST_ERR_REP_INVALID_PAYLOAD_TYPE","Attempted to send payload of invalid type '%s'. Expected a string or Buffer.",500,TypeError),FST_ERR_REP_RESPONSE_BODY_CONSUMED:re("FST_ERR_REP_RESPONSE_BODY_CONSUMED","Response.body is already consumed."),FST_ERR_REP_ALREADY_SENT:re("FST_ERR_REP_ALREADY_SENT",'Reply was already sent, did you forget to "return reply" in "%s" (%s)?'),FST_ERR_REP_SENT_VALUE:re("FST_ERR_REP_SENT_VALUE","The only possible value for reply.sent is true.",500,TypeError),FST_ERR_SEND_INSIDE_ONERR:re("FST_ERR_SEND_INSIDE_ONERR","You cannot use `send` inside the `onError` hook"),FST_ERR_SEND_UNDEFINED_ERR:re("FST_ERR_SEND_UNDEFINED_ERR","Undefined error has occurred"),FST_ERR_BAD_STATUS_CODE:re("FST_ERR_BAD_STATUS_CODE","Called reply with an invalid status code: %s"),FST_ERR_BAD_TRAILER_NAME:re("FST_ERR_BAD_TRAILER_NAME","Called reply.trailer with an invalid header name: %s"),FST_ERR_BAD_TRAILER_VALUE:re("FST_ERR_BAD_TRAILER_VALUE","Called reply.trailer('%s', fn) with an invalid type: %s. Expected a function."),FST_ERR_FAILED_ERROR_SERIALIZATION:re("FST_ERR_FAILED_ERROR_SERIALIZATION","Failed to serialize an error. Error: %s. Original error: %s"),FST_ERR_MISSING_SERIALIZATION_FN:re("FST_ERR_MISSING_SERIALIZATION_FN",'Missing serialization function. Key "%s"'),FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN:re("FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN",'Missing serialization function. Key "%s:%s"'),FST_ERR_REQ_INVALID_VALIDATION_INVOCATION:re("FST_ERR_REQ_INVALID_VALIDATION_INVOCATION",'Invalid validation invocation. Missing validation function for HTTP part "%s" nor schema provided.'),FST_ERR_SCH_MISSING_ID:re("FST_ERR_SCH_MISSING_ID","Missing schema $id property"),FST_ERR_SCH_ALREADY_PRESENT:re("FST_ERR_SCH_ALREADY_PRESENT","Schema with id '%s' already declared!"),FST_ERR_SCH_CONTENT_MISSING_SCHEMA:re("FST_ERR_SCH_CONTENT_MISSING_SCHEMA","Schema is missing for the content type '%s'"),FST_ERR_SCH_DUPLICATE:re("FST_ERR_SCH_DUPLICATE","Schema with '%s' already present!"),FST_ERR_SCH_VALIDATION_BUILD:re("FST_ERR_SCH_VALIDATION_BUILD","Failed building the validation schema for %s: %s, due to error %s"),FST_ERR_SCH_SERIALIZATION_BUILD:re("FST_ERR_SCH_SERIALIZATION_BUILD","Failed building the serialization schema for %s: %s, due to error %s"),FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX:re("FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX",'response schemas should be nested under a valid status code, e.g { 2xx: { type: "object" } }'),FST_ERR_HTTP2_INVALID_VERSION:re("FST_ERR_HTTP2_INVALID_VERSION","HTTP2 is available only from node >= 8.8.1"),FST_ERR_INIT_OPTS_INVALID:re("FST_ERR_INIT_OPTS_INVALID","Invalid initialization options: '%s'"),FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE:re("FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE","Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method"),FST_ERR_DUPLICATED_ROUTE:re("FST_ERR_DUPLICATED_ROUTE","Method '%s' already declared for route '%s'"),FST_ERR_BAD_URL:re("FST_ERR_BAD_URL","'%s' is not a valid url component",400,URIError),FST_ERR_ASYNC_CONSTRAINT:re("FST_ERR_ASYNC_CONSTRAINT","Unexpected error from async constraint",500),FST_ERR_DEFAULT_ROUTE_INVALID_TYPE:re("FST_ERR_DEFAULT_ROUTE_INVALID_TYPE","The defaultRoute type should be a function",500,TypeError),FST_ERR_INVALID_URL:re("FST_ERR_INVALID_URL","URL must be a string. Received '%s'",400,TypeError),FST_ERR_ROUTE_OPTIONS_NOT_OBJ:re("FST_ERR_ROUTE_OPTIONS_NOT_OBJ",'Options for "%s:%s" route must be an object',500,TypeError),FST_ERR_ROUTE_DUPLICATED_HANDLER:re("FST_ERR_ROUTE_DUPLICATED_HANDLER",'Duplicate handler for "%s:%s" route is not allowed!',500),FST_ERR_ROUTE_HANDLER_NOT_FN:re("FST_ERR_ROUTE_HANDLER_NOT_FN","Error Handler for %s:%s route, if defined, must be a function",500,TypeError),FST_ERR_ROUTE_MISSING_HANDLER:re("FST_ERR_ROUTE_MISSING_HANDLER",'Missing handler function for "%s:%s" route.',500),FST_ERR_ROUTE_METHOD_INVALID:re("FST_ERR_ROUTE_METHOD_INVALID","Provided method is invalid!",500,TypeError),FST_ERR_ROUTE_METHOD_NOT_SUPPORTED:re("FST_ERR_ROUTE_METHOD_NOT_SUPPORTED","%s method is not supported.",500),FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED:re("FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED","Body validation schema for %s:%s route is not supported!",500),FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT:re("FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT","'bodyLimit' option must be an integer > 0. Got '%s'",500,TypeError),FST_ERR_ROUTE_REWRITE_NOT_STR:re("FST_ERR_ROUTE_REWRITE_NOT_STR",'Rewrite url for "%s" needs to be of type "string" but received "%s"',500,TypeError),FST_ERR_REOPENED_CLOSE_SERVER:re("FST_ERR_REOPENED_CLOSE_SERVER","Fastify has already been closed and cannot be reopened"),FST_ERR_REOPENED_SERVER:re("FST_ERR_REOPENED_SERVER","Fastify is already listening"),FST_ERR_INSTANCE_ALREADY_LISTENING:re("FST_ERR_INSTANCE_ALREADY_LISTENING","Fastify instance is already listening. %s"),FST_ERR_PLUGIN_VERSION_MISMATCH:re("FST_ERR_PLUGIN_VERSION_MISMATCH","fastify-plugin: %s - expected '%s' fastify version, '%s' is installed"),FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE:re("FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE","The decorator '%s'%s is not present in %s"),FST_ERR_PLUGIN_CALLBACK_NOT_FN:re("FST_ERR_PLUGIN_CALLBACK_NOT_FN","fastify-plugin: %s",500,TypeError),FST_ERR_PLUGIN_NOT_VALID:re("FST_ERR_PLUGIN_NOT_VALID","fastify-plugin: %s"),FST_ERR_ROOT_PLG_BOOTED:re("FST_ERR_ROOT_PLG_BOOTED","fastify-plugin: %s"),FST_ERR_PARENT_PLUGIN_BOOTED:re("FST_ERR_PARENT_PLUGIN_BOOTED","fastify-plugin: %s"),FST_ERR_PLUGIN_TIMEOUT:re("FST_ERR_PLUGIN_TIMEOUT","fastify-plugin: %s")};function Wte(e,t){return t.cause=e,t}Hy.exports=Bl;Hy.exports.appendStackTrace=Wte;Hy.exports.AVVIO_ERRORS_MAP={AVV_ERR_CALLBACK_NOT_FN:Bl.FST_ERR_PLUGIN_CALLBACK_NOT_FN,AVV_ERR_PLUGIN_NOT_VALID:Bl.FST_ERR_PLUGIN_NOT_VALID,AVV_ERR_ROOT_PLG_BOOTED:Bl.FST_ERR_ROOT_PLG_BOOTED,AVV_ERR_PARENT_PLG_LOADED:Bl.FST_ERR_PARENT_PLUGIN_BOOTED,AVV_ERR_READY_TIMEOUT:Bl.FST_ERR_PLUGIN_TIMEOUT,AVV_ERR_PLUGIN_EXEC_TIMEOUT:Bl.FST_ERR_PLUGIN_TIMEOUT}});var ba=w((Z3e,T$)=>{"use strict";var Gte=["onRoute","onRegister","onReady","onListen","preClose","onClose"],S$=["onTimeout","onRequest","preParsing","preValidation","preSerialization","preHandler","onSend","onResponse","onError","onRequestAbort"],Yte=S$.concat(Gte),{FST_ERR_HOOK_INVALID_TYPE:Kte,FST_ERR_HOOK_INVALID_HANDLER:Jte,FST_ERR_SEND_UNDEFINED_ERR:Vy,FST_ERR_HOOK_TIMEOUT:Zte,FST_ERR_HOOK_NOT_SUPPORTED:Xte,AVVIO_ERRORS_MAP:_$,appendStackTrace:b$}=Ir(),{kChildren:Od,kHooks:x$,kRequestPayloadStream:w$}=tr();function Ad(){this.onRequest=[],this.preParsing=[],this.preValidation=[],this.preSerialization=[],this.preHandler=[],this.onResponse=[],this.onSend=[],this.onError=[],this.onRoute=[],this.onRegister=[],this.onReady=[],this.onListen=[],this.onTimeout=[],this.onRequestAbort=[],this.preClose=[]}Ad.prototype=Object.create(null);Ad.prototype.validate=function(e,t){if(typeof e!="string")throw new Kte;if(Array.isArray(this[e])===!1)throw new Xte(e);if(typeof t!="function")throw new Jte(e,Object.prototype.toString.call(t))};Ad.prototype.add=function(e,t){this.validate(e,t),this[e].push(t)};function Qte(e){let t=new Ad;return t.onRequest=e.onRequest.slice(),t.preParsing=e.preParsing.slice(),t.preValidation=e.preValidation.slice(),t.preSerialization=e.preSerialization.slice(),t.preHandler=e.preHandler.slice(),t.onSend=e.onSend.slice(),t.onResponse=e.onResponse.slice(),t.onError=e.onError.slice(),t.onRoute=e.onRoute.slice(),t.onRegister=e.onRegister.slice(),t.onTimeout=e.onTimeout.slice(),t.onRequestAbort=e.onRequestAbort.slice(),t.onReady=[],t.onListen=[],t.preClose=[],t}function E$(e,t,r,i){let n=r[x$][e],s=0,o=0;l();function a(u){if(u){u.code==="AVV_ERR_READY_TIMEOUT"?u=b$(u,new Zte(e)):u=_$[u.code]!=null?b$(u,new _$[u.code](u.message)):u,i(u);return}i()}function l(u){if(u){a(u);return}if(s===n.length&&o===r[Od].length){s===0&&o===0?a():t(function(h,p){a(h),p(h)});return}if(s===n.length&&o<r[Od].length){let f=r[Od][o++];E$(e,t,f,l);return}t(c(n[s++],r)),l()}function c(u,f){return function(h,p){if(h){p(h);return}if(u.length===1){try{u.call(f,p)}catch(m){p(m)}return}try{let m=u.call(f);if(m&&typeof m.then=="function"){m.then(p,p);return}}catch(m){h=m}p(h)}}}function k$(e){let t=e[x$].onListen,r=t.length,i=0,n=0;s();function s(a){if(a&&e.log.error(a),i===r){for(;n<e[Od].length;){let l=e[Od][n++];k$(l)}return}o(t[i++],e,s)}async function o(a,l,c){if(a.length===1){try{a.call(l,c)}catch(u){c(u)}return}try{let u=a.call(l);if(u&&typeof u.then=="function"){u.then(c,c);return}c()}catch(u){c(u)}}}function $u(e){return function(r,i,n,s){let o=0;function a(u){if(u||o===r.length){s(u,i,n);return}let f;try{f=e(r[o++],i,n,a)}catch(h){s(h,i,n);return}f&&typeof f.then=="function"&&f.then(l,c)}function l(){a()}function c(u){u||(u=new Vy),s(u,i,n)}a()}}function ere(e,t,r,i){return e(t,r,i)}var tre=$u(ere),rre=$u(Cd),ire=$u(Cd),nre=$u(Cd),sre=$u(Cd);function R$(e,t,r,i,n){let s=0;function o(c,u){if(c){n(c,t,r,i);return}if(u!==void 0&&(i=u),s===e.length){n(null,t,r,i);return}let f;try{f=e[s++](t,r,i,o)}catch(h){n(h,t,r);return}f&&typeof f.then=="function"&&f.then(a,l)}function a(c){o(null,c)}function l(c){c||(c=new Vy),n(c,t,r,i)}o()}var ore=R$;function are(e,t,r,i){let n=0;function s(l,c){if(r.sent)return;if(c!==void 0&&(t[w$]=c),l||n===e.length){i(l,t,r);return}let u;try{u=e[n++](t,r,t[w$],s)}catch(f){i(f,t,r);return}u&&typeof u.then=="function"&&u.then(o,a)}function o(l){s(null,l)}function a(l){l||(l=new Vy),i(l,t,r)}s()}function lre(e,t,r){let i=0;function n(a){if(a||i===e.length){r(a,t);return}let l;try{l=e[i++](t,n)}catch(c){r(c,t);return}l&&typeof l.then=="function"&&l.then(s,o)}function s(){n()}function o(a){a||(a=new Vy),r(a,t)}n()}function Cd(e,t,r,i){if(r.sent!==!0)return e(t,r,i)}T$.exports={Hooks:Ad,buildHooks:Qte,hookRunnerGenerator:$u,preParsingHookRunner:are,onResponseHookRunner:tre,onSendHookRunner:R$,preSerializationHookRunner:ore,onRequestAbortHookRunner:lre,hookIterator:Cd,hookRunnerApplication:E$,onListenHookRunner:k$,preHandlerHookRunner:ire,preValidationHookRunner:rre,onRequestHookRunner:sre,onTimeoutHookRunner:nre,lifecycleHooks:S$,supportedHooks:Yte}});var L$=w((X3e,V1)=>{"use strict";var cre=require("http"),ure=require("https"),fre=require("dns"),{FSTDEP011:O$}=vo(),{kState:Nr,kOptions:hre,kServerBindings:dre}=tr(),{onListenHookRunner:Wy}=ba(),{FST_ERR_HTTP2_INVALID_VERSION:pre,FST_ERR_REOPENED_CLOSE_SERVER:P$,FST_ERR_REOPENED_SERVER:I$,FST_ERR_LISTEN_OPTIONS_INVALID:mre}=Ir();V1.exports.createServer=gre;V1.exports.compileValidateHTTPVersion=vre;function N$(e){return`Server listening at ${e}`}function gre(e,t){let r=F$(e,t);function i(n,...s){let o=s.slice(-1).pop(),a=Object.prototype.toString.call(arguments[0]);if(arguments.length===0)n=H1([]);else if(arguments.length>0&&a!=="[object Object]"&&a!=="[object Function]")O$(),n=H1(Array.from(arguments)),o=n.cb;else if(s.length>1){O$();let c=n.path?[n.path]:[n.port??0,n.host??"localhost"];Object.assign(n,H1([...c,...s]))}else n.cb=o;if(n.signal){if(typeof n.signal.on!="function"&&typeof n.signal.addEventListener!="function")throw new mre("Invalid options.signal");if(n.signal.aborted)this.close();else{let c=()=>{this.close()};n.signal.addEventListener("abort",c,{once:!0})}}let l;if(n.path==null?l=n.host??"localhost":l=n.host,Object.prototype.hasOwnProperty.call(n,"host")===!1&&(n.host=l),l==="localhost"?n.cb=(c,u)=>{if(c){o(c,u);return}A$.call(this,r,t,e,n,()=>{this[Nr].listening=!0,o(null,u),Wy(this)})}:n.cb=(c,u)=>{if(c){o(c,u);return}this[Nr].listening=!0,o(null,u),Wy(this)},o===void 0)return yre.call(this,r,n).then(u=>new Promise((f,h)=>{l==="localhost"?A$.call(this,r,t,e,n,()=>{this[Nr].listening=!0,f(u),Wy(this)}):(f(u),Wy(this))}));this.ready($$.call(this,r,n))}return{server:r,listen:i}}function A$(e,t,r,i,n){this[Nr].listening=!1,fre.lookup(i.host,{all:!0},(s,o)=>{if(s){n();return}let a=e.listening&&r.serverFactory,l=0,c=0;if(!a){let f=e.address();for(let h of o)if(h.address!==f.address){l++;let p=Object.assign({},i,{host:h.address,port:f.port,cb:y=>{c++,y||this[dre].push(m),c===l&&n()}}),m=F$(r,t),g=()=>{m.close(()=>{}),r.forceCloseConnections==="idle"?m.closeIdleConnections():typeof m.closeAllConnections=="function"&&r.forceCloseConnections&&m.closeAllConnections()};m.on("upgrade",e.emit.bind(e,"upgrade")),e.on("unref",g),e.on("close",g),e.on("error",g),this[Nr].listening=!1,$$.call(this,m,p)()}}if(l===0){n();return}let u=e.unref;e.unref=function(){u.call(e),e.emit("unref")}})}function $$(e,t){let r=i=>{if(e.removeListener("error",r),e.removeListener("listening",r),i)this[Nr].listening=!1,t.cb(i,null);else{let n=D$.call(this,e,t.listenTextResolver||N$);t.cb(null,n)}};return i=>{if(i!=null)return t.cb(i);if(this[Nr].listening&&this[Nr].closing)return t.cb(new P$,null);if(this[Nr].listening)return t.cb(new I$,null);e.once("error",r),this[Nr].closing||(e.once("listening",r),e.listen(t),this[Nr].listening=!0)}}function yre(e,t){return this[Nr].listening&&this[Nr].closing?Promise.reject(new P$):this[Nr].listening?Promise.reject(new I$):this.ready().then(()=>{let r,i;function n(){e.removeListener("error",r),e.removeListener("listening",i)}let s=new Promise((a,l)=>{r=c=>{n(),this[Nr].listening=!1,l(c)},e.once("error",r)}),o=new Promise((a,l)=>{i=()=>{n(),this[Nr].listening=!0,a(D$.call(this,e,t.listenTextResolver||N$))},e.once("listening",i)});return e.listen(t),Promise.race([s,o])})}function vre(e){let t=!1,r=new Map;return e.serverFactory&&(t=!0),e.http2?(r.set("2.0",!0),e.https&&e.https.allowHTTP1===!0&&(r.set("1.1",!0),r.set("1.0",!0))):(r.set("1.1",!0),r.set("1.0",!0)),function(n){return t||r.has(n)}}function F$(e,t){let r=null,i=e.https===!0?{}:e.https;return e.serverFactory?r=e.serverFactory(t,e):e.http2?(typeof i=="object"?r=C$().createSecureServer(i,t):r=C$().createServer(t),r.on("session",bre(e.http2SessionTimeout))):(i?r=ure.createServer(i,t):r=cre.createServer(e.http,t),r.keepAliveTimeout=e.keepAliveTimeout,r.requestTimeout=e.requestTimeout,e.maxRequestsPerSocket>0&&(r.maxRequestsPerSocket=e.maxRequestsPerSocket)),e.serverFactory||r.setTimeout(e.connectionTimeout),r}function H1(e){if(e.length===0)return{port:0,host:"localhost"};let r={cb:typeof e[e.length-1]=="function"?e.pop():void 0},i=e[0],n=e.length,s=e[n-1];return typeof i=="string"&&isNaN(i)?(r.path=i,r.backlog=n>1?s:void 0):(r.port=n>=1&&Number.isInteger(i)?i:_re(i),r.host=n>=2&&e[1]?e[1]:"localhost",r.backlog=n>=3?e[2]:void 0),r}function _re(e){let t=Number(e);return t>=0&&!Number.isNaN(t)&&Number.isInteger(t)?t:0}function D$(e,t){let r=e.address(),i=typeof r=="string";i||(r.address.indexOf(":")===-1?r=r.address+":"+r.port:r="["+r.address+"]:"+r.port),r=(i?"":"http"+(this[hre].https?"s":"")+"://")+r;let n=t(r);return this.log.info(n),r}function C$(){try{return require("http2")}catch{throw new pre}}function bre(e){return function(t){t.setTimeout(e,wre)}}function wre(){this.close()}});var K1=w((Q3e,q$)=>{"use strict";var{kSchemaHeaders:Ky,kSchemaParams:W1,kSchemaQuerystring:G1,kSchemaBody:Y1,kSchemaResponse:j$}=tr(),Sre=/^[1-5]{1}[0-9]{2}$|^[1-5]xx$|^default$/,{FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX:xre}=Ir(),{FSTWRN001:Gy}=vo();function Ere(e,t){if(!e.schema||!e.schema.response)return;let{method:r,url:i}=e.config||{};e[j$]=Object.keys(e.schema.response).reduce(function(n,s){let o=e.schema.response[s];if(s=s.toLowerCase(),!Sre.exec(s))throw new xre;if(o.content){let a={};for(let l of Object.keys(o.content)){let c=o.content[l].schema;a[l]=t({schema:c,url:i,method:r,httpStatus:s,contentType:l})}n[s]=a}else n[s]=t({schema:o,url:i,method:r,httpStatus:s});return n},{})}function kre(e,t,r){let{schema:i}=e;if(!i)return;let{method:n,url:s}=e.config||{},o=i.headers;if(o&&(r||Object.getPrototypeOf(o)!==Object.prototype))e[Ky]=t({schema:o,method:n,url:s,httpPart:"headers"});else if(o){let a={};Object.keys(o).forEach(l=>{a[l]=o[l]}),a.required instanceof Array&&(a.required=a.required.map(l=>l.toLowerCase())),o.properties&&(a.properties={},Object.keys(o.properties).forEach(l=>{a.properties[l.toLowerCase()]=o.properties[l]})),e[Ky]=t({schema:a,method:n,url:s,httpPart:"headers"})}else Object.prototype.hasOwnProperty.call(i,"headers")&&Gy("headers",n,s);i.body?e[Y1]=t({schema:i.body,method:n,url:s,httpPart:"body"}):Object.prototype.hasOwnProperty.call(i,"body")&&Gy("body",n,s),i.querystring?e[G1]=t({schema:i.querystring,method:n,url:s,httpPart:"querystring"}):Object.prototype.hasOwnProperty.call(i,"querystring")&&Gy("querystring",n,s),i.params?e[W1]=t({schema:i.params,method:n,url:s,httpPart:"params"}):Object.prototype.hasOwnProperty.call(i,"params")&&Gy("params",n,s)}function Yy(e,t,r){let i=t[r]===void 0,n=e&&e(i?null:t[r]);if(n?.then)return n.then(o=>s(o)).catch(o=>o);return s(n);function s(o){return o===!1?e.errors:o&&o.error?o.error:(o&&o.value&&(t[r]=o.value),!1)}}function Jy(e,t,r){let i=r===void 0;if(i||!r.skipParams){let s=Yy(e[W1],t,"params");if(s)return typeof s.then!="function"?wa(s,"params",e.schemaErrorFormatter):Rre(s,e,t)}if(i||!r.skipBody){let s=Yy(e[Y1],t,"body");if(s)return typeof s.then!="function"?wa(s,"body",e.schemaErrorFormatter):Tre(s,e,t)}if(i||!r.skipQuery){let s=Yy(e[G1],t,"query");if(s)return typeof s.then!="function"?wa(s,"querystring",e.schemaErrorFormatter):Ore(s,e,t)}let n=Yy(e[Ky],t,"headers");return n?typeof n.then!="function"?wa(n,"headers",e.schemaErrorFormatter):Are(n,e,t):!1}function Rre(e,t,r){return e.then(i=>i?wa(i,"params",t.schemaErrorFormatter):Jy(t,r,{skipParams:!0}))}function Tre(e,t,r){return e.then(i=>i?wa(i,"body",t.schemaErrorFormatter):Jy(t,r,{skipParams:!0,skipBody:!0}))}function Ore(e,t,r){return e.then(i=>i?wa(i,"querystring",t.schemaErrorFormatter):Jy(t,r,{skipParams:!0,skipBody:!0,skipQuery:!0}))}function Are(e,t,r){return e.then(i=>i?wa(i,"headers",t.schemaErrorFormatter):!1)}function wa(e,t,r){if(e instanceof Error)return e.statusCode=e.statusCode||400,e.code=e.code||"FST_ERR_VALIDATION",e.validationContext=e.validationContext||t,e;let i=r(e,t);return i.statusCode=i.statusCode||400,i.code=i.code||"FST_ERR_VALIDATION",i.validation=e,i.validationContext=t,i}q$.exports={symbols:{bodySchema:Y1,querystringSchema:G1,responseSchema:j$,paramsSchema:W1,headersSchema:Ky},compileSchemasForValidation:kre,compileSchemasForSerialization:Ere,validate:Jy}});var J1=w((eze,z$)=>{"use strict";var{kReplyIsError:M$,kReplyHijacked:Cre}=tr();function Pre(e,t){e.then(function(r){if(t[Cre]!==!0&&(r!==void 0||t.sent===!1&&t.raw.headersSent===!1&&t.request.raw.aborted===!1))try{t.send(r)}catch(i){t[M$]=!0,t.send(i)}},function(r){if(t.sent===!0){t.log.error({err:r},"Promise errored, but reply.sent = true was set");return}t[M$]=!0;try{t.send(r)}catch(i){t.send(i)}})}z$.exports=Pre});var eE=w((tze,Q1)=>{"use strict";var{validate:Ire}=K1(),{preValidationHookRunner:Nre,preHandlerHookRunner:$re}=ba(),Fre=J1(),{kReplyIsError:Zy,kRouteContext:xa}=tr();function Dre(e,t,r){if(r.sent===!0)return;if(e!=null){r[Zy]=!0,r.send(e);return}let i=t.raw.method,n=t.headers,s=t[xa];if(i==="GET"||i==="HEAD"){Sa(t,r);return}let o=n["content-type"];if(i==="POST"||i==="PUT"||i==="PATCH"||i==="TRACE"||i==="SEARCH"||i==="PROPFIND"||i==="PROPPATCH"||i==="LOCK"||i==="REPORT"||i==="MKCALENDAR"){o===void 0?n["transfer-encoding"]===void 0&&(n["content-length"]==="0"||n["content-length"]===void 0)?Sa(t,r):s.contentTypeParser.run("",Sa,t,r):s.contentTypeParser.run(o,Sa,t,r);return}if(i==="OPTIONS"||i==="DELETE"){o!==void 0&&(n["transfer-encoding"]!==void 0||n["content-length"]!==void 0)?s.contentTypeParser.run(o,Sa,t,r):Sa(t,r);return}Sa(t,r)}function Sa(e,t){try{e[xa].preValidation!==null?Nre(e[xa].preValidation,e,t,Z1):Z1(null,e,t)}catch(r){Z1(r,e,t)}}function Z1(e,t,r){if(r.sent===!0)return;if(e!=null){r[Zy]=!0,r.send(e);return}let i=Ire(r[xa],t);if(i&&typeof i.then=="function"||!1){let s=U$.bind(null,t,r);i.then(s,s)}else U$(t,r,i)}function U$(e,t,r){if(r){if(t[xa].attachValidation===!1){t.send(r);return}t.request.validationError=r}e[xa].preHandler!==null?$re(e[xa].preHandler,e,t,X1):X1(null,e,t)}function X1(e,t,r){if(r.sent)return;if(e!=null){r[Zy]=!0,r.send(e);return}let i;try{i=t[xa].handler(t,r)}catch(n){r[Zy]=!0,r.send(n);return}i!==void 0&&(i!==null&&typeof i.then=="function"?Fre(i,r):r.send(i))}Q1.exports=Dre;Q1.exports[Symbol.for("internals")]={handler:Sa,preHandlerCallback:X1}});var H$=w((rze,B$)=>{"use strict";function Fu(){}var Lre={fatal:Fu,error:Fu,warn:Fu,info:Fu,debug:Fu,trace:Fu};Object.defineProperty(B$,"exports",{get(){return Object.create(Lre)}})});var rE=w((ize,G$)=>{"use strict";var Pd=e=>e&&typeof e.message=="string",tE=e=>{if(!e)return;let t=e.cause;if(typeof t=="function"){let r=e.cause();return Pd(r)?r:void 0}else return Pd(t)?t:void 0},V$=(e,t)=>{if(!Pd(e))return"";let r=e.stack||"";if(t.has(e))return r+`
causes have become circular...`;let i=tE(e);return i?(t.add(e),r+`
caused by: `+V$(i,t)):r},jre=e=>V$(e,new Set),W$=(e,t,r)=>{if(!Pd(e))return"";let i=r?"":e.message||"";if(t.has(e))return i+": ...";let n=tE(e);if(n){t.add(e);let s=typeof e.cause=="function";return i+(s?"":": ")+W$(n,t,s)}else return i},qre=e=>W$(e,new Set);G$.exports={isErrorLike:Pd,getErrorCause:tE,stackWithCauses:jre,messageWithCauses:qre}});var iE=w((nze,K$)=>{"use strict";var Mre=Symbol("circular-ref-tag"),Xy=Symbol("pino-raw-err-ref"),Y$=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[Xy]},set:function(e){this[Xy]=e}}});Object.defineProperty(Y$,Xy,{writable:!0,value:{}});K$.exports={pinoErrProto:Y$,pinoErrorSymbols:{seen:Mre,rawSymbol:Xy}}});var X$=w((sze,Z$)=>{"use strict";Z$.exports=sE;var{messageWithCauses:zre,stackWithCauses:Ure,isErrorLike:J$}=rE(),{pinoErrProto:Bre,pinoErrorSymbols:Hre}=iE(),{seen:nE}=Hre,{toString:Vre}=Object.prototype;function sE(e){if(!J$(e))return e;e[nE]=void 0;let t=Object.create(Bre);t.type=Vre.call(e.constructor)==="[object Function]"?e.constructor.name:e.name,t.message=zre(e),t.stack=Ure(e),Array.isArray(e.errors)&&(t.aggregateErrors=e.errors.map(r=>sE(r)));for(let r in e)if(t[r]===void 0){let i=e[r];J$(i)?r!=="cause"&&!Object.prototype.hasOwnProperty.call(i,nE)&&(t[r]=sE(i)):t[r]=i}return delete e[nE],t.raw=e,t}});var eF=w((oze,Q$)=>{"use strict";Q$.exports=ev;var{isErrorLike:oE}=rE(),{pinoErrProto:Wre,pinoErrorSymbols:Gre}=iE(),{seen:Qy}=Gre,{toString:Yre}=Object.prototype;function ev(e){if(!oE(e))return e;e[Qy]=void 0;let t=Object.create(Wre);t.type=Yre.call(e.constructor)==="[object Function]"?e.constructor.name:e.name,t.message=e.message,t.stack=e.stack,Array.isArray(e.errors)&&(t.aggregateErrors=e.errors.map(r=>ev(r))),oE(e.cause)&&!Object.prototype.hasOwnProperty.call(e.cause,Qy)&&(t.cause=ev(e.cause));for(let r in e)if(t[r]===void 0){let i=e[r];oE(i)?Object.prototype.hasOwnProperty.call(i,Qy)||(t[r]=ev(i)):t[r]=i}return delete e[Qy],t.raw=e,t}});var nF=w((aze,iF)=>{"use strict";iF.exports={mapHttpRequest:Kre,reqSerializer:rF};var aE=Symbol("pino-raw-req-ref"),tF=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[aE]},set:function(e){this[aE]=e}}});Object.defineProperty(tF,aE,{writable:!0,value:{}});function rF(e){let t=e.info||e.socket,r=Object.create(tF);if(r.id=typeof e.id=="function"?e.id():e.id||(e.info?e.info.id:void 0),r.method=e.method,e.originalUrl)r.url=e.originalUrl;else{let i=e.path;r.url=typeof i=="string"?i:e.url?e.url.path||e.url:void 0}return e.query&&(r.query=e.query),e.params&&(r.params=e.params),r.headers=e.headers,r.remoteAddress=t&&t.remoteAddress,r.remotePort=t&&t.remotePort,r.raw=e.raw||e,r}function Kre(e){return{req:rF(e)}}});var lF=w((lze,aF)=>{"use strict";aF.exports={mapHttpResponse:Jre,resSerializer:oF};var lE=Symbol("pino-raw-res-ref"),sF=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[lE]},set:function(e){this[lE]=e}}});Object.defineProperty(sF,lE,{writable:!0,value:{}});function oF(e){let t=Object.create(sF);return t.statusCode=e.headersSent?e.statusCode:null,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}function Jre(e){return{res:oF(e)}}});var uE=w((cze,cF)=>{"use strict";var cE=X$(),Zre=eF(),tv=nF(),rv=lF();cF.exports={err:cE,errWithCause:Zre,mapHttpRequest:tv.mapHttpRequest,mapHttpResponse:rv.mapHttpResponse,req:tv.reqSerializer,res:rv.resSerializer,wrapErrorSerializer:function(t){return t===cE?t:function(i){return t(cE(i))}},wrapRequestSerializer:function(t){return t===tv.reqSerializer?t:function(i){return t(tv.reqSerializer(i))}},wrapResponseSerializer:function(t){return t===rv.resSerializer?t:function(i){return t(rv.resSerializer(i))}}}});var fE=w((uze,uF)=>{"use strict";function Xre(e,t){return t}uF.exports=function(){let t=Error.prepareStackTrace;Error.prepareStackTrace=Xre;let r=new Error().stack;if(Error.prepareStackTrace=t,!Array.isArray(r))return;let i=r.slice(2),n=[];for(let s of i)s&&n.push(s.getFileName());return n}});var hF=w((fze,fF)=>{"use strict";fF.exports=Qre;function Qre(e={}){let{ERR_PATHS_MUST_BE_STRINGS:t=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:r=i=>`fast-redact \u2013 Invalid path (${i})`}=e;return function({paths:n}){n.forEach(s=>{if(typeof s!="string")throw Error(t());try{if(//.test(s))throw Error();let o=(s[0]==="["?"":".")+s.replace(/^\*/,"\u3007").replace(/\.\*/g,".\u3007").replace(/\[\*\]/g,"[\u3007]");if(/\n|\r|;/.test(o)||/\/\*/.test(o))throw Error();Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const \u3007 = null;
            o${o}
            if ([o${o}].length !== 1) throw Error()`)()}catch{throw Error(r(s))}})}}});var iv=w((hze,dF)=>{"use strict";dF.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var mF=w((dze,pF)=>{"use strict";var eie=iv();pF.exports=tie;function tie({paths:e}){let t=[];var r=0;let i=e.reduce(function(n,s,o){var a=s.match(eie).map(u=>u.replace(/'|"|`/g,""));let l=s[0]==="[";a=a.map(u=>u[0]==="["?u.substr(1,u.length-2):u);let c=a.indexOf("*");if(c>-1){let u=a.slice(0,c),f=u.join("."),h=a.slice(c+1,a.length),p=h.length>0;r++,t.push({before:u,beforeStr:f,after:h,nested:p})}else n[s]={path:a,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(s),leadingBracket:l};return n},{});return{wildcards:t,wcLen:r,secret:i}}});var yF=w((pze,gF)=>{"use strict";var rie=iv();gF.exports=iie;function iie({secret:e,serialize:t,wcLen:r,strict:i,isCensorFct:n,censorFctTakesPath:s},o){let a=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${aie(i,t)}
    }
    const { censor, secret } = this
    const originalSecret = {}
    const secretKeys = Object.keys(secret)
    for (var i = 0; i < secretKeys.length; i++) {
      originalSecret[secretKeys[i]] = secret[secretKeys[i]]
    }

    ${nie(e,n,s)}
    this.compileRestore()
    ${sie(r>0,n,s)}
    this.secret = originalSecret
    ${oie(t)}
  `).bind(o);return a.state=o,t===!1&&(a.restore=l=>o.restore(l)),a}function nie(e,t,r){return Object.keys(e).map(i=>{let{escPath:n,leadingBracket:s,path:o}=e[i],a=s?1:0,l=s?"":".",c=[];for(var u;(u=rie.exec(i))!==null;){let[,m]=u,{index:g,input:y}=u;g>a&&c.push(y.substring(0,g-(m?0:1)))}var f=c.map(m=>`o${l}${m}`).join(" && ");f.length===0?f+=`o${l}${i} != null`:f+=` && o${l}${i} != null`;let h=`
      switch (true) {
        ${c.reverse().map(m=>`
          case o${l}${m} === censor:
            secret[${n}].circle = ${JSON.stringify(m)}
            break
        `).join(`
`)}
      }
    `,p=r?`val, ${JSON.stringify(o)}`:"val";return`
      if (${f}) {
        const val = o${l}${i}
        if (val === censor) {
          secret[${n}].precensored = true
        } else {
          secret[${n}].val = val
          o${l}${i} = ${t?`censor(${p})`:"censor"}
          ${h}
        }
      }
    `}).join(`
`)}function sie(e,t,r){return e===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${t}, ${r})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${t}, ${r})
      }
    }
  `:""}function oie(e){return e===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function aie(e,t){return e===!0?"throw Error('fast-redact: primitives cannot be redacted')":t===!1?"return o":"return this.serialize(o)"}});var dE=w((mze,bF)=>{"use strict";bF.exports={groupRedact:cie,groupRestore:lie,nestedRedact:fie,nestedRestore:uie};function lie({keys:e,values:t,target:r}){if(r==null||typeof r=="string")return;let i=e.length;for(var n=0;n<i;n++){let s=e[n];r[s]=t[n]}}function cie(e,t,r,i,n){let s=vF(e,t);if(s==null||typeof s=="string")return{keys:null,values:null,target:s,flat:!0};let o=Object.keys(s),a=o.length,l=t.length,c=n?[...t]:void 0,u=new Array(a);for(var f=0;f<a;f++){let h=o[f];u[f]=s[h],n?(c[l]=h,s[h]=r(s[h],c)):i?s[h]=r(s[h]):s[h]=r}return{keys:o,values:u,target:s,flat:!0}}function uie(e){for(let t=0;t<e.length;t++){let{target:r,path:i,value:n}=e[t],s=r;for(let o=i.length-1;o>0;o--)s=s[i[o]];s[i[0]]=n}}function fie(e,t,r,i,n,s,o){let a=vF(t,r);if(a==null)return;let l=Object.keys(a),c=l.length;for(var u=0;u<c;u++){let f=l[u];hie(e,a,f,r,i,n,s,o)}return e}function hE(e,t){return e!=null?"hasOwn"in Object?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t):!1}function hie(e,t,r,i,n,s,o,a){let l=n.length,c=l-1,u=r;var f=-1,h,p,m,g=null,y=null,_,S,b=!1,v=0,O=0,j=die();if(m=h=t[r],typeof h=="object"){for(;h!=null&&++f<l&&(O+=1,r=n[f],g=m,!(r!=="*"&&!y&&!(typeof h=="object"&&r in h)));)if(!(r==="*"&&(y==="*"&&(b=!0),y=r,f!==c))){if(y){let I=Object.keys(h);for(var R=0;R<I.length;R++){let F=I[R];if(S=h[F],_=r==="*",b)j=_o(j,F,O),v=f,m=_F(S,v-1,r,i,n,s,o,a,u,h,p,m,_,F,f,c,j,e,t[u],O+1);else if(_||typeof S=="object"&&S!==null&&r in S){if(_?m=S:m=S[r],p=f!==c?m:o?a?s(m,[...i,u,...n]):s(m):s,_){let T=Id(_o(j,F,O),m,t[u]);e.push(T),h[F]=p}else if(S[r]!==p)if(p===void 0&&s!==void 0||hE(S,r)&&p===m)j=_o(j,F,O);else{j=_o(j,F,O);let T=Id(_o(j,r,O+1),m,t[u]);e.push(T),S[r]=p}}}y=null}else{if(m=h[r],j=_o(j,r,O),p=f!==c?m:o?a?s(m,[...i,u,...n]):s(m):s,!(hE(h,r)&&p===m||p===void 0&&s!==void 0)){let I=Id(j,m,t[u]);e.push(I),h[r]=p}h=h[r]}if(typeof h!="object")break}}}function vF(e,t){for(var r=-1,i=t.length,n=e;n!=null&&++r<i;)n=n[t[r]];return n}function _F(e,t,r,i,n,s,o,a,l,c,u,f,h,p,m,g,y,_,S,b){if(t===0&&(h||typeof e=="object"&&e!==null&&r in e)){if(h?f=e:f=e[r],u=m!==g?f:o?a?s(f,[...i,l,...n]):s(f):s,h){let v=Id(y,f,S);_.push(v),c[p]=u}else if(e[r]!==u){if(!(u===void 0&&s!==void 0||hE(e,r)&&u===f)){let v=Id(_o(y,r,b+1),f,S);_.push(v),e[r]=u}}}for(let v in e)typeof e[v]=="object"&&(y=_o(y,v,b),_F(e[v],t-1,r,i,n,s,o,a,l,c,u,f,h,p,m,g,y,_,S,b+1))}function die(){return{parent:null,key:null,children:[],depth:0}}function _o(e,t,r){if(e.depth===r)return _o(e.parent,t,r);var i={parent:e,key:t,depth:r,children:[]};return e.children.push(i),i}function Id(e,t,r){let i=e,n=[];do n.push(i.key),i=i.parent;while(i.parent!=null);return{path:n,value:t,target:r}}});var SF=w((gze,wF)=>{"use strict";var{groupRestore:pie,nestedRestore:mie}=dE();wF.exports=gie;function gie(){return function(){if(this.restore){this.restore.state.secret=this.secret;return}let{secret:t,wcLen:r}=this,i=Object.keys(t),n=yie(t,i),s=r>0,o=s?{secret:t,groupRestore:pie,nestedRestore:mie}:{secret:t};this.restore=Function("o",vie(n,i,s)).bind(o),this.restore.state=o}}function yie(e,t){return t.map(r=>{let{circle:i,escPath:n,leadingBracket:s}=e[r],a=i?`o.${i} = secret[${n}].val`:`o${s?"":"."}${r} = secret[${n}].val`,l=`secret[${n}].val = undefined`;return`
      if (secret[${n}].val !== undefined) {
        try { ${a} } catch (e) {}
        ${l}
      }
    `}).join("")}function vie(e,t,r){return`
    const secret = this.secret
    ${r===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${t.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o) {
        if (o.flat === true) this.groupRestore(o)
        else this.nestedRestore(o)
        secret[k] = null
      }
    }
  `:""}
    ${e}
    return o
  `}});var EF=w((yze,xF)=>{"use strict";xF.exports=_ie;function _ie(e){let{secret:t,censor:r,compileRestore:i,serialize:n,groupRedact:s,nestedRedact:o,wildcards:a,wcLen:l}=e,c=[{secret:t,censor:r,compileRestore:i}];return n!==!1&&c.push({serialize:n}),l>0&&c.push({groupRedact:s,nestedRedact:o,wildcards:a,wcLen:l}),Object.assign(...c)}});var TF=w((vze,RF)=>{"use strict";var kF=hF(),bie=mF(),wie=yF(),Sie=SF(),{groupRedact:xie,nestedRedact:Eie}=dE(),kie=EF(),Rie=iv(),Tie=kF(),pE=e=>e;pE.restore=pE;var Oie="[REDACTED]";mE.rx=Rie;mE.validator=kF;RF.exports=mE;function mE(e={}){let t=Array.from(new Set(e.paths||[])),r="serialize"in e&&(e.serialize===!1||typeof e.serialize=="function")?e.serialize:JSON.stringify,i=e.remove;if(i===!0&&r!==JSON.stringify)throw Error("fast-redact \u2013 remove option may only be set when serializer is JSON.stringify");let n=i===!0?void 0:"censor"in e?e.censor:Oie,s=typeof n=="function",o=s&&n.length>1;if(t.length===0)return r||pE;Tie({paths:t,serialize:r,censor:n});let{wildcards:a,wcLen:l,secret:c}=bie({paths:t,censor:n}),u=Sie(),f="strict"in e?e.strict:!0;return wie({secret:c,wcLen:l,serialize:r,strict:f,isCensorFct:s,censorFctTakesPath:o},kie({secret:c,censor:n,compileRestore:u,serialize:r,groupRedact:xie,nestedRedact:Eie,wildcards:a,wcLen:l}))}});var Du=w((_ze,OF)=>{"use strict";var Aie=Symbol("pino.setLevel"),Cie=Symbol("pino.getLevel"),Pie=Symbol("pino.levelVal"),Iie=Symbol("pino.levelComp"),Nie=Symbol("pino.useLevelLabels"),$ie=Symbol("pino.useOnlyCustomLevels"),Fie=Symbol("pino.mixin"),Die=Symbol("pino.lsCache"),Lie=Symbol("pino.chindings"),jie=Symbol("pino.asJson"),qie=Symbol("pino.write"),Mie=Symbol("pino.redactFmt"),zie=Symbol("pino.time"),Uie=Symbol("pino.timeSliceIndex"),Bie=Symbol("pino.stream"),Hie=Symbol("pino.stringify"),Vie=Symbol("pino.stringifySafe"),Wie=Symbol("pino.stringifiers"),Gie=Symbol("pino.end"),Yie=Symbol("pino.formatOpts"),Kie=Symbol("pino.messageKey"),Jie=Symbol("pino.errorKey"),Zie=Symbol("pino.nestedKey"),Xie=Symbol("pino.nestedKeyStr"),Qie=Symbol("pino.mixinMergeStrategy"),ene=Symbol("pino.msgPrefix"),tne=Symbol("pino.wildcardFirst"),rne=Symbol.for("pino.serializers"),ine=Symbol.for("pino.formatters"),nne=Symbol.for("pino.hooks"),sne=Symbol.for("pino.metadata");OF.exports={setLevelSym:Aie,getLevelSym:Cie,levelValSym:Pie,levelCompSym:Iie,useLevelLabelsSym:Nie,mixinSym:Fie,lsCacheSym:Die,chindingsSym:Lie,asJsonSym:jie,writeSym:qie,serializersSym:rne,redactFmtSym:Mie,timeSym:zie,timeSliceIndexSym:Uie,streamSym:Bie,stringifySym:Hie,stringifySafeSym:Vie,stringifiersSym:Wie,endSym:Gie,formatOptsSym:Yie,messageKeySym:Kie,errorKeySym:Jie,nestedKeySym:Zie,wildcardFirstSym:tne,needsMetadataGsym:sne,useOnlyCustomLevelsSym:$ie,formattersSym:ine,hooksSym:nne,nestedKeyStrSym:Xie,mixinMergeStrategySym:Qie,msgPrefixSym:ene}});var vE=w((bze,IF)=>{"use strict";var yE=TF(),{redactFmtSym:one,wildcardFirstSym:nv}=Du(),{rx:gE,validator:ane}=yE,AF=ane({ERR_PATHS_MUST_BE_STRINGS:()=>"pino \u2013 redacted paths must be strings",ERR_INVALID_PATH:e=>`pino \u2013 redact paths array contains an invalid path (${e})`}),CF="[Redacted]",PF=!1;function lne(e,t){let{paths:r,censor:i}=cne(e),n=r.reduce((a,l)=>{gE.lastIndex=0;let c=gE.exec(l),u=gE.exec(l),f=c[1]!==void 0?c[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):c[0];if(f==="*"&&(f=nv),u===null)return a[f]=null,a;if(a[f]===null)return a;let{index:h}=u,p=`${l.substr(h,l.length-1)}`;return a[f]=a[f]||[],f!==nv&&a[f].length===0&&a[f].push(...a[nv]||[]),f===nv&&Object.keys(a).forEach(function(m){a[m]&&a[m].push(p)}),a[f].push(p),a},{}),s={[one]:yE({paths:r,censor:i,serialize:t,strict:PF})},o=(...a)=>t(typeof i=="function"?i(...a):i);return[...Object.keys(n),...Object.getOwnPropertySymbols(n)].reduce((a,l)=>{if(n[l]===null)a[l]=c=>o(c,[l]);else{let c=typeof i=="function"?(u,f)=>i(u,[l,...f]):i;a[l]=yE({paths:n[l],censor:c,serialize:t,strict:PF})}return a},s)}function cne(e){if(Array.isArray(e))return e={paths:e,censor:CF},AF(e),e;let{paths:t,censor:r=CF,remove:i}=e;if(Array.isArray(t)===!1)throw Error("pino \u2013 redact must contain an array of strings");return i===!0&&(r=void 0),AF({paths:t,censor:r}),{paths:t,censor:r}}IF.exports=lne});var $F=w((wze,NF)=>{"use strict";var une=()=>"",fne=()=>`,"time":${Date.now()}`,hne=()=>`,"time":${Math.round(Date.now()/1e3)}`,dne=()=>`,"time":"${new Date(Date.now()).toISOString()}"`;NF.exports={nullTime:une,epochTime:fne,unixTime:hne,isoTime:dne}});var DF=w((Sze,FF)=>{"use strict";function pne(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}FF.exports=mne;function mne(e,t,r){var i=r&&r.stringify||pne,n=1;if(typeof e=="object"&&e!==null){var s=t.length+n;if(s===1)return e;var o=new Array(s);o[0]=i(e);for(var a=1;a<s;a++)o[a]=i(t[a]);return o.join(" ")}if(typeof e!="string")return e;var l=t.length;if(l===0)return e;for(var c="",u=1-n,f=-1,h=e&&e.length||0,p=0;p<h;){if(e.charCodeAt(p)===37&&p+1<h){switch(f=f>-1?f:0,e.charCodeAt(p+1)){case 100:case 102:if(u>=l||t[u]==null)break;f<p&&(c+=e.slice(f,p)),c+=Number(t[u]),f=p+2,p++;break;case 105:if(u>=l||t[u]==null)break;f<p&&(c+=e.slice(f,p)),c+=Math.floor(Number(t[u])),f=p+2,p++;break;case 79:case 111:case 106:if(u>=l||t[u]===void 0)break;f<p&&(c+=e.slice(f,p));var m=typeof t[u];if(m==="string"){c+="'"+t[u]+"'",f=p+2,p++;break}if(m==="function"){c+=t[u].name||"<anonymous>",f=p+2,p++;break}c+=i(t[u]),f=p+2,p++;break;case 115:if(u>=l)break;f<p&&(c+=e.slice(f,p)),c+=String(t[u]),f=p+2,p++;break;case 37:f<p&&(c+=e.slice(f,p)),c+="%",f=p+2,p++,u--;break}++u}++p}return f===-1?e:(f<h&&(c+=e.slice(f)),c)}});var bE=w((xze,_E)=>{"use strict";if(typeof SharedArrayBuffer<"u"&&typeof Atomics<"u"){let t=function(r){if((r>0&&r<1/0)===!1)throw typeof r!="number"&&typeof r!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(e,0,0,Number(r))},e=new Int32Array(new SharedArrayBuffer(4));_E.exports=t}else{let e=function(t){if((t>0&&t<1/0)===!1)throw typeof t!="number"&&typeof t!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");let i=Date.now()+Number(t);for(;i>Date.now(););};_E.exports=e}});var HF=w((Eze,BF)=>{"use strict";var Rt=require("fs"),gne=require("events"),yne=require("util").inherits,LF=require("path"),SE=bE(),sv=100,ov=Buffer.allocUnsafe(0),vne=16*1024,jF="buffer",qF="utf8",[_ne,bne]=process.versions.node.split(".").map(Number),wne=_ne>=22&&bne>=7;function MF(e,t){t._opening=!0,t._writing=!0,t._asyncDrainScheduled=!1;function r(s,o){if(s){t._reopening=!1,t._writing=!1,t._opening=!1,t.sync?process.nextTick(()=>{t.listenerCount("error")>0&&t.emit("error",s)}):t.emit("error",s);return}let a=t._reopening;t.fd=o,t.file=e,t._reopening=!1,t._opening=!1,t._writing=!1,t.sync?process.nextTick(()=>t.emit("ready")):t.emit("ready"),!t.destroyed&&(!t._writing&&t._len>t.minLength||t._flushPending?t._actualWrite():a&&process.nextTick(()=>t.emit("drain")))}let i=t.append?"a":"w",n=t.mode;if(t.sync)try{t.mkdir&&Rt.mkdirSync(LF.dirname(e),{recursive:!0});let s=Rt.openSync(e,i,n);r(null,s)}catch(s){throw r(s),s}else t.mkdir?Rt.mkdir(LF.dirname(e),{recursive:!0},s=>{if(s)return r(s);Rt.open(e,i,n,r)}):Rt.open(e,i,n,r)}function Pn(e){if(!(this instanceof Pn))return new Pn(e);let{fd:t,dest:r,minLength:i,maxLength:n,maxWrite:s,periodicFlush:o,sync:a,append:l=!0,mkdir:c,retryEAGAIN:u,fsync:f,contentMode:h,mode:p}=e||{};t=t||r,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(i||0,16387),this.file=null,this.destroyed=!1,this.minLength=i||0,this.maxLength=n||0,this.maxWrite=s||vne,this._periodicFlush=o||0,this._periodicFlushTimer=void 0,this.sync=a||!1,this.writable=!0,this._fsync=f||!1,this.append=l||!1,this.mode=p,this.retryEAGAIN=u||(()=>!0),this.mkdir=c||!1;let m,g;if(h===jF)this._writingBuf=ov,this.write=Ene,this.flush=Rne,this.flushSync=One,this._actualWrite=Cne,m=()=>Rt.writeSync(this.fd,this._writingBuf),g=()=>Rt.write(this.fd,this._writingBuf,this.release);else if(h===void 0||h===qF)this._writingBuf="",this.write=xne,this.flush=kne,this.flushSync=Tne,this._actualWrite=Ane,m=()=>Rt.writeSync(this.fd,this._writingBuf,"utf8"),g=()=>Rt.write(this.fd,this._writingBuf,"utf8",this.release);else throw new Error(`SonicBoom supports "${qF}" and "${jF}", but passed ${h}`);if(typeof t=="number")this.fd=t,process.nextTick(()=>this.emit("ready"));else if(typeof t=="string")MF(t,this);else throw new Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw new Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(y,_)=>{if(y){if((y.code==="EAGAIN"||y.code==="EBUSY")&&this.retryEAGAIN(y,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{SE(sv),this.release(void 0,0)}catch(v){this.release(v)}else setTimeout(g,sv);else this._writing=!1,this.emit("error",y);return}this.emit("write",_);let S=wE(this._writingBuf,this._len,_);if(this._len=S.len,this._writingBuf=S.writingBuf,this._writingBuf.length){if(!this.sync){g();return}try{do{let v=m(),O=wE(this._writingBuf,this._len,v);this._len=O.len,this._writingBuf=O.writingBuf}while(this._writingBuf.length)}catch(v){this.release(v);return}}this._fsync&&Rt.fsyncSync(this.fd);let b=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):b>this.minLength?this._actualWrite():this._ending?b>0?this._actualWrite():(this._writing=!1,av(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(Sne,this)):this.emit("drain"))},this.on("newListener",function(y){y==="drain"&&(this._asyncDrainScheduled=!1)}),this._periodicFlush!==0&&(this._periodicFlushTimer=setInterval(()=>this.flush(null),this._periodicFlush),this._periodicFlushTimer.unref())}function wE(e,t,r){return typeof e=="string"&&Buffer.byteLength(e)!==r&&(r=Buffer.from(e).subarray(0,r).toString().length),t=Math.max(t-r,0),e=e.slice(r),{writingBuf:e,len:t}}function Sne(e){e.listenerCount("drain")>0&&(e._asyncDrainScheduled=!1,e.emit("drain"))}yne(Pn,gne);function zF(e,t){return e.length===0?ov:e.length===1?e[0]:Buffer.concat(e,t)}function xne(e){if(this.destroyed)throw new Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs;return this.maxLength&&t>this.maxLength?(this.emit("drop",e),this._len<this._hwm):(r.length===0||r[r.length-1].length+e.length>this.maxWrite?r.push(""+e):r[r.length-1]+=e,this._len=t,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function Ene(e){if(this.destroyed)throw new Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs,i=this._lens;return this.maxLength&&t>this.maxLength?(this.emit("drop",e),this._len<this._hwm):(r.length===0||i[i.length-1]+e.length>this.maxWrite?(r.push([e]),i.push(e.length)):(r[r.length-1].push(e),i[i.length-1]+=e.length),this._len=t,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function UF(e){this._flushPending=!0;let t=()=>{this._fsync?(this._flushPending=!1,e()):Rt.fsync(this.fd,i=>{this._flushPending=!1,e(i)}),this.off("error",r)},r=i=>{this._flushPending=!1,e(i),this.off("drain",t)};this.once("drain",t),this.once("error",r)}function kne(e){if(e!=null&&typeof e!="function")throw new Error("flush cb must be a function");if(this.destroyed){let t=new Error("SonicBoom destroyed");if(e){e(t);return}throw t}if(this.minLength<=0){e?.();return}e&&UF.call(this,e),!this._writing&&(this._bufs.length===0&&this._bufs.push(""),this._actualWrite())}function Rne(e){if(e!=null&&typeof e!="function")throw new Error("flush cb must be a function");if(this.destroyed){let t=new Error("SonicBoom destroyed");if(e){e(t);return}throw t}if(this.minLength<=0){e?.();return}e&&UF.call(this,e),!this._writing&&(this._bufs.length===0&&(this._bufs.push([]),this._lens.push(0)),this._actualWrite())}Pn.prototype.reopen=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(e)});return}if(this._ending)return;if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(e&&(this.file=e),this._reopening=!0,this._writing)return;let t=this.fd;this.once("ready",()=>{t!==this.fd&&Rt.close(t,r=>{if(r)return this.emit("error",r)})}),MF(this.file,this)};Pn.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}this._ending||(this._ending=!0,!this._writing&&(this._len>0&&this.fd>=0?this._actualWrite():av(this)))};function Tne(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let e="";for(;this._bufs.length||e;){e.length<=0&&(e=this._bufs[0]);try{let t=Rt.writeSync(this.fd,e,"utf8"),r=wE(e,this._len,t);e=r.writingBuf,this._len=r.len,e.length<=0&&this._bufs.shift()}catch(t){if((t.code==="EAGAIN"||t.code==="EBUSY")&&!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;SE(sv)}}try{Rt.fsyncSync(this.fd)}catch{}}function One(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift([this._writingBuf]),this._writingBuf=ov);let e=ov;for(;this._bufs.length||e.length;){e.length<=0&&(e=zF(this._bufs[0],this._lens[0]));try{let t=Rt.writeSync(this.fd,e);e=e.subarray(t),this._len=Math.max(this._len-t,0),e.length<=0&&(this._bufs.shift(),this._lens.shift())}catch(t){if((t.code==="EAGAIN"||t.code==="EBUSY")&&!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;SE(sv)}}}Pn.prototype.destroy=function(){this.destroyed||av(this)};function Ane(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let t=Rt.writeSync(this.fd,this._writingBuf,"utf8");e(null,t)}catch(t){e(t)}else Rt.write(this.fd,this._writingBuf,"utf8",e)}function Cne(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:zF(this._bufs.shift(),this._lens.shift()),this.sync)try{let t=Rt.writeSync(this.fd,this._writingBuf);e(null,t)}catch(t){e(t)}else wne&&(this._writingBuf=Buffer.from(this._writingBuf)),Rt.write(this.fd,this._writingBuf,e)}function av(e){if(e.fd===-1){e.once("ready",av.bind(null,e));return}e._periodicFlushTimer!==void 0&&clearInterval(e._periodicFlushTimer),e.destroyed=!0,e._bufs=[],e._lens=[],Rt.fsync(e.fd,t);function t(){e.fd!==1&&e.fd!==2?Rt.close(e.fd,r):r()}function r(i){if(i){e.emit("error",i);return}e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}}Pn.SonicBoom=Pn;Pn.default=Pn;BF.exports=Pn});var xE=w((kze,KF)=>{"use strict";var In={exit:[],beforeExit:[]},VF={exit:Nne,beforeExit:$ne},Lu;function Pne(){Lu===void 0&&(Lu=new FinalizationRegistry(Fne))}function Ine(e){In[e].length>0||process.on(e,VF[e])}function WF(e){In[e].length>0||(process.removeListener(e,VF[e]),In.exit.length===0&&In.beforeExit.length===0&&(Lu=void 0))}function Nne(){GF("exit")}function $ne(){GF("beforeExit")}function GF(e){for(let t of In[e]){let r=t.deref(),i=t.fn;r!==void 0&&i(r,e)}In[e]=[]}function Fne(e){for(let t of["exit","beforeExit"]){let r=In[t].indexOf(e);In[t].splice(r,r+1),WF(t)}}function YF(e,t,r){if(t===void 0)throw new Error("the object can't be undefined");Ine(e);let i=new WeakRef(t);i.fn=r,Pne(),Lu.register(t,i),In[e].push(i)}function Dne(e,t){YF("exit",e,t)}function Lne(e,t){YF("beforeExit",e,t)}function jne(e){if(Lu!==void 0){Lu.unregister(e);for(let t of["exit","beforeExit"])In[t]=In[t].filter(r=>{let i=r.deref();return i&&i!==e}),WF(t)}}KF.exports={register:Dne,registerBeforeExit:Lne,unregister:jne}});var JF=w((Rze,qne)=>{qne.exports={name:"thread-stream",version:"3.1.0",description:"A streaming way to send data to a Node.js Worker Thread",main:"index.js",types:"index.d.ts",dependencies:{"real-require":"^0.2.0"},devDependencies:{"@types/node":"^20.1.0","@types/tap":"^15.0.0","@yao-pkg/pkg":"^5.11.5",desm:"^1.3.0",fastbench:"^1.0.1",husky:"^9.0.6","pino-elasticsearch":"^8.0.0","sonic-boom":"^4.0.1",standard:"^17.0.0",tap:"^16.2.0","ts-node":"^10.8.0",typescript:"^5.3.2","why-is-node-running":"^2.2.2"},scripts:{build:"tsc --noEmit",test:'standard && npm run build && npm run transpile && tap "test/**/*.test.*js" && tap --ts test/*.test.*ts',"test:ci":"standard && npm run transpile && npm run test:ci:js && npm run test:ci:ts","test:ci:js":'tap --no-check-coverage --timeout=120 --coverage-report=lcovonly "test/**/*.test.*js"',"test:ci:ts":'tap --ts --no-check-coverage --coverage-report=lcovonly "test/**/*.test.*ts"',"test:yarn":'npm run transpile && tap "test/**/*.test.js" --no-check-coverage',transpile:"sh ./test/ts/transpile.sh",prepare:"husky install"},standard:{ignore:["test/ts/**/*","test/syntax-error.mjs"]},repository:{type:"git",url:"git+https://github.com/mcollina/thread-stream.git"},keywords:["worker","thread","threads","stream"],author:"Matteo Collina <hello@matteocollina.com>",license:"MIT",bugs:{url:"https://github.com/mcollina/thread-stream/issues"},homepage:"https://github.com/mcollina/thread-stream#readme"}});var XF=w((Tze,ZF)=>{"use strict";function Mne(e,t,r,i,n){let s=Date.now()+i,o=Atomics.load(e,t);if(o===r){n(null,"ok");return}let a=o,l=c=>{Date.now()>s?n(null,"timed-out"):setTimeout(()=>{a=o,o=Atomics.load(e,t),o===a?l(c>=1e3?1e3:c*2):o===r?n(null,"ok"):n(null,"not-equal")},c)};l(1)}function zne(e,t,r,i,n){let s=Date.now()+i,o=Atomics.load(e,t);if(o!==r){n(null,"ok");return}let a=l=>{Date.now()>s?n(null,"timed-out"):setTimeout(()=>{o=Atomics.load(e,t),o!==r?n(null,"ok"):a(l>=1e3?1e3:l*2)},l)};a(1)}ZF.exports={wait:Mne,waitDiff:zne}});var eD=w((Oze,QF)=>{"use strict";QF.exports={WRITE_INDEX:4,READ_INDEX:8}});var sD=w((Aze,nD)=>{"use strict";var{version:Une}=JF(),{EventEmitter:Bne}=require("events"),{Worker:Hne}=require("worker_threads"),{join:Vne}=require("path"),{pathToFileURL:Wne}=require("url"),{wait:Gne}=XF(),{WRITE_INDEX:Ei,READ_INDEX:ws}=eD(),Yne=require("buffer"),Kne=require("assert"),Y=Symbol("kImpl"),Jne=Yne.constants.MAX_STRING_LENGTH,Nd=class{constructor(t){this._value=t}deref(){return this._value}},cv=class{register(){}unregister(){}},Zne=process.env.NODE_V8_COVERAGE?cv:global.FinalizationRegistry||cv,Xne=process.env.NODE_V8_COVERAGE?Nd:global.WeakRef||Nd,tD=new Zne(e=>{e.exited||e.terminate()});function Qne(e,t){let{filename:r,workerData:i}=t,s=("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||Vne(__dirname,"lib","worker.js"),o=new Hne(s,{...t.workerOpts,trackUnmanagedFds:!1,workerData:{filename:r.indexOf("file://")===0?r:Wne(r).href,dataBuf:e[Y].dataBuf,stateBuf:e[Y].stateBuf,workerData:{$context:{threadStreamVersion:Une},...i}}});return o.stream=new Nd(e),o.on("message",ese),o.on("exit",iD),tD.register(e,o),o}function rD(e){Kne(!e[Y].sync),e[Y].needDrain&&(e[Y].needDrain=!1,e.emit("drain"))}function lv(e){let t=Atomics.load(e[Y].state,Ei),r=e[Y].data.length-t;if(r>0){if(e[Y].buf.length===0){e[Y].flushing=!1,e[Y].ending?OE(e):e[Y].needDrain&&process.nextTick(rD,e);return}let i=e[Y].buf.slice(0,r),n=Buffer.byteLength(i);n<=r?(e[Y].buf=e[Y].buf.slice(r),uv(e,i,lv.bind(null,e))):e.flush(()=>{if(!e.destroyed){for(Atomics.store(e[Y].state,ws,0),Atomics.store(e[Y].state,Ei,0);n>e[Y].data.length;)r=r/2,i=e[Y].buf.slice(0,r),n=Buffer.byteLength(i);e[Y].buf=e[Y].buf.slice(r),uv(e,i,lv.bind(null,e))}})}else if(r===0){if(t===0&&e[Y].buf.length===0)return;e.flush(()=>{Atomics.store(e[Y].state,ws,0),Atomics.store(e[Y].state,Ei,0),lv(e)})}else Ss(e,new Error("overwritten"))}function ese(e){let t=this.stream.deref();if(t===void 0){this.exited=!0,this.terminate();return}switch(e.code){case"READY":this.stream=new Xne(t),t.flush(()=>{t[Y].ready=!0,t.emit("ready")});break;case"ERROR":Ss(t,e.err);break;case"EVENT":Array.isArray(e.args)?t.emit(e.name,...e.args):t.emit(e.name,e.args);break;case"WARNING":process.emitWarning(e.err);break;default:Ss(t,new Error("this should not happen: "+e.code))}}function iD(e){let t=this.stream.deref();t!==void 0&&(tD.unregister(t),t.worker.exited=!0,t.worker.off("exit",iD),Ss(t,e!==0?new Error("the worker thread exited"):null))}var kE=class extends Bne{constructor(t={}){if(super(),t.bufferSize<4)throw new Error("bufferSize must at least fit a 4-byte utf-8 char");this[Y]={},this[Y].stateBuf=new SharedArrayBuffer(128),this[Y].state=new Int32Array(this[Y].stateBuf),this[Y].dataBuf=new SharedArrayBuffer(t.bufferSize||4*1024*1024),this[Y].data=Buffer.from(this[Y].dataBuf),this[Y].sync=t.sync||!1,this[Y].ending=!1,this[Y].ended=!1,this[Y].needDrain=!1,this[Y].destroyed=!1,this[Y].flushing=!1,this[Y].ready=!1,this[Y].finished=!1,this[Y].errored=null,this[Y].closed=!1,this[Y].buf="",this.worker=Qne(this,t),this.on("message",(r,i)=>{this.worker.postMessage(r,i)})}write(t){if(this[Y].destroyed)return RE(this,new Error("the worker has exited")),!1;if(this[Y].ending)return RE(this,new Error("the worker is ending")),!1;if(this[Y].flushing&&this[Y].buf.length+t.length>=Jne)try{EE(this),this[Y].flushing=!0}catch(r){return Ss(this,r),!1}if(this[Y].buf+=t,this[Y].sync)try{return EE(this),!0}catch(r){return Ss(this,r),!1}return this[Y].flushing||(this[Y].flushing=!0,setImmediate(lv,this)),this[Y].needDrain=this[Y].data.length-this[Y].buf.length-Atomics.load(this[Y].state,Ei)<=0,!this[Y].needDrain}end(){this[Y].destroyed||(this[Y].ending=!0,OE(this))}flush(t){if(this[Y].destroyed){typeof t=="function"&&process.nextTick(t,new Error("the worker has exited"));return}let r=Atomics.load(this[Y].state,Ei);Gne(this[Y].state,ws,r,1/0,(i,n)=>{if(i){Ss(this,i),process.nextTick(t,i);return}if(n==="not-equal"){this.flush(t);return}process.nextTick(t)})}flushSync(){this[Y].destroyed||(EE(this),TE(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[Y].ready}get destroyed(){return this[Y].destroyed}get closed(){return this[Y].closed}get writable(){return!this[Y].destroyed&&!this[Y].ending}get writableEnded(){return this[Y].ending}get writableFinished(){return this[Y].finished}get writableNeedDrain(){return this[Y].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[Y].errored}};function RE(e,t){setImmediate(()=>{e.emit("error",t)})}function Ss(e,t){e[Y].destroyed||(e[Y].destroyed=!0,t&&(e[Y].errored=t,RE(e,t)),e.worker.exited?setImmediate(()=>{e[Y].closed=!0,e.emit("close")}):e.worker.terminate().catch(()=>{}).then(()=>{e[Y].closed=!0,e.emit("close")}))}function uv(e,t,r){let i=Atomics.load(e[Y].state,Ei),n=Buffer.byteLength(t);return e[Y].data.write(t,i),Atomics.store(e[Y].state,Ei,i+n),Atomics.notify(e[Y].state,Ei),r(),!0}function OE(e){if(!(e[Y].ended||!e[Y].ending||e[Y].flushing)){e[Y].ended=!0;try{e.flushSync();let t=Atomics.load(e[Y].state,ws);Atomics.store(e[Y].state,Ei,-1),Atomics.notify(e[Y].state,Ei);let r=0;for(;t!==-1;){if(Atomics.wait(e[Y].state,ws,t,1e3),t=Atomics.load(e[Y].state,ws),t===-2){Ss(e,new Error("end() failed"));return}if(++r===10){Ss(e,new Error("end() took too long (10s)"));return}}process.nextTick(()=>{e[Y].finished=!0,e.emit("finish")})}catch(t){Ss(e,t)}}}function EE(e){let t=()=>{e[Y].ending?OE(e):e[Y].needDrain&&process.nextTick(rD,e)};for(e[Y].flushing=!1;e[Y].buf.length!==0;){let r=Atomics.load(e[Y].state,Ei),i=e[Y].data.length-r;if(i===0){TE(e),Atomics.store(e[Y].state,ws,0),Atomics.store(e[Y].state,Ei,0);continue}else if(i<0)throw new Error("overwritten");let n=e[Y].buf.slice(0,i),s=Buffer.byteLength(n);if(s<=i)e[Y].buf=e[Y].buf.slice(i),uv(e,n,t);else{for(TE(e),Atomics.store(e[Y].state,ws,0),Atomics.store(e[Y].state,Ei,0);s>e[Y].buf.length;)i=i/2,n=e[Y].buf.slice(0,i),s=Buffer.byteLength(n);e[Y].buf=e[Y].buf.slice(i),uv(e,n,t)}}}function TE(e){if(e[Y].flushing)throw new Error("unable to flush while flushing");let t=Atomics.load(e[Y].state,Ei),r=0;for(;;){let i=Atomics.load(e[Y].state,ws);if(i===-2)throw Error("_flushSync failed");if(i!==t)Atomics.wait(e[Y].state,ws,i,1e3);else break;if(++r===10)throw new Error("_flushSync took too long (10s)")}}nD.exports=kE});var PE=w((Cze,oD)=>{"use strict";var{createRequire:tse}=require("module"),rse=fE(),{join:AE,isAbsolute:ise,sep:nse}=require("path"),sse=bE(),CE=xE(),ose=sD();function ase(e){CE.register(e,cse),CE.registerBeforeExit(e,use),e.on("close",function(){CE.unregister(e)})}function lse(e,t,r){let i=new ose({filename:e,workerData:t,workerOpts:r});i.on("ready",n),i.on("close",function(){process.removeListener("exit",s)}),process.on("exit",s);function n(){process.removeListener("exit",s),i.unref(),r.autoEnd!==!1&&ase(i)}function s(){i.closed||(i.flushSync(),sse(100),i.end())}return i}function cse(e){e.ref(),e.flushSync(),e.end(),e.once("close",function(){e.unref()})}function use(e){e.flushSync()}function fse(e){let{pipeline:t,targets:r,levels:i,dedupe:n,worker:s={},caller:o=rse()}=e,a={...e.options},l=typeof o=="string"?[o]:o,c="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},u=e.target;if(u&&r)throw new Error("only one of target or targets can be specified");return r?(u=c["pino-worker"]||AE(__dirname,"worker.js"),a.targets=r.filter(h=>h.target).map(h=>({...h,target:f(h.target)})),a.pipelines=r.filter(h=>h.pipeline).map(h=>h.pipeline.map(p=>({...p,level:h.level,target:f(p.target)})))):t&&(u=c["pino-worker"]||AE(__dirname,"worker.js"),a.pipelines=[t.map(h=>({...h,target:f(h.target)}))]),i&&(a.levels=i),n&&(a.dedupe=n),a.pinoWillSendConfig=!0,lse(f(u),a,s);function f(h){if(h=c[h]||h,ise(h)||h.indexOf("file://")===0)return h;if(h==="pino/file")return AE(__dirname,"..","file.js");let p;for(let m of l)try{let g=m==="node:repl"?process.cwd()+nse:m;p=tse(g).resolve(h);break}catch{continue}if(!p)throw new Error(`unable to determine transport target for "${h}"`);return p}}oD.exports=fse});var dv=w((Pze,yD)=>{"use strict";var aD=DF(),{mapHttpRequest:hse,mapHttpResponse:dse}=uE(),NE=HF(),lD=xE(),{lsCacheSym:pse,chindingsSym:fD,writeSym:cD,serializersSym:hD,formatOptsSym:uD,endSym:mse,stringifiersSym:dD,stringifySym:pD,stringifySafeSym:$E,wildcardFirstSym:mD,nestedKeySym:gse,formattersSym:gD,messageKeySym:yse,errorKeySym:vse,nestedKeyStrSym:_se,msgPrefixSym:fv}=Du(),{isMainThread:bse}=require("worker_threads"),wse=PE();function ju(){}function Sse(e,t){if(!t)return r;return function(...n){t.call(this,n,r,e)};function r(i,...n){if(typeof i=="object"){let s=i;i!==null&&(i.method&&i.headers&&i.socket?i=hse(i):typeof i.setHeader=="function"&&(i=dse(i)));let o;s===null&&n.length===0?o=[null]:(s=n.shift(),o=n),typeof this[fv]=="string"&&s!==void 0&&s!==null&&(s=this[fv]+s),this[cD](i,aD(s,o,this[uD]),e)}else{let s=i===void 0?n.shift():i;typeof this[fv]=="string"&&s!==void 0&&s!==null&&(s=this[fv]+s),this[cD](null,aD(s,n,this[uD]),e)}}}function IE(e){let t="",r=0,i=!1,n=255,s=e.length;if(s>100)return JSON.stringify(e);for(var o=0;o<s&&n>=32;o++)n=e.charCodeAt(o),(n===34||n===92)&&(t+=e.slice(r,o)+"\\",r=o,i=!0);return i?t+=e.slice(r):t=e,n<32?JSON.stringify(e):'"'+t+'"'}function xse(e,t,r,i){let n=this[pD],s=this[$E],o=this[dD],a=this[mse],l=this[fD],c=this[hD],u=this[gD],f=this[yse],h=this[vse],p=this[pse][r]+i;p=p+l;let m;u.log&&(e=u.log(e));let g=o[mD],y="";for(let S in e)if(m=e[S],Object.prototype.hasOwnProperty.call(e,S)&&m!==void 0){c[S]?m=c[S](m):S===h&&c.err&&(m=c.err(m));let b=o[S]||g;switch(typeof m){case"undefined":case"function":continue;case"number":Number.isFinite(m)===!1&&(m=null);case"boolean":b&&(m=b(m));break;case"string":m=(b||IE)(m);break;default:m=(b||n)(m,s)}if(m===void 0)continue;let v=IE(S);y+=","+v+":"+m}let _="";if(t!==void 0){m=c[f]?c[f](t):t;let S=o[f]||g;switch(typeof m){case"function":break;case"number":Number.isFinite(m)===!1&&(m=null);case"boolean":S&&(m=S(m)),_=',"'+f+'":'+m;break;case"string":m=(S||IE)(m),_=',"'+f+'":'+m;break;default:m=(S||n)(m,s),_=',"'+f+'":'+m}}return this[gse]&&y?p+this[_se]+y.slice(1)+"}"+_+a:p+y+_+a}function Ese(e,t){let r,i=e[fD],n=e[pD],s=e[$E],o=e[dD],a=o[mD],l=e[hD],c=e[gD].bindings;t=c(t);for(let u in t)if(r=t[u],(u!=="level"&&u!=="serializers"&&u!=="formatters"&&u!=="customLevels"&&t.hasOwnProperty(u)&&r!==void 0)===!0){if(r=l[u]?l[u](r):r,r=(o[u]||a||n)(r,s),r===void 0)continue;i+=',"'+u+'":'+r}return i}function kse(e){return e.write!==e.constructor.prototype.write}var Rse=process.env.NODE_V8_COVERAGE||process.env.V8_COVERAGE;function hv(e){let t=new NE(e);return t.on("error",r),!Rse&&!e.sync&&bse&&(lD.register(t,Tse),t.on("close",function(){lD.unregister(t)})),t;function r(i){if(i.code==="EPIPE"){t.write=ju,t.end=ju,t.flushSync=ju,t.destroy=ju;return}t.removeListener("error",r),t.emit("error",i)}}function Tse(e,t){e.destroyed||(t==="beforeExit"?(e.flush(),e.on("drain",function(){e.end()})):e.flushSync())}function Ose(e){return function(r,i,n={},s){if(typeof n=="string")s=hv({dest:n}),n={};else if(typeof s=="string"){if(n&&n.transport)throw Error("only one of option.transport or stream can be specified");s=hv({dest:s})}else if(n instanceof NE||n.writable||n._writableState)s=n,n={};else if(n.transport){if(n.transport instanceof NE||n.transport.writable||n.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(n.transport.targets&&n.transport.targets.length&&n.formatters&&typeof n.formatters.level=="function")throw Error("option.transport.targets do not allow custom level formatters");let l;n.customLevels&&(l=n.useOnlyCustomLevels?n.customLevels:Object.assign({},n.levels,n.customLevels)),s=wse({caller:i,...n.transport,levels:l})}if(n=Object.assign({},e,n),n.serializers=Object.assign({},e.serializers,n.serializers),n.formatters=Object.assign({},e.formatters,n.formatters),n.prettyPrint)throw new Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:o,onChild:a}=n;return o===!1&&(n.level="silent"),a||(n.onChild=ju),s||(kse(process.stdout)?s=process.stdout:s=hv({fd:process.stdout.fd||1})),{opts:n,stream:s}}}function Ase(e,t){try{return JSON.stringify(e)}catch{try{return(t||this[$E])(e)}catch{return'"[unable to serialize, circular reference is too complex to analyze]"'}}}function Cse(e,t,r){return{level:e,bindings:t,log:r}}function Pse(e){let t=Number(e);return typeof e=="string"&&Number.isFinite(t)?t:e===void 0?1:e}yD.exports={noop:ju,buildSafeSonicBoom:hv,asChindings:Ese,asJson:xse,genLog:Sse,createArgsNormalizer:Ose,stringify:Ase,buildFormatters:Cse,normalizeDestFileDescriptor:Pse}});var pv=w((Ize,vD)=>{var Ise={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},Nse={ASC:"ASC",DESC:"DESC"};vD.exports={DEFAULT_LEVELS:Ise,SORTING_ORDER:Nse}});var LE=w((Nze,SD)=>{"use strict";var{lsCacheSym:$se,levelValSym:FE,useOnlyCustomLevelsSym:Fse,streamSym:Dse,formattersSym:Lse,hooksSym:jse,levelCompSym:_D}=Du(),{noop:qse,genLog:Hl}=dv(),{DEFAULT_LEVELS:xs,SORTING_ORDER:bD}=pv(),wD={fatal:e=>{let t=Hl(xs.fatal,e);return function(...r){let i=this[Dse];if(t.call(this,...r),typeof i.flushSync=="function")try{i.flushSync()}catch{}}},error:e=>Hl(xs.error,e),warn:e=>Hl(xs.warn,e),info:e=>Hl(xs.info,e),debug:e=>Hl(xs.debug,e),trace:e=>Hl(xs.trace,e)},DE=Object.keys(xs).reduce((e,t)=>(e[xs[t]]=t,e),{}),Mse=Object.keys(DE).reduce((e,t)=>(e[t]='{"level":'+Number(t),e),{});function zse(e){let t=e[Lse].level,{labels:r}=e.levels,i={};for(let n in r){let s=t(r[n],Number(n));i[n]=JSON.stringify(s).slice(0,-1)}return e[$se]=i,e}function Use(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function Bse(e){let{labels:t,values:r}=this.levels;if(typeof e=="number"){if(t[e]===void 0)throw Error("unknown level value"+e);e=t[e]}if(r[e]===void 0)throw Error("unknown level "+e);let i=this[FE],n=this[FE]=r[e],s=this[Fse],o=this[_D],a=this[jse].logMethod;for(let l in r){if(o(r[l],n)===!1){this[l]=qse;continue}this[l]=Use(l,s)?wD[l](a):Hl(r[l],a)}this.emit("level-change",e,n,t[i],i,this)}function Hse(e){let{levels:t,levelVal:r}=this;return t&&t.labels?t.labels[r]:""}function Vse(e){let{values:t}=this.levels,r=t[e];return r!==void 0&&this[_D](r,this[FE])}function Wse(e,t,r){return e===bD.DESC?t<=r:t>=r}function Gse(e){return typeof e=="string"?Wse.bind(null,e):e}function Yse(e=null,t=!1){let r=e?Object.keys(e).reduce((s,o)=>(s[e[o]]=o,s),{}):null,i=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:DE,r),n=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:xs,e);return{labels:i,values:n}}function Kse(e,t,r){if(typeof e=="number"){if(![].concat(Object.keys(t||{}).map(s=>t[s]),r?[]:Object.keys(DE).map(s=>+s),1/0).includes(e))throw Error(`default level:${e} must be included in custom levels`);return}let i=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:xs,t);if(!(e in i))throw Error(`default level:${e} must be included in custom levels`)}function Jse(e,t){let{labels:r,values:i}=e;for(let n in t){if(n in i)throw Error("levels cannot be overridden");if(t[n]in r)throw Error("pre-existing level values cannot be used for new levels")}}function Zse(e){if(typeof e!="function"&&!(typeof e=="string"&&Object.values(bD).includes(e)))throw new Error('Levels comparison should be one of "ASC", "DESC" or "function" type')}SD.exports={initialLsCache:Mse,genLsCache:zse,levelMethods:wD,getLevel:Hse,setLevel:Bse,isLevelEnabled:Vse,mappings:Yse,assertNoLevelCollisions:Jse,assertDefaultLevelFound:Kse,genLevelComparison:Gse,assertLevelComparison:Zse}});var jE=w(($ze,xD)=>{"use strict";xD.exports={version:"9.4.0"}});var $D=w((Dze,ND)=>{"use strict";var{EventEmitter:Xse}=require("events"),{lsCacheSym:Qse,levelValSym:eoe,setLevelSym:ME,getLevelSym:ED,chindingsSym:zE,parsedChindingsSym:toe,mixinSym:roe,asJsonSym:AD,writeSym:ioe,mixinMergeStrategySym:noe,timeSym:soe,timeSliceIndexSym:ooe,streamSym:CD,serializersSym:Vl,formattersSym:qE,errorKeySym:aoe,messageKeySym:loe,useOnlyCustomLevelsSym:coe,needsMetadataGsym:uoe,redactFmtSym:foe,stringifySym:hoe,formatOptsSym:doe,stringifiersSym:poe,msgPrefixSym:kD}=Du(),{getLevel:moe,setLevel:goe,isLevelEnabled:yoe,mappings:voe,initialLsCache:_oe,genLsCache:boe,assertNoLevelCollisions:woe}=LE(),{asChindings:PD,asJson:Soe,buildFormatters:RD,stringify:TD}=dv(),{version:xoe}=jE(),Eoe=vE(),koe=class{},ID={constructor:koe,child:Roe,bindings:Toe,setBindings:Ooe,flush:Ioe,isLevelEnabled:yoe,version:xoe,get level(){return this[ED]()},set level(e){this[ME](e)},get levelVal(){return this[eoe]},set levelVal(e){throw Error("levelVal is read-only")},[Qse]:_oe,[ioe]:Coe,[AD]:Soe,[ED]:moe,[ME]:goe};Object.setPrototypeOf(ID,Xse.prototype);ND.exports=function(){return Object.create(ID)};var OD=e=>e;function Roe(e,t){if(!e)throw Error("missing bindings for child Pino");t=t||{};let r=this[Vl],i=this[qE],n=Object.create(this);if(t.hasOwnProperty("serializers")===!0){n[Vl]=Object.create(null);for(let u in r)n[Vl][u]=r[u];let l=Object.getOwnPropertySymbols(r);for(var s=0;s<l.length;s++){let u=l[s];n[Vl][u]=r[u]}for(let u in t.serializers)n[Vl][u]=t.serializers[u];let c=Object.getOwnPropertySymbols(t.serializers);for(var o=0;o<c.length;o++){let u=c[o];n[Vl][u]=t.serializers[u]}}else n[Vl]=r;if(t.hasOwnProperty("formatters")){let{level:l,bindings:c,log:u}=t.formatters;n[qE]=RD(l||i.level,c||OD,u||i.log)}else n[qE]=RD(i.level,OD,i.log);if(t.hasOwnProperty("customLevels")===!0&&(woe(this.levels,t.customLevels),n.levels=voe(t.customLevels,n[coe]),boe(n)),typeof t.redact=="object"&&t.redact!==null||Array.isArray(t.redact)){n.redact=t.redact;let l=Eoe(n.redact,TD),c={stringify:l[foe]};n[hoe]=TD,n[poe]=l,n[doe]=c}typeof t.msgPrefix=="string"&&(n[kD]=(this[kD]||"")+t.msgPrefix),n[zE]=PD(n,e);let a=t.level||this.level;return n[ME](a),this.onChild(n),n}function Toe(){let t=`{${this[zE].substr(1)}}`,r=JSON.parse(t);return delete r.pid,delete r.hostname,r}function Ooe(e){let t=PD(this,e);this[zE]=t,delete this[toe]}function Aoe(e,t){return Object.assign(t,e)}function Coe(e,t,r){let i=this[soe](),n=this[roe],s=this[aoe],o=this[loe],a=this[noe]||Aoe,l;e==null?l={}:e instanceof Error?(l={[s]:e},t===void 0&&(t=e.message)):(l=e,t===void 0&&e[o]===void 0&&e[s]&&(t=e[s].message)),n&&(l=a(l,n(l,r,this)));let c=this[AD](l,t,r,i),u=this[CD];u[uoe]===!0&&(u.lastLevel=r,u.lastObj=l,u.lastMsg=t,u.lastTime=i.slice(this[ooe]),u.lastLogger=this),u.write(c)}function Poe(){}function Ioe(e){if(e!=null&&typeof e!="function")throw Error("callback must be a function");let t=this[CD];typeof t.flush=="function"?t.flush(e||Poe):e&&e()}});var jD=w((VE,LD)=>{"use strict";var{hasOwnProperty:$d}=Object.prototype,Gl=HE();Gl.configure=HE;Gl.stringify=Gl;Gl.default=Gl;VE.stringify=Gl;VE.configure=HE;LD.exports=Gl;var Noe=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function Ea(e){return e.length<5e3&&!Noe.test(e)?`"${e}"`:JSON.stringify(e)}function UE(e,t){if(e.length>200||t)return e.sort(t);for(let r=1;r<e.length;r++){let i=e[r],n=r;for(;n!==0&&e[n-1]>i;)e[n]=e[n-1],n--;e[n]=i}return e}var $oe=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function BE(e){return $oe.call(e)!==void 0&&e.length!==0}function FD(e,t,r){e.length<r&&(r=e.length);let i=t===","?"":" ",n=`"0":${i}${e[0]}`;for(let s=1;s<r;s++)n+=`${t}"${s}":${i}${e[s]}`;return n}function Foe(e){if($d.call(e,"circularValue")){let t=e.circularValue;if(typeof t=="string")return`"${t}"`;if(t==null)return t;if(t===Error||t===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function Doe(e){let t;if($d.call(e,"deterministic")&&(t=e.deterministic,typeof t!="boolean"&&typeof t!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return t===void 0?!0:t}function Loe(e,t){let r;if($d.call(e,t)&&(r=e[t],typeof r!="boolean"))throw new TypeError(`The "${t}" argument must be of type boolean`);return r===void 0?!0:r}function DD(e,t){let r;if($d.call(e,t)){if(r=e[t],typeof r!="number")throw new TypeError(`The "${t}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${t}" argument must be an integer`);if(r<1)throw new RangeError(`The "${t}" argument must be >= 1`)}return r===void 0?1/0:r}function Wl(e){return e===1?"1 item":`${e} items`}function joe(e){let t=new Set;for(let r of e)(typeof r=="string"||typeof r=="number")&&t.add(String(r));return t}function qoe(e){if($d.call(e,"strict")){let t=e.strict;if(typeof t!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(t)return r=>{let i=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(i+=` (${r.toString()})`),new Error(i)}}}function HE(e){e={...e};let t=qoe(e);t&&(e.bigint===void 0&&(e.bigint=!1),"circularValue"in e||(e.circularValue=Error));let r=Foe(e),i=Loe(e,"bigint"),n=Doe(e),s=typeof n=="function"?n:void 0,o=DD(e,"maximumDepth"),a=DD(e,"maximumBreadth");function l(p,m,g,y,_,S){let b=m[p];switch(typeof b=="object"&&b!==null&&typeof b.toJSON=="function"&&(b=b.toJSON(p)),b=y.call(m,p,b),typeof b){case"string":return Ea(b);case"object":{if(b===null)return"null";if(g.indexOf(b)!==-1)return r;let v="",O=",",j=S;if(Array.isArray(b)){if(b.length===0)return"[]";if(o<g.length+1)return'"[Array]"';g.push(b),_!==""&&(S+=_,v+=`
${S}`,O=`,
${S}`);let z=Math.min(b.length,a),H=0;for(;H<z-1;H++){let ie=l(String(H),b,g,y,_,S);v+=ie!==void 0?ie:"null",v+=O}let X=l(String(H),b,g,y,_,S);if(v+=X!==void 0?X:"null",b.length-1>a){let ie=b.length-a-1;v+=`${O}"... ${Wl(ie)} not stringified"`}return _!==""&&(v+=`
${j}`),g.pop(),`[${v}]`}let R=Object.keys(b),I=R.length;if(I===0)return"{}";if(o<g.length+1)return'"[Object]"';let F="",T="";_!==""&&(S+=_,O=`,
${S}`,F=" ");let $=Math.min(I,a);n&&!BE(b)&&(R=UE(R,s)),g.push(b);for(let z=0;z<$;z++){let H=R[z],X=l(H,b,g,y,_,S);X!==void 0&&(v+=`${T}${Ea(H)}:${F}${X}`,T=O)}if(I>a){let z=I-a;v+=`${T}"...":${F}"${Wl(z)} not stringified"`,T=O}return _!==""&&T.length>1&&(v=`
${S}${v}
${j}`),g.pop(),`{${v}}`}case"number":return isFinite(b)?String(b):t?t(b):"null";case"boolean":return b===!0?"true":"false";case"undefined":return;case"bigint":if(i)return String(b);default:return t?t(b):void 0}}function c(p,m,g,y,_,S){switch(typeof m=="object"&&m!==null&&typeof m.toJSON=="function"&&(m=m.toJSON(p)),typeof m){case"string":return Ea(m);case"object":{if(m===null)return"null";if(g.indexOf(m)!==-1)return r;let b=S,v="",O=",";if(Array.isArray(m)){if(m.length===0)return"[]";if(o<g.length+1)return'"[Array]"';g.push(m),_!==""&&(S+=_,v+=`
${S}`,O=`,
${S}`);let I=Math.min(m.length,a),F=0;for(;F<I-1;F++){let $=c(String(F),m[F],g,y,_,S);v+=$!==void 0?$:"null",v+=O}let T=c(String(F),m[F],g,y,_,S);if(v+=T!==void 0?T:"null",m.length-1>a){let $=m.length-a-1;v+=`${O}"... ${Wl($)} not stringified"`}return _!==""&&(v+=`
${b}`),g.pop(),`[${v}]`}g.push(m);let j="";_!==""&&(S+=_,O=`,
${S}`,j=" ");let R="";for(let I of y){let F=c(I,m[I],g,y,_,S);F!==void 0&&(v+=`${R}${Ea(I)}:${j}${F}`,R=O)}return _!==""&&R.length>1&&(v=`
${S}${v}
${b}`),g.pop(),`{${v}}`}case"number":return isFinite(m)?String(m):t?t(m):"null";case"boolean":return m===!0?"true":"false";case"undefined":return;case"bigint":if(i)return String(m);default:return t?t(m):void 0}}function u(p,m,g,y,_){switch(typeof m){case"string":return Ea(m);case"object":{if(m===null)return"null";if(typeof m.toJSON=="function"){if(m=m.toJSON(p),typeof m!="object")return u(p,m,g,y,_);if(m===null)return"null"}if(g.indexOf(m)!==-1)return r;let S=_;if(Array.isArray(m)){if(m.length===0)return"[]";if(o<g.length+1)return'"[Array]"';g.push(m),_+=y;let F=`
${_}`,T=`,
${_}`,$=Math.min(m.length,a),z=0;for(;z<$-1;z++){let X=u(String(z),m[z],g,y,_);F+=X!==void 0?X:"null",F+=T}let H=u(String(z),m[z],g,y,_);if(F+=H!==void 0?H:"null",m.length-1>a){let X=m.length-a-1;F+=`${T}"... ${Wl(X)} not stringified"`}return F+=`
${S}`,g.pop(),`[${F}]`}let b=Object.keys(m),v=b.length;if(v===0)return"{}";if(o<g.length+1)return'"[Object]"';_+=y;let O=`,
${_}`,j="",R="",I=Math.min(v,a);BE(m)&&(j+=FD(m,O,a),b=b.slice(m.length),I-=m.length,R=O),n&&(b=UE(b,s)),g.push(m);for(let F=0;F<I;F++){let T=b[F],$=u(T,m[T],g,y,_);$!==void 0&&(j+=`${R}${Ea(T)}: ${$}`,R=O)}if(v>a){let F=v-a;j+=`${R}"...": "${Wl(F)} not stringified"`,R=O}return R!==""&&(j=`
${_}${j}
${S}`),g.pop(),`{${j}}`}case"number":return isFinite(m)?String(m):t?t(m):"null";case"boolean":return m===!0?"true":"false";case"undefined":return;case"bigint":if(i)return String(m);default:return t?t(m):void 0}}function f(p,m,g){switch(typeof m){case"string":return Ea(m);case"object":{if(m===null)return"null";if(typeof m.toJSON=="function"){if(m=m.toJSON(p),typeof m!="object")return f(p,m,g);if(m===null)return"null"}if(g.indexOf(m)!==-1)return r;let y="",_=m.length!==void 0;if(_&&Array.isArray(m)){if(m.length===0)return"[]";if(o<g.length+1)return'"[Array]"';g.push(m);let j=Math.min(m.length,a),R=0;for(;R<j-1;R++){let F=f(String(R),m[R],g);y+=F!==void 0?F:"null",y+=","}let I=f(String(R),m[R],g);if(y+=I!==void 0?I:"null",m.length-1>a){let F=m.length-a-1;y+=`,"... ${Wl(F)} not stringified"`}return g.pop(),`[${y}]`}let S=Object.keys(m),b=S.length;if(b===0)return"{}";if(o<g.length+1)return'"[Object]"';let v="",O=Math.min(b,a);_&&BE(m)&&(y+=FD(m,",",a),S=S.slice(m.length),O-=m.length,v=","),n&&(S=UE(S,s)),g.push(m);for(let j=0;j<O;j++){let R=S[j],I=f(R,m[R],g);I!==void 0&&(y+=`${v}${Ea(R)}:${I}`,v=",")}if(b>a){let j=b-a;y+=`${v}"...":"${Wl(j)} not stringified"`}return g.pop(),`{${y}}`}case"number":return isFinite(m)?String(m):t?t(m):"null";case"boolean":return m===!0?"true":"false";case"undefined":return;case"bigint":if(i)return String(m);default:return t?t(m):void 0}}function h(p,m,g){if(arguments.length>1){let y="";if(typeof g=="number"?y=" ".repeat(Math.min(g,10)):typeof g=="string"&&(y=g.slice(0,10)),m!=null){if(typeof m=="function")return l("",{"":p},[],m,y,"");if(Array.isArray(m))return c("",p,[],joe(m),y,"")}if(y.length!==0)return u("",p,[],y,"")}return f("",p,[])}return h}});var zD=w((Lze,MD)=>{"use strict";var WE=Symbol.for("pino.metadata"),{DEFAULT_LEVELS:qD}=pv(),Moe=qD.info;function zoe(e,t){let r=0;e=e||[],t=t||{dedupe:!1};let i=Object.create(qD);i.silent=1/0,t.levels&&typeof t.levels=="object"&&Object.keys(t.levels).forEach(f=>{i[f]=t.levels[f]});let n={write:s,add:l,emit:o,flushSync:a,end:c,minLevel:0,streams:[],clone:u,[WE]:!0,streamLevels:i};return Array.isArray(e)?e.forEach(l,n):l.call(n,e),e=null,n;function s(f){let h,p=this.lastLevel,{streams:m}=this,g=0,y;for(let _=Boe(m.length,t.dedupe);Voe(_,m.length,t.dedupe);_=Hoe(_,t.dedupe))if(h=m[_],h.level<=p){if(g!==0&&g!==h.level)break;if(y=h.stream,y[WE]){let{lastTime:S,lastMsg:b,lastObj:v,lastLogger:O}=this;y.lastLevel=p,y.lastTime=S,y.lastMsg=b,y.lastObj=v,y.lastLogger=O}y.write(f),t.dedupe&&(g=h.level)}else if(!t.dedupe)break}function o(...f){for(let{stream:h}of this.streams)typeof h.emit=="function"&&h.emit(...f)}function a(){for(let{stream:f}of this.streams)typeof f.flushSync=="function"&&f.flushSync()}function l(f){if(!f)return n;let h=typeof f.write=="function"||f.stream,p=f.write?f:f.stream;if(!h)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:m,streamLevels:g}=this,y;typeof f.levelVal=="number"?y=f.levelVal:typeof f.level=="string"?y=g[f.level]:typeof f.level=="number"?y=f.level:y=Moe;let _={stream:p,level:y,levelVal:void 0,id:r++};return m.unshift(_),m.sort(Uoe),this.minLevel=m[0].level,n}function c(){for(let{stream:f}of this.streams)typeof f.flushSync=="function"&&f.flushSync(),f.end()}function u(f){let h=new Array(this.streams.length);for(let p=0;p<h.length;p++)h[p]={level:f,stream:this.streams[p].stream};return{write:s,add:l,minLevel:f,streams:h,clone:u,emit:o,flushSync:a,[WE]:!0}}}function Uoe(e,t){return e.level-t.level}function Boe(e,t){return t?e-1:0}function Hoe(e,t){return t?e-1:e+1}function Voe(e,t,r){return r?e>=0:e<t}MD.exports=zoe});var tL=w((jze,an)=>{"use strict";var Woe=require("os"),KD=uE(),Goe=fE(),Yoe=vE(),JD=$F(),Koe=$D(),ZD=Du(),{configure:Joe}=jD(),{assertDefaultLevelFound:Zoe,mappings:XD,genLsCache:Xoe,genLevelComparison:Qoe,assertLevelComparison:eae}=LE(),{DEFAULT_LEVELS:QD,SORTING_ORDER:tae}=pv(),{createArgsNormalizer:rae,asChindings:iae,buildSafeSonicBoom:UD,buildFormatters:nae,stringify:GE,normalizeDestFileDescriptor:BD,noop:sae}=dv(),{version:oae}=jE(),{chindingsSym:HD,redactFmtSym:aae,serializersSym:VD,timeSym:lae,timeSliceIndexSym:cae,streamSym:uae,stringifySym:WD,stringifySafeSym:YE,stringifiersSym:GD,setLevelSym:fae,endSym:hae,formatOptsSym:dae,messageKeySym:pae,errorKeySym:mae,nestedKeySym:gae,mixinSym:yae,levelCompSym:vae,useOnlyCustomLevelsSym:_ae,formattersSym:YD,hooksSym:bae,nestedKeyStrSym:wae,mixinMergeStrategySym:Sae,msgPrefixSym:xae}=ZD,{epochTime:eL,nullTime:Eae}=JD,{pid:kae}=process,Rae=Woe.hostname(),Tae=KD.err,Oae={level:"info",levelComparison:tae.ASC,levels:QD,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid:kae,hostname:Rae},serializers:Object.assign(Object.create(null),{err:Tae}),formatters:Object.assign(Object.create(null),{bindings(e){return e},level(e,t){return{level:t}}}),hooks:{logMethod:void 0},timestamp:eL,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100},Aae=rae(Oae),Cae=Object.assign(Object.create(null),KD);function KE(...e){let t={},{opts:r,stream:i}=Aae(t,Goe(),...e);r.level&&typeof r.level=="string"&&QD[r.level.toLowerCase()]!==void 0&&(r.level=r.level.toLowerCase());let{redact:n,crlf:s,serializers:o,timestamp:a,messageKey:l,errorKey:c,nestedKey:u,base:f,name:h,level:p,customLevels:m,levelComparison:g,mixin:y,mixinMergeStrategy:_,useOnlyCustomLevels:S,formatters:b,hooks:v,depthLimit:O,edgeLimit:j,onChild:R,msgPrefix:I}=r,F=Joe({maximumDepth:O,maximumBreadth:j}),T=nae(b.level,b.bindings,b.log),$=GE.bind({[YE]:F}),z=n?Yoe(n,$):{},H=n?{stringify:z[aae]}:{stringify:$},X="}"+(s?`\r
`:`
`),ie=iae.bind(null,{[HD]:"",[VD]:o,[GD]:z,[WD]:GE,[YE]:F,[YD]:T}),J="";f!==null&&(h===void 0?J=ie(f):J=ie(Object.assign({},f,{name:h})));let Z=a instanceof Function?a:a?eL:Eae,he=Z().indexOf(":")+1;if(S&&!m)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(y&&typeof y!="function")throw Error(`Unknown mixin type "${typeof y}" - expected "function"`);if(I&&typeof I!="string")throw Error(`Unknown msgPrefix type "${typeof I}" - expected "string"`);Zoe(p,m,S);let K=XD(m,S);typeof i.emit=="function"&&i.emit("message",{code:"PINO_CONFIG",config:{levels:K,messageKey:l,errorKey:c}}),eae(g);let rt=Qoe(g);return Object.assign(t,{levels:K,[vae]:rt,[_ae]:S,[uae]:i,[lae]:Z,[cae]:he,[WD]:GE,[YE]:F,[GD]:z,[hae]:X,[dae]:H,[pae]:l,[mae]:c,[gae]:u,[wae]:u?`,${JSON.stringify(u)}:{`:"",[VD]:o,[yae]:y,[Sae]:_,[HD]:J,[YD]:T,[bae]:v,silent:sae,onChild:R,[xae]:I}),Object.setPrototypeOf(t,Koe()),Xoe(t),t[fae](p),t}an.exports=KE;an.exports.destination=(e=process.stdout.fd)=>typeof e=="object"?(e.dest=BD(e.dest||process.stdout.fd),UD(e)):UD({dest:BD(e),minLength:0});an.exports.transport=PE();an.exports.multistream=zD();an.exports.levels=XD();an.exports.stdSerializers=Cae;an.exports.stdTimeFunctions=Object.assign({},JD);an.exports.symbols=ZD;an.exports.version=oae;an.exports.default=KE;an.exports.pino=KE});var Fd=w((qze,oL)=>{"use strict";var Pae=H$(),mv=tL(),{serializersSym:rL}=mv.symbols,{FST_ERR_LOG_INVALID_DESTINATION:Iae,FST_ERR_LOG_INVALID_LOGGER:Nae}=Ir();function iL(e){if(e.stream&&e.file)throw new Iae;e.file&&(e.stream=mv.destination(e.file),delete e.file);let t=e.logger,r=e.genReqId,i=null;return t?(e.logger=void 0,e.genReqId=void 0,t[rL]&&(e.serializers=Object.assign({},e.serializers,t[rL])),i=t.child({},e),e.logger=t,e.genReqId=r):i=mv(e,e.stream),i}var JE={req:function(t){return{method:t.method,url:t.url,version:t.headers&&t.headers["accept-version"],hostname:t.hostname,remoteAddress:t.ip,remotePort:t.socket?t.socket.remotePort:void 0}},err:mv.stdSerializers.err,res:function(t){return{statusCode:t.statusCode}}};function $ae(){let e=process.hrtime();return e[0]*1e3+e[1]/1e6}function Fae(e){if(!e.logger){let i=Pae;return i.child=()=>i,{logger:i,hasLogger:!1}}if(nL(e.logger))return{logger:iL({logger:e.logger,serializers:Object.assign({},JE,e.logger.serializers)}),hasLogger:!0};let t={};return Object.prototype.toString.call(e.logger)==="[object Object]"&&Reflect.ownKeys(e.logger).forEach(i=>{Object.defineProperty(t,i,{value:e.logger[i],writable:!0,enumerable:!0,configurable:!0})}),t.level=t.level||"info",t.serializers=Object.assign({},JE,t.serializers),e.logger=t,{logger:iL(e.logger),hasLogger:!0}}function nL(e,t){let r=["info","error","debug","fatal","warn","trace","child"],i=e?r.filter(n=>!e[n]||typeof e[n]!="function"):r;if(i.length){if(i.length===r.length&&!t)return!1;throw Nae(i.join(","))}else return!0}function Dae(e,t,r,i,n){let s={[e.requestIdLogLabel]:i},o=e.childLoggerFactory.call(e.server,t,s,n||{},r);return e.childLoggerFactory!==sL&&nL(o,!0),o}function sL(e,t,r){return e.child(t,r)}oL.exports={createLogger:Fae,createChildLogger:Dae,defaultChildLoggerFactory:sL,serializers:JE,now:$ae}});var gv=w((Mze,aL)=>{"use strict";aL.exports=Lae;function qu(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function Lae(e){if(e=e||{},e.circles)return jae(e);let t=new Map;if(t.set(Date,o=>new Date(o)),t.set(Map,(o,a)=>new Map(i(Array.from(o),a))),t.set(Set,(o,a)=>new Set(i(Array.from(o),a))),e.constructorHandlers)for(let o of e.constructorHandlers)t.set(o[0],o[1]);let r=null;return e.proto?s:n;function i(o,a){let l=Object.keys(o),c=new Array(l.length);for(let u=0;u<l.length;u++){let f=l[u],h=o[f];typeof h!="object"||h===null?c[f]=h:h.constructor!==Object&&(r=t.get(h.constructor))?c[f]=r(h,a):ArrayBuffer.isView(h)?c[f]=qu(h):c[f]=a(h)}return c}function n(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return i(o,n);if(o.constructor!==Object&&(r=t.get(o.constructor)))return r(o,n);let a={};for(let l in o){if(Object.hasOwnProperty.call(o,l)===!1)continue;let c=o[l];typeof c!="object"||c===null?a[l]=c:c.constructor!==Object&&(r=t.get(c.constructor))?a[l]=r(c,n):ArrayBuffer.isView(c)?a[l]=qu(c):a[l]=n(c)}return a}function s(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return i(o,s);if(o.constructor!==Object&&(r=t.get(o.constructor)))return r(o,s);let a={};for(let l in o){let c=o[l];typeof c!="object"||c===null?a[l]=c:c.constructor!==Object&&(r=t.get(c.constructor))?a[l]=r(c,s):ArrayBuffer.isView(c)?a[l]=qu(c):a[l]=s(c)}return a}}function jae(e){let t=[],r=[],i=new Map;if(i.set(Date,l=>new Date(l)),i.set(Map,(l,c)=>new Map(s(Array.from(l),c))),i.set(Set,(l,c)=>new Set(s(Array.from(l),c))),e.constructorHandlers)for(let l of e.constructorHandlers)i.set(l[0],l[1]);let n=null;return e.proto?a:o;function s(l,c){let u=Object.keys(l),f=new Array(u.length);for(let h=0;h<u.length;h++){let p=u[h],m=l[p];if(typeof m!="object"||m===null)f[p]=m;else if(m.constructor!==Object&&(n=i.get(m.constructor)))f[p]=n(m,c);else if(ArrayBuffer.isView(m))f[p]=qu(m);else{let g=t.indexOf(m);g!==-1?f[p]=r[g]:f[p]=c(m)}}return f}function o(l){if(typeof l!="object"||l===null)return l;if(Array.isArray(l))return s(l,o);if(l.constructor!==Object&&(n=i.get(l.constructor)))return n(l,o);let c={};t.push(l),r.push(c);for(let u in l){if(Object.hasOwnProperty.call(l,u)===!1)continue;let f=l[u];if(typeof f!="object"||f===null)c[u]=f;else if(f.constructor!==Object&&(n=i.get(f.constructor)))c[u]=n(f,o);else if(ArrayBuffer.isView(f))c[u]=qu(f);else{let h=t.indexOf(f);h!==-1?c[u]=r[h]:c[u]=o(f)}}return t.pop(),r.pop(),c}function a(l){if(typeof l!="object"||l===null)return l;if(Array.isArray(l))return s(l,a);if(l.constructor!==Object&&(n=i.get(l.constructor)))return n(l,a);let c={};t.push(l),r.push(c);for(let u in l){let f=l[u];if(typeof f!="object"||f===null)c[u]=f;else if(f.constructor!==Object&&(n=i.get(f.constructor)))c[u]=n(f,a);else if(ArrayBuffer.isView(f))c[u]=qu(f);else{let h=t.indexOf(f);h!==-1?c[u]=r[h]:c[u]=a(f)}}return t.pop(),r.pop(),c}}});var Dd=w((zze,fL)=>{"use strict";var qae=gv()({circles:!1,proto:!0}),{kSchemaVisited:lL,kSchemaResponse:Mae}=tr(),XE=Symbol.for("fluent-schema-object"),{FST_ERR_SCH_MISSING_ID:zae,FST_ERR_SCH_ALREADY_PRESENT:Uae,FST_ERR_SCH_DUPLICATE:Bae,FST_ERR_SCH_CONTENT_MISSING_SCHEMA:Hae}=Ir(),uL=["params","body","querystring","query","headers"];function yv(e){this.store=e||{}}yv.prototype.add=function(e){let t=qae(e.isFluentSchema||e.isFluentJSONSchema||e[XE]?e.valueOf():e),r=t.$id;if(!r)throw new zae;if(this.store[r])throw new Uae(r);this.store[r]=t};yv.prototype.getSchemas=function(){return Object.assign({},this.store)};yv.prototype.getSchema=function(e){return this.store[e]};function cL(e){return typeof e=="object"&&Object.getPrototypeOf(e)!==Object.prototype}function Vae(e,t){if(e[lL])return e;if(e.query){if(e.querystring)throw new Bae("querystring");e.querystring=e.query}Wae(e);for(let r of uL){let i=e[r];i&&!cL(i)&&(e[r]=ZE(i,t.jsonShorthand))}if(e.response){let r=Object.keys(e.response);for(let i of r){if(cL(e.response[i]))continue;let n=e.response[i].content,s=!1;if(n){let o=Object.keys(n);for(let a=0;a<o.length;a++){let l=o[a];if(!n[l].schema){if(o.length===1)break;throw new Hae(l)}e.response[i].content[l].schema=ZE(n[l].schema,t.jsonShorthand),a===o.length-1&&(s=!0)}}s||(e.response[i]=ZE(e.response[i],t.jsonShorthand))}}return e[lL]=!0,e}function Wae(e){for(let t of uL)e[t]&&(e[t].isFluentSchema||e[t][XE])&&(e[t]=e[t].valueOf());if(e.response){let t=Object.keys(e.response);for(let r of t)(e.response[r].isFluentSchema||e.response[r][XE])&&(e.response[r]=e.response[r].valueOf())}}function ZE(e,t){return!t||e.$ref||e.oneOf||e.allOf||e.anyOf||e.$merge||e.$patch?e:!e.type&&!e.properties?{type:"object",properties:e}:e}function Gae(e,t,r){let i=e[Mae];if(!i)return!1;if(i[t]){if(i[t].constructor===Object&&r){let s=r.split(";",1)[0];return i[t][s]?i[t][s]:!1}return i[t]}let n=(t+"")[0]+"xx";if(i[n]){if(i[n].constructor===Object&&r){let s=r.split(";",1)[0];return i[n][s]?i[n][s]:!1}return i[n]}if(i.default){if(i.default.constructor===Object&&r){let s=r.split(";",1)[0];return i.default[s]?i.default[s]:!1}return i.default}return!1}fL.exports={buildSchemas(e){return new yv(e)},getSchemaSerializer:Gae,normalizeSchema:Vae}});var vv=w((Uze,dL)=>{"use strict";var Yae=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;dL.exports=class hL{constructor(t){switch(t&&t.rounding){case"floor":this.parseInteger=Math.floor;break;case"ceil":this.parseInteger=Math.ceil;break;case"round":this.parseInteger=Math.round;break;case"trunc":default:this.parseInteger=Math.trunc;break}this._options=t}asInteger(t){if(Number.isInteger(t))return""+t;if(typeof t=="bigint")return t.toString();let r=this.parseInteger(t);if(r===1/0||r===-1/0||r!==r)throw new Error(`The value "${t}" cannot be converted to an integer.`);return""+r}asNumber(t){let r=Number(t);if(r!==r)throw new Error(`The value "${t}" cannot be converted to a number.`);return r===1/0||r===-1/0?"null":""+r}asBoolean(t){return t&&"true"||"false"}asDateTime(t){if(t===null)return'""';if(t instanceof Date)return'"'+t.toISOString()+'"';if(typeof t=="string")return'"'+t+'"';throw new Error(`The value "${t}" cannot be converted to a date-time.`)}asDate(t){if(t===null)return'""';if(t instanceof Date)return'"'+new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(0,10)+'"';if(typeof t=="string")return'"'+t+'"';throw new Error(`The value "${t}" cannot be converted to a date.`)}asTime(t){if(t===null)return'""';if(t instanceof Date)return'"'+new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(11,19)+'"';if(typeof t=="string")return'"'+t+'"';throw new Error(`The value "${t}" cannot be converted to a time.`)}asString(t){let r=t.length;if(r<42){let n="",s=-1,o=255;for(var i=0;i<r;i++)if(o=t.charCodeAt(i),o===34||o===92)s===-1&&(s=0),n+=t.slice(s,i)+"\\",s=i;else if(o<32||o>=55296&&o<=57343)return JSON.stringify(t);return s===-1&&'"'+t+'"'||'"'+n+t.slice(s)+'"'}else return r<5e3&&Yae.test(t)===!1?'"'+t+'"':JSON.stringify(t)}asUnsafeString(t){return'"'+t+'"'}getState(){return this._options}static restoreFromState(t){return new hL(t)}}});var mL=w((Bze,pL)=>{"use strict";var Kae=vv(),Jae={mode:"standalone"},Zae=Kae.restoreFromState(Jae),Xae=null;pL.exports=function(t,r){let i="{",n="}",s="[",o="]",a=",",l=":",c='"',u=i+n,f=s+o,h=c+c,p="null";function m(y){let _=y&&typeof y.toJSON=="function"?y.toJSON():y;if(_===null)return u;let S,b=i,v=!1;return S=_.statusCode,S!==void 0&&(!v&&(v=!0)||(b+=a),b+='"statusCode":',b+=r.asNumber(S)),S=_.code,S!==void 0&&(!v&&(v=!0)||(b+=a),b+='"code":',typeof S!="string"?S===null?b+=h:S instanceof Date?b+=c+S.toISOString()+c:S instanceof RegExp?b+=r.asString(S.source):b+=r.asString(S.toString()):b+=r.asString(S)),S=_.error,S!==void 0&&(!v&&(v=!0)||(b+=a),b+='"error":',typeof S!="string"?S===null?b+=h:S instanceof Date?b+=c+S.toISOString()+c:S instanceof RegExp?b+=r.asString(S.source):b+=r.asString(S.toString()):b+=r.asString(S)),S=_.message,S!==void 0&&(!v&&(v=!0)||(b+=a),b+='"message":',typeof S!="string"?S===null?b+=h:S instanceof Date?b+=c+S.toISOString()+c:S instanceof RegExp?b+=r.asString(S.source):b+=r.asString(S.toString()):b+=r.asString(S)),b+n}return m}(Xae,Zae)});var Ld=w((Hze,_L)=>{"use strict";var gL=require("http").STATUS_CODES,Qae=J1(),{kReplyHeaders:Yl,kReplyNextErrorHandler:_v,kReplyIsRunningOnErrorHook:ele,kReplyHasStatusCode:tle,kRouteContext:vL,kDisableRequestLogging:bv}=tr(),{FST_ERR_REP_INVALID_PAYLOAD_TYPE:rle,FST_ERR_FAILED_ERROR_SERIALIZATION:ile}=Ir(),{getSchemaSerializer:nle}=Dd(),QE=mL(),sle={func:ale,toJSON(){return this.func.name.toString()+"()"}};function ole(e,t,r){e[ele]=!1;let i=e[vL];if(e[_v]===!1){yL(t,e,function(o,a){try{o.raw.writeHead(o.raw.statusCode,o[Yl])}catch(l){o.log[bv]||o.log.warn({req:o.request,res:o,err:l},l&&l.message),o.raw.writeHead(o.raw.statusCode)}o.raw.end(a)});return}let n=e[_v]||i.errorHandler;e[_v]=Object.getPrototypeOf(n),delete e[Yl]["content-type"],delete e[Yl]["content-length"];let s=n.func;if(!s){e[_v]=!1,yL(t,e,r);return}try{let o=s(t,e.request,e);o!==void 0&&(o!==null&&typeof o.then=="function"?Qae(o,e):e.send(o))}catch(o){e.send(o)}}function ale(e,t,r){if(cle(e,r),!r[tle]||r.statusCode===200){let i=e.statusCode||e.status;r.code(i>=400?i:500)}r.statusCode<500?r.log[bv]||r.log.info({res:r,err:e},e&&e.message):r.log[bv]||r.log.error({req:t,res:r,err:e},e&&e.message),r.send(e)}function yL(e,t,r){let i=t.raw,n=t.statusCode;t[Yl]["content-type"]=t[Yl]["content-type"]??"application/json; charset=utf-8";let s;try{let o=nle(t[vL],n,t[Yl]["content-type"]);s=o===!1?QE({error:gL[n+""],code:e.code,message:e.message,statusCode:n}):o(Object.create(e,{error:{value:gL[n+""]},message:{value:e.message},statusCode:{value:n}}))}catch(o){t.log[bv]||t.log.error({err:o,statusCode:i.statusCode},"The serializer for the given status code failed"),t.code(500),s=QE(new ile(o.message,e.message))}typeof s!="string"&&!Buffer.isBuffer(s)&&(s=QE(new rle(typeof s))),t[Yl]["content-length"]=""+Buffer.byteLength(s),r(t,s)}function lle(e=sle,t){if(!t)return e;let r=Object.create(e);return r.func=t,r}function cle(e,t){let r=t.raw,i=r.statusCode;i=i>=400?i:500,e!=null&&(e.headers!==void 0&&t.headers(e.headers),e.status>=400?i=e.status:e.statusCode>=400&&(i=e.statusCode)),r.statusCode=i}_L.exports={buildErrorHandler:lle,handleError:ole}});var Rv=w((Vze,kv)=>{"use strict";var ik=require("stream").finished,ule=require("stream").Readable,{kFourOhFourContext:bL,kPublicRouteContext:wL,kReplyErrorHandlerCalled:AL,kReplyHijacked:jd,kReplyStartTime:qd,kReplyEndTime:sk,kReplySerializer:bo,kReplySerializerDefault:Sv,kReplyIsError:xv,kReplyHeaders:Xe,kReplyTrailers:rr,kReplyHasStatusCode:ok,kReplyIsRunningOnErrorHook:ak,kReplyNextErrorHandler:fle,kDisableRequestLogging:CL,kSchemaResponse:Ev,kReplyCacheSerializeFns:ka,kSchemaController:ek,kOptions:hle,kRouteContext:Oe}=tr(),{onSendHookRunner:PL,onResponseHookRunner:dle,preHandlerHookRunner:ple,preSerializationHookRunner:mle}=ba(),SL=eE()[Symbol.for("internals")],gle=Fd(),nk=gle.now,{handleError:xL}=Ld(),{getSchemaSerializer:yle}=Dd(),tk={JSON:"application/json; charset=utf-8",PLAIN:"text/plain; charset=utf-8",OCTET:"application/octet-stream"},{FST_ERR_REP_INVALID_PAYLOAD_TYPE:vle,FST_ERR_REP_RESPONSE_BODY_CONSUMED:_le,FST_ERR_REP_ALREADY_SENT:IL,FST_ERR_REP_SENT_VALUE:ble,FST_ERR_SEND_INSIDE_ONERR:wle,FST_ERR_BAD_STATUS_CODE:Sle,FST_ERR_BAD_TRAILER_NAME:xle,FST_ERR_BAD_TRAILER_VALUE:Ele,FST_ERR_MISSING_SERIALIZATION_FN:kle,FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN:Rle}=Ir(),{FSTDEP010:Tle,FSTDEP013:Ole,FSTDEP019:Ale,FSTDEP020:Cle,FSTDEP021:Ple}=vo(),NL=Object.prototype.toString;function Ye(e,t,r){this.raw=e,this[bo]=null,this[AL]=!1,this[xv]=!1,this[ak]=!1,this.request=t,this[Xe]={},this[rr]=null,this[ok]=!1,this[qd]=void 0,this.log=r}Ye.props=[];Object.defineProperties(Ye.prototype,{[Oe]:{get(){return this.request[Oe]}},context:{get(){return Ale(),this.request[Oe]}},elapsedTime:{get(){return this[qd]===void 0?0:(this[sk]||nk())-this[qd]}},server:{get(){return this.request[Oe].server}},sent:{enumerable:!0,get(){return(this[jd]||this.raw.writableEnded)===!0},set(e){if(Tle(),e!==!0)throw new ble;if(this.sent&&this[jd])throw new IL(this.request.url,this.request.method);this[jd]=!0}},statusCode:{get(){return this.raw.statusCode},set(e){this.code(e)}},[wL]:{get(){return this.request[wL]}}});Ye.prototype.hijack=function(){return this[jd]=!0,this};Ye.prototype.send=function(e){if(this[ak]===!0)throw new wle;if(this.sent)return this.log.warn({err:new IL(this.request.url,this.request.method)}),this;if(e instanceof Error||this[xv]===!0)return this[xv]=!1,Md(this,e,Kl),this;if(e===void 0)return Kl(this,e),this;let t=this.getHeader("content-type"),r=t!==void 0;if(e!==null){if(typeof e.pipe=="function"||typeof e.getReader=="function"||NL.call(e)==="[object Response]")return Kl(this,e),this;if(e?.buffer instanceof ArrayBuffer){r===!1&&(this[Xe]["content-type"]=tk.OCTET);let i=Buffer.isBuffer(e)?e:Buffer.from(e.buffer,e.byteOffset,e.byteLength);return Kl(this,i),this}if(r===!1&&typeof e=="string")return this[Xe]["content-type"]=tk.PLAIN,Kl(this,e),this}if(this[bo]!==null){if(typeof e!="string")return EL(this,e),this;e=this[bo](e)}else if(r===!1||t.indexOf("json")>-1){if(r===!1)this[Xe]["content-type"]=tk.JSON;else if(t.indexOf("charset")===-1){let i=t.trim();i.endsWith(";")?this[Xe]["content-type"]=`${i} charset=utf-8`:this[Xe]["content-type"]=`${i}; charset=utf-8`}if(typeof e!="string")return EL(this,e),this}return Kl(this,e),this};Ye.prototype.getHeader=function(e){e=e.toLowerCase();let t=this.raw,r=this[Xe][e];return r===void 0&&t.hasHeader(e)&&(r=t.getHeader(e)),r};Ye.prototype.getHeaders=function(){return{...this.raw.getHeaders(),...this[Xe]}};Ye.prototype.hasHeader=function(e){return e=e.toLowerCase(),this[Xe][e]!==void 0||this.raw.hasHeader(e)};Ye.prototype.removeHeader=function(e){return delete this[Xe][e.toLowerCase()],this};Ye.prototype.header=function(e,t=""){return e=e.toLowerCase(),this[Xe][e]&&e==="set-cookie"?(typeof this[Xe][e]=="string"&&(this[Xe][e]=[this[Xe][e]]),Array.isArray(t)?Array.prototype.push.apply(this[Xe][e],t):this[Xe][e].push(t)):this[Xe][e]=t,this};Ye.prototype.headers=function(e){let t=Object.keys(e);for(var r=0;r!==t.length;++r){let i=t[r];this.header(i,e[i])}return this};var Ile=new Set(["transfer-encoding","content-length","host","cache-control","max-forwards","te","authorization","set-cookie","content-encoding","content-type","content-range","trailer"]);Ye.prototype.trailer=function(e,t){if(e=e.toLowerCase(),Ile.has(e))throw new xle(e);if(typeof t!="function")throw new Ele(e,typeof t);return this[rr]===null&&(this[rr]={}),this[rr][e]=t,this};Ye.prototype.hasTrailer=function(e){return this[rr]?.[e.toLowerCase()]!==void 0};Ye.prototype.removeTrailer=function(e){return this[rr]===null?this:(this[rr][e.toLowerCase()]=void 0,this)};Ye.prototype.code=function(e){let t=Number(e);if(isNaN(t)||t<100||t>599)throw new Sle(e||String(e));return this.raw.statusCode=t,this[ok]=!0,this};Ye.prototype.status=Ye.prototype.code;Ye.prototype.getSerializationFunction=function(e,t){let r;return typeof e=="string"||typeof e=="number"?typeof t=="string"?r=this[Oe][Ev]?.[e]?.[t]:r=this[Oe][Ev]?.[e]:typeof e=="object"&&(r=this[Oe][ka]?.get(e)),r};Ye.prototype.compileSerializationSchema=function(e,t=null,r=null){let{request:i}=this,{method:n,url:s}=i;if(this[Oe][ka]?.has(e))return this[Oe][ka].get(e);let a=(this[Oe].serializerCompiler||this.server[ek].serializerCompiler||this.server[ek].setupSerializer(this.server[hle])||this.server[ek].serializerCompiler)({schema:e,method:n,url:s,httpStatus:t,contentType:r});return this[Oe][ka]==null&&(this[Oe][ka]=new WeakMap),this[Oe][ka].set(e,a),a};Ye.prototype.serializeInput=function(e,t,r,i){let n=r,s;if(r=typeof t=="string"||typeof t=="number"?t:r,i=r&&n!==r?n:i,r!=null){if(i!=null?s=this[Oe][Ev]?.[r]?.[i]:s=this[Oe][Ev]?.[r],s==null)throw i?new Rle(r,i):new kle(r)}else this[Oe][ka]?.has(t)?s=this[Oe][ka].get(t):s=this.compileSerializationSchema(t,r,i);return s(e)};Ye.prototype.serialize=function(e){return this[bo]!==null?this[bo](e):this[Oe]&&this[Oe][Sv]?this[Oe][Sv](e,this.raw.statusCode):DL(this[Oe],e,this.raw.statusCode)};Ye.prototype.serializer=function(e){return this[bo]=e,this};Ye.prototype.type=function(e){return this[Xe]["content-type"]=e,this};Ye.prototype.redirect=function(e,t){if(typeof e=="number"){Ple();let r=t;t=e,e=r}return t||(t=this[ok]?this.raw.statusCode:302),this.header("location",e).code(t).send()};Ye.prototype.callNotFound=function(){return jle(this),this};Ye.prototype.getResponseTime=function(){return Cle(),this.elapsedTime};Ye.prototype.then=function(e,t){if(this.sent){e();return}ik(this.raw,r=>{r&&r.code!=="ERR_STREAM_PREMATURE_CLOSE"?t?t(r):this.log&&this.log.warn("unhandled rejection on reply.then"):e()})};function EL(e,t){e[Oe].preSerialization!==null?mle(e[Oe].preSerialization,e.request,e,t,kL):kL(null,e.request,e,t)}function kL(e,t,r,i){if(e!=null){Md(r,e);return}try{r[bo]!==null?i=r[bo](i):r[Oe]&&r[Oe][Sv]?i=r[Oe][Sv](i,r.raw.statusCode):i=DL(r[Oe],i,r.raw.statusCode,r[Xe]["content-type"])}catch(n){Nle(n,r),Md(r,n);return}Kl(r,i)}function Nle(e,t){e.serialization=t[Oe].config}function Kl(e,t){e[Oe].onSend!==null?PL(e[Oe].onSend,e.request,e,t,$le):$L(e,t)}function $le(e,t,r,i){e!=null?Md(r,e):$L(r,i)}function rk(e,t){let r=e.raw;try{r.writeHead(t,e[Xe])}catch(i){throw i.code==="ERR_HTTP_HEADERS_SENT"&&e.log.warn(`Reply was already sent, did you forget to "return reply" in the "${e.request.raw.url}" (${e.request.raw.method}) route?`),i}}function $L(e,t){let r=e.raw,i=e.request;if(e[rr]!==null){let o=Object.keys(e[rr]),a="";for(let l of o)typeof e[rr][l]=="function"&&(a+=" ",a+=l);e.header("Transfer-Encoding","chunked"),e.header("Trailer",a.trim())}let n=NL.call(t)==="[object Response]";n&&typeof t.status=="number"&&e.code(t.status);let s=r.statusCode;if(t==null){s>=200&&s!==204&&s!==304&&i.method!=="HEAD"&&e[rr]===null&&(e[Xe]["content-length"]="0"),rk(e,s),wv(t,r,e);return}if(s>=100&&s<200||s===204){e.removeHeader("content-type"),e.removeHeader("content-length"),rk(e,s),wv(void 0,r,e),typeof t.resume=="function"&&(t.on("error",LL),t.resume());return}if(typeof t.pipe=="function"){FL(t,r,e);return}if(typeof t.getReader=="function"){TL(t,r,e);return}if(n){if(typeof t.headers=="object"&&typeof t.headers.forEach=="function")for(let[o,a]of t.headers)e.header(o,a);if(t.body!=null){if(t.bodyUsed)throw new _le;TL(t.body,r,e)}return}if(typeof t!="string"&&!Buffer.isBuffer(t))throw new vle(typeof t);if(e[rr]===null){let o=e[Xe]["content-length"];(!o||i.raw.method!=="HEAD"&&Number(o)!==Buffer.byteLength(t))&&(e[Xe]["content-length"]=""+Buffer.byteLength(t))}rk(e,s),r.write(t),wv(t,r,e)}function RL(e,t,r){t.code==="ERR_STREAM_PREMATURE_CLOSE"?e[CL]||e.info({res:r},"stream closed prematurely"):e.warn({err:t},"response terminated with an error with headers already sent")}function TL(e,t,r){let i=ule.fromWeb(e);FL(i,t,r)}function FL(e,t,r){let i=!0,n=!1;if(Fle(e,t,r),ik(e,{readable:!0,writable:!1},function(s){i=!1,s!=null&&(t.headersSent||r.request.raw.aborted===!0?(n||(n=!0,RL(r.log,s,t)),t.destroy()):Md(r,s))}),ik(t,function(s){i&&(s!=null&&t.headersSent&&!n&&(n=!0,RL(r.log,s,t)),typeof e.destroy=="function"?e.destroy():typeof e.close=="function"?e.close(LL):typeof e.abort=="function"?e.abort():r.log.warn("stream payload does not end properly"))}),t.headersSent)r.log.warn("response will send, but you shouldn't use res.writeHead in stream mode");else for(let s in r[Xe])t.setHeader(s,r[Xe][s]);e.pipe(t)}function wv(e,t,r){if(r[rr]===null){t.end(null,null,null);return}let i=Object.keys(r[rr]),n={},s=0,o=!0;function a(){s===0&&(t.addTrailers(n),t.end(null,null,null))}for(let l of i){let c=function(f,h){s++,f?r.log.debug(f):n[l]=h,process.nextTick(a)};if(typeof r[rr][l]!="function")continue;o=!1,s--;let u=r[rr][l](r,e,c);typeof u=="object"&&typeof u.then=="function"?u.then(f=>c(null,f),c):u!=null&&(Ole(),c(null,u))}o&&t.end(null,null,null)}function Fle(e,t,r){r[rr]!==null&&e.on("end",()=>wv(null,t,r))}function Md(e,t,r){e[Oe].onError!==null&&!e[fle]?(e[ak]=!0,PL(e[Oe].onError,e.request,e,t,()=>xL(e,t,r))):xL(e,t,r)}function Dle(e){e[qd]=nk();let t=r=>{e[sk]=nk(),e.raw.removeListener("finish",t),e.raw.removeListener("error",t);let i=e[Oe];i&&i.onResponse!==null?dle(i.onResponse,e.request,e,OL):OL(r,e.request,e)};e.raw.on("finish",t),e.raw.on("error",t)}function OL(e,t,r){if(r.log[CL])return;let i=r.elapsedTime;if(e!=null){r.log.error({res:r,err:e,responseTime:i},"request errored");return}r.log.info({res:r,responseTime:i},"request completed")}function Lle(e){let t=e.props.slice();function r(i,n,s){this.raw=i,this[xv]=!1,this[AL]=!1,this[jd]=!1,this[bo]=null,this.request=n,this[Xe]={},this[rr]=null,this[qd]=void 0,this[sk]=void 0,this.log=s;for(var o,a=0;a<t.length;a++)o=t[a],this[o.key]=o.value}return Object.setPrototypeOf(r.prototype,e.prototype),Object.setPrototypeOf(r,e),r.parent=e,r.props=t,r}function jle(e){if(e[Oe][bL]===null){e.log.warn("Trying to send a NotFound error inside a 404 handler. Sending basic 404 response."),e.code(404).send("404 Not Found");return}e.request[Oe]=e[Oe][bL],e[Oe].preHandler!==null?ple(e[Oe].preHandler,e.request,e,SL.preHandlerCallback):SL.preHandlerCallback(null,e.request,e)}function DL(e,t,r,i){let n=yle(e,r,i);return n?n(t):JSON.stringify(t)}function LL(){}kv.exports=Ye;kv.exports.buildReply=Lle;kv.exports.setupResponseListeners=Dle});var qL=w((Wze,jL)=>{"use strict";jL.exports=qle;function qle(e){if(!e)throw new TypeError("argument req is required");var t=zle(e.headers["x-forwarded-for"]||""),r=Mle(e),i=[r].concat(t);return i}function Mle(e){return e.socket?e.socket.remoteAddress:e.connection.remoteAddress}function zle(e){for(var t=e.length,r=[],i=e.length,n=e.length-1;n>=0;n--)switch(e.charCodeAt(n)){case 32:i===t&&(i=t=n);break;case 44:i!==t&&r.push(e.substring(i,t)),i=t=n;break;default:i=n;break}return i!==t&&r.push(e.substring(i,t)),r}});var zL=w((ML,zd)=>{(function(){var e,t,r,i,n,s,o,a,l;t={},a=this,typeof zd<"u"&&zd!==null&&zd.exports?zd.exports=t:a.ipaddr=t,o=function(c,u,f,h){var p,m;if(c.length!==u.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");for(p=0;h>0;){if(m=f-h,m<0&&(m=0),c[p]>>m!==u[p]>>m)return!1;h-=f,p+=1}return!0},t.subnetMatch=function(c,u,f){var h,p,m,g,y;f==null&&(f="unicast");for(m in u)for(g=u[m],g[0]&&!(g[0]instanceof Array)&&(g=[g]),h=0,p=g.length;h<p;h++)if(y=g[h],c.kind()===y[0].kind()&&c.match.apply(c,y))return m;return f},t.IPv4=function(){function c(u){var f,h,p;if(u.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");for(f=0,h=u.length;f<h;f++)if(p=u[f],!(0<=p&&p<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=u}return c.prototype.kind=function(){return"ipv4"},c.prototype.toString=function(){return this.octets.join(".")},c.prototype.toNormalizedString=function(){return this.toString()},c.prototype.toByteArray=function(){return this.octets.slice(0)},c.prototype.match=function(u,f){var h;if(f===void 0&&(h=u,u=h[0],f=h[1]),u.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return o(this.octets,u.octets,8,f)},c.prototype.SpecialRanges={unspecified:[[new c([0,0,0,0]),8]],broadcast:[[new c([255,255,255,255]),32]],multicast:[[new c([224,0,0,0]),4]],linkLocal:[[new c([169,254,0,0]),16]],loopback:[[new c([127,0,0,0]),8]],carrierGradeNat:[[new c([100,64,0,0]),10]],private:[[new c([10,0,0,0]),8],[new c([172,16,0,0]),12],[new c([192,168,0,0]),16]],reserved:[[new c([192,0,0,0]),24],[new c([192,0,2,0]),24],[new c([192,88,99,0]),24],[new c([198,51,100,0]),24],[new c([203,0,113,0]),24],[new c([240,0,0,0]),4]]},c.prototype.range=function(){return t.subnetMatch(this,this.SpecialRanges)},c.prototype.toIPv4MappedAddress=function(){return t.IPv6.parse("::ffff:"+this.toString())},c.prototype.prefixLengthFromSubnetMask=function(){var u,f,h,p,m,g,y;for(y={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},u=0,m=!1,f=h=3;h>=0;f=h+=-1)if(p=this.octets[f],p in y){if(g=y[p],m&&g!==0)return null;g!==8&&(m=!0),u+=g}else return null;return 32-u},c}(),r="(0?\\d+|0x[a-f0-9]+)",i={fourOctet:new RegExp("^"+r+"\\."+r+"\\."+r+"\\."+r+"$","i"),longValue:new RegExp("^"+r+"$","i")},t.IPv4.parser=function(c){var u,f,h,p,m;if(f=function(g){return g[0]==="0"&&g[1]!=="x"?parseInt(g,8):parseInt(g)},u=c.match(i.fourOctet))return function(){var g,y,_,S;for(_=u.slice(1,6),S=[],g=0,y=_.length;g<y;g++)h=_[g],S.push(f(h));return S}();if(u=c.match(i.longValue)){if(m=f(u[1]),m>4294967295||m<0)throw new Error("ipaddr: address outside defined range");return function(){var g,y;for(y=[],p=g=0;g<=24;p=g+=8)y.push(m>>p&255);return y}().reverse()}else return null},t.IPv6=function(){function c(u,f){var h,p,m,g,y,_;if(u.length===16)for(this.parts=[],h=p=0;p<=14;h=p+=2)this.parts.push(u[h]<<8|u[h+1]);else if(u.length===8)this.parts=u;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(_=this.parts,m=0,g=_.length;m<g;m++)if(y=_[m],!(0<=y&&y<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");f&&(this.zoneId=f)}return c.prototype.kind=function(){return"ipv6"},c.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},c.prototype.toRFC5952String=function(){var u,f,h,p,m;for(p=/((^|:)(0(:|$)){2,})/g,m=this.toNormalizedString(),u=0,f=-1;h=p.exec(m);)h[0].length>f&&(u=h.index,f=h[0].length);return f<0?m:m.substring(0,u)+"::"+m.substring(u+f)},c.prototype.toByteArray=function(){var u,f,h,p,m;for(u=[],m=this.parts,f=0,h=m.length;f<h;f++)p=m[f],u.push(p>>8),u.push(p&255);return u},c.prototype.toNormalizedString=function(){var u,f,h;return u=function(){var p,m,g,y;for(g=this.parts,y=[],p=0,m=g.length;p<m;p++)f=g[p],y.push(f.toString(16));return y}.call(this).join(":"),h="",this.zoneId&&(h="%"+this.zoneId),u+h},c.prototype.toFixedLengthString=function(){var u,f,h;return u=function(){var p,m,g,y;for(g=this.parts,y=[],p=0,m=g.length;p<m;p++)f=g[p],y.push(f.toString(16).padStart(4,"0"));return y}.call(this).join(":"),h="",this.zoneId&&(h="%"+this.zoneId),u+h},c.prototype.match=function(u,f){var h;if(f===void 0&&(h=u,u=h[0],f=h[1]),u.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return o(this.parts,u.parts,16,f)},c.prototype.SpecialRanges={unspecified:[new c([0,0,0,0,0,0,0,0]),128],linkLocal:[new c([65152,0,0,0,0,0,0,0]),10],multicast:[new c([65280,0,0,0,0,0,0,0]),8],loopback:[new c([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new c([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new c([0,0,0,0,0,65535,0,0]),96],rfc6145:[new c([0,0,0,0,65535,0,0,0]),96],rfc6052:[new c([100,65435,0,0,0,0,0,0]),96],"6to4":[new c([8194,0,0,0,0,0,0,0]),16],teredo:[new c([8193,0,0,0,0,0,0,0]),32],reserved:[[new c([8193,3512,0,0,0,0,0,0]),32]]},c.prototype.range=function(){return t.subnetMatch(this,this.SpecialRanges)},c.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},c.prototype.toIPv4Address=function(){var u,f,h;if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");return h=this.parts.slice(-2),u=h[0],f=h[1],new t.IPv4([u>>8,u&255,f>>8,f&255])},c.prototype.prefixLengthFromSubnetMask=function(){var u,f,h,p,m,g,y;for(y={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},u=0,m=!1,f=h=7;h>=0;f=h+=-1)if(p=this.parts[f],p in y){if(g=y[p],m&&g!==0)return null;g!==16&&(m=!0),u+=g}else return null;return 128-u},c}(),n="(?:[0-9a-f]+::?)+",l="%[0-9a-z]{1,}",s={zoneIndex:new RegExp(l,"i"),native:new RegExp("^(::)?("+n+")?([0-9a-f]+)?(::)?("+l+")?$","i"),transitional:new RegExp("^((?:"+n+")|(?:::)(?:"+n+")?)"+(r+"\\."+r+"\\."+r+"\\."+r)+("("+l+")?$"),"i")},e=function(c,u){var f,h,p,m,g,y;if(c.indexOf("::")!==c.lastIndexOf("::"))return null;for(y=(c.match(s.zoneIndex)||[])[0],y&&(y=y.substring(1),c=c.replace(/%.+$/,"")),f=0,h=-1;(h=c.indexOf(":",h+1))>=0;)f++;if(c.substr(0,2)==="::"&&f--,c.substr(-2,2)==="::"&&f--,f>u)return null;for(g=u-f,m=":";g--;)m+="0:";return c=c.replace("::",m),c[0]===":"&&(c=c.slice(1)),c[c.length-1]===":"&&(c=c.slice(0,-1)),u=function(){var _,S,b,v;for(b=c.split(":"),v=[],_=0,S=b.length;_<S;_++)p=b[_],v.push(parseInt(p,16));return v}(),{parts:u,zoneId:y}},t.IPv6.parser=function(c){var u,f,h,p,m,g,y;if(s.native.test(c))return e(c,8);if((p=c.match(s.transitional))&&(y=p[6]||"",u=e(p[1].slice(0,-1)+y,6),u.parts)){for(g=[parseInt(p[2]),parseInt(p[3]),parseInt(p[4]),parseInt(p[5])],f=0,h=g.length;f<h;f++)if(m=g[f],!(0<=m&&m<=255))return null;return u.parts.push(g[0]<<8|g[1]),u.parts.push(g[2]<<8|g[3]),{parts:u.parts,zoneId:u.zoneId}}return null},t.IPv4.isIPv4=t.IPv6.isIPv6=function(c){return this.parser(c)!==null},t.IPv4.isValid=function(c){var u;try{return new this(this.parser(c)),!0}catch(f){return u=f,!1}},t.IPv4.isValidFourPartDecimal=function(c){return!!(t.IPv4.isValid(c)&&c.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},t.IPv6.isValid=function(c){var u,f;if(typeof c=="string"&&c.indexOf(":")===-1)return!1;try{return u=this.parser(c),new this(u.parts,u.zoneId),!0}catch(h){return f=h,!1}},t.IPv4.parse=function(c){var u;if(u=this.parser(c),u===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(u)},t.IPv6.parse=function(c){var u;if(u=this.parser(c),u.parts===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(u.parts,u.zoneId)},t.IPv4.parseCIDR=function(c){var u,f,h;if((f=c.match(/^(.+)\/(\d+)$/))&&(u=parseInt(f[2]),u>=0&&u<=32))return h=[this.parse(f[1]),u],Object.defineProperty(h,"toString",{value:function(){return this.join("/")}}),h;throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},t.IPv4.subnetMaskFromPrefixLength=function(c){var u,f,h;if(c=parseInt(c),c<0||c>32)throw new Error("ipaddr: invalid IPv4 prefix length");for(h=[0,0,0,0],f=0,u=Math.floor(c/8);f<u;)h[f]=255,f++;return u<4&&(h[u]=Math.pow(2,c%8)-1<<8-c%8),new this(h)},t.IPv4.broadcastAddressFromCIDR=function(c){var u,f,h,p,m,g;try{for(u=this.parseCIDR(c),p=u[0].toByteArray(),g=this.subnetMaskFromPrefixLength(u[1]).toByteArray(),m=[],h=0;h<4;)m.push(parseInt(p[h],10)|parseInt(g[h],10)^255),h++;return new this(m)}catch(y){throw f=y,new Error("ipaddr: the address does not have IPv4 CIDR format")}},t.IPv4.networkAddressFromCIDR=function(c){var u,f,h,p,m,g;try{for(u=this.parseCIDR(c),p=u[0].toByteArray(),g=this.subnetMaskFromPrefixLength(u[1]).toByteArray(),m=[],h=0;h<4;)m.push(parseInt(p[h],10)&parseInt(g[h],10)),h++;return new this(m)}catch(y){throw f=y,new Error("ipaddr: the address does not have IPv4 CIDR format")}},t.IPv6.parseCIDR=function(c){var u,f,h;if((f=c.match(/^(.+)\/(\d+)$/))&&(u=parseInt(f[2]),u>=0&&u<=128))return h=[this.parse(f[1]),u],Object.defineProperty(h,"toString",{value:function(){return this.join("/")}}),h;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},t.isValid=function(c){return t.IPv6.isValid(c)||t.IPv4.isValid(c)},t.parse=function(c){if(t.IPv6.isValid(c))return t.IPv6.parse(c);if(t.IPv4.isValid(c))return t.IPv4.parse(c);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},t.parseCIDR=function(c){var u;try{return t.IPv6.parseCIDR(c)}catch(f){u=f;try{return t.IPv4.parseCIDR(c)}catch(h){throw u=h,new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},t.fromByteArray=function(c){var u;if(u=c.length,u===4)return new t.IPv4(c);if(u===16)return new t.IPv6(c);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},t.process=function(c){var u;return u=this.parse(c),u.kind()==="ipv6"&&u.isIPv4MappedAddress()?u.toIPv4Address():u}}).call(ML)});var WL=w((Gze,Av)=>{"use strict";Av.exports=Yle;Av.exports.all=HL;Av.exports.compile=VL;var Ule=qL(),BL=zL(),Ble=/^[0-9]+$/,Tv=BL.isValid,Ov=BL.parse,UL={linklocal:["169.254.0.0/16","fe80::/10"],loopback:["127.0.0.1/8","::1/128"],uniquelocal:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","fc00::/7"]};function HL(e,t){var r=Ule(e);if(!t)return r;typeof t!="function"&&(t=VL(t));for(var i=0;i<r.length-1;i++)t(r[i],i)||(r.length=i+1);return r}function VL(e){if(!e)throw new TypeError("argument is required");var t;if(typeof e=="string")t=[e];else if(Array.isArray(e))t=e.slice();else throw new TypeError("unsupported trust argument");for(var r=0;r<t.length;r++)e=t[r],Object.prototype.hasOwnProperty.call(UL,e)&&(e=UL[e],t.splice.apply(t,[r,1].concat(e)),r+=e.length-1);return Vle(Hle(t))}function Hle(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=Wle(e[r]);return t}function Vle(e){var t=e.length;return t===0?Kle:t===1?Zle(e[0]):Jle(e)}function Wle(e){var t=e.lastIndexOf("/"),r=t!==-1?e.substring(0,t):e;if(!Tv(r))throw new TypeError("invalid IP address: "+r);var i=Ov(r);t===-1&&i.kind()==="ipv6"&&i.isIPv4MappedAddress()&&(i=i.toIPv4Address());var n=i.kind()==="ipv6"?128:32,s=t!==-1?e.substring(t+1,e.length):null;if(s===null?s=n:Ble.test(s)?s=parseInt(s,10):i.kind()==="ipv4"&&Tv(s)?s=Gle(s):s=null,s<=0||s>n)throw new TypeError("invalid range on address: "+e);return[i,s]}function Gle(e){var t=Ov(e),r=t.kind();return r==="ipv4"?t.prefixLengthFromSubnetMask():null}function Yle(e,t){if(!e)throw new TypeError("req argument is required");if(!t)throw new TypeError("trust argument is required");var r=HL(e,t),i=r[r.length-1];return i}function Kle(){return!1}function Jle(e){return function(r){if(!Tv(r))return!1;for(var i=Ov(r),n,s=i.kind(),o=0;o<e.length;o++){var a=e[o],l=a[0],c=l.kind(),u=a[1],f=i;if(s!==c){if(c==="ipv4"&&!i.isIPv4MappedAddress())continue;n||(n=c==="ipv4"?i.toIPv4Address():i.toIPv4MappedAddress()),f=n}if(f.match(l,u))return!0}return!1}}function Zle(e){var t=e[0],r=t.kind(),i=r==="ipv4",n=e[1];return function(o){if(!Tv(o))return!1;var a=Ov(o),l=a.kind();if(l!==r){if(i&&!a.isIPv4MappedAddress())return!1;a=i?a.toIPv4Address():a.toIPv4MappedAddress()}return a.match(t,n)}}});var Ud=w((Yze,GL)=>{var Xle="2.0.0",Qle=Number.MAX_SAFE_INTEGER||9007199254740991,ece=16,tce=250,rce=["major","premajor","minor","preminor","patch","prepatch","prerelease"];GL.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:ece,MAX_SAFE_BUILD_LENGTH:tce,MAX_SAFE_INTEGER:Qle,RELEASE_TYPES:rce,SEMVER_SPEC_VERSION:Xle,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Bd=w((Kze,YL)=>{var ice=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};YL.exports=ice});var Mu=w((wo,KL)=>{var{MAX_SAFE_COMPONENT_LENGTH:lk,MAX_SAFE_BUILD_LENGTH:nce,MAX_LENGTH:sce}=Ud(),oce=Bd();wo=KL.exports={};var ace=wo.re=[],lce=wo.safeRe=[],se=wo.src=[],oe=wo.t={},cce=0,ck="[a-zA-Z0-9-]",uce=[["\\s",1],["\\d",sce],[ck,nce]],fce=e=>{for(let[t,r]of uce)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},xe=(e,t,r)=>{let i=fce(t),n=cce++;oce(e,n,t),oe[e]=n,se[n]=t,ace[n]=new RegExp(t,r?"g":void 0),lce[n]=new RegExp(i,r?"g":void 0)};xe("NUMERICIDENTIFIER","0|[1-9]\\d*");xe("NUMERICIDENTIFIERLOOSE","\\d+");xe("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${ck}*`);xe("MAINVERSION",`(${se[oe.NUMERICIDENTIFIER]})\\.(${se[oe.NUMERICIDENTIFIER]})\\.(${se[oe.NUMERICIDENTIFIER]})`);xe("MAINVERSIONLOOSE",`(${se[oe.NUMERICIDENTIFIERLOOSE]})\\.(${se[oe.NUMERICIDENTIFIERLOOSE]})\\.(${se[oe.NUMERICIDENTIFIERLOOSE]})`);xe("PRERELEASEIDENTIFIER",`(?:${se[oe.NUMERICIDENTIFIER]}|${se[oe.NONNUMERICIDENTIFIER]})`);xe("PRERELEASEIDENTIFIERLOOSE",`(?:${se[oe.NUMERICIDENTIFIERLOOSE]}|${se[oe.NONNUMERICIDENTIFIER]})`);xe("PRERELEASE",`(?:-(${se[oe.PRERELEASEIDENTIFIER]}(?:\\.${se[oe.PRERELEASEIDENTIFIER]})*))`);xe("PRERELEASELOOSE",`(?:-?(${se[oe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${se[oe.PRERELEASEIDENTIFIERLOOSE]})*))`);xe("BUILDIDENTIFIER",`${ck}+`);xe("BUILD",`(?:\\+(${se[oe.BUILDIDENTIFIER]}(?:\\.${se[oe.BUILDIDENTIFIER]})*))`);xe("FULLPLAIN",`v?${se[oe.MAINVERSION]}${se[oe.PRERELEASE]}?${se[oe.BUILD]}?`);xe("FULL",`^${se[oe.FULLPLAIN]}$`);xe("LOOSEPLAIN",`[v=\\s]*${se[oe.MAINVERSIONLOOSE]}${se[oe.PRERELEASELOOSE]}?${se[oe.BUILD]}?`);xe("LOOSE",`^${se[oe.LOOSEPLAIN]}$`);xe("GTLT","((?:<|>)?=?)");xe("XRANGEIDENTIFIERLOOSE",`${se[oe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);xe("XRANGEIDENTIFIER",`${se[oe.NUMERICIDENTIFIER]}|x|X|\\*`);xe("XRANGEPLAIN",`[v=\\s]*(${se[oe.XRANGEIDENTIFIER]})(?:\\.(${se[oe.XRANGEIDENTIFIER]})(?:\\.(${se[oe.XRANGEIDENTIFIER]})(?:${se[oe.PRERELEASE]})?${se[oe.BUILD]}?)?)?`);xe("XRANGEPLAINLOOSE",`[v=\\s]*(${se[oe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${se[oe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${se[oe.XRANGEIDENTIFIERLOOSE]})(?:${se[oe.PRERELEASELOOSE]})?${se[oe.BUILD]}?)?)?`);xe("XRANGE",`^${se[oe.GTLT]}\\s*${se[oe.XRANGEPLAIN]}$`);xe("XRANGELOOSE",`^${se[oe.GTLT]}\\s*${se[oe.XRANGEPLAINLOOSE]}$`);xe("COERCEPLAIN",`(^|[^\\d])(\\d{1,${lk}})(?:\\.(\\d{1,${lk}}))?(?:\\.(\\d{1,${lk}}))?`);xe("COERCE",`${se[oe.COERCEPLAIN]}(?:$|[^\\d])`);xe("COERCEFULL",se[oe.COERCEPLAIN]+`(?:${se[oe.PRERELEASE]})?(?:${se[oe.BUILD]})?(?:$|[^\\d])`);xe("COERCERTL",se[oe.COERCE],!0);xe("COERCERTLFULL",se[oe.COERCEFULL],!0);xe("LONETILDE","(?:~>?)");xe("TILDETRIM",`(\\s*)${se[oe.LONETILDE]}\\s+`,!0);wo.tildeTrimReplace="$1~";xe("TILDE",`^${se[oe.LONETILDE]}${se[oe.XRANGEPLAIN]}$`);xe("TILDELOOSE",`^${se[oe.LONETILDE]}${se[oe.XRANGEPLAINLOOSE]}$`);xe("LONECARET","(?:\\^)");xe("CARETTRIM",`(\\s*)${se[oe.LONECARET]}\\s+`,!0);wo.caretTrimReplace="$1^";xe("CARET",`^${se[oe.LONECARET]}${se[oe.XRANGEPLAIN]}$`);xe("CARETLOOSE",`^${se[oe.LONECARET]}${se[oe.XRANGEPLAINLOOSE]}$`);xe("COMPARATORLOOSE",`^${se[oe.GTLT]}\\s*(${se[oe.LOOSEPLAIN]})$|^$`);xe("COMPARATOR",`^${se[oe.GTLT]}\\s*(${se[oe.FULLPLAIN]})$|^$`);xe("COMPARATORTRIM",`(\\s*)${se[oe.GTLT]}\\s*(${se[oe.LOOSEPLAIN]}|${se[oe.XRANGEPLAIN]})`,!0);wo.comparatorTrimReplace="$1$2$3";xe("HYPHENRANGE",`^\\s*(${se[oe.XRANGEPLAIN]})\\s+-\\s+(${se[oe.XRANGEPLAIN]})\\s*$`);xe("HYPHENRANGELOOSE",`^\\s*(${se[oe.XRANGEPLAINLOOSE]})\\s+-\\s+(${se[oe.XRANGEPLAINLOOSE]})\\s*$`);xe("STAR","(<|>)?=?\\s*\\*");xe("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");xe("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Cv=w((Jze,JL)=>{var hce=Object.freeze({loose:!0}),dce=Object.freeze({}),pce=e=>e?typeof e!="object"?hce:e:dce;JL.exports=pce});var uk=w((Zze,QL)=>{var ZL=/^[0-9]+$/,XL=(e,t)=>{let r=ZL.test(e),i=ZL.test(t);return r&&i&&(e=+e,t=+t),e===t?0:r&&!i?-1:i&&!r?1:e<t?-1:1},mce=(e,t)=>XL(t,e);QL.exports={compareIdentifiers:XL,rcompareIdentifiers:mce}});var $r=w((Xze,ij)=>{var Pv=Bd(),{MAX_LENGTH:ej,MAX_SAFE_INTEGER:Iv}=Ud(),{safeRe:tj,t:rj}=Mu(),gce=Cv(),{compareIdentifiers:zu}=uk(),fk=class e{constructor(t,r){if(r=gce(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>ej)throw new TypeError(`version is longer than ${ej} characters`);Pv("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let i=t.trim().match(r.loose?tj[rj.LOOSE]:tj[rj.FULL]);if(!i)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>Iv||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Iv||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Iv||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(n=>{if(/^[0-9]+$/.test(n)){let s=+n;if(s>=0&&s<Iv)return s}return n}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Pv("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),zu(this.major,t.major)||zu(this.minor,t.minor)||zu(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let i=this.prerelease[r],n=t.prerelease[r];if(Pv("prerelease compare",r,i,n),i===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(i===void 0)return-1;if(i===n)continue;return zu(i,n)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let i=this.build[r],n=t.build[r];if(Pv("build compare",r,i,n),i===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(i===void 0)return-1;if(i===n)continue;return zu(i,n)}while(++r)}inc(t,r,i){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,i),this.inc("pre",r,i);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,i),this.inc("pre",r,i);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let n=Number(i)?1:0;if(!r&&i===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[n];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&i===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(n)}}if(r){let s=[r,n];i===!1&&(s=[r]),zu(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};ij.exports=fk});var Jl=w((Qze,sj)=>{var nj=$r(),yce=(e,t,r=!1)=>{if(e instanceof nj)return e;try{return new nj(e,t)}catch(i){if(!r)return null;throw i}};sj.exports=yce});var aj=w((e4e,oj)=>{var vce=Jl(),_ce=(e,t)=>{let r=vce(e,t);return r?r.version:null};oj.exports=_ce});var cj=w((t4e,lj)=>{var bce=Jl(),wce=(e,t)=>{let r=bce(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};lj.exports=wce});var hj=w((r4e,fj)=>{var uj=$r(),Sce=(e,t,r,i,n)=>{typeof r=="string"&&(n=i,i=r,r=void 0);try{return new uj(e instanceof uj?e.version:e,r).inc(t,i,n).version}catch{return null}};fj.exports=Sce});var mj=w((i4e,pj)=>{var dj=Jl(),xce=(e,t)=>{let r=dj(e,null,!0),i=dj(t,null,!0),n=r.compare(i);if(n===0)return null;let s=n>0,o=s?r:i,a=s?i:r,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";let u=l?"pre":"";return r.major!==i.major?u+"major":r.minor!==i.minor?u+"minor":r.patch!==i.patch?u+"patch":"prerelease"};pj.exports=xce});var yj=w((n4e,gj)=>{var Ece=$r(),kce=(e,t)=>new Ece(e,t).major;gj.exports=kce});var _j=w((s4e,vj)=>{var Rce=$r(),Tce=(e,t)=>new Rce(e,t).minor;vj.exports=Tce});var wj=w((o4e,bj)=>{var Oce=$r(),Ace=(e,t)=>new Oce(e,t).patch;bj.exports=Ace});var xj=w((a4e,Sj)=>{var Cce=Jl(),Pce=(e,t)=>{let r=Cce(e,t);return r&&r.prerelease.length?r.prerelease:null};Sj.exports=Pce});var ln=w((l4e,kj)=>{var Ej=$r(),Ice=(e,t,r)=>new Ej(e,r).compare(new Ej(t,r));kj.exports=Ice});var Tj=w((c4e,Rj)=>{var Nce=ln(),$ce=(e,t,r)=>Nce(t,e,r);Rj.exports=$ce});var Aj=w((u4e,Oj)=>{var Fce=ln(),Dce=(e,t)=>Fce(e,t,!0);Oj.exports=Dce});var Nv=w((f4e,Pj)=>{var Cj=$r(),Lce=(e,t,r)=>{let i=new Cj(e,r),n=new Cj(t,r);return i.compare(n)||i.compareBuild(n)};Pj.exports=Lce});var Nj=w((h4e,Ij)=>{var jce=Nv(),qce=(e,t)=>e.sort((r,i)=>jce(r,i,t));Ij.exports=qce});var Fj=w((d4e,$j)=>{var Mce=Nv(),zce=(e,t)=>e.sort((r,i)=>Mce(i,r,t));$j.exports=zce});var Hd=w((p4e,Dj)=>{var Uce=ln(),Bce=(e,t,r)=>Uce(e,t,r)>0;Dj.exports=Bce});var $v=w((m4e,Lj)=>{var Hce=ln(),Vce=(e,t,r)=>Hce(e,t,r)<0;Lj.exports=Vce});var hk=w((g4e,jj)=>{var Wce=ln(),Gce=(e,t,r)=>Wce(e,t,r)===0;jj.exports=Gce});var dk=w((y4e,qj)=>{var Yce=ln(),Kce=(e,t,r)=>Yce(e,t,r)!==0;qj.exports=Kce});var Fv=w((v4e,Mj)=>{var Jce=ln(),Zce=(e,t,r)=>Jce(e,t,r)>=0;Mj.exports=Zce});var Dv=w((_4e,zj)=>{var Xce=ln(),Qce=(e,t,r)=>Xce(e,t,r)<=0;zj.exports=Qce});var pk=w((b4e,Uj)=>{var eue=hk(),tue=dk(),rue=Hd(),iue=Fv(),nue=$v(),sue=Dv(),oue=(e,t,r,i)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return eue(e,r,i);case"!=":return tue(e,r,i);case">":return rue(e,r,i);case">=":return iue(e,r,i);case"<":return nue(e,r,i);case"<=":return sue(e,r,i);default:throw new TypeError(`Invalid operator: ${t}`)}};Uj.exports=oue});var Hj=w((w4e,Bj)=>{var aue=$r(),lue=Jl(),{safeRe:Lv,t:jv}=Mu(),cue=(e,t)=>{if(e instanceof aue)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?Lv[jv.COERCEFULL]:Lv[jv.COERCE]);else{let l=t.includePrerelease?Lv[jv.COERCERTLFULL]:Lv[jv.COERCERTL],c;for(;(c=l.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(r===null)return null;let i=r[2],n=r[3]||"0",s=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return lue(`${i}.${n}.${s}${o}${a}`,t)};Bj.exports=cue});var Wj=w((S4e,Vj)=>{var mk=class{constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let n=this.map.keys().next().value;this.delete(n)}this.map.set(t,r)}return this}};Vj.exports=mk});var cn=w((x4e,Jj)=>{var uue=/\s+/g,gk=class e{constructor(t,r){if(r=hue(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof yk)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(uue," "),this.set=this.raw.split("||").map(i=>this.parseRange(i.trim())).filter(i=>i.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let i=this.set[0];if(this.set=this.set.filter(n=>!Yj(n[0])),this.set.length===0)this.set=[i];else if(this.set.length>1){for(let n of this.set)if(n.length===1&&_ue(n[0])){this.set=[n];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let i=0;i<r.length;i++)i>0&&(this.formatted+=" "),this.formatted+=r[i].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let i=((this.options.includePrerelease&&yue)|(this.options.loose&&vue))+":"+t,n=Gj.get(i);if(n)return n;let s=this.options.loose,o=s?ki[ei.HYPHENRANGELOOSE]:ki[ei.HYPHENRANGE];t=t.replace(o,Aue(this.options.includePrerelease)),it("hyphen replace",t),t=t.replace(ki[ei.COMPARATORTRIM],pue),it("comparator trim",t),t=t.replace(ki[ei.TILDETRIM],mue),it("tilde trim",t),t=t.replace(ki[ei.CARETTRIM],gue),it("caret trim",t);let a=t.split(" ").map(f=>bue(f,this.options)).join(" ").split(/\s+/).map(f=>Oue(f,this.options));s&&(a=a.filter(f=>(it("loose invalid filter",f,this.options),!!f.match(ki[ei.COMPARATORLOOSE])))),it("range list",a);let l=new Map,c=a.map(f=>new yk(f,this.options));for(let f of c){if(Yj(f))return[f];l.set(f.value,f)}l.size>1&&l.has("")&&l.delete("");let u=[...l.values()];return Gj.set(i,u),u}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(i=>Kj(i,r)&&t.set.some(n=>Kj(n,r)&&i.every(s=>n.every(o=>s.intersects(o,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new due(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Cue(this.set[r],t,this.options))return!0;return!1}};Jj.exports=gk;var fue=Wj(),Gj=new fue,hue=Cv(),yk=Vd(),it=Bd(),due=$r(),{safeRe:ki,t:ei,comparatorTrimReplace:pue,tildeTrimReplace:mue,caretTrimReplace:gue}=Mu(),{FLAG_INCLUDE_PRERELEASE:yue,FLAG_LOOSE:vue}=Ud(),Yj=e=>e.value==="<0.0.0-0",_ue=e=>e.value==="",Kj=(e,t)=>{let r=!0,i=e.slice(),n=i.pop();for(;r&&i.length;)r=i.every(s=>n.intersects(s,t)),n=i.pop();return r},bue=(e,t)=>(it("comp",e,t),e=xue(e,t),it("caret",e),e=wue(e,t),it("tildes",e),e=kue(e,t),it("xrange",e),e=Tue(e,t),it("stars",e),e),ti=e=>!e||e.toLowerCase()==="x"||e==="*",wue=(e,t)=>e.trim().split(/\s+/).map(r=>Sue(r,t)).join(" "),Sue=(e,t)=>{let r=t.loose?ki[ei.TILDELOOSE]:ki[ei.TILDE];return e.replace(r,(i,n,s,o,a)=>{it("tilde",e,i,n,s,o,a);let l;return ti(n)?l="":ti(s)?l=`>=${n}.0.0 <${+n+1}.0.0-0`:ti(o)?l=`>=${n}.${s}.0 <${n}.${+s+1}.0-0`:a?(it("replaceTilde pr",a),l=`>=${n}.${s}.${o}-${a} <${n}.${+s+1}.0-0`):l=`>=${n}.${s}.${o} <${n}.${+s+1}.0-0`,it("tilde return",l),l})},xue=(e,t)=>e.trim().split(/\s+/).map(r=>Eue(r,t)).join(" "),Eue=(e,t)=>{it("caret",e,t);let r=t.loose?ki[ei.CARETLOOSE]:ki[ei.CARET],i=t.includePrerelease?"-0":"";return e.replace(r,(n,s,o,a,l)=>{it("caret",e,n,s,o,a,l);let c;return ti(s)?c="":ti(o)?c=`>=${s}.0.0${i} <${+s+1}.0.0-0`:ti(a)?s==="0"?c=`>=${s}.${o}.0${i} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.0${i} <${+s+1}.0.0-0`:l?(it("replaceCaret pr",l),s==="0"?o==="0"?c=`>=${s}.${o}.${a}-${l} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}-${l} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a}-${l} <${+s+1}.0.0-0`):(it("no pr"),s==="0"?o==="0"?c=`>=${s}.${o}.${a}${i} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}${i} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),it("caret return",c),c})},kue=(e,t)=>(it("replaceXRanges",e,t),e.split(/\s+/).map(r=>Rue(r,t)).join(" ")),Rue=(e,t)=>{e=e.trim();let r=t.loose?ki[ei.XRANGELOOSE]:ki[ei.XRANGE];return e.replace(r,(i,n,s,o,a,l)=>{it("xRange",e,i,n,s,o,a,l);let c=ti(s),u=c||ti(o),f=u||ti(a),h=f;return n==="="&&h&&(n=""),l=t.includePrerelease?"-0":"",c?n===">"||n==="<"?i="<0.0.0-0":i="*":n&&h?(u&&(o=0),a=0,n===">"?(n=">=",u?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):n==="<="&&(n="<",u?s=+s+1:o=+o+1),n==="<"&&(l="-0"),i=`${n+s}.${o}.${a}${l}`):u?i=`>=${s}.0.0${l} <${+s+1}.0.0-0`:f&&(i=`>=${s}.${o}.0${l} <${s}.${+o+1}.0-0`),it("xRange return",i),i})},Tue=(e,t)=>(it("replaceStars",e,t),e.trim().replace(ki[ei.STAR],"")),Oue=(e,t)=>(it("replaceGTE0",e,t),e.trim().replace(ki[t.includePrerelease?ei.GTE0PRE:ei.GTE0],"")),Aue=e=>(t,r,i,n,s,o,a,l,c,u,f,h)=>(ti(i)?r="":ti(n)?r=`>=${i}.0.0${e?"-0":""}`:ti(s)?r=`>=${i}.${n}.0${e?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,ti(c)?l="":ti(u)?l=`<${+c+1}.0.0-0`:ti(f)?l=`<${c}.${+u+1}.0-0`:h?l=`<=${c}.${u}.${f}-${h}`:e?l=`<${c}.${u}.${+f+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),Cue=(e,t,r)=>{for(let i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let i=0;i<e.length;i++)if(it(e[i].semver),e[i].semver!==yk.ANY&&e[i].semver.prerelease.length>0){let n=e[i].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}});var Vd=w((E4e,rq)=>{var Wd=Symbol("SemVer ANY"),bk=class e{static get ANY(){return Wd}constructor(t,r){if(r=Zj(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),_k("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===Wd?this.value="":this.value=this.operator+this.semver.version,_k("comp",this)}parse(t){let r=this.options.loose?Xj[Qj.COMPARATORLOOSE]:Xj[Qj.COMPARATOR],i=t.match(r);if(!i)throw new TypeError(`Invalid comparator: ${t}`);this.operator=i[1]!==void 0?i[1]:"",this.operator==="="&&(this.operator=""),i[2]?this.semver=new eq(i[2],this.options.loose):this.semver=Wd}toString(){return this.value}test(t){if(_k("Comparator.test",t,this.options.loose),this.semver===Wd||t===Wd)return!0;if(typeof t=="string")try{t=new eq(t,this.options)}catch{return!1}return vk(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new tq(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new tq(this.value,r).test(t.semver):(r=Zj(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||vk(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||vk(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};rq.exports=bk;var Zj=Cv(),{safeRe:Xj,t:Qj}=Mu(),vk=pk(),_k=Bd(),eq=$r(),tq=cn()});var Gd=w((k4e,iq)=>{var Pue=cn(),Iue=(e,t,r)=>{try{t=new Pue(t,r)}catch{return!1}return t.test(e)};iq.exports=Iue});var sq=w((R4e,nq)=>{var Nue=cn(),$ue=(e,t)=>new Nue(e,t).set.map(r=>r.map(i=>i.value).join(" ").trim().split(" "));nq.exports=$ue});var aq=w((T4e,oq)=>{var Fue=$r(),Due=cn(),Lue=(e,t,r)=>{let i=null,n=null,s=null;try{s=new Due(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!i||n.compare(o)===-1)&&(i=o,n=new Fue(i,r))}),i};oq.exports=Lue});var cq=w((O4e,lq)=>{var jue=$r(),que=cn(),Mue=(e,t,r)=>{let i=null,n=null,s=null;try{s=new que(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!i||n.compare(o)===1)&&(i=o,n=new jue(i,r))}),i};lq.exports=Mue});var hq=w((A4e,fq)=>{var wk=$r(),zue=cn(),uq=Hd(),Uue=(e,t)=>{e=new zue(e,t);let r=new wk("0.0.0");if(e.test(r)||(r=new wk("0.0.0-0"),e.test(r)))return r;r=null;for(let i=0;i<e.set.length;++i){let n=e.set[i],s=null;n.forEach(o=>{let a=new wk(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||uq(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||uq(r,s))&&(r=s)}return r&&e.test(r)?r:null};fq.exports=Uue});var pq=w((C4e,dq)=>{var Bue=cn(),Hue=(e,t)=>{try{return new Bue(e,t).range||"*"}catch{return null}};dq.exports=Hue});var qv=w((P4e,vq)=>{var Vue=$r(),yq=Vd(),{ANY:Wue}=yq,Gue=cn(),Yue=Gd(),mq=Hd(),gq=$v(),Kue=Dv(),Jue=Fv(),Zue=(e,t,r,i)=>{e=new Vue(e,i),t=new Gue(t,i);let n,s,o,a,l;switch(r){case">":n=mq,s=Kue,o=gq,a=">",l=">=";break;case"<":n=gq,s=Jue,o=mq,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Yue(e,t,i))return!1;for(let c=0;c<t.set.length;++c){let u=t.set[c],f=null,h=null;if(u.forEach(p=>{p.semver===Wue&&(p=new yq(">=0.0.0")),f=f||p,h=h||p,n(p.semver,f.semver,i)?f=p:o(p.semver,h.semver,i)&&(h=p)}),f.operator===a||f.operator===l||(!h.operator||h.operator===a)&&s(e,h.semver))return!1;if(h.operator===l&&o(e,h.semver))return!1}return!0};vq.exports=Zue});var bq=w((I4e,_q)=>{var Xue=qv(),Que=(e,t,r)=>Xue(e,t,">",r);_q.exports=Que});var Sq=w((N4e,wq)=>{var efe=qv(),tfe=(e,t,r)=>efe(e,t,"<",r);wq.exports=tfe});var kq=w(($4e,Eq)=>{var xq=cn(),rfe=(e,t,r)=>(e=new xq(e,r),t=new xq(t,r),e.intersects(t,r));Eq.exports=rfe});var Tq=w((F4e,Rq)=>{var ife=Gd(),nfe=ln();Rq.exports=(e,t,r)=>{let i=[],n=null,s=null,o=e.sort((u,f)=>nfe(u,f,r));for(let u of o)ife(u,t,r)?(s=u,n||(n=u)):(s&&i.push([n,s]),s=null,n=null);n&&i.push([n,null]);let a=[];for(let[u,f]of i)u===f?a.push(u):!f&&u===o[0]?a.push("*"):f?u===o[0]?a.push(`<=${f}`):a.push(`${u} - ${f}`):a.push(`>=${u}`);let l=a.join(" || "),c=typeof t.raw=="string"?t.raw:String(t);return l.length<c.length?l:t}});var Nq=w((D4e,Iq)=>{var Oq=cn(),xk=Vd(),{ANY:Sk}=xk,Yd=Gd(),Ek=ln(),sfe=(e,t,r={})=>{if(e===t)return!0;e=new Oq(e,r),t=new Oq(t,r);let i=!1;e:for(let n of e.set){for(let s of t.set){let o=afe(n,s,r);if(i=i||o!==null,o)continue e}if(i)return!1}return!0},ofe=[new xk(">=0.0.0-0")],Aq=[new xk(">=0.0.0")],afe=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Sk){if(t.length===1&&t[0].semver===Sk)return!0;r.includePrerelease?e=ofe:e=Aq}if(t.length===1&&t[0].semver===Sk){if(r.includePrerelease)return!0;t=Aq}let i=new Set,n,s;for(let p of e)p.operator===">"||p.operator===">="?n=Cq(n,p,r):p.operator==="<"||p.operator==="<="?s=Pq(s,p,r):i.add(p.semver);if(i.size>1)return null;let o;if(n&&s){if(o=Ek(n.semver,s.semver,r),o>0)return null;if(o===0&&(n.operator!==">="||s.operator!=="<="))return null}for(let p of i){if(n&&!Yd(p,String(n),r)||s&&!Yd(p,String(s),r))return null;for(let m of t)if(!Yd(p,String(m),r))return!1;return!0}let a,l,c,u,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=n&&!r.includePrerelease&&n.semver.prerelease.length?n.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let p of t){if(u=u||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",n){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(a=Cq(n,p,r),a===p&&a!==n)return!1}else if(n.operator===">="&&!Yd(n.semver,String(p),r))return!1}if(s){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(l=Pq(s,p,r),l===p&&l!==s)return!1}else if(s.operator==="<="&&!Yd(s.semver,String(p),r))return!1}if(!p.operator&&(s||n)&&o!==0)return!1}return!(n&&c&&!s&&o!==0||s&&u&&!n&&o!==0||h||f)},Cq=(e,t,r)=>{if(!e)return t;let i=Ek(e.semver,t.semver,r);return i>0?e:i<0||t.operator===">"&&e.operator===">="?t:e},Pq=(e,t,r)=>{if(!e)return t;let i=Ek(e.semver,t.semver,r);return i<0?e:i>0||t.operator==="<"&&e.operator==="<="?t:e};Iq.exports=sfe});var Rk=w((L4e,Dq)=>{var kk=Mu(),$q=Ud(),lfe=$r(),Fq=uk(),cfe=Jl(),ufe=aj(),ffe=cj(),hfe=hj(),dfe=mj(),pfe=yj(),mfe=_j(),gfe=wj(),yfe=xj(),vfe=ln(),_fe=Tj(),bfe=Aj(),wfe=Nv(),Sfe=Nj(),xfe=Fj(),Efe=Hd(),kfe=$v(),Rfe=hk(),Tfe=dk(),Ofe=Fv(),Afe=Dv(),Cfe=pk(),Pfe=Hj(),Ife=Vd(),Nfe=cn(),$fe=Gd(),Ffe=sq(),Dfe=aq(),Lfe=cq(),jfe=hq(),qfe=pq(),Mfe=qv(),zfe=bq(),Ufe=Sq(),Bfe=kq(),Hfe=Tq(),Vfe=Nq();Dq.exports={parse:cfe,valid:ufe,clean:ffe,inc:hfe,diff:dfe,major:pfe,minor:mfe,patch:gfe,prerelease:yfe,compare:vfe,rcompare:_fe,compareLoose:bfe,compareBuild:wfe,sort:Sfe,rsort:xfe,gt:Efe,lt:kfe,eq:Rfe,neq:Tfe,gte:Ofe,lte:Afe,cmp:Cfe,coerce:Pfe,Comparator:Ife,Range:Nfe,satisfies:$fe,toComparators:Ffe,maxSatisfying:Dfe,minSatisfying:Lfe,minVersion:jfe,validRange:qfe,outside:Mfe,gtr:zfe,ltr:Ufe,intersects:Bfe,simplifyRange:Hfe,subset:Vfe,SemVer:lfe,re:kk.re,src:kk.src,tokens:kk.t,SEMVER_SPEC_VERSION:$q.SEMVER_SPEC_VERSION,RELEASE_TYPES:$q.RELEASE_TYPES,compareIdentifiers:Fq.compareIdentifiers,rcompareIdentifiers:Fq.rcompareIdentifiers}});var zv=w((j4e,Ck)=>{"use strict";var Mv=WL(),Wfe=Rk(),{FSTDEP005:Gfe,FSTDEP012:Yfe,FSTDEP015:Kfe,FSTDEP016:Jfe,FSTDEP017:Zfe,FSTDEP018:Xfe}=vo(),{kHasBeenDecorated:Qfe,kSchemaBody:ehe,kSchemaHeaders:the,kSchemaParams:rhe,kSchemaQuerystring:Lq,kSchemaController:Tk,kOptions:ihe,kRequestCacheValidateFns:Ra,kRouteContext:Tt,kPublicRouteContext:jq,kRequestOriginalUrl:Ok}=tr(),{FST_ERR_REQ_INVALID_VALIDATION_INVOCATION:nhe}=Ir(),qq={body:ehe,headers:the,params:rhe,querystring:Lq,query:Lq};function Ak(e,t,r,i,n,s){this.id=e,this[Tt]=s,this.params=t,this.raw=r,this.query=i,this.log=n,this.body=void 0}Ak.props=[];function she(e){if(typeof e=="function")return e;if(e===!0)return function(){return!0};if(typeof e=="number")return function(t,r){return r<e};if(typeof e=="string"){let t=e.split(",").map(r=>r.trim());return Mv.compile(t)}return Mv.compile(e)}function ohe(e,t){return t?ahe(e,t):zq(e)}function zq(e){let t=e.props.slice();function r(i,n,s,o,a,l){this.id=i,this[Tt]=l,this.params=n,this.raw=s,this.query=o,this.log=a,this.body=void 0;for(var c,u=0;u<t.length;u++)c=t[u],this[c.key]=c.value}return Object.setPrototypeOf(r.prototype,e.prototype),Object.setPrototypeOf(r,e),r.props=t,r.parent=e,r}function Mq(e){let t=e.lastIndexOf(",");return t===-1?e.trim():e.slice(t+1).trim()}function ahe(e,t){let r=zq(e),i=she(t);return r[Qfe]=!0,Object.defineProperties(r.prototype,{ip:{get(){return Mv(this.raw,i)}},ips:{get(){return Mv.all(this.raw,i)}},hostname:{get(){return this.ip!==void 0&&this.headers["x-forwarded-host"]?Mq(this.headers["x-forwarded-host"]):this.headers.host||this.headers[":authority"]}},protocol:{get(){if(this.headers["x-forwarded-proto"])return Mq(this.headers["x-forwarded-proto"]);if(this.socket)return this.socket.encrypted?"https":"http"}}}),r}Object.defineProperties(Ak.prototype,{server:{get(){return this[Tt].server}},url:{get(){return this.raw.url}},originalUrl:{get(){return this[Ok]||(this[Ok]=this.raw.originalUrl||this.raw.url),this[Ok]}},method:{get(){return this.raw.method}},context:{get(){return Yfe(),this[Tt]}},routerPath:{get(){return Zfe(),this[Tt].config?.url}},routeOptions:{get(){let e=this[Tt],t=e._parserOptions.limit,r=e.server.initialConfig.bodyLimit,i=e.server.hasConstraintStrategy("version")?this.raw.headers["accept-version"]:void 0,n={method:e.config?.method,url:e.config?.url,bodyLimit:t||r,attachValidation:e.attachValidation,logLevel:e.logLevel,exposeHeadRoute:e.exposeHeadRoute,prefixTrailingSlash:e.prefixTrailingSlash,handler:e.handler,version:i};return Object.defineProperties(n,{config:{get:()=>e.config},schema:{get:()=>e.schema}}),Object.freeze(n)}},routerMethod:{get(){return Xfe(),this[Tt].config?.method}},routeConfig:{get(){return Jfe(),this[Tt][jq]?.config}},routeSchema:{get(){return Kfe(),this[Tt][jq].schema}},is404:{get(){return this[Tt].config?.url===void 0}},connection:{get(){return Wfe.gte(process.versions.node,"13.0.0")&&Gfe(),this.raw.connection}},socket:{get(){return this.raw.socket}},ip:{get(){if(this.socket)return this.socket.remoteAddress}},hostname:{get(){return this.raw.headers.host||this.raw.headers[":authority"]}},protocol:{get(){if(this.socket)return this.socket.encrypted?"https":"http"}},headers:{get(){return this.additionalHeaders?Object.assign({},this.raw.headers,this.additionalHeaders):this.raw.headers},set(e){this.additionalHeaders=e}},getValidationFunction:{value:function(e){if(typeof e=="string"){let t=qq[e];return this[Tt][t]}else if(typeof e=="object")return this[Tt][Ra]?.get(e)}},compileValidationSchema:{value:function(e,t=null){let{method:r,url:i}=this;if(this[Tt][Ra]?.has(e))return this[Tt][Ra].get(e);let s=(this[Tt].validatorCompiler||this.server[Tk].validatorCompiler||this.server[Tk].setupValidator(this.server[ihe])||this.server[Tk].validatorCompiler)({schema:e,method:r,url:i,httpPart:t});return this[Tt][Ra]==null&&(this[Tt][Ra]=new WeakMap),this[Tt][Ra].set(e,s),s}},validateInput:{value:function(e,t,r){r=typeof t=="string"?t:r;let i=r!=null&&typeof r=="string"&&qq[r],n;if(i&&(n=this[Tt][i]),n==null&&(t==null||typeof t!="object"||Array.isArray(t)))throw new nhe(r);return n==null&&(this[Tt][Ra]?.has(t)?n=this[Tt][Ra].get(t):n=this.compileValidationSchema(t,r)),n(e)}}});Ck.exports=Ak;Ck.exports.buildRequest=ohe});var Uv=w((q4e,Uq)=>{"use strict";var{kFourOhFourContext:lhe,kReplySerializerDefault:che,kSchemaErrorFormatter:uhe,kErrorHandler:fhe,kChildLoggerFactory:hhe,kOptions:dhe,kReply:phe,kRequest:mhe,kBodyLimit:ghe,kLogLevel:yhe,kContentTypeParser:vhe,kRouteByFastify:_he,kRequestCacheValidateFns:bhe,kReplyCacheSerializeFns:whe,kPublicRouteContext:She}=tr();function xhe({schema:e,handler:t,config:r,requestIdLogLabel:i,childLoggerFactory:n,errorHandler:s,bodyLimit:o,logLevel:a,logSerializers:l,attachValidation:c,validatorCompiler:u,serializerCompiler:f,replySerializer:h,schemaErrorFormatter:p,exposeHeadRoute:m,prefixTrailingSlash:g,server:y,isFastify:_}){this.schema=e,this.handler=t,this.Reply=y[phe],this.Request=y[mhe],this.contentTypeParser=y[vhe],this.onRequest=null,this.onSend=null,this.onError=null,this.onTimeout=null,this.preHandler=null,this.onResponse=null,this.preSerialization=null,this.onRequestAbort=null,this.config=r,this.errorHandler=s||y[fhe],this.requestIdLogLabel=i||y[dhe].requestIdLogLabel,this.childLoggerFactory=n||y[hhe],this._middie=null,this._parserOptions={limit:o||y[ghe]},this.exposeHeadRoute=m,this.prefixTrailingSlash=g,this.logLevel=a||y[yhe],this.logSerializers=l,this[lhe]=null,this.attachValidation=c,this[che]=h,this.schemaErrorFormatter=p||y[uhe]||khe,this[_he]=_,this[bhe]=null,this[whe]=null,this.validatorCompiler=u||null,this.serializerCompiler=f||null,this[She]=Ehe(this),this.server=y}function Ehe(e){return Object.create(null,{schema:{enumerable:!0,get(){return e.schema}},config:{enumerable:!0,get(){return e.config}}})}function khe(e,t){let r="",i=", ";for(var n=0;n!==e.length;++n){let s=e[n];r+=t+(s.instancePath||"")+" "+s.message+i}return new Error(r.slice(0,-i.length))}Uq.exports=xhe});var Pk=w((M4e,Bq)=>{"use strict";Bq.exports={supportedMethods:["DELETE","GET","HEAD","PATCH","POST","PUT","OPTIONS","PROPFIND","PROPPATCH","MKCOL","COPY","MOVE","LOCK","UNLOCK","TRACE","SEARCH","REPORT","MKCALENDAR"]}});var Dk=w((z4e,Gq)=>{"use strict";var{kReply:Ik,kRequest:Nk,kState:Rhe,kHasBeenDecorated:The}=tr(),{FST_ERR_DEC_ALREADY_PRESENT:Hq,FST_ERR_DEC_MISSING_DEPENDENCY:Ohe,FST_ERR_DEC_AFTER_START:Ahe,FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:Che}=Ir(),{FSTDEP006:Phe}=vo();function Ihe(e,t,r,i){if(Object.prototype.hasOwnProperty.call(e,t))throw new Hq(t);$k(e,t,i),r&&(typeof r.getter=="function"||typeof r.setter=="function")?Object.defineProperty(e,t,{get:r.getter,set:r.setter}):e[t]=r}function Vq(e,t,r,i){let n=e.prototype;if(Object.prototype.hasOwnProperty.call(n,t)||Hv(e,t))throw new Hq(t);e[The]=!0,$k(e,t,i),r&&(typeof r.getter=="function"||typeof r.setter=="function")?Object.defineProperty(n,t,{get:r.getter,set:r.setter}):typeof r=="function"?n[t]=r:e.props.push({key:t,value:r})}function Wq(e,t){typeof t=="object"&&t&&!(typeof t.getter=="function"||typeof t.setter=="function")&&Phe(e)}function Nhe(e,t,r){return Fk(this,e),Ihe(this,e,t,r),this}function Bv(e,t){return t?t in e||e.prototype&&t in e.prototype||Hv(e,t):e in this}function Hv(e,t){return e.props?e.props.find(({key:r})=>r===t):!1}function $he(e){return e&&Hv(this[Nk],e)?!0:Bv(this[Nk].prototype,e)}function Fhe(e){return e&&Hv(this[Ik],e)?!0:Bv(this[Ik].prototype,e)}function $k(e,t,r){if(r!=null){if(!Array.isArray(r))throw new Che(t);for(var i=0;i!==r.length;++i)if(!Bv(e,r[i]))throw new Ohe(r[i])}}function Dhe(e,t,r){return Fk(this,e),Wq(e,t),Vq(this[Ik],e,t,r),this}function Lhe(e,t,r){return Fk(this,e),Wq(e,t),Vq(this[Nk],e,t,r),this}function Fk(e,t){if(e[Rhe].started)throw new Ahe(t)}Gq.exports={add:Nhe,exist:Bv,existRequest:$he,existReply:Fhe,dependencies:$k,decorateReply:Dhe,decorateRequest:Lhe}});var Kq=w(Es=>{"use strict";var Lk=class{constructor(t=1e3,r=0){if(isNaN(t)||t<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=new Map,this.last=null,this.max=t,this.ttl=r}get size(){return this.items.size}clear(){this.items=new Map,this.first=null,this.last=null}delete(t){if(this.items.has(t)){let r=this.items.get(t);this.items.delete(t),r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(t){for(var r=0;r<t.length;r++)this.delete(t[r])}evict(){if(this.size>0){let t=this.first;this.items.delete(t.key),this.size===0?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}}expiresAt(t){if(this.items.has(t))return this.items.get(t).expiry}get(t){if(this.items.has(t)){let r=this.items.get(t);if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t);return}return r.value}}getMany(t){let r=[];for(var i=0;i<t.length;i++)r.push(this.get(t[i]));return r}keys(){return this.items.keys()}set(t,r){if(this.items.has(t)){let n=this.items.get(t);n.value=r,n.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl;return}this.max>0&&this.size===this.max&&this.evict();let i={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:r};this.items.set(t,i),this.size===1?this.first=i:this.last.next=i,this.last=i}},jk=class{constructor(t=1e3,r=0){if(isNaN(t)||t<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=new Map,this.last=null,this.max=t,this.ttl=r}get size(){return this.items.size}bumpLru(t){if(this.last===t)return;let r=this.last,i=t.next,n=t.prev;this.first===t&&(this.first=i),t.next=null,t.prev=r,r.next=t,n!==null&&(n.next=i),i!==null&&(i.prev=n),this.last=t}clear(){this.items=new Map,this.first=null,this.last=null}delete(t){if(this.items.has(t)){let r=this.items.get(t);this.items.delete(t),r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(t){for(var r=0;r<t.length;r++)this.delete(t[r])}evict(){if(this.size>0){let t=this.first;this.items.delete(t.key),this.size===0?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}}expiresAt(t){if(this.items.has(t))return this.items.get(t).expiry}get(t){if(this.items.has(t)){let r=this.items.get(t);if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t);return}return this.bumpLru(r),r.value}}getMany(t){let r=[];for(var i=0;i<t.length;i++)r.push(this.get(t[i]));return r}keys(){return this.items.keys()}set(t,r){if(this.items.has(t)){let n=this.items.get(t);n.value=r,n.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl,this.last!==n&&this.bumpLru(n);return}this.max>0&&this.size===this.max&&this.evict();let i={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:r};this.items.set(t,i),this.size===1?this.first=i:this.last.next=i,this.last=i}},Kd=class{constructor(t=1e3,r=0){if(isNaN(t)||t<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this.max=t,this.ttl=r}bumpLru(t){if(this.last===t)return;let r=this.last,i=t.next,n=t.prev;this.first===t&&(this.first=i),t.next=null,t.prev=r,r.next=t,n!==null&&(n.next=i),i!==null&&(i.prev=n),this.last=t}clear(){this.items=Object.create(null),this.first=null,this.last=null,this.size=0}delete(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];delete this.items[t],this.size--,r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(t){for(var r=0;r<t.length;r++)this.delete(t[r])}evict(){if(this.size>0){let t=this.first;delete this.items[t.key],--this.size===0?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}}expiresAt(t){if(Object.prototype.hasOwnProperty.call(this.items,t))return this.items[t].expiry}get(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t);return}return this.bumpLru(r),r.value}}getMany(t){let r=[];for(var i=0;i<t.length;i++)r.push(this.get(t[i]));return r}keys(){return Object.keys(this.items)}set(t,r){if(Object.prototype.hasOwnProperty.call(this.items,t)){let n=this.items[t];n.value=r,n.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl,this.last!==n&&this.bumpLru(n);return}this.max>0&&this.size===this.max&&this.evict();let i={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:r};this.items[t]=i,++this.size===1?this.first=i:this.last.next=i,this.last=i}},Vv=class{constructor(){this.records={}}initForCache(t,r){this.records[t]={[r]:{cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,invalidateOne:0,invalidateAll:0,sets:0}}}resetForCache(t){for(let r of Object.keys(this.records[t]))this.records[t][r]={cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,invalidateOne:0,invalidateAll:0,sets:0}}getStatistics(){return this.records}};function Yq(e){return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`}var qk=class{constructor(t,r,i){this.cacheId=t,this.statisticTtlInHours=r,this.collectionStart=new Date,this.currentTimeStamp=Yq(this.collectionStart),this.records=i||new Vv,this.records.initForCache(this.cacheId,this.currentTimeStamp)}get currentRecord(){return this.records.records[this.cacheId][this.currentTimeStamp]||(this.records.records[this.cacheId][this.currentTimeStamp]={cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,sets:0,invalidateOne:0,invalidateAll:0}),this.records.records[this.cacheId][this.currentTimeStamp]}hoursPassed(){return(Date.now()-this.collectionStart)/1e3/60/60}addHit(){this.archiveIfNeeded(),this.currentRecord.hits++}addFalsyHit(){this.archiveIfNeeded(),this.currentRecord.falsyHits++}addEmptyHit(){this.archiveIfNeeded(),this.currentRecord.emptyHits++}addMiss(){this.archiveIfNeeded(),this.currentRecord.misses++}addEviction(){this.archiveIfNeeded(),this.currentRecord.evictions++}setCacheSize(t){this.archiveIfNeeded(),this.currentRecord.cacheSize=t}addExpiration(){this.archiveIfNeeded(),this.currentRecord.expirations++}addSet(){this.archiveIfNeeded(),this.currentRecord.sets++}addInvalidateOne(){this.archiveIfNeeded(),this.currentRecord.invalidateOne++}addInvalidateAll(){this.archiveIfNeeded(),this.currentRecord.invalidateAll++}getStatistics(){return this.records.getStatistics()}archiveIfNeeded(){this.hoursPassed()>=this.statisticTtlInHours&&(this.collectionStart=new Date,this.currentTimeStamp=Yq(this.collectionStart),this.records.initForCache(this.cacheId,this.currentTimeStamp))}},Wv=class extends Kd{constructor(t,r,i,n,s){if(super(t||1e3,r||0),!i)throw new Error("Cache id is mandatory");this.hitStatistics=new qk(i,s!==void 0?s:24,n)}getStatistics(){return this.hitStatistics.getStatistics()}set(t,r){super.set(t,r),this.hitStatistics.addSet(),this.hitStatistics.setCacheSize(this.size)}evict(){super.evict(),this.hitStatistics.addEviction(),this.hitStatistics.setCacheSize(this.size)}delete(t,r=!1){super.delete(t),r||this.hitStatistics.addInvalidateOne(),this.hitStatistics.setCacheSize(this.size)}clear(){super.clear(),this.hitStatistics.addInvalidateAll(),this.hitStatistics.setCacheSize(this.size)}get(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t,!0),this.hitStatistics.addExpiration();return}return this.bumpLru(r),r.value||this.hitStatistics.addFalsyHit(),(r.value===void 0||r.value===null||r.value==="")&&this.hitStatistics.addEmptyHit(),this.hitStatistics.addHit(),r.value}this.hitStatistics.addMiss()}},Gv=class{constructor(t=1e3,r=0){if(isNaN(t)||t<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this.max=t,this.ttl=r}clear(){this.items=Object.create(null),this.first=null,this.last=null,this.size=0}delete(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];delete this.items[t],this.size--,r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(t){for(var r=0;r<t.length;r++)this.delete(t[r])}evict(){if(this.size>0){let t=this.first;delete this.items[t.key],--this.size===0?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}}expiresAt(t){if(Object.prototype.hasOwnProperty.call(this.items,t))return this.items[t].expiry}get(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t);return}return r.value}}getMany(t){let r=[];for(var i=0;i<t.length;i++)r.push(this.get(t[i]));return r}keys(){return Object.keys(this.items)}set(t,r){if(Object.prototype.hasOwnProperty.call(this.items,t)){let n=this.items[t];n.value=r,n.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl;return}this.max>0&&this.size===this.max&&this.evict();let i={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:r};this.items[t]=i,++this.size===1?this.first=i:this.last.next=i,this.last=i}};Es.Fifo=Gv;Es.FifoMap=Lk;Es.FifoObject=Gv;Es.HitStatisticsRecord=Vv;Es.Lru=Kd;Es.LruHitStatistics=Wv;Es.LruMap=jk;Es.LruObject=Kd;Es.LruObjectHitStatistics=Wv});var Qq=w((B4e,Jd)=>{"use strict";var Jv=function(){};Jv.prototype=Object.create(null);var Yv=/; *([!#$%&'*+.^\w`|~-]+)=("(?:[\v\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\v\u0020-\u00ff])*"|[!#$%&'*+.^\w`|~-]+) */gu,Kv=/\\([\v\u0020-\u00ff])/gu,Jq=/^[!#$%&'*+.^\w|~-]+\/[!#$%&'*+.^\w|~-]+$/u,Zl={type:"",parameters:new Jv};Object.freeze(Zl.parameters);Object.freeze(Zl);function Zq(e){if(typeof e!="string")throw new TypeError("argument header is required and must be a string");let t=e.indexOf(";"),r=t!==-1?e.slice(0,t).trim():e.trim();if(Jq.test(r)===!1)throw new TypeError("invalid media type");let i={type:r.toLowerCase(),parameters:new Jv};if(t===-1)return i;let n,s,o;for(Yv.lastIndex=t;s=Yv.exec(e);){if(s.index!==t)throw new TypeError("invalid parameter format");t+=s[0].length,n=s[1].toLowerCase(),o=s[2],o[0]==='"'&&(o=o.slice(1,o.length-1),Kv.test(o)&&(o=o.replace(Kv,"$1"))),i.parameters[n]=o}if(t!==e.length)throw new TypeError("invalid parameter format");return i}function Xq(e){if(typeof e!="string")return Zl;let t=e.indexOf(";"),r=t!==-1?e.slice(0,t).trim():e.trim();if(Jq.test(r)===!1)return Zl;let i={type:r.toLowerCase(),parameters:new Jv};if(t===-1)return i;let n,s,o;for(Yv.lastIndex=t;s=Yv.exec(e);){if(s.index!==t)return Zl;t+=s[0].length,n=s[1].toLowerCase(),o=s[2],o[0]==='"'&&(o=o.slice(1,o.length-1),Kv.test(o)&&(o=o.replace(Kv,"$1"))),i.parameters[n]=o}return t!==e.length?Zl:i}Jd.exports.default={parse:Zq,safeParse:Xq};Jd.exports.parse=Zq;Jd.exports.safeParse=Xq;Jd.exports.defaultContentType=Zl});var nM=w((H4e,Uu)=>{"use strict";var jhe=typeof Buffer<"u",eM=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,tM=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function rM(e,t,r){r==null&&t!==null&&typeof t=="object"&&(r=t,t=void 0),jhe&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));let i=JSON.parse(e,t);if(i===null||typeof i!="object")return i;let n=r&&r.protoAction||"error",s=r&&r.constructorAction||"error";if(n==="ignore"&&s==="ignore")return i;if(n!=="ignore"&&s!=="ignore"){if(eM.test(e)===!1&&tM.test(e)===!1)return i}else if(n!=="ignore"&&s==="ignore"){if(eM.test(e)===!1)return i}else if(tM.test(e)===!1)return i;return iM(i,{protoAction:n,constructorAction:s,safe:r&&r.safe})}function iM(e,{protoAction:t="error",constructorAction:r="error",safe:i}={}){let n=[e];for(;n.length;){let s=n;n=[];for(let o of s){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"__proto__")){if(i===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.__proto__}if(r!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"constructor")&&Object.prototype.hasOwnProperty.call(o.constructor,"prototype")){if(i===!0)return null;if(r==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.constructor}for(let a in o){let l=o[a];l&&typeof l=="object"&&n.push(l)}}}return e}function Mk(e,t,r){let i=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return rM(e,t,r)}finally{Error.stackTraceLimit=i}}function qhe(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return rM(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=r}}Uu.exports=Mk;Uu.exports.default=Mk;Uu.exports.parse=Mk;Uu.exports.safeParse=qhe;Uu.exports.scan=iM});var Vk=w((V4e,Xd)=>{"use strict";var{AsyncResource:Mhe}=require("async_hooks"),{FifoMap:oM}=Kq(),{safeParse:aM,defaultContentType:zhe}=Qq(),Uhe=nM(),{kDefaultJsonParse:Zd,kContentTypeParser:Bu,kBodyLimit:Bhe,kRequestPayloadStream:lM,kState:Uk,kTestInternals:Hhe,kReplyIsError:cM,kRouteContext:Vhe}=tr(),{FST_ERR_CTP_INVALID_TYPE:uM,FST_ERR_CTP_EMPTY_TYPE:Whe,FST_ERR_CTP_ALREADY_PRESENT:Ghe,FST_ERR_CTP_INVALID_HANDLER:Yhe,FST_ERR_CTP_INVALID_PARSE_TYPE:Khe,FST_ERR_CTP_BODY_TOO_LARGE:sM,FST_ERR_CTP_INVALID_MEDIA_TYPE:Jhe,FST_ERR_CTP_INVALID_CONTENT_LENGTH:Zhe,FST_ERR_CTP_EMPTY_JSON_BODY:Xhe,FST_ERR_CTP_INSTANCE_ALREADY_STARTED:Bk}=Ir();function So(e,t,r){this[Zd]=hM(t,r),this.customParsers=new Map,this.customParsers.set("application/json",new zk(!0,!1,e,this[Zd])),this.customParsers.set("text/plain",new zk(!0,!1,e,Hk)),this.parserList=[new Zv("application/json"),new Zv("text/plain")],this.parserRegExpList=[],this.cache=new oM(100)}So.prototype.add=function(e,t,r){let i=typeof e=="string";if(!i&&!(e instanceof RegExp))throw new uM;if(i&&e.length===0)throw new Whe;if(typeof r!="function")throw new Yhe;if(this.existingParser(e))throw new Ghe(e);if(t.parseAs!==void 0&&t.parseAs!=="string"&&t.parseAs!=="buffer")throw new Khe(t.parseAs);let n=new zk(t.parseAs==="string",t.parseAs==="buffer",t.bodyLimit,r);i&&e==="*"?this.customParsers.set("",n):(i?this.parserList.unshift(new Zv(e)):(e.isEssence=e.source.indexOf(";")===-1,this.parserRegExpList.unshift(e)),this.customParsers.set(e.toString(),n))};So.prototype.hasParser=function(e){return this.customParsers.has(typeof e=="string"?e:e.toString())};So.prototype.existingParser=function(e){return e==="application/json"&&this.customParsers.has(e)?this.customParsers.get(e).fn!==this[Zd]:e==="text/plain"&&this.customParsers.has(e)?this.customParsers.get(e).fn!==Hk:this.hasParser(e)};So.prototype.getParser=function(e){if(this.hasParser(e))return this.customParsers.get(e);let t=this.cache.get(e);if(t!==void 0)return t;let r=aM(e);if(r===zhe)return this.customParsers.get("");for(var i=0;i!==this.parserList.length;++i){let s=this.parserList[i];if(nde(r,s)){let o=this.customParsers.get(s.name);return this.cache.set(e,o),o}}for(var n=0;n!==this.parserRegExpList.length;++n){let s=this.parserRegExpList[n];if(sde(e,r.type,s)){let o=this.customParsers.get(s.toString());return this.cache.set(e,o),o}}return this.customParsers.get("")};So.prototype.removeAll=function(){this.customParsers=new Map,this.parserRegExpList=[],this.parserList=[],this.cache=new oM(100)};So.prototype.remove=function(e){if(!(typeof e=="string"||e instanceof RegExp))throw new uM;let t=this.customParsers.delete(e.toString()),r=typeof e=="string"?this.parserList:this.parserRegExpList,i=r.findIndex(n=>n.toString()===e.toString());return i>-1&&r.splice(i,1),t||i>-1};So.prototype.run=function(e,t,r,i){let n=this.getParser(e);if(n===void 0){r.is404?t(r,i):i.send(new Jhe(e||void 0));return}let s=new Mhe("content-type-parser:run",r);if(n.asString===!0||n.asBuffer===!0)fM(r,i,i[Vhe]._parserOptions,n,o);else{let a=n.fn(r,r[lM],o);a&&typeof a.then=="function"&&a.then(l=>o(null,l),o)}function o(a,l){s.runInAsyncScope(()=>{s.emitDestroy(),a?(i[cM]=!0,i.send(a)):(r.body=l,t(r,i))})}};function fM(e,t,r,i,n){let s=i.asString,o=r.limit===null?i.bodyLimit:r.limit,a=e.headers["content-length"]===void 0?NaN:Number(e.headers["content-length"]);if(a>o){t.header("connection","close"),t.send(new sM);return}let l=0,c=s===!0?"":[],u=e[lM]||e.raw;s===!0&&u.setEncoding("utf8"),u.on("data",f),u.on("end",h),u.on("error",h),u.resume();function f(p){l+=p.length;let{receivedEncodedLength:m=0}=u;if(l>o||m>o){u.removeListener("data",f),u.removeListener("end",h),u.removeListener("error",h),t.send(new sM);return}s===!0?c+=p:c.push(p)}function h(p){if(u.removeListener("data",f),u.removeListener("end",h),u.removeListener("error",h),p!==void 0){typeof p.statusCode=="number"&&p.statusCode>=400||(p.statusCode=400),t[cM]=!0,t.code(p.statusCode).send(p);return}if(s===!0&&(l=Buffer.byteLength(c)),!Number.isNaN(a)&&(u.receivedEncodedLength||l)!==a){t.header("connection","close"),t.send(new Zhe);return}s===!1&&(c=Buffer.concat(c));let m=i.fn(e,c,n);m&&typeof m.then=="function"&&m.then(g=>n(null,g),n)}}function hM(e,t){return r;function r(i,n,s){if(n===""||n==null||Buffer.isBuffer(n)&&n.length===0)return s(new Xhe,void 0);let o;try{o=Uhe.parse(n,{protoAction:e,constructorAction:t})}catch(a){return a.statusCode=400,s(a,void 0)}s(null,o)}}function Hk(e,t,r){r(null,t)}function zk(e,t,r,i){this.asString=e,this.asBuffer=t,this.bodyLimit=r,this.fn=i}function Qhe(e){let t=new So;return t[Zd]=e[Zd],t.customParsers=new Map(e.customParsers.entries()),t.parserList=e.parserList.slice(),t.parserRegExpList=e.parserRegExpList.slice(),t}function ede(e,t,r){if(this[Uk].started)throw new Bk("addContentTypeParser");return typeof t=="function"&&(r=t,t={}),t||(t={}),t.bodyLimit||(t.bodyLimit=this[Bhe]),Array.isArray(e)?e.forEach(i=>this[Bu].add(i,t,r)):this[Bu].add(e,t,r),this}function tde(e){return this[Bu].hasParser(e)}function rde(e){if(this[Uk].started)throw new Bk("removeContentTypeParser");if(Array.isArray(e))for(let t of e)this[Bu].remove(t);else this[Bu].remove(e)}function ide(){if(this[Uk].started)throw new Bk("removeAllContentTypeParsers");this[Bu].removeAll()}function nde(e,t){if(t.isEssence)return e.type.indexOf(t)!==-1;if(e.type.indexOf(t.type)===-1)return!1;for(let r of t.parameterKeys)if(!(r in e.parameters)||e.parameters[r]!==t.parameters[r])return!1;return!0}function sde(e,t,r){return r.isEssence?r.test(t):r.test(e)}function Zv(e){this.name=e;let t=aM(e);if(this.isEssence=e.indexOf(";")===-1,this.isEssence===!1&&t.type===""){let r=e.split(";",1)[0];this.type=r===""?e:r}else this.type=t.type;this.parameters=t.parameters,this.parameterKeys=Object.keys(t.parameters)}Zv.prototype.toString=function(){return this.name};Xd.exports=So;Xd.exports.helpers={buildContentTypeParser:Qhe,addContentTypeParser:ede,hasContentTypeParser:tde,removeContentTypeParser:rde,removeAllContentTypeParsers:ide};Xd.exports.defaultParsers={getDefaultJsonParser:hM,defaultTextParser:Hk};Xd.exports[Hhe]={rawBody:fM}});var Ta=w((W4e,dM)=>{"use strict";dM.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var i,n,s;if(Array.isArray(t)){if(i=t.length,i!=r.length)return!1;for(n=i;n--!==0;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),i=s.length,i!==Object.keys(r).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[n]))return!1;for(n=i;n--!==0;){var o=s[n];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}});var bM=w((G4e,_M)=>{"use strict";var pM=Ta(),ode=Symbol.for("json-schema-ref"),Di,Nn,Qd,ep,tp,rp,Gk,ip,Yk,Hu,Xv,np,Kk,sp,Jk,Qv,gM,e_,yM,t_,vM,Wk=class{constructor(t={}){N(this,rp);N(this,ip);N(this,Hu);N(this,np);N(this,sp);N(this,Qv);N(this,e_);N(this,t_);N(this,Di,void 0);N(this,Nn,void 0);N(this,Qd,void 0);N(this,ep,void 0);N(this,tp,void 0);A(this,Di,{}),A(this,Nn,{}),A(this,Qd,t.insertRefSymbol??!1),A(this,ep,t.allowEqualDuplicates??!0),A(this,tp,t.cloneSchemaWithoutRefs??!1)}addSchema(t,r){t.$id!==void 0&&t.$id.charAt(0)!=="#"?r=t.$id:L(this,sp,Jk).call(this,t,r),L(this,ip,Yk).call(this,t,r)}getSchema(t,r="#"){let i=d(this,Di)[t];if(i===void 0)throw new Error(`Cannot resolve ref "${t}${r}". Schema with id "${t}" is not found.`);return i.anchors[r]!==void 0?i.anchors[r]:mM(i.schema,r)}hasSchema(t){return d(this,Di)[t]!==void 0}getSchemaRefs(t){let r=d(this,Di)[t];if(r===void 0)throw new Error(`Schema with id "${t}" is not found.`);return r.refs}getSchemaDependencies(t,r={}){let i=d(this,Di)[t];for(let n of i.refs){let s=n.schemaId;r[s]===void 0&&(r[s]=this.getSchema(s),this.getSchemaDependencies(s,r))}return r}derefSchema(t){if(d(this,Nn)[t]!==void 0)return;let r=d(this,Di)[t];if(r===void 0)throw new Error(`Schema with id "${t}" is not found.`);!d(this,tp)&&r.refs.length===0&&(d(this,Nn)[t]={schema:r.schema,anchors:r.anchors});let i=[];L(this,Hu,Xv).call(this,r.schema,t,i);let n=this.getSchemaDependencies(t);for(let s in n){let o=n[s];L(this,Hu,Xv).call(this,o,s,i)}for(let s of i){let{refSchemaId:o,refJsonPointer:a}=L(this,rp,Gk).call(this,s.ref,s.sourceSchemaId),l=this.getDerefSchema(o,a);if(l===null)throw new Error(`Cannot resolve ref "${s.ref}". Ref "${a}" is not found in schema "${o}".`);s.targetSchema=l,s.targetSchemaId=o}for(let s of i)L(this,np,Kk).call(this,s,i)}getDerefSchema(t,r="#"){let i=d(this,Nn)[t];return i===void 0&&(this.derefSchema(t),i=d(this,Nn)[t]),i.anchors[r]!==void 0?i.anchors[r]:mM(i.schema,r)}};Di=new WeakMap,Nn=new WeakMap,Qd=new WeakMap,ep=new WeakMap,tp=new WeakMap,rp=new WeakSet,Gk=function(t,r){let i=t.indexOf("#");return i===-1?{refSchemaId:t,refJsonPointer:"#"}:i===0?{refSchemaId:r,refJsonPointer:t}:{refSchemaId:t.slice(0,i),refJsonPointer:t.slice(i)}},ip=new WeakSet,Yk=function(t,r){let i=t.$id;i!==void 0&&typeof i=="string"&&(i.charAt(0)==="#"?L(this,Qv,gM).call(this,t,r,i):(L(this,sp,Jk).call(this,t,i),r=i));let n=t.$ref;if(n!==void 0&&typeof n=="string"){let{refSchemaId:s,refJsonPointer:o}=L(this,rp,Gk).call(this,n,r);d(this,Di)[r].refs.push({schemaId:s,jsonPointer:o})}for(let s in t)typeof t[s]=="object"&&t[s]!==null&&L(this,ip,Yk).call(this,t[s],r)},Hu=new WeakSet,Xv=function(t,r,i=[]){let n=Array.isArray(t)?[...t]:{...t},s=n.$id;s!==void 0&&typeof s=="string"&&(s.charAt(0)==="#"?L(this,t_,vM).call(this,n,r,s):(L(this,e_,yM).call(this,n,s),r=s)),n.$ref!==void 0&&i.push({ref:n.$ref,sourceSchemaId:r,sourceSchema:n});for(let o in n){let a=n[o];typeof a=="object"&&a!==null&&(n[o]=L(this,Hu,Xv).call(this,a,r,i))}return n},np=new WeakSet,Kk=function(t,r){let{sourceSchema:i,targetSchema:n}=t;if(i.$ref){if(d(this,Qd)&&(i[ode]=i.$ref),delete i.$ref,n.$ref){let s=r.find(o=>o.sourceSchema===n);L(this,np,Kk).call(this,s,r)}for(let s in n)if(s!=="$id"){if(i[s]!==void 0){if(pM(i[s],n[s]))continue;throw new Error(`Cannot resolve ref "${t.ref}". Property "${s}" is already exist in schema "${t.sourceSchemaId}".`)}i[s]=n[s]}t.isResolved=!0}},sp=new WeakSet,Jk=function(t,r){let i=d(this,Di)[r];if(i!==void 0){if(d(this,ep)&&pM(t,i.schema))return;throw new Error(`There is already another schema with id "${r}".`)}d(this,Di)[r]={schema:t,anchors:{},refs:[]}},Qv=new WeakSet,gM=function(t,r,i){let{anchors:n}=d(this,Di)[r];if(n[i]!==void 0)throw new Error(`There is already another anchor "${i}" in a schema "${r}".`);n[i]=t},e_=new WeakSet,yM=function(t,r){d(this,Nn)[r]===void 0&&(d(this,Nn)[r]={schema:t,anchors:{}})},t_=new WeakSet,vM=function(t,r,i){let{anchors:n}=d(this,Nn)[r];n[i]=t};function mM(e,t){let r=t.split("/"),i=e;for(let n of r)if(!(n===""||n==="#")){if(typeof i!="object"||i===null)return null;i=i[n]}return i??null}_M.exports={RefResolver:Wk}});var Vu=w(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.regexpCode=je.getEsmExportName=je.getProperty=je.safeStringify=je.stringify=je.strConcat=je.addCodeArg=je.str=je._=je.nil=je._Code=je.Name=je.IDENTIFIER=je._CodeOrName=void 0;var op=class{};je._CodeOrName=op;je.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Xl=class extends op{constructor(t){if(super(),!je.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};je.Name=Xl;var un=class extends op{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((r,i)=>`${r}${i}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((r,i)=>(i instanceof Xl&&(r[i.str]=(r[i.str]||0)+1),r),{})}};je._Code=un;je.nil=new un("");function wM(e,...t){let r=[e[0]],i=0;for(;i<t.length;)Xk(r,t[i]),r.push(e[++i]);return new un(r)}je._=wM;var Zk=new un("+");function SM(e,...t){let r=[ap(e[0])],i=0;for(;i<t.length;)r.push(Zk),Xk(r,t[i]),r.push(Zk,ap(e[++i]));return ade(r),new un(r)}je.str=SM;function Xk(e,t){t instanceof un?e.push(...t._items):t instanceof Xl?e.push(t):e.push(ude(t))}je.addCodeArg=Xk;function ade(e){let t=1;for(;t<e.length-1;){if(e[t]===Zk){let r=lde(e[t-1],e[t+1]);if(r!==void 0){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function lde(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string")return t instanceof Xl||e[e.length-1]!=='"'?void 0:typeof t!="string"?`${e.slice(0,-1)}${t}"`:t[0]==='"'?e.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(e instanceof Xl))return`"${e}${t.slice(1)}`}function cde(e,t){return t.emptyStr()?e:e.emptyStr()?t:SM`${e}${t}`}je.strConcat=cde;function ude(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:ap(Array.isArray(e)?e.join(","):e)}function fde(e){return new un(ap(e))}je.stringify=fde;function ap(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}je.safeStringify=ap;function hde(e){return typeof e=="string"&&je.IDENTIFIER.test(e)?new un(`.${e}`):wM`[${e}]`}je.getProperty=hde;function dde(e){if(typeof e=="string"&&je.IDENTIFIER.test(e))return new un(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}je.getEsmExportName=dde;function pde(e){return new un(e.toString())}je.regexpCode=pde});var s_=w(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.ValueScope=Ti.ValueScopeName=Ti.Scope=Ti.varKinds=Ti.UsedValueState=void 0;var Ri=Vu(),Qk=class extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}},r_;(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(r_||(Ti.UsedValueState=r_={}));Ti.varKinds={const:new Ri.Name("const"),let:new Ri.Name("let"),var:new Ri.Name("var")};var i_=class{constructor({prefixes:t,parent:r}={}){this._names={},this._prefixes=t,this._parent=r}toName(t){return t instanceof Ri.Name?t:this.name(t)}name(t){return new Ri.Name(this._newName(t))}_newName(t){let r=this._names[t]||this._nameGroup(t);return`${t}${r.index++}`}_nameGroup(t){var r,i;if(!((i=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||i===void 0)&&i.has(t)||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}};Ti.Scope=i_;var n_=class extends Ri.Name{constructor(t,r){super(r),this.prefix=t}setValue(t,{property:r,itemIndex:i}){this.value=t,this.scopePath=(0,Ri._)`.${new Ri.Name(r)}[${i}]`}};Ti.ValueScopeName=n_;var mde=(0,Ri._)`\n`,eR=class extends i_{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts={...t,_n:t.lines?mde:Ri.nil}}get(){return this._scope}name(t){return new n_(t,this._newName(t))}value(t,r){var i;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let n=this.toName(t),{prefix:s}=n,o=(i=r.key)!==null&&i!==void 0?i:r.ref,a=this._values[s];if(a){let u=a.get(o);if(u)return u}else a=this._values[s]=new Map;a.set(o,n);let l=this._scope[s]||(this._scope[s]=[]),c=l.length;return l[c]=r.ref,n.setValue(r,{property:s,itemIndex:c}),n}getValue(t,r){let i=this._values[t];if(i)return i.get(r)}scopeRefs(t,r=this._values){return this._reduceValues(r,i=>{if(i.scopePath===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return(0,Ri._)`${t}${i.scopePath}`})}scopeCode(t=this._values,r,i){return this._reduceValues(t,n=>{if(n.value===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return n.value.code},r,i)}_reduceValues(t,r,i={},n){let s=Ri.nil;for(let o in t){let a=t[o];if(!a)continue;let l=i[o]=i[o]||new Map;a.forEach(c=>{if(l.has(c))return;l.set(c,r_.Started);let u=r(c);if(u){let f=this.opts.es5?Ti.varKinds.var:Ti.varKinds.const;s=(0,Ri._)`${s}${f} ${c} = ${u};${this.opts._n}`}else if(u=n?.(c))s=(0,Ri._)`${s}${u}${this.opts._n}`;else throw new Qk(c);l.set(c,r_.Completed)})}return s}};Ti.ValueScope=eR});var me=w(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.or=Re.and=Re.not=Re.CodeGen=Re.operators=Re.varKinds=Re.ValueScopeName=Re.ValueScope=Re.Scope=Re.Name=Re.regexpCode=Re.stringify=Re.getProperty=Re.nil=Re.strConcat=Re.str=Re._=void 0;var Fe=Vu(),$n=s_(),Oa=Vu();Object.defineProperty(Re,"_",{enumerable:!0,get:function(){return Oa._}});Object.defineProperty(Re,"str",{enumerable:!0,get:function(){return Oa.str}});Object.defineProperty(Re,"strConcat",{enumerable:!0,get:function(){return Oa.strConcat}});Object.defineProperty(Re,"nil",{enumerable:!0,get:function(){return Oa.nil}});Object.defineProperty(Re,"getProperty",{enumerable:!0,get:function(){return Oa.getProperty}});Object.defineProperty(Re,"stringify",{enumerable:!0,get:function(){return Oa.stringify}});Object.defineProperty(Re,"regexpCode",{enumerable:!0,get:function(){return Oa.regexpCode}});Object.defineProperty(Re,"Name",{enumerable:!0,get:function(){return Oa.Name}});var c_=s_();Object.defineProperty(Re,"Scope",{enumerable:!0,get:function(){return c_.Scope}});Object.defineProperty(Re,"ValueScope",{enumerable:!0,get:function(){return c_.ValueScope}});Object.defineProperty(Re,"ValueScopeName",{enumerable:!0,get:function(){return c_.ValueScopeName}});Object.defineProperty(Re,"varKinds",{enumerable:!0,get:function(){return c_.varKinds}});Re.operators={GT:new Fe._Code(">"),GTE:new Fe._Code(">="),LT:new Fe._Code("<"),LTE:new Fe._Code("<="),EQ:new Fe._Code("==="),NEQ:new Fe._Code("!=="),NOT:new Fe._Code("!"),OR:new Fe._Code("||"),AND:new Fe._Code("&&"),ADD:new Fe._Code("+")};var xo=class{optimizeNodes(){return this}optimizeNames(t,r){return this}},tR=class extends xo{constructor(t,r,i){super(),this.varKind=t,this.name=r,this.rhs=i}render({es5:t,_n:r}){let i=t?$n.varKinds.var:this.varKind,n=this.rhs===void 0?"":` = ${this.rhs}`;return`${i} ${this.name}${n};`+r}optimizeNames(t,r){if(t[this.name.str])return this.rhs&&(this.rhs=Gu(this.rhs,t,r)),this}get names(){return this.rhs instanceof Fe._CodeOrName?this.rhs.names:{}}},o_=class extends xo{constructor(t,r,i){super(),this.lhs=t,this.rhs=r,this.sideEffects=i}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,r){if(!(this.lhs instanceof Fe.Name&&!t[this.lhs.str]&&!this.sideEffects))return this.rhs=Gu(this.rhs,t,r),this}get names(){let t=this.lhs instanceof Fe.Name?{}:{...this.lhs.names};return l_(t,this.rhs)}},rR=class extends o_{constructor(t,r,i,n){super(t,i,n),this.op=r}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}},iR=class extends xo{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}},nR=class extends xo{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}},sR=class extends xo{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}},oR=class extends xo{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,r){return this.code=Gu(this.code,t,r),this}get names(){return this.code instanceof Fe._CodeOrName?this.code.names:{}}},lp=class extends xo{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((r,i)=>r+i.render(t),"")}optimizeNodes(){let{nodes:t}=this,r=t.length;for(;r--;){let i=t[r].optimizeNodes();Array.isArray(i)?t.splice(r,1,...i):i?t[r]=i:t.splice(r,1)}return t.length>0?this:void 0}optimizeNames(t,r){let{nodes:i}=this,n=i.length;for(;n--;){let s=i[n];s.optimizeNames(t,r)||(gde(t,s.names),i.splice(n,1))}return i.length>0?this:void 0}get names(){return this.nodes.reduce((t,r)=>tc(t,r.names),{})}},Eo=class extends lp{render(t){return"{"+t._n+super.render(t)+"}"+t._n}},aR=class extends lp{},Wu=class extends Eo{};Wu.kind="else";var Ql=class e extends Eo{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let i=r.optimizeNodes();r=this.else=Array.isArray(i)?new Wu(i):i}if(r)return t===!1?r instanceof e?r:r.nodes:this.nodes.length?this:new e(xM(t),r instanceof e?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var i;if(this.else=(i=this.else)===null||i===void 0?void 0:i.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=Gu(this.condition,t,r),this}get names(){let t=super.names;return l_(t,this.condition),this.else&&tc(t,this.else.names),t}};Ql.kind="if";var ec=class extends Eo{};ec.kind="for";var lR=class extends ec{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iteration=Gu(this.iteration,t,r),this}get names(){return tc(super.names,this.iteration.names)}},cR=class extends ec{constructor(t,r,i,n){super(),this.varKind=t,this.name=r,this.from=i,this.to=n}render(t){let r=t.es5?$n.varKinds.var:this.varKind,{name:i,from:n,to:s}=this;return`for(${r} ${i}=${n}; ${i}<${s}; ${i}++)`+super.render(t)}get names(){let t=l_(super.names,this.from);return l_(t,this.to)}},a_=class extends ec{constructor(t,r,i,n){super(),this.loop=t,this.varKind=r,this.name=i,this.iterable=n}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iterable=Gu(this.iterable,t,r),this}get names(){return tc(super.names,this.iterable.names)}},cp=class extends Eo{constructor(t,r,i){super(),this.name=t,this.args=r,this.async=i}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}};cp.kind="func";var up=class extends lp{render(t){return"return "+super.render(t)}};up.kind="return";var uR=class extends Eo{render(t){let r="try"+super.render(t);return this.catch&&(r+=this.catch.render(t)),this.finally&&(r+=this.finally.render(t)),r}optimizeNodes(){var t,r;return super.optimizeNodes(),(t=this.catch)===null||t===void 0||t.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(t,r){var i,n;return super.optimizeNames(t,r),(i=this.catch)===null||i===void 0||i.optimizeNames(t,r),(n=this.finally)===null||n===void 0||n.optimizeNames(t,r),this}get names(){let t=super.names;return this.catch&&tc(t,this.catch.names),this.finally&&tc(t,this.finally.names),t}},fp=class extends Eo{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}};fp.kind="catch";var hp=class extends Eo{render(t){return"finally"+super.render(t)}};hp.kind="finally";var fR=class{constructor(t,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=t,this._scope=new $n.Scope({parent:t}),this._nodes=[new aR]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,r){let i=this._extScope.value(t,r);return(this._values[i.prefix]||(this._values[i.prefix]=new Set)).add(i),i}getScopeValue(t,r){return this._extScope.getValue(t,r)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,r,i,n){let s=this._scope.toName(r);return i!==void 0&&n&&(this._constants[s.str]=i),this._leafNode(new tR(t,s,i)),s}const(t,r,i){return this._def($n.varKinds.const,t,r,i)}let(t,r,i){return this._def($n.varKinds.let,t,r,i)}var(t,r,i){return this._def($n.varKinds.var,t,r,i)}assign(t,r,i){return this._leafNode(new o_(t,r,i))}add(t,r){return this._leafNode(new rR(t,Re.operators.ADD,r))}code(t){return typeof t=="function"?t():t!==Fe.nil&&this._leafNode(new oR(t)),this}object(...t){let r=["{"];for(let[i,n]of t)r.length>1&&r.push(","),r.push(i),(i!==n||this.opts.es5)&&(r.push(":"),(0,Fe.addCodeArg)(r,n));return r.push("}"),new Fe._Code(r)}if(t,r,i){if(this._blockNode(new Ql(t)),r&&i)this.code(r).else().code(i).endIf();else if(r)this.code(r).endIf();else if(i)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new Ql(t))}else(){return this._elseNode(new Wu)}endIf(){return this._endBlockNode(Ql,Wu)}_for(t,r){return this._blockNode(t),r&&this.code(r).endFor(),this}for(t,r){return this._for(new lR(t),r)}forRange(t,r,i,n,s=this.opts.es5?$n.varKinds.var:$n.varKinds.let){let o=this._scope.toName(t);return this._for(new cR(s,o,r,i),()=>n(o))}forOf(t,r,i,n=$n.varKinds.const){let s=this._scope.toName(t);if(this.opts.es5){let o=r instanceof Fe.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,Fe._)`${o}.length`,a=>{this.var(s,(0,Fe._)`${o}[${a}]`),i(s)})}return this._for(new a_("of",n,s,r),()=>i(s))}forIn(t,r,i,n=this.opts.es5?$n.varKinds.var:$n.varKinds.const){if(this.opts.ownProperties)return this.forOf(t,(0,Fe._)`Object.keys(${r})`,i);let s=this._scope.toName(t);return this._for(new a_("in",n,s,r),()=>i(s))}endFor(){return this._endBlockNode(ec)}label(t){return this._leafNode(new iR(t))}break(t){return this._leafNode(new nR(t))}return(t){let r=new up;if(this._blockNode(r),this.code(t),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(up)}try(t,r,i){if(!r&&!i)throw new Error('CodeGen: "try" without "catch" and "finally"');let n=new uR;if(this._blockNode(n),this.code(t),r){let s=this.name("e");this._currNode=n.catch=new fp(s),r(s)}return i&&(this._currNode=n.finally=new hp,this.code(i)),this._endBlockNode(fp,hp)}throw(t){return this._leafNode(new sR(t))}block(t,r){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(r),this}endBlock(t){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let i=this._nodes.length-r;if(i<0||t!==void 0&&i!==t)throw new Error(`CodeGen: wrong number of nodes: ${i} vs ${t} expected`);return this._nodes.length=r,this}func(t,r=Fe.nil,i,n){return this._blockNode(new cp(t,r,i)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(cp)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,r){let i=this._currNode;if(i instanceof t||r&&i instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${t.kind}/${r.kind}`:t.kind}"`)}_elseNode(t){let r=this._currNode;if(!(r instanceof Ql))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=t,this}get _root(){return this._nodes[0]}get _currNode(){let t=this._nodes;return t[t.length-1]}set _currNode(t){let r=this._nodes;r[r.length-1]=t}};Re.CodeGen=fR;function tc(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function l_(e,t){return t instanceof Fe._CodeOrName?tc(e,t.names):e}function Gu(e,t,r){if(e instanceof Fe.Name)return i(e);if(!n(e))return e;return new Fe._Code(e._items.reduce((s,o)=>(o instanceof Fe.Name&&(o=i(o)),o instanceof Fe._Code?s.push(...o._items):s.push(o),s),[]));function i(s){let o=r[s.str];return o===void 0||t[s.str]!==1?s:(delete t[s.str],o)}function n(s){return s instanceof Fe._Code&&s._items.some(o=>o instanceof Fe.Name&&t[o.str]===1&&r[o.str]!==void 0)}}function gde(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function xM(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,Fe._)`!${hR(e)}`}Re.not=xM;var yde=EM(Re.operators.AND);function vde(...e){return e.reduce(yde)}Re.and=vde;var _de=EM(Re.operators.OR);function bde(...e){return e.reduce(_de)}Re.or=bde;function EM(e){return(t,r)=>t===Fe.nil?r:r===Fe.nil?t:(0,Fe._)`${hR(t)} ${e} ${hR(r)}`}function hR(e){return e instanceof Fe.Name?e:(0,Fe._)`(${e})`}});var ke=w(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.checkStrictMode=Ae.getErrorPath=Ae.Type=Ae.useFunc=Ae.setEvaluated=Ae.evaluatedPropsToName=Ae.mergeEvaluated=Ae.eachItem=Ae.unescapeJsonPointer=Ae.escapeJsonPointer=Ae.escapeFragment=Ae.unescapeFragment=Ae.schemaRefOrVal=Ae.schemaHasRulesButRef=Ae.schemaHasRules=Ae.checkUnknownRules=Ae.alwaysValidSchema=Ae.toHash=void 0;var Ke=me(),wde=Vu();function Sde(e){let t={};for(let r of e)t[r]=!0;return t}Ae.toHash=Sde;function xde(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(TM(e,t),!OM(t,e.self.RULES.all))}Ae.alwaysValidSchema=xde;function TM(e,t=e.schema){let{opts:r,self:i}=e;if(!r.strictSchema||typeof t=="boolean")return;let n=i.RULES.keywords;for(let s in t)n[s]||PM(e,`unknown keyword: "${s}"`)}Ae.checkUnknownRules=TM;function OM(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(t[r])return!0;return!1}Ae.schemaHasRules=OM;function Ede(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}Ae.schemaHasRulesButRef=Ede;function kde({topSchemaRef:e,schemaPath:t},r,i,n){if(!n){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Ke._)`${r}`}return(0,Ke._)`${e}${t}${(0,Ke.getProperty)(i)}`}Ae.schemaRefOrVal=kde;function Rde(e){return AM(decodeURIComponent(e))}Ae.unescapeFragment=Rde;function Tde(e){return encodeURIComponent(pR(e))}Ae.escapeFragment=Tde;function pR(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}Ae.escapeJsonPointer=pR;function AM(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}Ae.unescapeJsonPointer=AM;function Ode(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}Ae.eachItem=Ode;function kM({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:i}){return(n,s,o,a)=>{let l=o===void 0?s:o instanceof Ke.Name?(s instanceof Ke.Name?e(n,s,o):t(n,s,o),o):s instanceof Ke.Name?(t(n,o,s),s):r(s,o);return a===Ke.Name&&!(l instanceof Ke.Name)?i(n,l):l}}Ae.mergeEvaluated={props:kM({mergeNames:(e,t,r)=>e.if((0,Ke._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,Ke._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,Ke._)`${r} || {}`).code((0,Ke._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,Ke._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,Ke._)`${r} || {}`),mR(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:CM}),items:kM({mergeNames:(e,t,r)=>e.if((0,Ke._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,Ke._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,Ke._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,Ke._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function CM(e,t){if(t===!0)return e.var("props",!0);let r=e.var("props",(0,Ke._)`{}`);return t!==void 0&&mR(e,r,t),r}Ae.evaluatedPropsToName=CM;function mR(e,t,r){Object.keys(r).forEach(i=>e.assign((0,Ke._)`${t}${(0,Ke.getProperty)(i)}`,!0))}Ae.setEvaluated=mR;var RM={};function Ade(e,t){return e.scopeValue("func",{ref:t,code:RM[t.code]||(RM[t.code]=new wde._Code(t.code))})}Ae.useFunc=Ade;var dR;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(dR||(Ae.Type=dR={}));function Cde(e,t,r){if(e instanceof Ke.Name){let i=t===dR.Num;return r?i?(0,Ke._)`"[" + ${e} + "]"`:(0,Ke._)`"['" + ${e} + "']"`:i?(0,Ke._)`"/" + ${e}`:(0,Ke._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Ke.getProperty)(e).toString():"/"+pR(e)}Ae.getErrorPath=Cde;function PM(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}Ae.checkStrictMode=PM});var fn=w(gR=>{"use strict";Object.defineProperty(gR,"__esModule",{value:!0});var Fr=me(),Pde={data:new Fr.Name("data"),valCxt:new Fr.Name("valCxt"),instancePath:new Fr.Name("instancePath"),parentData:new Fr.Name("parentData"),parentDataProperty:new Fr.Name("parentDataProperty"),rootData:new Fr.Name("rootData"),dynamicAnchors:new Fr.Name("dynamicAnchors"),vErrors:new Fr.Name("vErrors"),errors:new Fr.Name("errors"),this:new Fr.Name("this"),self:new Fr.Name("self"),scope:new Fr.Name("scope"),json:new Fr.Name("json"),jsonPos:new Fr.Name("jsonPos"),jsonLen:new Fr.Name("jsonLen"),jsonPart:new Fr.Name("jsonPart")};gR.default=Pde});var dp=w(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.extendErrors=Dr.resetErrorsCount=Dr.reportExtraError=Dr.reportError=Dr.keyword$DataError=Dr.keywordError=void 0;var Le=me(),u_=ke(),ri=fn();Dr.keywordError={message:({keyword:e})=>(0,Le.str)`must pass "${e}" keyword validation`};Dr.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,Le.str)`"${e}" keyword must be ${t} ($data)`:(0,Le.str)`"${e}" keyword is invalid ($data)`};function Ide(e,t=Dr.keywordError,r,i){let{it:n}=e,{gen:s,compositeRule:o,allErrors:a}=n,l=$M(e,t,r);i??(o||a)?IM(s,l):NM(n,(0,Le._)`[${l}]`)}Dr.reportError=Ide;function Nde(e,t=Dr.keywordError,r){let{it:i}=e,{gen:n,compositeRule:s,allErrors:o}=i,a=$M(e,t,r);IM(n,a),s||o||NM(i,ri.default.vErrors)}Dr.reportExtraError=Nde;function $de(e,t){e.assign(ri.default.errors,t),e.if((0,Le._)`${ri.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,Le._)`${ri.default.vErrors}.length`,t),()=>e.assign(ri.default.vErrors,null)))}Dr.resetErrorsCount=$de;function Fde({gen:e,keyword:t,schemaValue:r,data:i,errsCount:n,it:s}){if(n===void 0)throw new Error("ajv implementation error");let o=e.name("err");e.forRange("i",n,ri.default.errors,a=>{e.const(o,(0,Le._)`${ri.default.vErrors}[${a}]`),e.if((0,Le._)`${o}.instancePath === undefined`,()=>e.assign((0,Le._)`${o}.instancePath`,(0,Le.strConcat)(ri.default.instancePath,s.errorPath))),e.assign((0,Le._)`${o}.schemaPath`,(0,Le.str)`${s.errSchemaPath}/${t}`),s.opts.verbose&&(e.assign((0,Le._)`${o}.schema`,r),e.assign((0,Le._)`${o}.data`,i))})}Dr.extendErrors=Fde;function IM(e,t){let r=e.const("err",t);e.if((0,Le._)`${ri.default.vErrors} === null`,()=>e.assign(ri.default.vErrors,(0,Le._)`[${r}]`),(0,Le._)`${ri.default.vErrors}.push(${r})`),e.code((0,Le._)`${ri.default.errors}++`)}function NM(e,t){let{gen:r,validateName:i,schemaEnv:n}=e;n.$async?r.throw((0,Le._)`new ${e.ValidationError}(${t})`):(r.assign((0,Le._)`${i}.errors`,t),r.return(!1))}var rc={keyword:new Le.Name("keyword"),schemaPath:new Le.Name("schemaPath"),params:new Le.Name("params"),propertyName:new Le.Name("propertyName"),message:new Le.Name("message"),schema:new Le.Name("schema"),parentSchema:new Le.Name("parentSchema")};function $M(e,t,r){let{createErrors:i}=e.it;return i===!1?(0,Le._)`{}`:Dde(e,t,r)}function Dde(e,t,r={}){let{gen:i,it:n}=e,s=[Lde(n,r),jde(e,r)];return qde(e,t,s),i.object(...s)}function Lde({errorPath:e},{instancePath:t}){let r=t?(0,Le.str)`${e}${(0,u_.getErrorPath)(t,u_.Type.Str)}`:e;return[ri.default.instancePath,(0,Le.strConcat)(ri.default.instancePath,r)]}function jde({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:i}){let n=i?t:(0,Le.str)`${t}/${e}`;return r&&(n=(0,Le.str)`${n}${(0,u_.getErrorPath)(r,u_.Type.Str)}`),[rc.schemaPath,n]}function qde(e,{params:t,message:r},i){let{keyword:n,data:s,schemaValue:o,it:a}=e,{opts:l,propertyName:c,topSchemaRef:u,schemaPath:f}=a;i.push([rc.keyword,n],[rc.params,typeof t=="function"?t(e):t||(0,Le._)`{}`]),l.messages&&i.push([rc.message,typeof r=="function"?r(e):r]),l.verbose&&i.push([rc.schema,o],[rc.parentSchema,(0,Le._)`${u}${f}`],[ri.default.data,s]),c&&i.push([rc.propertyName,c])}});var DM=w(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.boolOrEmptySchema=Yu.topBoolOrEmptySchema=void 0;var Mde=dp(),zde=me(),Ude=fn(),Bde={message:"boolean schema is false"};function Hde(e){let{gen:t,schema:r,validateName:i}=e;r===!1?FM(e,!1):typeof r=="object"&&r.$async===!0?t.return(Ude.default.data):(t.assign((0,zde._)`${i}.errors`,null),t.return(!0))}Yu.topBoolOrEmptySchema=Hde;function Vde(e,t){let{gen:r,schema:i}=e;i===!1?(r.var(t,!1),FM(e)):r.var(t,!0)}Yu.boolOrEmptySchema=Vde;function FM(e,t){let{gen:r,data:i}=e,n={gen:r,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Mde.reportError)(n,Bde,void 0,t)}});var yR=w(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.getRules=Ku.isJSONType=void 0;var Wde=["string","number","integer","boolean","null","object","array"],Gde=new Set(Wde);function Yde(e){return typeof e=="string"&&Gde.has(e)}Ku.isJSONType=Yde;function Kde(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Ku.getRules=Kde});var vR=w(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.shouldUseRule=Aa.shouldUseGroup=Aa.schemaHasRulesForType=void 0;function Jde({schema:e,self:t},r){let i=t.RULES.types[r];return i&&i!==!0&&LM(e,i)}Aa.schemaHasRulesForType=Jde;function LM(e,t){return t.rules.some(r=>jM(e,r))}Aa.shouldUseGroup=LM;function jM(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(i=>e[i]!==void 0))}Aa.shouldUseRule=jM});var pp=w(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.reportTypeError=Lr.checkDataTypes=Lr.checkDataType=Lr.coerceAndCheckDataType=Lr.getJSONTypes=Lr.getSchemaTypes=Lr.DataType=void 0;var Zde=yR(),Xde=vR(),Qde=dp(),Ee=me(),qM=ke(),Ju;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Ju||(Lr.DataType=Ju={}));function epe(e){let t=MM(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Lr.getSchemaTypes=epe;function MM(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(Zde.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Lr.getJSONTypes=MM;function tpe(e,t){let{gen:r,data:i,opts:n}=e,s=rpe(t,n.coerceTypes),o=t.length>0&&!(s.length===0&&t.length===1&&(0,Xde.schemaHasRulesForType)(e,t[0]));if(o){let a=bR(t,i,n.strictNumbers,Ju.Wrong);r.if(a,()=>{s.length?ipe(e,t,s):wR(e)})}return o}Lr.coerceAndCheckDataType=tpe;var zM=new Set(["string","number","integer","boolean","null"]);function rpe(e,t){return t?e.filter(r=>zM.has(r)||t==="array"&&r==="array"):[]}function ipe(e,t,r){let{gen:i,data:n,opts:s}=e,o=i.let("dataType",(0,Ee._)`typeof ${n}`),a=i.let("coerced",(0,Ee._)`undefined`);s.coerceTypes==="array"&&i.if((0,Ee._)`${o} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>i.assign(n,(0,Ee._)`${n}[0]`).assign(o,(0,Ee._)`typeof ${n}`).if(bR(t,n,s.strictNumbers),()=>i.assign(a,n))),i.if((0,Ee._)`${a} !== undefined`);for(let c of r)(zM.has(c)||c==="array"&&s.coerceTypes==="array")&&l(c);i.else(),wR(e),i.endIf(),i.if((0,Ee._)`${a} !== undefined`,()=>{i.assign(n,a),npe(e,a)});function l(c){switch(c){case"string":i.elseIf((0,Ee._)`${o} == "number" || ${o} == "boolean"`).assign(a,(0,Ee._)`"" + ${n}`).elseIf((0,Ee._)`${n} === null`).assign(a,(0,Ee._)`""`);return;case"number":i.elseIf((0,Ee._)`${o} == "boolean" || ${n} === null
              || (${o} == "string" && ${n} && ${n} == +${n})`).assign(a,(0,Ee._)`+${n}`);return;case"integer":i.elseIf((0,Ee._)`${o} === "boolean" || ${n} === null
              || (${o} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(a,(0,Ee._)`+${n}`);return;case"boolean":i.elseIf((0,Ee._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(a,!1).elseIf((0,Ee._)`${n} === "true" || ${n} === 1`).assign(a,!0);return;case"null":i.elseIf((0,Ee._)`${n} === "" || ${n} === 0 || ${n} === false`),i.assign(a,null);return;case"array":i.elseIf((0,Ee._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${n} === null`).assign(a,(0,Ee._)`[${n}]`)}}}function npe({gen:e,parentData:t,parentDataProperty:r},i){e.if((0,Ee._)`${t} !== undefined`,()=>e.assign((0,Ee._)`${t}[${r}]`,i))}function _R(e,t,r,i=Ju.Correct){let n=i===Ju.Correct?Ee.operators.EQ:Ee.operators.NEQ,s;switch(e){case"null":return(0,Ee._)`${t} ${n} null`;case"array":s=(0,Ee._)`Array.isArray(${t})`;break;case"object":s=(0,Ee._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=o((0,Ee._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=o();break;default:return(0,Ee._)`typeof ${t} ${n} ${e}`}return i===Ju.Correct?s:(0,Ee.not)(s);function o(a=Ee.nil){return(0,Ee.and)((0,Ee._)`typeof ${t} == "number"`,a,r?(0,Ee._)`isFinite(${t})`:Ee.nil)}}Lr.checkDataType=_R;function bR(e,t,r,i){if(e.length===1)return _R(e[0],t,r,i);let n,s=(0,qM.toHash)(e);if(s.array&&s.object){let o=(0,Ee._)`typeof ${t} != "object"`;n=s.null?o:(0,Ee._)`!${t} || ${o}`,delete s.null,delete s.array,delete s.object}else n=Ee.nil;s.number&&delete s.integer;for(let o in s)n=(0,Ee.and)(n,_R(o,t,r,i));return n}Lr.checkDataTypes=bR;var spe={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,Ee._)`{type: ${e}}`:(0,Ee._)`{type: ${t}}`};function wR(e){let t=ope(e);(0,Qde.reportError)(t,spe)}Lr.reportTypeError=wR;function ope(e){let{gen:t,data:r,schema:i}=e,n=(0,qM.schemaRefOrVal)(e,i,"type");return{gen:t,keyword:"type",data:r,schema:i.type,schemaCode:n,schemaValue:n,parentSchema:i,params:{},it:e}}});var BM=w(f_=>{"use strict";Object.defineProperty(f_,"__esModule",{value:!0});f_.assignDefaults=void 0;var Zu=me(),ape=ke();function lpe(e,t){let{properties:r,items:i}=e.schema;if(t==="object"&&r)for(let n in r)UM(e,n,r[n].default);else t==="array"&&Array.isArray(i)&&i.forEach((n,s)=>UM(e,s,n.default))}f_.assignDefaults=lpe;function UM(e,t,r){let{gen:i,compositeRule:n,data:s,opts:o}=e;if(r===void 0)return;let a=(0,Zu._)`${s}${(0,Zu.getProperty)(t)}`;if(n){(0,ape.checkStrictMode)(e,`default is ignored for: ${a}`);return}let l=(0,Zu._)`${a} === undefined`;o.useDefaults==="empty"&&(l=(0,Zu._)`${l} || ${a} === null || ${a} === ""`),i.if(l,(0,Zu._)`${a} = ${(0,Zu.stringify)(r)}`)}});var Sr=w(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.validateUnion=Ge.validateArray=Ge.usePattern=Ge.callValidateCode=Ge.schemaProperties=Ge.allSchemaProperties=Ge.noPropertyInData=Ge.propertyInData=Ge.isOwnProperty=Ge.hasPropFunc=Ge.reportMissingProp=Ge.checkMissingProp=Ge.checkReportMissingProp=void 0;var nt=me(),SR=ke(),Ca=fn(),cpe=ke();function upe(e,t){let{gen:r,data:i,it:n}=e;r.if(ER(r,i,t,n.opts.ownProperties),()=>{e.setParams({missingProperty:(0,nt._)`${t}`},!0),e.error()})}Ge.checkReportMissingProp=upe;function fpe({gen:e,data:t,it:{opts:r}},i,n){return(0,nt.or)(...i.map(s=>(0,nt.and)(ER(e,t,s,r.ownProperties),(0,nt._)`${n} = ${s}`)))}Ge.checkMissingProp=fpe;function hpe(e,t){e.setParams({missingProperty:t},!0),e.error()}Ge.reportMissingProp=hpe;function HM(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,nt._)`Object.prototype.hasOwnProperty`})}Ge.hasPropFunc=HM;function xR(e,t,r){return(0,nt._)`${HM(e)}.call(${t}, ${r})`}Ge.isOwnProperty=xR;function dpe(e,t,r,i){let n=(0,nt._)`${t}${(0,nt.getProperty)(r)} !== undefined`;return i?(0,nt._)`${n} && ${xR(e,t,r)}`:n}Ge.propertyInData=dpe;function ER(e,t,r,i){let n=(0,nt._)`${t}${(0,nt.getProperty)(r)} === undefined`;return i?(0,nt.or)(n,(0,nt.not)(xR(e,t,r))):n}Ge.noPropertyInData=ER;function VM(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Ge.allSchemaProperties=VM;function ppe(e,t){return VM(t).filter(r=>!(0,SR.alwaysValidSchema)(e,t[r]))}Ge.schemaProperties=ppe;function mpe({schemaCode:e,data:t,it:{gen:r,topSchemaRef:i,schemaPath:n,errorPath:s},it:o},a,l,c){let u=c?(0,nt._)`${e}, ${t}, ${i}${n}`:t,f=[[Ca.default.instancePath,(0,nt.strConcat)(Ca.default.instancePath,s)],[Ca.default.parentData,o.parentData],[Ca.default.parentDataProperty,o.parentDataProperty],[Ca.default.rootData,Ca.default.rootData]];o.opts.dynamicRef&&f.push([Ca.default.dynamicAnchors,Ca.default.dynamicAnchors]);let h=(0,nt._)`${u}, ${r.object(...f)}`;return l!==nt.nil?(0,nt._)`${a}.call(${l}, ${h})`:(0,nt._)`${a}(${h})`}Ge.callValidateCode=mpe;var gpe=(0,nt._)`new RegExp`;function ype({gen:e,it:{opts:t}},r){let i=t.unicodeRegExp?"u":"",{regExp:n}=t.code,s=n(r,i);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,nt._)`${n.code==="new RegExp"?gpe:(0,cpe.useFunc)(e,n)}(${r}, ${i})`})}Ge.usePattern=ype;function vpe(e){let{gen:t,data:r,keyword:i,it:n}=e,s=t.name("valid");if(n.allErrors){let a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){let l=t.const("len",(0,nt._)`${r}.length`);t.forRange("i",0,l,c=>{e.subschema({keyword:i,dataProp:c,dataPropType:SR.Type.Num},s),t.if((0,nt.not)(s),a)})}}Ge.validateArray=vpe;function _pe(e){let{gen:t,schema:r,keyword:i,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,SR.alwaysValidSchema)(n,l))&&!n.opts.unevaluated)return;let o=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((l,c)=>{let u=e.subschema({keyword:i,schemaProp:c,compositeRule:!0},a);t.assign(o,(0,nt._)`${o} || ${a}`),e.mergeValidEvaluated(u,a)||t.if((0,nt.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Ge.validateUnion=_pe});var YM=w(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.validateKeywordUsage=ks.validSchemaType=ks.funcKeywordCode=ks.macroKeywordCode=void 0;var ii=me(),ic=fn(),bpe=Sr(),wpe=dp();function Spe(e,t){let{gen:r,keyword:i,schema:n,parentSchema:s,it:o}=e,a=t.macro.call(o.self,n,s,o),l=GM(r,i,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);let c=r.name("valid");e.subschema({schema:a,schemaPath:ii.nil,errSchemaPath:`${o.errSchemaPath}/${i}`,topSchemaRef:l,compositeRule:!0},c),e.pass(c,()=>e.error(!0))}ks.macroKeywordCode=Spe;function xpe(e,t){var r;let{gen:i,keyword:n,schema:s,parentSchema:o,$data:a,it:l}=e;kpe(l,t);let c=!a&&t.compile?t.compile.call(l.self,s,o,l):t.validate,u=GM(i,n,c),f=i.let("valid");e.block$data(f,h),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function h(){if(t.errors===!1)g(),t.modifying&&WM(e),y(()=>e.error());else{let _=t.async?p():m();t.modifying&&WM(e),y(()=>Epe(e,_))}}function p(){let _=i.let("ruleErrs",null);return i.try(()=>g((0,ii._)`await `),S=>i.assign(f,!1).if((0,ii._)`${S} instanceof ${l.ValidationError}`,()=>i.assign(_,(0,ii._)`${S}.errors`),()=>i.throw(S))),_}function m(){let _=(0,ii._)`${u}.errors`;return i.assign(_,null),g(ii.nil),_}function g(_=t.async?(0,ii._)`await `:ii.nil){let S=l.opts.passContext?ic.default.this:ic.default.self,b=!("compile"in t&&!a||t.schema===!1);i.assign(f,(0,ii._)`${_}${(0,bpe.callValidateCode)(e,u,S,b)}`,t.modifying)}function y(_){var S;i.if((0,ii.not)((S=t.valid)!==null&&S!==void 0?S:f),_)}}ks.funcKeywordCode=xpe;function WM(e){let{gen:t,data:r,it:i}=e;t.if(i.parentData,()=>t.assign(r,(0,ii._)`${i.parentData}[${i.parentDataProperty}]`))}function Epe(e,t){let{gen:r}=e;r.if((0,ii._)`Array.isArray(${t})`,()=>{r.assign(ic.default.vErrors,(0,ii._)`${ic.default.vErrors} === null ? ${t} : ${ic.default.vErrors}.concat(${t})`).assign(ic.default.errors,(0,ii._)`${ic.default.vErrors}.length`),(0,wpe.extendErrors)(e)},()=>e.error())}function kpe({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function GM(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ii.stringify)(r)})}function Rpe(e,t,r=!1){return!t.length||t.some(i=>i==="array"?Array.isArray(e):i==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==i||r&&typeof e>"u")}ks.validSchemaType=Rpe;function Tpe({schema:e,opts:t,self:r,errSchemaPath:i},n,s){if(Array.isArray(n.keyword)?!n.keyword.includes(s):n.keyword!==s)throw new Error("ajv implementation error");let o=n.dependencies;if(o?.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(n.validateSchema&&!n.validateSchema(e[s])){let l=`keyword "${s}" value is invalid at path "${i}": `+r.errorsText(n.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}ks.validateKeywordUsage=Tpe});var JM=w(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.extendSubschemaMode=Pa.extendSubschemaData=Pa.getSubschema=void 0;var Rs=me(),KM=ke();function Ope(e,{keyword:t,schemaProp:r,schema:i,schemaPath:n,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){let a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Rs._)`${e.schemaPath}${(0,Rs.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Rs._)`${e.schemaPath}${(0,Rs.getProperty)(t)}${(0,Rs.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,KM.escapeFragment)(r)}`}}if(i!==void 0){if(n===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:n,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Pa.getSubschema=Ope;function Ape(e,t,{dataProp:r,dataPropType:i,data:n,dataTypes:s,propertyName:o}){if(n!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=t;if(r!==void 0){let{errorPath:c,dataPathArr:u,opts:f}=t,h=a.let("data",(0,Rs._)`${t.data}${(0,Rs.getProperty)(r)}`,!0);l(h),e.errorPath=(0,Rs.str)`${c}${(0,KM.getErrorPath)(r,i,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Rs._)`${r}`,e.dataPathArr=[...u,e.parentDataProperty]}if(n!==void 0){let c=n instanceof Rs.Name?n:a.let("data",n,!0);l(c),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function l(c){e.data=c,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,c]}}Pa.extendSubschemaData=Ape;function Cpe(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:i,createErrors:n,allErrors:s}){i!==void 0&&(e.compositeRule=i),n!==void 0&&(e.createErrors=n),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}Pa.extendSubschemaMode=Cpe});var XM=w((c5e,ZM)=>{"use strict";var Ia=ZM.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var i=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};h_(t,i,n,e,"",e)};Ia.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ia.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ia.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ia.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function h_(e,t,r,i,n,s,o,a,l,c){if(i&&typeof i=="object"&&!Array.isArray(i)){t(i,n,s,o,a,l,c);for(var u in i){var f=i[u];if(Array.isArray(f)){if(u in Ia.arrayKeywords)for(var h=0;h<f.length;h++)h_(e,t,r,f[h],n+"/"+u+"/"+h,s,n,u,i,h)}else if(u in Ia.propsKeywords){if(f&&typeof f=="object")for(var p in f)h_(e,t,r,f[p],n+"/"+u+"/"+Ppe(p),s,n,u,i,p)}else(u in Ia.keywords||e.allKeys&&!(u in Ia.skipKeywords))&&h_(e,t,r,f,n+"/"+u,s,n,u,i)}r(i,n,s,o,a,l,c)}}function Ppe(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var mp=w(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.getSchemaRefs=Oi.resolveUrl=Oi.normalizeId=Oi._getFullPath=Oi.getFullPath=Oi.inlineRef=void 0;var Ipe=ke(),Npe=Ta(),$pe=XM(),Fpe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Dpe(e,t=!0){return typeof e=="boolean"?!0:t===!0?!kR(e):t?QM(e)<=t:!1}Oi.inlineRef=Dpe;var Lpe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function kR(e){for(let t in e){if(Lpe.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(kR)||typeof r=="object"&&kR(r))return!0}return!1}function QM(e){let t=0;for(let r in e){if(r==="$ref")return 1/0;if(t++,!Fpe.has(r)&&(typeof e[r]=="object"&&(0,Ipe.eachItem)(e[r],i=>t+=QM(i)),t===1/0))return 1/0}return t}function e3(e,t="",r){r!==!1&&(t=Xu(t));let i=e.parse(t);return t3(e,i)}Oi.getFullPath=e3;function t3(e,t){return e.serialize(t).split("#")[0]+"#"}Oi._getFullPath=t3;var jpe=/#\/?$/;function Xu(e){return e?e.replace(jpe,""):""}Oi.normalizeId=Xu;function qpe(e,t,r){return r=Xu(r),e.resolve(t,r)}Oi.resolveUrl=qpe;var Mpe=/^[a-z_][-a-z0-9._]*$/i;function zpe(e,t){if(typeof e=="boolean")return{};let{schemaId:r,uriResolver:i}=this.opts,n=Xu(e[r]||t),s={"":n},o=e3(i,n,!1),a={},l=new Set;return $pe(e,{allKeys:!0},(f,h,p,m)=>{if(m===void 0)return;let g=o+h,y=s[m];typeof f[r]=="string"&&(y=_.call(this,f[r])),S.call(this,f.$anchor),S.call(this,f.$dynamicAnchor),s[h]=y;function _(b){let v=this.opts.uriResolver.resolve;if(b=Xu(y?v(y,b):b),l.has(b))throw u(b);l.add(b);let O=this.refs[b];return typeof O=="string"&&(O=this.refs[O]),typeof O=="object"?c(f,O.schema,b):b!==Xu(g)&&(b[0]==="#"?(c(f,a[b],b),a[b]=f):this.refs[b]=g),b}function S(b){if(typeof b=="string"){if(!Mpe.test(b))throw new Error(`invalid anchor "${b}"`);_.call(this,`#${b}`)}}}),a;function c(f,h,p){if(h!==void 0&&!Npe(f,h))throw u(p)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Oi.getSchemaRefs=zpe});var Qu=w(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.getData=Na.KeywordCxt=Na.validateFunctionCode=void 0;var o3=DM(),r3=pp(),TR=vR(),d_=pp(),Upe=BM(),yp=YM(),RR=JM(),fe=me(),ve=fn(),Bpe=mp(),ko=ke(),gp=dp();function Hpe(e){if(c3(e)&&(u3(e),l3(e))){Gpe(e);return}a3(e,()=>(0,o3.topBoolOrEmptySchema)(e))}Na.validateFunctionCode=Hpe;function a3({gen:e,validateName:t,schema:r,schemaEnv:i,opts:n},s){n.code.es5?e.func(t,(0,fe._)`${ve.default.data}, ${ve.default.valCxt}`,i.$async,()=>{e.code((0,fe._)`"use strict"; ${i3(r,n)}`),Wpe(e,n),e.code(s)}):e.func(t,(0,fe._)`${ve.default.data}, ${Vpe(n)}`,i.$async,()=>e.code(i3(r,n)).code(s))}function Vpe(e){return(0,fe._)`{${ve.default.instancePath}="", ${ve.default.parentData}, ${ve.default.parentDataProperty}, ${ve.default.rootData}=${ve.default.data}${e.dynamicRef?(0,fe._)`, ${ve.default.dynamicAnchors}={}`:fe.nil}}={}`}function Wpe(e,t){e.if(ve.default.valCxt,()=>{e.var(ve.default.instancePath,(0,fe._)`${ve.default.valCxt}.${ve.default.instancePath}`),e.var(ve.default.parentData,(0,fe._)`${ve.default.valCxt}.${ve.default.parentData}`),e.var(ve.default.parentDataProperty,(0,fe._)`${ve.default.valCxt}.${ve.default.parentDataProperty}`),e.var(ve.default.rootData,(0,fe._)`${ve.default.valCxt}.${ve.default.rootData}`),t.dynamicRef&&e.var(ve.default.dynamicAnchors,(0,fe._)`${ve.default.valCxt}.${ve.default.dynamicAnchors}`)},()=>{e.var(ve.default.instancePath,(0,fe._)`""`),e.var(ve.default.parentData,(0,fe._)`undefined`),e.var(ve.default.parentDataProperty,(0,fe._)`undefined`),e.var(ve.default.rootData,ve.default.data),t.dynamicRef&&e.var(ve.default.dynamicAnchors,(0,fe._)`{}`)})}function Gpe(e){let{schema:t,opts:r,gen:i}=e;a3(e,()=>{r.$comment&&t.$comment&&h3(e),Xpe(e),i.let(ve.default.vErrors,null),i.let(ve.default.errors,0),r.unevaluated&&Ype(e),f3(e),tme(e)})}function Ype(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,fe._)`${r}.evaluated`),t.if((0,fe._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,fe._)`${e.evaluated}.props`,(0,fe._)`undefined`)),t.if((0,fe._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,fe._)`${e.evaluated}.items`,(0,fe._)`undefined`))}function i3(e,t){let r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,fe._)`/*# sourceURL=${r} */`:fe.nil}function Kpe(e,t){if(c3(e)&&(u3(e),l3(e))){Jpe(e,t);return}(0,o3.boolOrEmptySchema)(e,t)}function l3({schema:e,self:t}){if(typeof e=="boolean")return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function c3(e){return typeof e.schema!="boolean"}function Jpe(e,t){let{schema:r,gen:i,opts:n}=e;n.$comment&&r.$comment&&h3(e),Qpe(e),eme(e);let s=i.const("_errs",ve.default.errors);f3(e,s),i.var(t,(0,fe._)`${s} === ${ve.default.errors}`)}function u3(e){(0,ko.checkUnknownRules)(e),Zpe(e)}function f3(e,t){if(e.opts.jtd)return n3(e,[],!1,t);let r=(0,r3.getSchemaTypes)(e.schema),i=(0,r3.coerceAndCheckDataType)(e,r);n3(e,r,!i,t)}function Zpe(e){let{schema:t,errSchemaPath:r,opts:i,self:n}=e;t.$ref&&i.ignoreKeywordsWithRef&&(0,ko.schemaHasRulesButRef)(t,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Xpe(e){let{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,ko.checkStrictMode)(e,"default is ignored in the schema root")}function Qpe(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Bpe.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function eme(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function h3({gen:e,schemaEnv:t,schema:r,errSchemaPath:i,opts:n}){let s=r.$comment;if(n.$comment===!0)e.code((0,fe._)`${ve.default.self}.logger.log(${s})`);else if(typeof n.$comment=="function"){let o=(0,fe.str)`${i}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,fe._)`${ve.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function tme(e){let{gen:t,schemaEnv:r,validateName:i,ValidationError:n,opts:s}=e;r.$async?t.if((0,fe._)`${ve.default.errors} === 0`,()=>t.return(ve.default.data),()=>t.throw((0,fe._)`new ${n}(${ve.default.vErrors})`)):(t.assign((0,fe._)`${i}.errors`,ve.default.vErrors),s.unevaluated&&rme(e),t.return((0,fe._)`${ve.default.errors} === 0`))}function rme({gen:e,evaluated:t,props:r,items:i}){r instanceof fe.Name&&e.assign((0,fe._)`${t}.props`,r),i instanceof fe.Name&&e.assign((0,fe._)`${t}.items`,i)}function n3(e,t,r,i){let{gen:n,schema:s,data:o,allErrors:a,opts:l,self:c}=e,{RULES:u}=c;if(s.$ref&&(l.ignoreKeywordsWithRef||!(0,ko.schemaHasRulesButRef)(s,u))){n.block(()=>p3(e,"$ref",u.all.$ref.definition));return}l.jtd||ime(e,t),n.block(()=>{for(let h of u.rules)f(h);f(u.post)});function f(h){(0,TR.shouldUseGroup)(s,h)&&(h.type?(n.if((0,d_.checkDataType)(h.type,o,l.strictNumbers)),s3(e,h),t.length===1&&t[0]===h.type&&r&&(n.else(),(0,d_.reportTypeError)(e)),n.endIf()):s3(e,h),a||n.if((0,fe._)`${ve.default.errors} === ${i||0}`))}}function s3(e,t){let{gen:r,schema:i,opts:{useDefaults:n}}=e;n&&(0,Upe.assignDefaults)(e,t.type),r.block(()=>{for(let s of t.rules)(0,TR.shouldUseRule)(i,s)&&p3(e,s.keyword,s.definition,t.type)})}function ime(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(nme(e,t),e.opts.allowUnionTypes||sme(e,t),ome(e,e.dataTypes))}function nme(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{d3(e.dataTypes,r)||OR(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),lme(e,t)}}function sme(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&OR(e,"use allowUnionTypes to allow union type keyword")}function ome(e,t){let r=e.self.RULES.all;for(let i in r){let n=r[i];if(typeof n=="object"&&(0,TR.shouldUseRule)(e.schema,n)){let{type:s}=n.definition;s.length&&!s.some(o=>ame(t,o))&&OR(e,`missing type "${s.join(",")}" for keyword "${i}"`)}}}function ame(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function d3(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function lme(e,t){let r=[];for(let i of e.dataTypes)d3(t,i)?r.push(i):t.includes("integer")&&i==="number"&&r.push("integer");e.dataTypes=r}function OR(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,ko.checkStrictMode)(e,t,e.opts.strictTypes)}var p_=class{constructor(t,r,i){if((0,yp.validateKeywordUsage)(t,r,i),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=i,this.data=t.data,this.schema=t.schema[i],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ko.schemaRefOrVal)(t,this.schema,i,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",m3(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,yp.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",ve.default.errors))}result(t,r,i){this.failResult((0,fe.not)(t),r,i)}failResult(t,r,i){this.gen.if(t),i?i():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,fe.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);let{schemaCode:r}=this;this.fail((0,fe._)`${r} !== undefined && (${(0,fe.or)(this.invalid$data(),t)})`)}error(t,r,i){if(r){this.setParams(r),this._error(t,i),this.setParams({});return}this._error(t,i)}_error(t,r){(t?gp.reportExtraError:gp.reportError)(this,this.def.error,r)}$dataError(){(0,gp.reportError)(this,this.def.$dataError||gp.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,gp.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,i=fe.nil){this.gen.block(()=>{this.check$data(t,i),r()})}check$data(t=fe.nil,r=fe.nil){if(!this.$data)return;let{gen:i,schemaCode:n,schemaType:s,def:o}=this;i.if((0,fe.or)((0,fe._)`${n} === undefined`,r)),t!==fe.nil&&i.assign(t,!0),(s.length||o.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),t!==fe.nil&&i.assign(t,!1)),i.else()}invalid$data(){let{gen:t,schemaCode:r,schemaType:i,def:n,it:s}=this;return(0,fe.or)(o(),a());function o(){if(i.length){if(!(r instanceof fe.Name))throw new Error("ajv implementation error");let l=Array.isArray(i)?i:[i];return(0,fe._)`${(0,d_.checkDataTypes)(l,r,s.opts.strictNumbers,d_.DataType.Wrong)}`}return fe.nil}function a(){if(n.validateSchema){let l=t.scopeValue("validate$data",{ref:n.validateSchema});return(0,fe._)`!${l}(${r})`}return fe.nil}}subschema(t,r){let i=(0,RR.getSubschema)(this.it,t);(0,RR.extendSubschemaData)(i,this.it,t),(0,RR.extendSubschemaMode)(i,t);let n={...this.it,...i,items:void 0,props:void 0};return Kpe(n,r),n}mergeEvaluated(t,r){let{it:i,gen:n}=this;i.opts.unevaluated&&(i.props!==!0&&t.props!==void 0&&(i.props=ko.mergeEvaluated.props(n,t.props,i.props,r)),i.items!==!0&&t.items!==void 0&&(i.items=ko.mergeEvaluated.items(n,t.items,i.items,r)))}mergeValidEvaluated(t,r){let{it:i,gen:n}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return n.if(r,()=>this.mergeEvaluated(t,fe.Name)),!0}};Na.KeywordCxt=p_;function p3(e,t,r,i){let n=new p_(e,r,t);"code"in r?r.code(n,i):n.$data&&r.validate?(0,yp.funcKeywordCode)(n,r):"macro"in r?(0,yp.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,yp.funcKeywordCode)(n,r)}var cme=/^\/(?:[^~]|~0|~1)*$/,ume=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function m3(e,{dataLevel:t,dataNames:r,dataPathArr:i}){let n,s;if(e==="")return ve.default.rootData;if(e[0]==="/"){if(!cme.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);n=e,s=ve.default.rootData}else{let c=ume.exec(e);if(!c)throw new Error(`Invalid JSON-pointer: ${e}`);let u=+c[1];if(n=c[2],n==="#"){if(u>=t)throw new Error(l("property/index",u));return i[t-u]}if(u>t)throw new Error(l("data",u));if(s=r[t-u],!n)return s}let o=s,a=n.split("/");for(let c of a)c&&(s=(0,fe._)`${s}${(0,fe.getProperty)((0,ko.unescapeJsonPointer)(c))}`,o=(0,fe._)`${o} && ${s}`);return o;function l(c,u){return`Cannot access ${c} ${u} levels up, current level is ${t}`}}Na.getData=m3});var vp=w(CR=>{"use strict";Object.defineProperty(CR,"__esModule",{value:!0});var AR=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};CR.default=AR});var Ro=w(NR=>{"use strict";Object.defineProperty(NR,"__esModule",{value:!0});var PR=mp(),IR=class extends Error{constructor(t,r,i,n){super(n||`can't resolve reference ${i} from id ${r}`),this.missingRef=(0,PR.resolveUrl)(t,r,i),this.missingSchema=(0,PR.normalizeId)((0,PR.getFullPath)(t,this.missingRef))}};NR.default=IR});var sc=w(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.resolveSchema=hn.getCompilingSchema=hn.resolveRef=hn.compileSchema=hn.SchemaEnv=void 0;var Fn=me(),fme=vp(),nc=fn(),Dn=mp(),g3=ke(),hme=Qu(),ef=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let i;typeof t.schema=="object"&&(i=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Dn.normalizeId)(i?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=i?.$async,this.refs={}}};hn.SchemaEnv=ef;function FR(e){let t=y3.call(this,e);if(t)return t;let r=(0,Dn.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:i,lines:n}=this.opts.code,{ownProperties:s}=this.opts,o=new Fn.CodeGen(this.scope,{es5:i,lines:n,ownProperties:s}),a;e.$async&&(a=o.scopeValue("Error",{ref:fme.default,code:(0,Fn._)`require("ajv/dist/runtime/validation_error").default`}));let l=o.scopeName("validate");e.validateName=l;let c={gen:o,allErrors:this.opts.allErrors,data:nc.default.data,parentData:nc.default.parentData,parentDataProperty:nc.default.parentDataProperty,dataNames:[nc.default.data],dataPathArr:[Fn.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Fn.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Fn.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Fn._)`""`,opts:this.opts,self:this},u;try{this._compilations.add(e),(0,hme.validateFunctionCode)(c),o.optimize(this.opts.code.optimize);let f=o.toString();u=`${o.scopeRefs(nc.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,e));let p=new Function(`${nc.default.self}`,`${nc.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:p}),p.errors=null,p.schema=e.schema,p.schemaEnv=e,e.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:l,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){let{props:m,items:g}=c;p.evaluated={props:m instanceof Fn.Name?void 0:m,items:g instanceof Fn.Name?void 0:g,dynamicProps:m instanceof Fn.Name,dynamicItems:g instanceof Fn.Name},p.source&&(p.source.evaluated=(0,Fn.stringify)(p.evaluated))}return e.validate=p,e}catch(f){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(e)}}hn.compileSchema=FR;function dme(e,t,r){var i;r=(0,Dn.resolveUrl)(this.opts.uriResolver,t,r);let n=e.refs[r];if(n)return n;let s=gme.call(this,e,r);if(s===void 0){let o=(i=e.localRefs)===null||i===void 0?void 0:i[r],{schemaId:a}=this.opts;o&&(s=new ef({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=pme.call(this,s)}hn.resolveRef=dme;function pme(e){return(0,Dn.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:FR.call(this,e)}function y3(e){for(let t of this._compilations)if(mme(t,e))return t}hn.getCompilingSchema=y3;function mme(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function gme(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||m_.call(this,e,t)}function m_(e,t){let r=this.opts.uriResolver.parse(t),i=(0,Dn._getFullPath)(this.opts.uriResolver,r),n=(0,Dn.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&i===n)return $R.call(this,r,e);let s=(0,Dn.normalizeId)(i),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){let a=m_.call(this,e,o);return typeof a?.schema!="object"?void 0:$R.call(this,r,a)}if(typeof o?.schema=="object"){if(o.validate||FR.call(this,o),s===(0,Dn.normalizeId)(t)){let{schema:a}=o,{schemaId:l}=this.opts,c=a[l];return c&&(n=(0,Dn.resolveUrl)(this.opts.uriResolver,n,c)),new ef({schema:a,schemaId:l,root:e,baseId:n})}return $R.call(this,r,o)}}hn.resolveSchema=m_;var yme=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function $R(e,{baseId:t,schema:r,root:i}){var n;if(((n=e.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(let a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let l=r[(0,g3.unescapeFragment)(a)];if(l===void 0)return;r=l;let c=typeof r=="object"&&r[this.opts.schemaId];!yme.has(a)&&c&&(t=(0,Dn.resolveUrl)(this.opts.uriResolver,t,c))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,g3.schemaHasRulesButRef)(r,this.RULES)){let a=(0,Dn.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=m_.call(this,i,a)}let{schemaId:o}=this.opts;if(s=s||new ef({schema:r,schemaId:o,root:i,baseId:t}),s.schema!==s.root.schema)return s}});var v3=w((m5e,vme)=>{vme.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var b3=w((g5e,_3)=>{"use strict";var _me={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};_3.exports={HEX:_me}});var O3=w((y5e,T3)=>{"use strict";var{HEX:bme}=b3();function E3(e){if(R3(e,".")<3)return{host:e,isIPV4:!1};let t=e.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[r]=t;return r?{host:Sme(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function DR(e,t=!1){let r="",i=!0;for(let n of e){if(bme[n]===void 0)return;n!=="0"&&i===!0&&(i=!1),i||(r+=n)}return t&&r.length===0&&(r="0"),r}function wme(e){let t=0,r={error:!1,address:"",zone:""},i=[],n=[],s=!1,o=!1,a=!1;function l(){if(n.length){if(s===!1){let c=DR(n);if(c!==void 0)i.push(c);else return r.error=!0,!1}n.length=0}return!0}for(let c=0;c<e.length;c++){let u=e[c];if(!(u==="["||u==="]"))if(u===":"){if(o===!0&&(a=!0),!l())break;if(t++,i.push(":"),t>7){r.error=!0;break}c-1>=0&&e[c-1]===":"&&(o=!0);continue}else if(u==="%"){if(!l())break;s=!0}else{n.push(u);continue}}return n.length&&(s?r.zone=n.join(""):a?i.push(n.join("")):i.push(DR(n))),r.address=i.join(""),r}function k3(e,t={}){if(R3(e,":")<2)return{host:e,isIPV6:!1};let r=wme(e);if(r.error)return{host:e,isIPV6:!1};{let i=r.address,n=r.address;return r.zone&&(i+="%"+r.zone,n+="%25"+r.zone),{host:i,escapedHost:n,isIPV6:!0}}}function Sme(e,t){let r="",i=!0,n=e.length;for(let s=0;s<n;s++){let o=e[s];o==="0"&&i?(s+1<=n&&e[s+1]===t||s+1===n)&&(r+=o,i=!1):(o===t?i=!0:i=!1,r+=o)}return r}function R3(e,t){let r=0;for(let i=0;i<e.length;i++)e[i]===t&&r++;return r}var w3=/^\.\.?\//u,S3=/^\/\.(?:\/|$)/u,x3=/^\/\.\.(?:\/|$)/u,xme=/^\/?(?:.|\n)*?(?=\/|$)/u;function Eme(e){let t=[];for(;e.length;)if(e.match(w3))e=e.replace(w3,"");else if(e.match(S3))e=e.replace(S3,"/");else if(e.match(x3))e=e.replace(x3,"/"),t.pop();else if(e==="."||e==="..")e="";else{let r=e.match(xme);if(r){let i=r[0];e=e.slice(i.length),t.push(i)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function kme(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Rme(e,t){let r=[];if(e.userinfo!==void 0&&(r.push(e.userinfo),r.push("@")),e.host!==void 0){let i=unescape(e.host),n=E3(i);if(n.isIPV4)i=n.host;else{let s=k3(n.host,{isIPV4:!1});s.isIPV6===!0?i=`[${s.escapedHost}]`:i=e.host}r.push(i)}return(typeof e.port=="number"||typeof e.port=="string")&&(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}T3.exports={recomposeAuthority:Rme,normalizeComponentEncoding:kme,removeDotSegments:Eme,normalizeIPv4:E3,normalizeIPv6:k3,stringArrayToHexStripped:DR}});var $3=w((v5e,N3)=>{"use strict";var Tme=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,Ome=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function A3(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function C3(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function P3(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function Ame(e){return e.secure=A3(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function Cme(e){if((e.port===(A3(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function Pme(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(Ome);if(r){let i=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let n=`${i}:${t.nid||e.nid}`,s=LR[n];e.path=void 0,s&&(e=s.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Ime(e,t){let r=t.scheme||e.scheme||"urn",i=e.nid.toLowerCase(),n=`${r}:${t.nid||i}`,s=LR[n];s&&(e=s.serialize(e,t));let o=e,a=e.nss;return o.path=`${i||t.nid}:${a}`,t.skipEscape=!0,o}function Nme(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!Tme.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function $me(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var I3={scheme:"http",domainHost:!0,parse:C3,serialize:P3},Fme={scheme:"https",domainHost:I3.domainHost,parse:C3,serialize:P3},g_={scheme:"ws",domainHost:!0,parse:Ame,serialize:Cme},Dme={scheme:"wss",domainHost:g_.domainHost,parse:g_.parse,serialize:g_.serialize},Lme={scheme:"urn",parse:Pme,serialize:Ime,skipNormalize:!0},jme={scheme:"urn:uuid",parse:Nme,serialize:$me,skipNormalize:!0},LR={http:I3,https:Fme,ws:g_,wss:Dme,urn:Lme,"urn:uuid":jme};N3.exports=LR});var D3=w((_5e,v_)=>{"use strict";var{normalizeIPv6:qme,normalizeIPv4:Mme,removeDotSegments:_p,recomposeAuthority:zme,normalizeComponentEncoding:y_}=O3(),jR=$3();function Ume(e,t){return typeof e=="string"?e=Ts(To(e,t),t):typeof e=="object"&&(e=To(Ts(e,t),t)),e}function Bme(e,t,r){let i=Object.assign({scheme:"null"},r),n=F3(To(e,i),To(t,i),i,!0);return Ts(n,{...i,skipEscape:!0})}function F3(e,t,r,i){let n={};return i||(e=To(Ts(e,r),r),t=To(Ts(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=_p(t.path||""),n.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=_p(t.path||""),n.query=t.query):(t.path?(t.path.charAt(0)==="/"?n.path=_p(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?n.path="/"+t.path:e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path,n.path=_p(n.path)),n.query=t.query):(n.path=e.path,t.query!==void 0?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function Hme(e,t,r){return typeof e=="string"?(e=unescape(e),e=Ts(y_(To(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Ts(y_(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Ts(y_(To(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Ts(y_(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Ts(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},i=Object.assign({},t),n=[],s=jR[(i.scheme||r.scheme||"").toLowerCase()];s&&s.serialize&&s.serialize(r,i),r.path!==void 0&&(i.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),i.reference!=="suffix"&&r.scheme&&n.push(r.scheme,":");let o=zme(r,i);if(o!==void 0&&(i.reference!=="suffix"&&n.push("//"),n.push(o),r.path&&r.path.charAt(0)!=="/"&&n.push("/")),r.path!==void 0){let a=r.path;!i.absolutePath&&(!s||!s.absolutePath)&&(a=_p(a)),o===void 0&&(a=a.replace(/^\/\//u,"/%2F")),n.push(a)}return r.query!==void 0&&n.push("?",r.query),r.fragment!==void 0&&n.push("#",r.fragment),n.join("")}var Vme=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function Wme(e){let t=0;for(let r=0,i=e.length;r<i;++r)if(t=e.charCodeAt(r),t>126||Vme[t])return!0;return!1}var Gme=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function To(e,t){let r=Object.assign({},t),i={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},n=e.indexOf("%")!==-1,s=!1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);let o=e.match(Gme);if(o){if(i.scheme=o[1],i.userinfo=o[3],i.host=o[4],i.port=parseInt(o[5],10),i.path=o[6]||"",i.query=o[7],i.fragment=o[8],isNaN(i.port)&&(i.port=o[5]),i.host){let l=Mme(i.host);if(l.isIPV4===!1){let c=qme(l.host,{isIPV4:!1});i.host=c.host.toLowerCase(),s=c.isIPV6}else i.host=l.host,s=!0}i.scheme===void 0&&i.userinfo===void 0&&i.host===void 0&&i.port===void 0&&!i.path&&i.query===void 0?i.reference="same-document":i.scheme===void 0?i.reference="relative":i.fragment===void 0?i.reference="absolute":i.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==i.reference&&(i.error=i.error||"URI is not a "+r.reference+" reference.");let a=jR[(r.scheme||i.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!a||!a.unicodeSupport)&&i.host&&(r.domainHost||a&&a.domainHost)&&s===!1&&Wme(i.host))try{i.host=URL.domainToASCII(i.host.toLowerCase())}catch(l){i.error=i.error||"Host's domain name can not be converted to ASCII: "+l}(!a||a&&!a.skipNormalize)&&(n&&i.scheme!==void 0&&(i.scheme=unescape(i.scheme)),n&&i.host!==void 0&&(i.host=unescape(i.host)),i.path!==void 0&&i.path.length&&(i.path=escape(unescape(i.path))),i.fragment!==void 0&&i.fragment.length&&(i.fragment=encodeURI(decodeURIComponent(i.fragment)))),a&&a.parse&&a.parse(i,r)}else i.error=i.error||"URI can not be parsed.";return i}var qR={SCHEMES:jR,normalize:Ume,resolve:Bme,resolveComponents:F3,equal:Hme,serialize:Ts,parse:To};v_.exports=qR;v_.exports.default=qR;v_.exports.fastUri=qR});var j3=w(MR=>{"use strict";Object.defineProperty(MR,"__esModule",{value:!0});var L3=D3();L3.code='require("ajv/dist/runtime/uri").default';MR.default=L3});var BR=w(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.CodeGen=xr.Name=xr.nil=xr.stringify=xr.str=xr._=xr.KeywordCxt=void 0;var Yme=Qu();Object.defineProperty(xr,"KeywordCxt",{enumerable:!0,get:function(){return Yme.KeywordCxt}});var tf=me();Object.defineProperty(xr,"_",{enumerable:!0,get:function(){return tf._}});Object.defineProperty(xr,"str",{enumerable:!0,get:function(){return tf.str}});Object.defineProperty(xr,"stringify",{enumerable:!0,get:function(){return tf.stringify}});Object.defineProperty(xr,"nil",{enumerable:!0,get:function(){return tf.nil}});Object.defineProperty(xr,"Name",{enumerable:!0,get:function(){return tf.Name}});Object.defineProperty(xr,"CodeGen",{enumerable:!0,get:function(){return tf.CodeGen}});var Kme=vp(),B3=Ro(),Jme=yR(),bp=sc(),Zme=me(),wp=mp(),__=pp(),UR=ke(),q3=v3(),Xme=j3(),H3=(e,t)=>new RegExp(e,t);H3.code="new RegExp";var Qme=["removeAdditional","useDefaults","coerceTypes"],ege=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),tge={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},rge={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},M3=200;function ige(e){var t,r,i,n,s,o,a,l,c,u,f,h,p,m,g,y,_,S,b,v,O,j,R,I,F;let T=e.strict,$=(t=e.code)===null||t===void 0?void 0:t.optimize,z=$===!0||$===void 0?1:$||0,H=(i=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&i!==void 0?i:H3,X=(n=e.uriResolver)!==null&&n!==void 0?n:Xme.default;return{strictSchema:(o=(s=e.strictSchema)!==null&&s!==void 0?s:T)!==null&&o!==void 0?o:!0,strictNumbers:(l=(a=e.strictNumbers)!==null&&a!==void 0?a:T)!==null&&l!==void 0?l:!0,strictTypes:(u=(c=e.strictTypes)!==null&&c!==void 0?c:T)!==null&&u!==void 0?u:"log",strictTuples:(h=(f=e.strictTuples)!==null&&f!==void 0?f:T)!==null&&h!==void 0?h:"log",strictRequired:(m=(p=e.strictRequired)!==null&&p!==void 0?p:T)!==null&&m!==void 0?m:!1,code:e.code?{...e.code,optimize:z,regExp:H}:{optimize:z,regExp:H},loopRequired:(g=e.loopRequired)!==null&&g!==void 0?g:M3,loopEnum:(y=e.loopEnum)!==null&&y!==void 0?y:M3,meta:(_=e.meta)!==null&&_!==void 0?_:!0,messages:(S=e.messages)!==null&&S!==void 0?S:!0,inlineRefs:(b=e.inlineRefs)!==null&&b!==void 0?b:!0,schemaId:(v=e.schemaId)!==null&&v!==void 0?v:"$id",addUsedSchema:(O=e.addUsedSchema)!==null&&O!==void 0?O:!0,validateSchema:(j=e.validateSchema)!==null&&j!==void 0?j:!0,validateFormats:(R=e.validateFormats)!==null&&R!==void 0?R:!0,unicodeRegExp:(I=e.unicodeRegExp)!==null&&I!==void 0?I:!0,int32range:(F=e.int32range)!==null&&F!==void 0?F:!0,uriResolver:X}}var Sp=class{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts={...t,...ige(t)};let{es5:r,lines:i}=this.opts.code;this.scope=new Zme.ValueScope({scope:{},prefixes:ege,es5:r,lines:i}),this.logger=cge(t.logger);let n=t.validateFormats;t.validateFormats=!1,this.RULES=(0,Jme.getRules)(),z3.call(this,tge,t,"NOT SUPPORTED"),z3.call(this,rge,t,"DEPRECATED","warn"),this._metaOpts=age.call(this),t.formats&&sge.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&oge.call(this,t.keywords),typeof t.meta=="object"&&this.addMetaSchema(t.meta),nge.call(this),t.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:t,meta:r,schemaId:i}=this.opts,n=q3;i==="id"&&(n={...q3},n.id=n.$id,delete n.$id),r&&t&&this.addMetaSchema(n,n[i],!1)}defaultMeta(){let{meta:t,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof t=="object"?t[r]||t:void 0}validate(t,r){let i;if(typeof t=="string"){if(i=this.getSchema(t),!i)throw new Error(`no schema with key or ref "${t}"`)}else i=this.compile(t);let n=i(r);return"$async"in i||(this.errors=i.errors),n}compile(t,r){let i=this._addSchema(t,r);return i.validate||this._compileSchemaEnv(i)}compileAsync(t,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:i}=this.opts;return n.call(this,t,r);async function n(u,f){await s.call(this,u.$schema);let h=this._addSchema(u,f);return h.validate||o.call(this,h)}async function s(u){u&&!this.getSchema(u)&&await n.call(this,{$ref:u},!0)}async function o(u){try{return this._compileSchemaEnv(u)}catch(f){if(!(f instanceof B3.default))throw f;return a.call(this,f),await l.call(this,f.missingSchema),o.call(this,u)}}function a({missingSchema:u,missingRef:f}){if(this.refs[u])throw new Error(`AnySchema ${u} is loaded but ${f} cannot be resolved`)}async function l(u){let f=await c.call(this,u);this.refs[u]||await s.call(this,f.$schema),this.refs[u]||this.addSchema(f,u,r)}async function c(u){let f=this._loading[u];if(f)return f;try{return await(this._loading[u]=i(u))}finally{delete this._loading[u]}}}addSchema(t,r,i,n=this.opts.validateSchema){if(Array.isArray(t)){for(let o of t)this.addSchema(o,void 0,i,n);return this}let s;if(typeof t=="object"){let{schemaId:o}=this.opts;if(s=t[o],s!==void 0&&typeof s!="string")throw new Error(`schema ${o} must be string`)}return r=(0,wp.normalizeId)(r||s),this._checkUnique(r),this.schemas[r]=this._addSchema(t,i,r,n,!0),this}addMetaSchema(t,r,i=this.opts.validateSchema){return this.addSchema(t,r,!0,i),this}validateSchema(t,r){if(typeof t=="boolean")return!0;let i;if(i=t.$schema,i!==void 0&&typeof i!="string")throw new Error("$schema must be a string");if(i=i||this.opts.defaultMeta||this.defaultMeta(),!i)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let n=this.validate(i,t);if(!n&&r){let s="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(s);else throw new Error(s)}return n}getSchema(t){let r;for(;typeof(r=U3.call(this,t))=="string";)t=r;if(r===void 0){let{schemaId:i}=this.opts,n=new bp.SchemaEnv({schema:{},schemaId:i});if(r=bp.resolveSchema.call(this,n,t),!r)return;this.refs[t]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=U3.call(this,t);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{let r=t;this._cache.delete(r);let i=t[this.opts.schemaId];return i&&(i=(0,wp.normalizeId)(i),delete this.schemas[i],delete this.refs[i]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(let r of t)this.addKeyword(r);return this}addKeyword(t,r){let i;if(typeof t=="string")i=t,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=i);else if(typeof t=="object"&&r===void 0){if(r=t,i=r.keyword,Array.isArray(i)&&!i.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(fge.call(this,i,r),!r)return(0,UR.eachItem)(i,s=>zR.call(this,s)),this;dge.call(this,r);let n={...r,type:(0,__.getJSONTypes)(r.type),schemaType:(0,__.getJSONTypes)(r.schemaType)};return(0,UR.eachItem)(i,n.type.length===0?s=>zR.call(this,s,n):s=>n.type.forEach(o=>zR.call(this,s,n,o))),this}getKeyword(t){let r=this.RULES.all[t];return typeof r=="object"?r.definition:!!r}removeKeyword(t){let{RULES:r}=this;delete r.keywords[t],delete r.all[t];for(let i of r.rules){let n=i.rules.findIndex(s=>s.keyword===t);n>=0&&i.rules.splice(n,1)}return this}addFormat(t,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[t]=r,this}errorsText(t=this.errors,{separator:r=", ",dataVar:i="data"}={}){return!t||t.length===0?"No errors":t.map(n=>`${i}${n.instancePath} ${n.message}`).reduce((n,s)=>n+r+s)}$dataMetaSchema(t,r){let i=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(let n of r){let s=n.split("/").slice(1),o=t;for(let a of s)o=o[a];for(let a in i){let l=i[a];if(typeof l!="object")continue;let{$data:c}=l.definition,u=o[a];c&&u&&(o[a]=V3(u))}}return t}_removeAllSchemas(t,r){for(let i in t){let n=t[i];(!r||r.test(i))&&(typeof n=="string"?delete t[i]:n&&!n.meta&&(this._cache.delete(n.schema),delete t[i]))}}_addSchema(t,r,i,n=this.opts.validateSchema,s=this.opts.addUsedSchema){let o,{schemaId:a}=this.opts;if(typeof t=="object")o=t[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof t!="boolean")throw new Error("schema must be object or boolean")}let l=this._cache.get(t);if(l!==void 0)return l;i=(0,wp.normalizeId)(o||i);let c=wp.getSchemaRefs.call(this,t,i);return l=new bp.SchemaEnv({schema:t,schemaId:a,meta:r,baseId:i,localRefs:c}),this._cache.set(l.schema,l),s&&!i.startsWith("#")&&(i&&this._checkUnique(i),this.refs[i]=l),n&&this.validateSchema(t,!0),l}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):bp.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){let r=this.opts;this.opts=this._metaOpts;try{bp.compileSchema.call(this,t)}finally{this.opts=r}}};Sp.ValidationError=Kme.default;Sp.MissingRefError=B3.default;xr.default=Sp;function z3(e,t,r,i="error"){for(let n in e){let s=n;s in t&&this.logger[i](`${r}: option ${n}. ${e[s]}`)}}function U3(e){return e=(0,wp.normalizeId)(e),this.schemas[e]||this.refs[e]}function nge(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function sge(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function oge(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let t in e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function age(){let e={...this.opts};for(let t of Qme)delete e[t];return e}var lge={log(){},warn(){},error(){}};function cge(e){if(e===!1)return lge;if(e===void 0)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}var uge=/^[a-z_$][a-z0-9_$:-]*$/i;function fge(e,t){let{RULES:r}=this;if((0,UR.eachItem)(e,i=>{if(r.keywords[i])throw new Error(`Keyword ${i} is already defined`);if(!uge.test(i))throw new Error(`Keyword ${i} has invalid name`)}),!!t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function zR(e,t,r){var i;let n=t?.post;if(r&&n)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:s}=this,o=n?s.post:s.rules.find(({type:l})=>l===r);if(o||(o={type:r,rules:[]},s.rules.push(o)),s.keywords[e]=!0,!t)return;let a={keyword:e,definition:{...t,type:(0,__.getJSONTypes)(t.type),schemaType:(0,__.getJSONTypes)(t.schemaType)}};t.before?hge.call(this,o,a,t.before):o.rules.push(a),s.all[e]=a,(i=t.implements)===null||i===void 0||i.forEach(l=>this.addKeyword(l))}function hge(e,t,r){let i=e.rules.findIndex(n=>n.keyword===r);i>=0?e.rules.splice(i,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function dge(e){let{metaSchema:t}=e;t!==void 0&&(e.$data&&this.opts.$data&&(t=V3(t)),e.validateSchema=this.compile(t,!0))}var pge={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function V3(e){return{anyOf:[e,pge]}}});var W3=w(HR=>{"use strict";Object.defineProperty(HR,"__esModule",{value:!0});var mge={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};HR.default=mge});var VR=w(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.callRef=oc.getValidate=void 0;var gge=Ro(),G3=Sr(),Ai=me(),rf=fn(),Y3=sc(),b_=ke(),yge={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:i}=e,{baseId:n,schemaEnv:s,validateName:o,opts:a,self:l}=i,{root:c}=s;if((r==="#"||r==="#/")&&n===c.baseId)return f();let u=Y3.resolveRef.call(l,c,n,r);if(u===void 0)throw new gge.default(i.opts.uriResolver,n,r);if(u instanceof Y3.SchemaEnv)return h(u);return p(u);function f(){if(s===c)return w_(e,o,s,s.$async);let m=t.scopeValue("root",{ref:c});return w_(e,(0,Ai._)`${m}.validate`,c,c.$async)}function h(m){let g=K3(e,m);w_(e,g,m,m.$async)}function p(m){let g=t.scopeValue("schema",a.code.source===!0?{ref:m,code:(0,Ai.stringify)(m)}:{ref:m}),y=t.name("valid"),_=e.subschema({schema:m,dataTypes:[],schemaPath:Ai.nil,topSchemaRef:g,errSchemaPath:r},y);e.mergeEvaluated(_),e.ok(y)}}};function K3(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ai._)`${r.scopeValue("wrapper",{ref:t})}.validate`}oc.getValidate=K3;function w_(e,t,r,i){let{gen:n,it:s}=e,{allErrors:o,schemaEnv:a,opts:l}=s,c=l.passContext?rf.default.this:Ai.nil;i?u():f();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");let m=n.let("valid");n.try(()=>{n.code((0,Ai._)`await ${(0,G3.callValidateCode)(e,t,c)}`),p(t),o||n.assign(m,!0)},g=>{n.if((0,Ai._)`!(${g} instanceof ${s.ValidationError})`,()=>n.throw(g)),h(g),o||n.assign(m,!1)}),e.ok(m)}function f(){e.result((0,G3.callValidateCode)(e,t,c),()=>p(t),()=>h(t))}function h(m){let g=(0,Ai._)`${m}.errors`;n.assign(rf.default.vErrors,(0,Ai._)`${rf.default.vErrors} === null ? ${g} : ${rf.default.vErrors}.concat(${g})`),n.assign(rf.default.errors,(0,Ai._)`${rf.default.vErrors}.length`)}function p(m){var g;if(!s.opts.unevaluated)return;let y=(g=r?.validate)===null||g===void 0?void 0:g.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=b_.mergeEvaluated.props(n,y.props,s.props));else{let _=n.var("props",(0,Ai._)`${m}.evaluated.props`);s.props=b_.mergeEvaluated.props(n,_,s.props,Ai.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=b_.mergeEvaluated.items(n,y.items,s.items));else{let _=n.var("items",(0,Ai._)`${m}.evaluated.items`);s.items=b_.mergeEvaluated.items(n,_,s.items,Ai.Name)}}}oc.callRef=w_;oc.default=yge});var J3=w(WR=>{"use strict";Object.defineProperty(WR,"__esModule",{value:!0});var vge=W3(),_ge=VR(),bge=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",vge.default,_ge.default];WR.default=bge});var Z3=w(GR=>{"use strict";Object.defineProperty(GR,"__esModule",{value:!0});var S_=me(),$a=S_.operators,x_={maximum:{okStr:"<=",ok:$a.LTE,fail:$a.GT},minimum:{okStr:">=",ok:$a.GTE,fail:$a.LT},exclusiveMaximum:{okStr:"<",ok:$a.LT,fail:$a.GTE},exclusiveMinimum:{okStr:">",ok:$a.GT,fail:$a.LTE}},wge={message:({keyword:e,schemaCode:t})=>(0,S_.str)`must be ${x_[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,S_._)`{comparison: ${x_[e].okStr}, limit: ${t}}`},Sge={keyword:Object.keys(x_),type:"number",schemaType:"number",$data:!0,error:wge,code(e){let{keyword:t,data:r,schemaCode:i}=e;e.fail$data((0,S_._)`${r} ${x_[t].fail} ${i} || isNaN(${r})`)}};GR.default=Sge});var X3=w(YR=>{"use strict";Object.defineProperty(YR,"__esModule",{value:!0});var xp=me(),xge={message:({schemaCode:e})=>(0,xp.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,xp._)`{multipleOf: ${e}}`},Ege={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:xge,code(e){let{gen:t,data:r,schemaCode:i,it:n}=e,s=n.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,xp._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,xp._)`${o} !== parseInt(${o})`;e.fail$data((0,xp._)`(${i} === 0 || (${o} = ${r}/${i}, ${a}))`)}};YR.default=Ege});var ez=w(KR=>{"use strict";Object.defineProperty(KR,"__esModule",{value:!0});function Q3(e){let t=e.length,r=0,i=0,n;for(;i<t;)r++,n=e.charCodeAt(i++),n>=55296&&n<=56319&&i<t&&(n=e.charCodeAt(i),(n&64512)===56320&&i++);return r}KR.default=Q3;Q3.code='require("ajv/dist/runtime/ucs2length").default'});var tz=w(JR=>{"use strict";Object.defineProperty(JR,"__esModule",{value:!0});var ac=me(),kge=ke(),Rge=ez(),Tge={message({keyword:e,schemaCode:t}){let r=e==="maxLength"?"more":"fewer";return(0,ac.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,ac._)`{limit: ${e}}`},Oge={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Tge,code(e){let{keyword:t,data:r,schemaCode:i,it:n}=e,s=t==="maxLength"?ac.operators.GT:ac.operators.LT,o=n.opts.unicode===!1?(0,ac._)`${r}.length`:(0,ac._)`${(0,kge.useFunc)(e.gen,Rge.default)}(${r})`;e.fail$data((0,ac._)`${o} ${s} ${i}`)}};JR.default=Oge});var rz=w(ZR=>{"use strict";Object.defineProperty(ZR,"__esModule",{value:!0});var Age=Sr(),E_=me(),Cge={message:({schemaCode:e})=>(0,E_.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,E_._)`{pattern: ${e}}`},Pge={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Cge,code(e){let{data:t,$data:r,schema:i,schemaCode:n,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=r?(0,E_._)`(new RegExp(${n}, ${o}))`:(0,Age.usePattern)(e,i);e.fail$data((0,E_._)`!${a}.test(${t})`)}};ZR.default=Pge});var iz=w(XR=>{"use strict";Object.defineProperty(XR,"__esModule",{value:!0});var Ep=me(),Ige={message({keyword:e,schemaCode:t}){let r=e==="maxProperties"?"more":"fewer";return(0,Ep.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Ep._)`{limit: ${e}}`},Nge={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Ige,code(e){let{keyword:t,data:r,schemaCode:i}=e,n=t==="maxProperties"?Ep.operators.GT:Ep.operators.LT;e.fail$data((0,Ep._)`Object.keys(${r}).length ${n} ${i}`)}};XR.default=Nge});var nz=w(QR=>{"use strict";Object.defineProperty(QR,"__esModule",{value:!0});var kp=Sr(),Rp=me(),$ge=ke(),Fge={message:({params:{missingProperty:e}})=>(0,Rp.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Rp._)`{missingProperty: ${e}}`},Dge={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Fge,code(e){let{gen:t,schema:r,schemaCode:i,data:n,$data:s,it:o}=e,{opts:a}=o;if(!s&&r.length===0)return;let l=r.length>=a.loopRequired;if(o.allErrors?c():u(),a.strictRequired){let p=e.parentSchema.properties,{definedProperties:m}=e.it;for(let g of r)if(p?.[g]===void 0&&!m.has(g)){let y=o.schemaEnv.baseId+o.errSchemaPath,_=`required property "${g}" is not defined at "${y}" (strictRequired)`;(0,$ge.checkStrictMode)(o,_,o.opts.strictRequired)}}function c(){if(l||s)e.block$data(Rp.nil,f);else for(let p of r)(0,kp.checkReportMissingProp)(e,p)}function u(){let p=t.let("missing");if(l||s){let m=t.let("valid",!0);e.block$data(m,()=>h(p,m)),e.ok(m)}else t.if((0,kp.checkMissingProp)(e,r,p)),(0,kp.reportMissingProp)(e,p),t.else()}function f(){t.forOf("prop",i,p=>{e.setParams({missingProperty:p}),t.if((0,kp.noPropertyInData)(t,n,p,a.ownProperties),()=>e.error())})}function h(p,m){e.setParams({missingProperty:p}),t.forOf(p,i,()=>{t.assign(m,(0,kp.propertyInData)(t,n,p,a.ownProperties)),t.if((0,Rp.not)(m),()=>{e.error(),t.break()})},Rp.nil)}}};QR.default=Dge});var sz=w(eT=>{"use strict";Object.defineProperty(eT,"__esModule",{value:!0});var Tp=me(),Lge={message({keyword:e,schemaCode:t}){let r=e==="maxItems"?"more":"fewer";return(0,Tp.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Tp._)`{limit: ${e}}`},jge={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Lge,code(e){let{keyword:t,data:r,schemaCode:i}=e,n=t==="maxItems"?Tp.operators.GT:Tp.operators.LT;e.fail$data((0,Tp._)`${r}.length ${n} ${i}`)}};eT.default=jge});var Op=w(tT=>{"use strict";Object.defineProperty(tT,"__esModule",{value:!0});var oz=Ta();oz.code='require("ajv/dist/runtime/equal").default';tT.default=oz});var az=w(iT=>{"use strict";Object.defineProperty(iT,"__esModule",{value:!0});var rT=pp(),Er=me(),qge=ke(),Mge=Op(),zge={message:({params:{i:e,j:t}})=>(0,Er.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Er._)`{i: ${e}, j: ${t}}`},Uge={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:zge,code(e){let{gen:t,data:r,$data:i,schema:n,parentSchema:s,schemaCode:o,it:a}=e;if(!i&&!n)return;let l=t.let("valid"),c=s.items?(0,rT.getSchemaTypes)(s.items):[];e.block$data(l,u,(0,Er._)`${o} === false`),e.ok(l);function u(){let m=t.let("i",(0,Er._)`${r}.length`),g=t.let("j");e.setParams({i:m,j:g}),t.assign(l,!0),t.if((0,Er._)`${m} > 1`,()=>(f()?h:p)(m,g))}function f(){return c.length>0&&!c.some(m=>m==="object"||m==="array")}function h(m,g){let y=t.name("item"),_=(0,rT.checkDataTypes)(c,y,a.opts.strictNumbers,rT.DataType.Wrong),S=t.const("indices",(0,Er._)`{}`);t.for((0,Er._)`;${m}--;`,()=>{t.let(y,(0,Er._)`${r}[${m}]`),t.if(_,(0,Er._)`continue`),c.length>1&&t.if((0,Er._)`typeof ${y} == "string"`,(0,Er._)`${y} += "_"`),t.if((0,Er._)`typeof ${S}[${y}] == "number"`,()=>{t.assign(g,(0,Er._)`${S}[${y}]`),e.error(),t.assign(l,!1).break()}).code((0,Er._)`${S}[${y}] = ${m}`)})}function p(m,g){let y=(0,qge.useFunc)(t,Mge.default),_=t.name("outer");t.label(_).for((0,Er._)`;${m}--;`,()=>t.for((0,Er._)`${g} = ${m}; ${g}--;`,()=>t.if((0,Er._)`${y}(${r}[${m}], ${r}[${g}])`,()=>{e.error(),t.assign(l,!1).break(_)})))}}};iT.default=Uge});var lz=w(sT=>{"use strict";Object.defineProperty(sT,"__esModule",{value:!0});var nT=me(),Bge=ke(),Hge=Op(),Vge={message:"must be equal to constant",params:({schemaCode:e})=>(0,nT._)`{allowedValue: ${e}}`},Wge={keyword:"const",$data:!0,error:Vge,code(e){let{gen:t,data:r,$data:i,schemaCode:n,schema:s}=e;i||s&&typeof s=="object"?e.fail$data((0,nT._)`!${(0,Bge.useFunc)(t,Hge.default)}(${r}, ${n})`):e.fail((0,nT._)`${s} !== ${r}`)}};sT.default=Wge});var cz=w(oT=>{"use strict";Object.defineProperty(oT,"__esModule",{value:!0});var Ap=me(),Gge=ke(),Yge=Op(),Kge={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Ap._)`{allowedValues: ${e}}`},Jge={keyword:"enum",schemaType:"array",$data:!0,error:Kge,code(e){let{gen:t,data:r,$data:i,schema:n,schemaCode:s,it:o}=e;if(!i&&n.length===0)throw new Error("enum must have non-empty array");let a=n.length>=o.opts.loopEnum,l,c=()=>l??(l=(0,Gge.useFunc)(t,Yge.default)),u;if(a||i)u=t.let("valid"),e.block$data(u,f);else{if(!Array.isArray(n))throw new Error("ajv implementation error");let p=t.const("vSchema",s);u=(0,Ap.or)(...n.map((m,g)=>h(p,g)))}e.pass(u);function f(){t.assign(u,!1),t.forOf("v",s,p=>t.if((0,Ap._)`${c()}(${r}, ${p})`,()=>t.assign(u,!0).break()))}function h(p,m){let g=n[m];return typeof g=="object"&&g!==null?(0,Ap._)`${c()}(${r}, ${p}[${m}])`:(0,Ap._)`${r} === ${g}`}}};oT.default=Jge});var uz=w(aT=>{"use strict";Object.defineProperty(aT,"__esModule",{value:!0});var Zge=Z3(),Xge=X3(),Qge=tz(),e0e=rz(),t0e=iz(),r0e=nz(),i0e=sz(),n0e=az(),s0e=lz(),o0e=cz(),a0e=[Zge.default,Xge.default,Qge.default,e0e.default,t0e.default,r0e.default,i0e.default,n0e.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},s0e.default,o0e.default];aT.default=a0e});var cT=w(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.validateAdditionalItems=void 0;var lc=me(),lT=ke(),l0e={message:({params:{len:e}})=>(0,lc.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,lc._)`{limit: ${e}}`},c0e={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:l0e,code(e){let{parentSchema:t,it:r}=e,{items:i}=t;if(!Array.isArray(i)){(0,lT.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}fz(e,i)}};function fz(e,t){let{gen:r,schema:i,data:n,keyword:s,it:o}=e;o.items=!0;let a=r.const("len",(0,lc._)`${n}.length`);if(i===!1)e.setParams({len:t.length}),e.pass((0,lc._)`${a} <= ${t.length}`);else if(typeof i=="object"&&!(0,lT.alwaysValidSchema)(o,i)){let c=r.var("valid",(0,lc._)`${a} <= ${t.length}`);r.if((0,lc.not)(c),()=>l(c)),e.ok(c)}function l(c){r.forRange("i",t.length,a,u=>{e.subschema({keyword:s,dataProp:u,dataPropType:lT.Type.Num},c),o.allErrors||r.if((0,lc.not)(c),()=>r.break())})}}Cp.validateAdditionalItems=fz;Cp.default=c0e});var uT=w(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.validateTuple=void 0;var hz=me(),k_=ke(),u0e=Sr(),f0e={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return dz(e,"additionalItems",t);r.items=!0,!(0,k_.alwaysValidSchema)(r,t)&&e.ok((0,u0e.validateArray)(e))}};function dz(e,t,r=e.schema){let{gen:i,parentSchema:n,data:s,keyword:o,it:a}=e;u(n),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=k_.mergeEvaluated.items(i,r.length,a.items));let l=i.name("valid"),c=i.const("len",(0,hz._)`${s}.length`);r.forEach((f,h)=>{(0,k_.alwaysValidSchema)(a,f)||(i.if((0,hz._)`${c} > ${h}`,()=>e.subschema({keyword:o,schemaProp:h,dataProp:h},l)),e.ok(l))});function u(f){let{opts:h,errSchemaPath:p}=a,m=r.length,g=m===f.minItems&&(m===f.maxItems||f[t]===!1);if(h.strictTuples&&!g){let y=`"${o}" is ${m}-tuple, but minItems or maxItems/${t} are not specified or different at path "${p}"`;(0,k_.checkStrictMode)(a,y,h.strictTuples)}}}Pp.validateTuple=dz;Pp.default=f0e});var pz=w(fT=>{"use strict";Object.defineProperty(fT,"__esModule",{value:!0});var h0e=uT(),d0e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,h0e.validateTuple)(e,"items")};fT.default=d0e});var gz=w(hT=>{"use strict";Object.defineProperty(hT,"__esModule",{value:!0});var mz=me(),p0e=ke(),m0e=Sr(),g0e=cT(),y0e={message:({params:{len:e}})=>(0,mz.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,mz._)`{limit: ${e}}`},v0e={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:y0e,code(e){let{schema:t,parentSchema:r,it:i}=e,{prefixItems:n}=r;i.items=!0,!(0,p0e.alwaysValidSchema)(i,t)&&(n?(0,g0e.validateAdditionalItems)(e,n):e.ok((0,m0e.validateArray)(e)))}};hT.default=v0e});var yz=w(dT=>{"use strict";Object.defineProperty(dT,"__esModule",{value:!0});var dn=me(),R_=ke(),_0e={message:({params:{min:e,max:t}})=>t===void 0?(0,dn.str)`must contain at least ${e} valid item(s)`:(0,dn.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,dn._)`{minContains: ${e}}`:(0,dn._)`{minContains: ${e}, maxContains: ${t}}`},b0e={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:_0e,code(e){let{gen:t,schema:r,parentSchema:i,data:n,it:s}=e,o,a,{minContains:l,maxContains:c}=i;s.opts.next?(o=l===void 0?1:l,a=c):o=1;let u=t.const("len",(0,dn._)`${n}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,R_.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,R_.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,R_.alwaysValidSchema)(s,r)){let g=(0,dn._)`${u} >= ${o}`;a!==void 0&&(g=(0,dn._)`${g} && ${u} <= ${a}`),e.pass(g);return}s.items=!0;let f=t.name("valid");a===void 0&&o===1?p(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,dn._)`${n}.length > 0`,h)):(t.let(f,!1),h()),e.result(f,()=>e.reset());function h(){let g=t.name("_valid"),y=t.let("count",0);p(g,()=>t.if(g,()=>m(y)))}function p(g,y){t.forRange("i",0,u,_=>{e.subschema({keyword:"contains",dataProp:_,dataPropType:R_.Type.Num,compositeRule:!0},g),y()})}function m(g){t.code((0,dn._)`${g}++`),a===void 0?t.if((0,dn._)`${g} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,dn._)`${g} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,dn._)`${g} >= ${o}`,()=>t.assign(f,!0)))}}};dT.default=b0e});var bz=w(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.validateSchemaDeps=Os.validatePropertyDeps=Os.error=void 0;var pT=me(),w0e=ke(),Ip=Sr();Os.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let i=t===1?"property":"properties";return(0,pT.str)`must have ${i} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:i}})=>(0,pT._)`{property: ${e},
    missingProperty: ${i},
    depsCount: ${t},
    deps: ${r}}`};var S0e={keyword:"dependencies",type:"object",schemaType:"object",error:Os.error,code(e){let[t,r]=x0e(e);vz(e,t),_z(e,r)}};function x0e({schema:e}){let t={},r={};for(let i in e){if(i==="__proto__")continue;let n=Array.isArray(e[i])?t:r;n[i]=e[i]}return[t,r]}function vz(e,t=e.schema){let{gen:r,data:i,it:n}=e;if(Object.keys(t).length===0)return;let s=r.let("missing");for(let o in t){let a=t[o];if(a.length===0)continue;let l=(0,Ip.propertyInData)(r,i,o,n.opts.ownProperties);e.setParams({property:o,depsCount:a.length,deps:a.join(", ")}),n.allErrors?r.if(l,()=>{for(let c of a)(0,Ip.checkReportMissingProp)(e,c)}):(r.if((0,pT._)`${l} && (${(0,Ip.checkMissingProp)(e,a,s)})`),(0,Ip.reportMissingProp)(e,s),r.else())}}Os.validatePropertyDeps=vz;function _z(e,t=e.schema){let{gen:r,data:i,keyword:n,it:s}=e,o=r.name("valid");for(let a in t)(0,w0e.alwaysValidSchema)(s,t[a])||(r.if((0,Ip.propertyInData)(r,i,a,s.opts.ownProperties),()=>{let l=e.subschema({keyword:n,schemaProp:a},o);e.mergeValidEvaluated(l,o)},()=>r.var(o,!0)),e.ok(o))}Os.validateSchemaDeps=_z;Os.default=S0e});var Sz=w(mT=>{"use strict";Object.defineProperty(mT,"__esModule",{value:!0});var wz=me(),E0e=ke(),k0e={message:"property name must be valid",params:({params:e})=>(0,wz._)`{propertyName: ${e.propertyName}}`},R0e={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:k0e,code(e){let{gen:t,schema:r,data:i,it:n}=e;if((0,E0e.alwaysValidSchema)(n,r))return;let s=t.name("valid");t.forIn("key",i,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,wz.not)(s),()=>{e.error(!0),n.allErrors||t.break()})}),e.ok(s)}};mT.default=R0e});var yT=w(gT=>{"use strict";Object.defineProperty(gT,"__esModule",{value:!0});var T_=Sr(),Ln=me(),T0e=fn(),O_=ke(),O0e={message:"must NOT have additional properties",params:({params:e})=>(0,Ln._)`{additionalProperty: ${e.additionalProperty}}`},A0e={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:O0e,code(e){let{gen:t,schema:r,parentSchema:i,data:n,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");let{allErrors:a,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,O_.alwaysValidSchema)(o,r))return;let c=(0,T_.allSchemaProperties)(i.properties),u=(0,T_.allSchemaProperties)(i.patternProperties);f(),e.ok((0,Ln._)`${s} === ${T0e.default.errors}`);function f(){t.forIn("key",n,y=>{!c.length&&!u.length?m(y):t.if(h(y),()=>m(y))})}function h(y){let _;if(c.length>8){let S=(0,O_.schemaRefOrVal)(o,i.properties,"properties");_=(0,T_.isOwnProperty)(t,S,y)}else c.length?_=(0,Ln.or)(...c.map(S=>(0,Ln._)`${y} === ${S}`)):_=Ln.nil;return u.length&&(_=(0,Ln.or)(_,...u.map(S=>(0,Ln._)`${(0,T_.usePattern)(e,S)}.test(${y})`))),(0,Ln.not)(_)}function p(y){t.code((0,Ln._)`delete ${n}[${y}]`)}function m(y){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){p(y);return}if(r===!1){e.setParams({additionalProperty:y}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,O_.alwaysValidSchema)(o,r)){let _=t.name("valid");l.removeAdditional==="failing"?(g(y,_,!1),t.if((0,Ln.not)(_),()=>{e.reset(),p(y)})):(g(y,_),a||t.if((0,Ln.not)(_),()=>t.break()))}}function g(y,_,S){let b={keyword:"additionalProperties",dataProp:y,dataPropType:O_.Type.Str};S===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(b,_)}}};gT.default=A0e});var kz=w(_T=>{"use strict";Object.defineProperty(_T,"__esModule",{value:!0});var C0e=Qu(),xz=Sr(),vT=ke(),Ez=yT(),P0e={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:i,data:n,it:s}=e;s.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&Ez.default.code(new C0e.KeywordCxt(s,Ez.default,"additionalProperties"));let o=(0,xz.allSchemaProperties)(r);for(let f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=vT.mergeEvaluated.props(t,(0,vT.toHash)(o),s.props));let a=o.filter(f=>!(0,vT.alwaysValidSchema)(s,r[f]));if(a.length===0)return;let l=t.name("valid");for(let f of a)c(f)?u(f):(t.if((0,xz.propertyInData)(t,n,f,s.opts.ownProperties)),u(f),s.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(l);function c(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function u(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};_T.default=P0e});var Az=w(bT=>{"use strict";Object.defineProperty(bT,"__esModule",{value:!0});var Rz=Sr(),A_=me(),Tz=ke(),Oz=ke(),I0e={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:i,parentSchema:n,it:s}=e,{opts:o}=s,a=(0,Rz.allSchemaProperties)(r),l=a.filter(g=>(0,Tz.alwaysValidSchema)(s,r[g]));if(a.length===0||l.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;let c=o.strictSchema&&!o.allowMatchingProperties&&n.properties,u=t.name("valid");s.props!==!0&&!(s.props instanceof A_.Name)&&(s.props=(0,Oz.evaluatedPropsToName)(t,s.props));let{props:f}=s;h();function h(){for(let g of a)c&&p(g),s.allErrors?m(g):(t.var(u,!0),m(g),t.if(u))}function p(g){for(let y in c)new RegExp(g).test(y)&&(0,Tz.checkStrictMode)(s,`property ${y} matches pattern ${g} (use allowMatchingProperties)`)}function m(g){t.forIn("key",i,y=>{t.if((0,A_._)`${(0,Rz.usePattern)(e,g)}.test(${y})`,()=>{let _=l.includes(g);_||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:y,dataPropType:Oz.Type.Str},u),s.opts.unevaluated&&f!==!0?t.assign((0,A_._)`${f}[${y}]`,!0):!_&&!s.allErrors&&t.if((0,A_.not)(u),()=>t.break())})})}}};bT.default=I0e});var Cz=w(wT=>{"use strict";Object.defineProperty(wT,"__esModule",{value:!0});var N0e=ke(),$0e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:i}=e;if((0,N0e.alwaysValidSchema)(i,r)){e.fail();return}let n=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),e.failResult(n,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};wT.default=$0e});var Pz=w(ST=>{"use strict";Object.defineProperty(ST,"__esModule",{value:!0});var F0e=Sr(),D0e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:F0e.validateUnion,error:{message:"must match a schema in anyOf"}};ST.default=D0e});var Iz=w(xT=>{"use strict";Object.defineProperty(xT,"__esModule",{value:!0});var C_=me(),L0e=ke(),j0e={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,C_._)`{passingSchemas: ${e.passing}}`},q0e={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:j0e,code(e){let{gen:t,schema:r,parentSchema:i,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&i.discriminator)return;let s=r,o=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(c),e.result(o,()=>e.reset(),()=>e.error(!0));function c(){s.forEach((u,f)=>{let h;(0,L0e.alwaysValidSchema)(n,u)?t.var(l,!0):h=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&t.if((0,C_._)`${l} && ${o}`).assign(o,!1).assign(a,(0,C_._)`[${a}, ${f}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(a,f),h&&e.mergeEvaluated(h,C_.Name)})})}}};xT.default=q0e});var Nz=w(ET=>{"use strict";Object.defineProperty(ET,"__esModule",{value:!0});var M0e=ke(),z0e={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");let n=t.name("valid");r.forEach((s,o)=>{if((0,M0e.alwaysValidSchema)(i,s))return;let a=e.subschema({keyword:"allOf",schemaProp:o},n);e.ok(n),e.mergeEvaluated(a)})}};ET.default=z0e});var Dz=w(kT=>{"use strict";Object.defineProperty(kT,"__esModule",{value:!0});var P_=me(),Fz=ke(),U0e={message:({params:e})=>(0,P_.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,P_._)`{failingKeyword: ${e.ifClause}}`},B0e={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:U0e,code(e){let{gen:t,parentSchema:r,it:i}=e;r.then===void 0&&r.else===void 0&&(0,Fz.checkStrictMode)(i,'"if" without "then" and "else" is ignored');let n=$z(i,"then"),s=$z(i,"else");if(!n&&!s)return;let o=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),n&&s){let u=t.let("ifClause");e.setParams({ifClause:u}),t.if(a,c("then",u),c("else",u))}else n?t.if(a,c("then")):t.if((0,P_.not)(a),c("else"));e.pass(o,()=>e.error(!0));function l(){let u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(u)}function c(u,f){return()=>{let h=e.subschema({keyword:u},a);t.assign(o,a),e.mergeValidEvaluated(h,o),f?t.assign(f,(0,P_._)`${u}`):e.setParams({ifClause:u})}}}};function $z(e,t){let r=e.schema[t];return r!==void 0&&!(0,Fz.alwaysValidSchema)(e,r)}kT.default=B0e});var Lz=w(RT=>{"use strict";Object.defineProperty(RT,"__esModule",{value:!0});var H0e=ke(),V0e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,H0e.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};RT.default=V0e});var jz=w(TT=>{"use strict";Object.defineProperty(TT,"__esModule",{value:!0});var W0e=cT(),G0e=pz(),Y0e=uT(),K0e=gz(),J0e=yz(),Z0e=bz(),X0e=Sz(),Q0e=yT(),eye=kz(),tye=Az(),rye=Cz(),iye=Pz(),nye=Iz(),sye=Nz(),oye=Dz(),aye=Lz();function lye(e=!1){let t=[rye.default,iye.default,nye.default,sye.default,oye.default,aye.default,X0e.default,Q0e.default,Z0e.default,eye.default,tye.default];return e?t.push(G0e.default,K0e.default):t.push(W0e.default,Y0e.default),t.push(J0e.default),t}TT.default=lye});var qz=w(OT=>{"use strict";Object.defineProperty(OT,"__esModule",{value:!0});var Ot=me(),cye={message:({schemaCode:e})=>(0,Ot.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Ot._)`{format: ${e}}`},uye={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:cye,code(e,t){let{gen:r,data:i,$data:n,schema:s,schemaCode:o,it:a}=e,{opts:l,errSchemaPath:c,schemaEnv:u,self:f}=a;if(!l.validateFormats)return;n?h():p();function h(){let m=r.scopeValue("formats",{ref:f.formats,code:l.code.formats}),g=r.const("fDef",(0,Ot._)`${m}[${o}]`),y=r.let("fType"),_=r.let("format");r.if((0,Ot._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>r.assign(y,(0,Ot._)`${g}.type || "string"`).assign(_,(0,Ot._)`${g}.validate`),()=>r.assign(y,(0,Ot._)`"string"`).assign(_,g)),e.fail$data((0,Ot.or)(S(),b()));function S(){return l.strictSchema===!1?Ot.nil:(0,Ot._)`${o} && !${_}`}function b(){let v=u.$async?(0,Ot._)`(${g}.async ? await ${_}(${i}) : ${_}(${i}))`:(0,Ot._)`${_}(${i})`,O=(0,Ot._)`(typeof ${_} == "function" ? ${v} : ${_}.test(${i}))`;return(0,Ot._)`${_} && ${_} !== true && ${y} === ${t} && !${O}`}}function p(){let m=f.formats[s];if(!m){S();return}if(m===!0)return;let[g,y,_]=b(m);g===t&&e.pass(v());function S(){if(l.strictSchema===!1){f.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function b(O){let j=O instanceof RegExp?(0,Ot.regexpCode)(O):l.code.formats?(0,Ot._)`${l.code.formats}${(0,Ot.getProperty)(s)}`:void 0,R=r.scopeValue("formats",{key:s,ref:O,code:j});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,Ot._)`${R}.validate`]:["string",O,R]}function v(){if(typeof m=="object"&&!(m instanceof RegExp)&&m.async){if(!u.$async)throw new Error("async format in sync schema");return(0,Ot._)`await ${_}(${i})`}return typeof y=="function"?(0,Ot._)`${_}(${i})`:(0,Ot._)`${_}.test(${i})`}}}};OT.default=uye});var Mz=w(AT=>{"use strict";Object.defineProperty(AT,"__esModule",{value:!0});var fye=qz(),hye=[fye.default];AT.default=hye});var zz=w(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.contentVocabulary=nf.metadataVocabulary=void 0;nf.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];nf.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Bz=w(CT=>{"use strict";Object.defineProperty(CT,"__esModule",{value:!0});var dye=J3(),pye=uz(),mye=jz(),gye=Mz(),Uz=zz(),yye=[dye.default,pye.default,(0,mye.default)(),gye.default,Uz.metadataVocabulary,Uz.contentVocabulary];CT.default=yye});var PT=w(I_=>{"use strict";Object.defineProperty(I_,"__esModule",{value:!0});I_.DiscrError=void 0;var Hz;(function(e){e.Tag="tag",e.Mapping="mapping"})(Hz||(I_.DiscrError=Hz={}))});var Wz=w(NT=>{"use strict";Object.defineProperty(NT,"__esModule",{value:!0});var sf=me(),IT=PT(),Vz=sc(),vye=Ro(),_ye=ke(),bye={message:({params:{discrError:e,tagName:t}})=>e===IT.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,sf._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},wye={keyword:"discriminator",type:"object",schemaType:"object",error:bye,code(e){let{gen:t,data:r,schema:i,parentSchema:n,it:s}=e,{oneOf:o}=n;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=i.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let l=t.let("valid",!1),c=t.const("tag",(0,sf._)`${r}${(0,sf.getProperty)(a)}`);t.if((0,sf._)`typeof ${c} == "string"`,()=>u(),()=>e.error(!1,{discrError:IT.DiscrError.Tag,tag:c,tagName:a})),e.ok(l);function u(){let p=h();t.if(!1);for(let m in p)t.elseIf((0,sf._)`${c} === ${m}`),t.assign(l,f(p[m]));t.else(),e.error(!1,{discrError:IT.DiscrError.Mapping,tag:c,tagName:a}),t.endIf()}function f(p){let m=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:p},m);return e.mergeEvaluated(g,sf.Name),m}function h(){var p;let m={},g=_(n),y=!0;for(let v=0;v<o.length;v++){let O=o[v];if(O?.$ref&&!(0,_ye.schemaHasRulesButRef)(O,s.self.RULES)){let R=O.$ref;if(O=Vz.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,R),O instanceof Vz.SchemaEnv&&(O=O.schema),O===void 0)throw new vye.default(s.opts.uriResolver,s.baseId,R)}let j=(p=O?.properties)===null||p===void 0?void 0:p[a];if(typeof j!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);y=y&&(g||_(O)),S(j,v)}if(!y)throw new Error(`discriminator: "${a}" must be required`);return m;function _({required:v}){return Array.isArray(v)&&v.includes(a)}function S(v,O){if(v.const)b(v.const,O);else if(v.enum)for(let j of v.enum)b(j,O);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function b(v,O){if(typeof v!="string"||v in m)throw new Error(`discriminator: "${a}" values must be unique strings`);m[v]=O}}}};NT.default=wye});var Gz=w((aUe,Sye)=>{Sye.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var Np=w((st,$T)=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.MissingRefError=st.ValidationError=st.CodeGen=st.Name=st.nil=st.stringify=st.str=st._=st.KeywordCxt=st.Ajv=void 0;var xye=BR(),Eye=Bz(),kye=Wz(),Yz=Gz(),Rye=["/properties"],N_="http://json-schema.org/draft-07/schema",of=class extends xye.default{_addVocabularies(){super._addVocabularies(),Eye.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(kye.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(Yz,Rye):Yz;this.addMetaSchema(t,N_,!1),this.refs["http://json-schema.org/schema"]=N_}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(N_)?N_:void 0)}};st.Ajv=of;$T.exports=st=of;$T.exports.Ajv=of;Object.defineProperty(st,"__esModule",{value:!0});st.default=of;var Tye=Qu();Object.defineProperty(st,"KeywordCxt",{enumerable:!0,get:function(){return Tye.KeywordCxt}});var af=me();Object.defineProperty(st,"_",{enumerable:!0,get:function(){return af._}});Object.defineProperty(st,"str",{enumerable:!0,get:function(){return af.str}});Object.defineProperty(st,"stringify",{enumerable:!0,get:function(){return af.stringify}});Object.defineProperty(st,"nil",{enumerable:!0,get:function(){return af.nil}});Object.defineProperty(st,"Name",{enumerable:!0,get:function(){return af.Name}});Object.defineProperty(st,"CodeGen",{enumerable:!0,get:function(){return af.CodeGen}});var Oye=vp();Object.defineProperty(st,"ValidationError",{enumerable:!0,get:function(){return Oye.default}});var Aye=Ro();Object.defineProperty(st,"MissingRefError",{enumerable:!0,get:function(){return Aye.default}})});var Jz=w((lUe,Kz)=>{"use strict";var Cye={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Kz.exports={HEX:Cye}});var n4=w((cUe,i4)=>{"use strict";var{HEX:Pye}=Jz();function e4(e){if(r4(e,".")<3)return{host:e,isIPV4:!1};let t=e.match(/^(\b[01]?\d{1,2}|\b2[0-4]\d|\b25[0-5])(\.([01]?\d{1,2}|2[0-4]\d|25[0-5])){3}$/u)||[],[r]=t;return r?{host:Nye(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function FT(e){let t="",r=!0;for(let i of e){if(i!=="0"&&r===!0&&(r=!1),Pye[i]===void 0)return;r||(t+=i)}return t}function Iye(e){let t=0,r={error:!1,address:"",zone:""},i=[],n=[],s=!1,o=!1,a=!1;function l(){if(n.length){if(s===!1){let c=FT(n.join(""));if(c!==void 0)i.push(c);else return r.error=!0,!1}n.length=0}return!0}for(let c=0;c<e.length;c++){let u=e[c];if(!(u==="["||u==="]"))if(u===":"){if(o===!0&&(a=!0),!l())break;if(t++,i.push(":"),t>7){r.error=!0;break}c-1>=0&&e[c-1]===":"&&(o=!0);continue}else if(u==="%"){if(!l())break;s=!0}else{n.push(u);continue}}return n.length&&(s?r.zone=n.join(""):a?i.push(n.join("")):i.push(FT(n.join("")))),r.address=i.join(""),r}function t4(e,t={}){if(r4(e,":")<2)return{host:e,isIPV6:!1};let r=Iye(e);if(r.error)return{host:e,isIPV6:!1};{let i=r.address,n=r.address;return r.zone&&(i+="%"+r.zone,n+="%25"+r.zone),{host:i,escapedHost:n,isIPV6:!0}}}function Nye(e,t){let r="",i=!0,n=e.length;for(let s=0;s<n;s++){let o=e[s];o==="0"&&i?(s+1<=n&&e[s+1]===t||s+1===n)&&(r+=o,i=!1):(o===t?i=!0:i=!1,r+=o)}return r}function r4(e,t){let r=0;for(let i=0;i<e.length;i++)e[i]===t&&r++;return r}var Zz=/^\.\.?\//u,Xz=/^\/\.(?:\/|$)/u,Qz=/^\/\.\.(?:\/|$)/u,$ye=/^\/?(?:.|\n)*?(?=\/|$)/u;function Fye(e){let t=[];for(;e.length;)if(e.match(Zz))e=e.replace(Zz,"");else if(e.match(Xz))e=e.replace(Xz,"/");else if(e.match(Qz))e=e.replace(Qz,"/"),t.pop();else if(e==="."||e==="..")e="";else{let r=e.match($ye);if(r){let i=r[0];e=e.slice(i.length),t.push(i)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function Dye(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Lye(e,t){let r=[];if(e.userinfo!==void 0&&(r.push(e.userinfo),r.push("@")),e.host!==void 0){let i=unescape(e.host),n=e4(i);if(n.isIPV4)i=n.host;else{let s=t4(n.host,{isIPV4:!1});s.isIPV6===!0?i=`[${s.escapedHost}]`:i=e.host}r.push(i)}return(typeof e.port=="number"||typeof e.port=="string")&&(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}i4.exports={recomposeAuthority:Lye,normalizeComponentEncoding:Dye,removeDotSegments:Fye,normalizeIPv4:e4,normalizeIPv6:t4,stringToHexStripped:FT}});var u4=w((uUe,c4)=>{"use strict";var jye=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,qye=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function s4(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function o4(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function a4(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function Mye(e){return e.secure=s4(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function zye(e){if((e.port===(s4(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function Uye(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(qye);if(r){let i=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let n=`${i}:${t.nid||e.nid}`,s=DT[n];e.path=void 0,s&&(e=s.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Bye(e,t){let r=t.scheme||e.scheme||"urn",i=e.nid.toLowerCase(),n=`${r}:${t.nid||i}`,s=DT[n];s&&(e=s.serialize(e,t));let o=e,a=e.nss;return o.path=`${i||t.nid}:${a}`,t.skipEscape=!0,o}function Hye(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!jye.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Vye(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var l4={scheme:"http",domainHost:!0,parse:o4,serialize:a4},Wye={scheme:"https",domainHost:l4.domainHost,parse:o4,serialize:a4},$_={scheme:"ws",domainHost:!0,parse:Mye,serialize:zye},Gye={scheme:"wss",domainHost:$_.domainHost,parse:$_.parse,serialize:$_.serialize},Yye={scheme:"urn",parse:Uye,serialize:Bye,skipNormalize:!0},Kye={scheme:"urn:uuid",parse:Hye,serialize:Vye,skipNormalize:!0},DT={http:l4,https:Wye,ws:$_,wss:Gye,urn:Yye,"urn:uuid":Kye};c4.exports=DT});var jT=w((fUe,D_)=>{"use strict";var{normalizeIPv6:Jye,normalizeIPv4:Zye,removeDotSegments:$p,recomposeAuthority:Xye,normalizeComponentEncoding:F_}=n4(),f4=u4();function Qye(e,t){return typeof e=="string"?e=As(Oo(e,t),t):typeof e=="object"&&(e=Oo(As(e,t),t)),e}function eve(e,t,r){let i=Object.assign({scheme:"null"},r),n=h4(Oo(e,i),Oo(t,i),i,!0);return As(n,{...i,skipEscape:!0})}function h4(e,t,r,i){let n={};return i||(e=Oo(As(e,r),r),t=Oo(As(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=$p(t.path||""),n.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=$p(t.path||""),n.query=t.query):(t.path?(t.path.charAt(0)==="/"?n.path=$p(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?n.path="/"+t.path:e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path,n.path=$p(n.path)),n.query=t.query):(n.path=e.path,t.query!==void 0?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function tve(e,t,r){return typeof e=="string"?(e=unescape(e),e=As(F_(Oo(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=As(F_(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=As(F_(Oo(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=As(F_(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function As(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},i=Object.assign({},t),n=[],s=f4[(i.scheme||r.scheme||"").toLowerCase()];s&&s.serialize&&s.serialize(r,i),r.path!==void 0&&(i.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),i.reference!=="suffix"&&r.scheme&&(n.push(r.scheme),n.push(":"));let o=Xye(r,i);if(o!==void 0&&(i.reference!=="suffix"&&n.push("//"),n.push(o),r.path&&r.path.charAt(0)!=="/"&&n.push("/")),r.path!==void 0){let a=r.path;!i.absolutePath&&(!s||!s.absolutePath)&&(a=$p(a)),o===void 0&&(a=a.replace(/^\/\//u,"/%2F")),n.push(a)}return r.query!==void 0&&(n.push("?"),n.push(r.query)),r.fragment!==void 0&&(n.push("#"),n.push(r.fragment)),n.join("")}var rve=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function ive(e){let t=0;for(let r=0,i=e.length;r<i;++r)if(t=e.charCodeAt(r),t>126||rve[t])return!0;return!1}var nve=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Oo(e,t){let r=Object.assign({},t),i={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},n=e.indexOf("%")!==-1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);let s=e.match(nve);if(s){if(i.scheme=s[1],i.userinfo=s[3],i.host=s[4],i.port=parseInt(s[5],10),i.path=s[6]||"",i.query=s[7],i.fragment=s[8],isNaN(i.port)&&(i.port=s[5]),i.host){let a=Zye(i.host);a.isIPV4===!1?i.host=Jye(a.host,{isIPV4:!1}).host.toLowerCase():i.host=a.host}i.scheme===void 0&&i.userinfo===void 0&&i.host===void 0&&i.port===void 0&&!i.path&&i.query===void 0?i.reference="same-document":i.scheme===void 0?i.reference="relative":i.fragment===void 0?i.reference="absolute":i.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==i.reference&&(i.error=i.error||"URI is not a "+r.reference+" reference.");let o=f4[(r.scheme||i.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&i.host&&(r.domainHost||o&&o.domainHost)&&ive(i.host))try{i.host=URL.domainToASCII(i.host.toLowerCase())}catch(a){i.error=i.error||"Host's domain name can not be converted to ASCII: "+a}(!o||o&&!o.skipNormalize)&&(n&&i.scheme!==void 0&&(i.scheme=unescape(i.scheme)),n&&i.userinfo!==void 0&&(i.userinfo=unescape(i.userinfo)),n&&i.host!==void 0&&(i.host=unescape(i.host)),i.path!==void 0&&i.path.length&&(i.path=escape(unescape(i.path))),i.fragment!==void 0&&i.fragment.length&&(i.fragment=encodeURI(decodeURI(i.fragment)))),o&&o.parse&&o.parse(i,r)}else i.error=i.error||"URI can not be parsed.";return i}var LT={normalize:Qye,resolve:eve,resolveComponents:h4,equal:tve,serialize:As,parse:Oo};D_.exports=LT;D_.exports.default=LT;D_.exports.fastUri=LT});var L_=w(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.formatNames=Ps.fastFormats=Ps.fullFormats=void 0;function Cs(e,t){return{validate:e,compare:t}}Ps.fullFormats={date:Cs(g4,UT),time:Cs(MT(!0),BT),"date-time":Cs(d4(!0),v4),"iso-time":Cs(MT(),y4),"iso-date-time":Cs(d4(),_4),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:uve,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:yve,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:fve,int32:{type:"number",validate:pve},int64:{type:"number",validate:mve},float:{type:"number",validate:m4},double:{type:"number",validate:m4},password:!0,binary:!0};Ps.fastFormats={...Ps.fullFormats,date:Cs(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,UT),time:Cs(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,BT),"date-time":Cs(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,v4),"iso-time":Cs(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,y4),"iso-date-time":Cs(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,_4),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};Ps.formatNames=Object.keys(Ps.fullFormats);function sve(e){return e%4===0&&(e%100!==0||e%400===0)}var ove=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,ave=[0,31,28,31,30,31,30,31,31,30,31,30,31];function g4(e){let t=ove.exec(e);if(!t)return!1;let r=+t[1],i=+t[2],n=+t[3];return i>=1&&i<=12&&n>=1&&n<=(i===2&&sve(r)?29:ave[i])}function UT(e,t){if(e&&t)return e>t?1:e<t?-1:0}var qT=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function MT(e){return function(r){let i=qT.exec(r);if(!i)return!1;let n=+i[1],s=+i[2],o=+i[3],a=i[4],l=i[5]==="-"?-1:1,c=+(i[6]||0),u=+(i[7]||0);if(c>23||u>59||e&&!a)return!1;if(n<=23&&s<=59&&o<60)return!0;let f=s-u*l,h=n-c*l-(f<0?1:0);return(h===23||h===-1)&&(f===59||f===-1)&&o<61}}function BT(e,t){if(!(e&&t))return;let r=new Date("2020-01-01T"+e).valueOf(),i=new Date("2020-01-01T"+t).valueOf();if(r&&i)return r-i}function y4(e,t){if(!(e&&t))return;let r=qT.exec(e),i=qT.exec(t);if(r&&i)return e=r[1]+r[2]+r[3],t=i[1]+i[2]+i[3],e>t?1:e<t?-1:0}var zT=/t|\s/i;function d4(e){let t=MT(e);return function(i){let n=i.split(zT);return n.length===2&&g4(n[0])&&t(n[1])}}function v4(e,t){if(!(e&&t))return;let r=new Date(e).valueOf(),i=new Date(t).valueOf();if(r&&i)return r-i}function _4(e,t){if(!(e&&t))return;let[r,i]=e.split(zT),[n,s]=t.split(zT),o=UT(r,n);if(o!==void 0)return o||BT(i,s)}var lve=/\/|:/,cve=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function uve(e){return lve.test(e)&&cve.test(e)}var p4=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function fve(e){return p4.lastIndex=0,p4.test(e)}var hve=-(2**31),dve=2**31-1;function pve(e){return Number.isInteger(e)&&e<=dve&&e>=hve}function mve(e){return Number.isInteger(e)}function m4(){return!0}var gve=/[^\\]\\Z/;function yve(e){if(gve.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}});var b4=w(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.formatLimitDefinition=void 0;var vve=Np(),jn=me(),Fa=jn.operators,j_={formatMaximum:{okStr:"<=",ok:Fa.LTE,fail:Fa.GT},formatMinimum:{okStr:">=",ok:Fa.GTE,fail:Fa.LT},formatExclusiveMaximum:{okStr:"<",ok:Fa.LT,fail:Fa.GTE},formatExclusiveMinimum:{okStr:">",ok:Fa.GT,fail:Fa.LTE}},_ve={message:({keyword:e,schemaCode:t})=>(0,jn.str)`should be ${j_[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,jn._)`{comparison: ${j_[e].okStr}, limit: ${t}}`};lf.formatLimitDefinition={keyword:Object.keys(j_),type:"string",schemaType:"string",$data:!0,error:_ve,code(e){let{gen:t,data:r,schemaCode:i,keyword:n,it:s}=e,{opts:o,self:a}=s;if(!o.validateFormats)return;let l=new vve.KeywordCxt(s,a.RULES.all.format.definition,"format");l.$data?c():u();function c(){let h=t.scopeValue("formats",{ref:a.formats,code:o.code.formats}),p=t.const("fmt",(0,jn._)`${h}[${l.schemaCode}]`);e.fail$data((0,jn.or)((0,jn._)`typeof ${p} != "object"`,(0,jn._)`${p} instanceof RegExp`,(0,jn._)`typeof ${p}.compare != "function"`,f(p)))}function u(){let h=l.schema,p=a.formats[h];if(!p||p===!0)return;if(typeof p!="object"||p instanceof RegExp||typeof p.compare!="function")throw new Error(`"${n}": format "${h}" does not define "compare" function`);let m=t.scopeValue("formats",{key:h,ref:p,code:o.code.formats?(0,jn._)`${o.code.formats}${(0,jn.getProperty)(h)}`:void 0});e.fail$data(f(m))}function f(h){return(0,jn._)`${h}.compare(${r}, ${i}) ${j_[n].fail} 0`}},dependencies:["format"]};var bve=e=>(e.addKeyword(lf.formatLimitDefinition),e);lf.default=bve});var E4=w((Fp,x4)=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});var cf=L_(),wve=b4(),HT=me(),w4=new HT.Name("fullFormats"),Sve=new HT.Name("fastFormats"),VT=(e,t={keywords:!0})=>{if(Array.isArray(t))return S4(e,t,cf.fullFormats,w4),e;let[r,i]=t.mode==="fast"?[cf.fastFormats,Sve]:[cf.fullFormats,w4],n=t.formats||cf.formatNames;return S4(e,n,r,i),t.keywords&&(0,wve.default)(e),e};VT.get=(e,t="full")=>{let i=(t==="fast"?cf.fastFormats:cf.fullFormats)[e];if(!i)throw new Error(`Unknown format "${e}"`);return i};function S4(e,t,r,i){var n,s;(n=(s=e.opts.code).formats)!==null&&n!==void 0||(s.formats=(0,HT._)`require("ajv-formats/dist/formats").${i}`);for(let o of t)e.addFormat(o,r[o])}x4.exports=Fp=VT;Object.defineProperty(Fp,"__esModule",{value:!0});Fp.default=VT});var GT=w((pUe,k4)=>{"use strict";var xve=Np(),Eve=jT(),kve=E4(),Rve=gv()({proto:!0}),WT=class e{constructor(t){this.ajv=new xve({...t,strictSchema:!1,validateSchema:!1,allowUnionTypes:!0,uriResolver:Eve}),kve(this.ajv),this.ajv.addKeyword({keyword:"fjs_type",type:"object",errors:!1,validate:(r,i)=>i instanceof Date}),this._ajvSchemas={},this._ajvOptions=t||{}}addSchema(t,r){let i=t.$id||r;if(t.$id!==void 0&&t.$id[0]==="#"&&(i=r+t.$id),this.ajv.refs[i]===void 0&&this.ajv.schemas[i]===void 0){let n=Rve(t);this.convertSchemaToAjvFormat(n),this.ajv.addSchema(n,i),this._ajvSchemas[i]=t}}validate(t,r){return this.ajv.validate(t,r)}convertSchemaToAjvFormat(t){if(t!==null){t.type==="string"?(t.fjs_type="string",t.type=["string","object"]):Array.isArray(t.type)&&t.type.includes("string")&&!t.type.includes("object")&&(t.fjs_type="string",t.type.push("object"));for(let r in t)typeof t[r]=="object"&&this.convertSchemaToAjvFormat(t[r])}}getState(){return{ajvOptions:this._ajvOptions,ajvSchemas:this._ajvSchemas}}static restoreFromState(t){let r=new e(t.ajvOptions);for(let[i,n]of Object.entries(t.ajvSchemas))r.ajv.addSchema(n,i);return r}};k4.exports=WT});var T4=w((mUe,R4)=>{"use strict";var YT=class e{constructor(t,r,i="#"){this.schema=t,this.schemaId=r,this.jsonPointer=i}getPropertyLocation(t){return new e(this.schema[t],this.schemaId,this.jsonPointer+"/"+t)}getSchemaRef(){return this.schemaId+this.jsonPointer}};R4.exports=YT});var I4=w((gUe,JT)=>{"use strict";JT.exports=Q;JT.exports.default=Q;var Tve={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},O4={enum:["array","boolean","integer","null","number","object","string"]},A4=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Ove=L_().fullFormats.uri,C4=L_().fullFormats.regex;function pn(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let s=null,o=0,a=o;return typeof e=="number"&&!(e%1)&&!isNaN(e)&&isFinite(e)?o===a&&typeof e=="number"&&isFinite(e)&&(e<0||isNaN(e))?(pn.errors=[{instancePath:t,schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1):(pn.errors=s,o===0):(pn.errors=[{instancePath:t,schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1)}var KT={validate:Q};function ni(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let s=null,o=0;if(o===0)if(Array.isArray(e)){if(e.length<1)return ni.errors=[{instancePath:t,schemaPath:"#/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var a=!0;let l=e.length;for(let c=0;c<l;c++){let u=o;KT.validate(e[c],{instancePath:t+"/"+c,parentData:e,parentDataProperty:c,rootData:n})||(s=s===null?KT.validate.errors:s.concat(KT.validate.errors),o=s.length);var a=u===o;if(!a)break}}}else return ni.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;return ni.errors=s,o===0}var P4=Op().default;function Q(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let s=null,o=0;if(!(e&&typeof e=="object"&&!Array.isArray(e))&&typeof e!="boolean")return Q.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:Tve.type},message:"must be object,boolean"}],!1;if(o===0&&e&&typeof e=="object"&&!Array.isArray(e)){if(e.$id!==void 0){let b=e.$id,v=o;if(o===v&&o===v)if(typeof b=="string"){if(!A4.test(b))return Q.errors=[{instancePath:t+"/$id",schemaPath:"#/properties/%24id/format",keyword:"format",params:{format:"uri-reference"},message:'must match format "uri-reference"'}],!1}else return Q.errors=[{instancePath:t+"/$id",schemaPath:"#/properties/%24id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=v===o}else var a=!0;if(a){if(e.$schema!==void 0){let b=e.$schema,v=o;if(o===v&&o===v)if(typeof b=="string"){if(!Ove(b))return Q.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/format",keyword:"format",params:{format:"uri"},message:'must match format "uri"'}],!1}else return Q.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=v===o}else var a=!0;if(a){if(e.$ref!==void 0){let b=e.$ref,v=o;if(o===v&&o===v)if(typeof b=="string"){if(!A4.test(b))return Q.errors=[{instancePath:t+"/$ref",schemaPath:"#/properties/%24ref/format",keyword:"format",params:{format:"uri-reference"},message:'must match format "uri-reference"'}],!1}else return Q.errors=[{instancePath:t+"/$ref",schemaPath:"#/properties/%24ref/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=v===o}else var a=!0;if(a){if(e.$comment!==void 0){let b=o;if(typeof e.$comment!="string")return Q.errors=[{instancePath:t+"/$comment",schemaPath:"#/properties/%24comment/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(e.title!==void 0){let b=o;if(typeof e.title!="string")return Q.errors=[{instancePath:t+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(e.description!==void 0){let b=o;if(typeof e.description!="string")return Q.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(e.readOnly!==void 0){let b=o;if(typeof e.readOnly!="boolean")return Q.errors=[{instancePath:t+"/readOnly",schemaPath:"#/properties/readOnly/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var a=b===o}else var a=!0;if(a){if(e.examples!==void 0){let b=o;if(o===b&&!Array.isArray(e.examples))return Q.errors=[{instancePath:t+"/examples",schemaPath:"#/properties/examples/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=b===o}else var a=!0;if(a){if(e.multipleOf!==void 0){let b=e.multipleOf,v=o;if(o===v)if(typeof b=="number"&&isFinite(b)){if(b<=0||isNaN(b))return Q.errors=[{instancePath:t+"/multipleOf",schemaPath:"#/properties/multipleOf/exclusiveMinimum",keyword:"exclusiveMinimum",params:{comparison:">",limit:0},message:"must be > 0"}],!1}else return Q.errors=[{instancePath:t+"/multipleOf",schemaPath:"#/properties/multipleOf/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=v===o}else var a=!0;if(a){if(e.maximum!==void 0){let b=e.maximum,v=o;if(!(typeof b=="number"&&isFinite(b)))return Q.errors=[{instancePath:t+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=v===o}else var a=!0;if(a){if(e.exclusiveMaximum!==void 0){let b=e.exclusiveMaximum,v=o;if(!(typeof b=="number"&&isFinite(b)))return Q.errors=[{instancePath:t+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=v===o}else var a=!0;if(a){if(e.minimum!==void 0){let b=e.minimum,v=o;if(!(typeof b=="number"&&isFinite(b)))return Q.errors=[{instancePath:t+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=v===o}else var a=!0;if(a){if(e.exclusiveMinimum!==void 0){let b=e.exclusiveMinimum,v=o;if(!(typeof b=="number"&&isFinite(b)))return Q.errors=[{instancePath:t+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=v===o}else var a=!0;if(a){if(e.maxLength!==void 0){let b=e.maxLength,v=o,O=o;if(!(typeof b=="number"&&!(b%1)&&!isNaN(b)&&isFinite(b)))return Q.errors=[{instancePath:t+"/maxLength",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(o===O&&typeof b=="number"&&isFinite(b)&&(b<0||isNaN(b)))return Q.errors=[{instancePath:t+"/maxLength",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var a=v===o}else var a=!0;if(a){if(e.minLength!==void 0){let b=o;pn(e.minLength,{instancePath:t+"/minLength",parentData:e,parentDataProperty:"minLength",rootData:n})||(s=s===null?pn.errors:s.concat(pn.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.pattern!==void 0){let b=e.pattern,v=o;if(o===v&&o===v)if(typeof b=="string"){if(!C4(b))return Q.errors=[{instancePath:t+"/pattern",schemaPath:"#/properties/pattern/format",keyword:"format",params:{format:"regex"},message:'must match format "regex"'}],!1}else return Q.errors=[{instancePath:t+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=v===o}else var a=!0;if(a){if(e.additionalItems!==void 0){let b=o;Q(e.additionalItems,{instancePath:t+"/additionalItems",parentData:e,parentDataProperty:"additionalItems",rootData:n})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.items!==void 0){let b=e.items,v=o,O=o,j=!1,R=o;Q(b,{instancePath:t+"/items",parentData:e,parentDataProperty:"items",rootData:n})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var l=R===o;if(j=j||l,!j){let F=o;ni(b,{instancePath:t+"/items",parentData:e,parentDataProperty:"items",rootData:n})||(s=s===null?ni.errors:s.concat(ni.errors),o=s.length);var l=F===o;j=j||l}if(j)o=O,s!==null&&(O?s.length=O:s=null);else{let F={instancePath:t+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[F]:s.push(F),o++,Q.errors=s,!1}var a=v===o}else var a=!0;if(a){if(e.maxItems!==void 0){let b=e.maxItems,v=o,O=o;if(!(typeof b=="number"&&!(b%1)&&!isNaN(b)&&isFinite(b)))return Q.errors=[{instancePath:t+"/maxItems",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(o===O&&typeof b=="number"&&isFinite(b)&&(b<0||isNaN(b)))return Q.errors=[{instancePath:t+"/maxItems",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var a=v===o}else var a=!0;if(a){if(e.minItems!==void 0){let b=o;pn(e.minItems,{instancePath:t+"/minItems",parentData:e,parentDataProperty:"minItems",rootData:n})||(s=s===null?pn.errors:s.concat(pn.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.uniqueItems!==void 0){let b=o;if(typeof e.uniqueItems!="boolean")return Q.errors=[{instancePath:t+"/uniqueItems",schemaPath:"#/properties/uniqueItems/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var a=b===o}else var a=!0;if(a){if(e.contains!==void 0){let b=o;Q(e.contains,{instancePath:t+"/contains",parentData:e,parentDataProperty:"contains",rootData:n})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.maxProperties!==void 0){let b=e.maxProperties,v=o,O=o;if(!(typeof b=="number"&&!(b%1)&&!isNaN(b)&&isFinite(b)))return Q.errors=[{instancePath:t+"/maxProperties",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(o===O&&typeof b=="number"&&isFinite(b)&&(b<0||isNaN(b)))return Q.errors=[{instancePath:t+"/maxProperties",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var a=v===o}else var a=!0;if(a){if(e.minProperties!==void 0){let b=o;pn(e.minProperties,{instancePath:t+"/minProperties",parentData:e,parentDataProperty:"minProperties",rootData:n})||(s=s===null?pn.errors:s.concat(pn.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.required!==void 0){let b=e.required,v=o;if(o===o)if(Array.isArray(b)){var c=!0;let R=b.length;for(let I=0;I<R;I++){let F=o;if(typeof b[I]!="string")return Q.errors=[{instancePath:t+"/required/"+I,schemaPath:"#/definitions/stringArray/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=F===o;if(!c)break}if(c){let I=b.length,F;if(I>1){let T={};for(;I--;){let $=b[I];if(typeof $=="string"){if(typeof T[$]=="number"){return F=T[$],Q.errors=[{instancePath:t+"/required",schemaPath:"#/definitions/stringArray/uniqueItems",keyword:"uniqueItems",params:{i:I,j:F},message:"must NOT have duplicate items (items ## "+F+" and "+I+" are identical)"}],!1;break}T[$]=I}}}}}else return Q.errors=[{instancePath:t+"/required",schemaPath:"#/definitions/stringArray/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=v===o}else var a=!0;if(a){if(e.additionalProperties!==void 0){let b=o;Q(e.additionalProperties,{instancePath:t+"/additionalProperties",parentData:e,parentDataProperty:"additionalProperties",rootData:n})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.definitions!==void 0){let b=e.definitions,v=o;if(o===v)if(b&&typeof b=="object"&&!Array.isArray(b))for(let j in b){let R=o;Q(b[j],{instancePath:t+"/definitions/"+j.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:b,parentDataProperty:j,rootData:n})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var u=R===o;if(!u)break}else return Q.errors=[{instancePath:t+"/definitions",schemaPath:"#/properties/definitions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=v===o}else var a=!0;if(a){if(e.properties!==void 0){let b=e.properties,v=o;if(o===v)if(b&&typeof b=="object"&&!Array.isArray(b))for(let j in b){let R=o;Q(b[j],{instancePath:t+"/properties/"+j.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:b,parentDataProperty:j,rootData:n})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var f=R===o;if(!f)break}else return Q.errors=[{instancePath:t+"/properties",schemaPath:"#/properties/properties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=v===o}else var a=!0;if(a){if(e.patternProperties!==void 0){let b=e.patternProperties,v=o;if(o===v)if(b&&typeof b=="object"&&!Array.isArray(b)){for(let j in b){let R=o;if(o===R&&typeof j=="string"&&!C4(j)){let I={instancePath:t+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames/format",keyword:"format",params:{format:"regex"},message:'must match format "regex"',propertyName:j};s===null?s=[I]:s.push(I),o++}var h=R===o;if(!h){let I={instancePath:t+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames",keyword:"propertyNames",params:{propertyName:j},message:"property name must be valid"};return s===null?s=[I]:s.push(I),o++,Q.errors=s,!1;break}}if(h)for(let j in b){let R=o;Q(b[j],{instancePath:t+"/patternProperties/"+j.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:b,parentDataProperty:j,rootData:n})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var p=R===o;if(!p)break}}else return Q.errors=[{instancePath:t+"/patternProperties",schemaPath:"#/properties/patternProperties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=v===o}else var a=!0;if(a){if(e.dependencies!==void 0){let b=e.dependencies,v=o;if(o===v)if(b&&typeof b=="object"&&!Array.isArray(b))for(let j in b){let R=b[j],I=o,F=o,T=!1,$=o;Q(R,{instancePath:t+"/dependencies/"+j.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:b,parentDataProperty:j,rootData:n})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var m=$===o;if(T=T||m,!T){let z=o;if(o===o)if(Array.isArray(R)){var g=!0;let ie=R.length;for(let J=0;J<ie;J++){let Z=o;if(typeof R[J]!="string"){let K={instancePath:t+"/dependencies/"+j.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+J,schemaPath:"#/definitions/stringArray/items/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[K]:s.push(K),o++}var g=Z===o;if(!g)break}if(g){let J=R.length,Z;if(J>1){let he={};for(;J--;){let K=R[J];if(typeof K=="string"){if(typeof he[K]=="number"){Z=he[K];let rt={instancePath:t+"/dependencies/"+j.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/stringArray/uniqueItems",keyword:"uniqueItems",params:{i:J,j:Z},message:"must NOT have duplicate items (items ## "+Z+" and "+J+" are identical)"};s===null?s=[rt]:s.push(rt),o++;break}he[K]=J}}}}}else{let ie={instancePath:t+"/dependencies/"+j.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/stringArray/type",keyword:"type",params:{type:"array"},message:"must be array"};s===null?s=[ie]:s.push(ie),o++}var m=z===o;T=T||m}if(T)o=F,s!==null&&(F?s.length=F:s=null);else{let z={instancePath:t+"/dependencies/"+j.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/dependencies/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[z]:s.push(z),o++,Q.errors=s,!1}var y=I===o;if(!y)break}else return Q.errors=[{instancePath:t+"/dependencies",schemaPath:"#/properties/dependencies/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=v===o}else var a=!0;if(a){if(e.propertyNames!==void 0){let b=o;Q(e.propertyNames,{instancePath:t+"/propertyNames",parentData:e,parentDataProperty:"propertyNames",rootData:n})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.enum!==void 0){let b=e.enum,v=o;if(o===v)if(Array.isArray(b)){if(b.length<1)return Q.errors=[{instancePath:t+"/enum",schemaPath:"#/properties/enum/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let j=b.length,R;if(j>1){e:for(;j--;)for(R=j;R--;)if(P4(b[j],b[R])){return Q.errors=[{instancePath:t+"/enum",schemaPath:"#/properties/enum/uniqueItems",keyword:"uniqueItems",params:{i:j,j:R},message:"must NOT have duplicate items (items ## "+R+" and "+j+" are identical)"}],!1;break e}}}}else return Q.errors=[{instancePath:t+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=v===o}else var a=!0;if(a){if(e.type!==void 0){let b=e.type,v=o,O=o,j=!1,R=o;if(!(b==="array"||b==="boolean"||b==="integer"||b==="null"||b==="number"||b==="object"||b==="string")){let F={instancePath:t+"/type",schemaPath:"#/definitions/simpleTypes/enum",keyword:"enum",params:{allowedValues:O4.enum},message:"must be equal to one of the allowed values"};s===null?s=[F]:s.push(F),o++}var _=R===o;if(j=j||_,!j){let F=o;if(o===F)if(Array.isArray(b))if(b.length<1){let $={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};s===null?s=[$]:s.push($),o++}else{var S=!0;let $=b.length;for(let z=0;z<$;z++){let H=b[z],X=o;if(!(H==="array"||H==="boolean"||H==="integer"||H==="null"||H==="number"||H==="object"||H==="string")){let J={instancePath:t+"/type/"+z,schemaPath:"#/definitions/simpleTypes/enum",keyword:"enum",params:{allowedValues:O4.enum},message:"must be equal to one of the allowed values"};s===null?s=[J]:s.push(J),o++}var S=X===o;if(!S)break}if(S){let z=b.length,H;if(z>1){e:for(;z--;)for(H=z;H--;)if(P4(b[z],b[H])){let X={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf/1/uniqueItems",keyword:"uniqueItems",params:{i:z,j:H},message:"must NOT have duplicate items (items ## "+H+" and "+z+" are identical)"};s===null?s=[X]:s.push(X),o++;break e}}}}else{let $={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};s===null?s=[$]:s.push($),o++}var _=F===o;j=j||_}if(j)o=O,s!==null&&(O?s.length=O:s=null);else{let F={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[F]:s.push(F),o++,Q.errors=s,!1}var a=v===o}else var a=!0;if(a){if(e.format!==void 0){let b=o;if(typeof e.format!="string")return Q.errors=[{instancePath:t+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(e.contentMediaType!==void 0){let b=o;if(typeof e.contentMediaType!="string")return Q.errors=[{instancePath:t+"/contentMediaType",schemaPath:"#/properties/contentMediaType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(e.contentEncoding!==void 0){let b=o;if(typeof e.contentEncoding!="string")return Q.errors=[{instancePath:t+"/contentEncoding",schemaPath:"#/properties/contentEncoding/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(e.if!==void 0){let b=o;Q(e.if,{instancePath:t+"/if",parentData:e,parentDataProperty:"if",rootData:n})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.then!==void 0){let b=o;Q(e.then,{instancePath:t+"/then",parentData:e,parentDataProperty:"then",rootData:n})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.else!==void 0){let b=o;Q(e.else,{instancePath:t+"/else",parentData:e,parentDataProperty:"else",rootData:n})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.allOf!==void 0){let b=o;ni(e.allOf,{instancePath:t+"/allOf",parentData:e,parentDataProperty:"allOf",rootData:n})||(s=s===null?ni.errors:s.concat(ni.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.anyOf!==void 0){let b=o;ni(e.anyOf,{instancePath:t+"/anyOf",parentData:e,parentDataProperty:"anyOf",rootData:n})||(s=s===null?ni.errors:s.concat(ni.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.oneOf!==void 0){let b=o;ni(e.oneOf,{instancePath:t+"/oneOf",parentData:e,parentDataProperty:"oneOf",rootData:n})||(s=s===null?ni.errors:s.concat(ni.errors),o=s.length);var a=b===o}else var a=!0;if(a)if(e.not!==void 0){let b=o;Q(e.not,{instancePath:t+"/not",parentData:e,parentDataProperty:"not",rootData:n})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var a=b===o}else var a=!0}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return Q.errors=s,o===0}});var eO=w((yUe,N4)=>{"use strict";var ZT=class extends Error{constructor(t,r){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Failed to merge "${t}" keyword schemas.`,this.schemas=r}},XT=class extends Error{constructor(t,r){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Resolver for "${t}" keyword not found.`,this.schemas=r}},QT=class extends Error{constructor(t){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Invalid "onConflict" option: "${t}".`}};N4.exports={MergeError:ZT,ResolverNotFoundError:XT,InvalidOnConflictOptionError:QT}});var D4=w((vUe,F4)=>{"use strict";var Ave=Ta(),{MergeError:tO}=eO();function $4(e){let t=e[0];for(let r=1;r<e.length;r++)t=t.filter(i=>e[r].includes(i));return t}function Cve(e,t,r){let i=$4(t);if(i.length===0)throw new tO(e,t);r[e]=i}function Pve(e,t,r){for(let n=0;n<t.length;n++)Array.isArray(t[n])||(t[n]=[t[n]]);let i=$4(t);if(i.length===0)throw new tO(e,t);i.length===1?r[e]=i[0]:r[e]=i}function Ive(e,t,r){let i=[];for(let n of t)for(let s of n)i.includes(s)||i.push(s);r[e]=i}function Nve(e,t,r){r[e]=Math.min(...t)}function $ve(e,t,r){r[e]=Math.max(...t)}function Fve(e,t,r){let i=(a,l)=>l?i(l,a%l):a,n=(a,l)=>a*l/i(a,l),s=1;for(let a of t)for(;a*s%1!==0;)s*=10;let o=t[0]*s;for(let a of t)o=n(o,a*s);r[e]=o/s}function Dve(e,t,r){let i=t[0];for(let n=1;n<t.length;n++)if(!Ave(t[n],i))throw new tO(e,t);r[e]=i}function Lve(){}function jve(e,t,r){for(let i of t)if(i===!1){r[e]=!1;return}r[e]=!0}function qve(e,t,r){for(let i of t)if(i===!0){r[e]=!0;return}r[e]=!1}F4.exports={arraysIntersection:Cve,hybridArraysIntersection:Pve,arraysUnion:Ive,minNumber:Nve,maxNumber:$ve,commonMultiple:Fve,allEqual:Dve,booleanAnd:jve,booleanOr:qve,skip:Lve}});var U4=w((_Ue,z4)=>{"use strict";var Mve=Ta(),gt=D4(),z_=eO(),q4={$id:gt.skip,type:gt.hybridArraysIntersection,enum:gt.arraysIntersection,minLength:gt.maxNumber,maxLength:gt.minNumber,minimum:gt.maxNumber,maximum:gt.minNumber,multipleOf:gt.commonMultiple,exclusiveMinimum:gt.maxNumber,exclusiveMaximum:gt.minNumber,minItems:gt.maxNumber,maxItems:gt.minNumber,maxProperties:gt.minNumber,minProperties:gt.maxNumber,const:gt.allEqual,default:gt.allEqual,format:gt.allEqual,required:gt.arraysUnion,properties:Wve,patternProperties:M_,additionalProperties:q_,items:Bve,additionalItems:Hve,definitions:M_,$defs:M_,nullable:gt.booleanAnd,oneOf:L4,anyOf:L4,allOf:gt.arraysUnion,not:q_,if:Gve,then:gt.skip,else:gt.skip,dependencies:j4,dependentRequired:j4,dependentSchemas:M_,propertyNames:q_,uniqueItems:gt.booleanOr,contains:q_};function q_(e,t,r,i,n){r[e]=qn(t,n)}function zve(e){let t=[[]];for(let r of e){let i=[];for(let n of t)for(let s of r)i.push([...n,s]);t=i}return t}function L4(e,t,r,i,n){if(t.length===1){r[e]=t[0];return}let s=zve(t),o=[];for(let a of s)try{let l=qn(a,n);l!==void 0&&o.push(l)}catch(l){if(l instanceof z_.MergeError)continue;throw l}r[e]=o}function Uve(e,t){let{items:r,additionalItems:i}=e;return Array.isArray(r)?t<r.length?r[t]:i:r!==void 0?r:i}function Bve(e,t,r,i,n){let s=0;for(let a of t)Array.isArray(a)&&(s=Math.max(s,a.length));if(s===0){r[e]=qn(t,n);return}let o=[];for(let a=0;a<s;a++){let l=[];for(let c of i){let u=Uve(c,a);u!==void 0&&l.push(u)}o[a]=qn(l,n)}r[e]=o}function Hve(e,t,r,i,n){let s=!1;for(let a of i)if(Array.isArray(a.items)){s=!0;break}if(!s){r[e]=qn(t,n);return}let o=[];for(let a of i){let l=a.additionalItems;l===void 0&&!Array.isArray(a.items)&&(l=a.items),l!==void 0&&o.push(l)}r[e]=qn(o,n)}function Vve(e,t){let{properties:r,patternProperties:i,additionalProperties:n}=e;if(r?.[t]!==void 0)return r[t];for(let s of Object.keys(i??{}))if(new RegExp(s).test(t))return i[s];return n}function Wve(e,t,r,i,n){let s={};for(let a of i){let l=a.properties??{};for(let c of Object.keys(l)){if(s[c]!==void 0)continue;let u=l[c];s[c]=[u];for(let f of i){if(a===f)continue;let h=Vve(f,c);h!==void 0&&s[c].push(h)}}}let o={};for(let a of Object.keys(s)){let l=s[a];o[a]=qn(l,n)}r[e]=o}function M_(e,t,r,i,n){let s={};for(let a of t)for(let l of Object.keys(a))s[l]===void 0&&(s[l]=[]),s[l].push(a[l]);let o={};for(let a of Object.keys(s)){let l=s[a],c=qn(l,n);o[a]=c}r[e]=o}function Gve(e,t,r,i,n){for(let s=0;s<i.length;s++){let o={if:i[s].if,then:i[s].then,else:i[s].else};if(o.if!==void 0){if(r.if===void 0){r.if=o.if,o.then!==void 0&&(r.then=o.then),o.else!==void 0&&(r.else=o.else);continue}r.then!==void 0&&(r.then=qn([r.then,o],n)),r.else!==void 0&&(r.else=qn([r.else,o],n))}}}function j4(e,t,r){let i={};for(let n of t)for(let s of Object.keys(n)){i[s]===void 0&&(i[s]=[]);let o=i[s];for(let a of n[s])o.includes(a)||o.push(a)}r[e]=i}function qn(e,t){if(e.length===0)return{};if(e.length===1)return e[0];let r={},i={},n=!0;for(let s of e){if(s===!1)return!1;if(s!==!0){n=!1;for(let o of Object.keys(s))i[o]===void 0&&(i[o]=[]),i[o].push(s[o])}}if(n)return!0;for(let s of Object.keys(i)){let o=i[s];(t.resolvers[s]??t.defaultResolver)(s,o,r,e,t)}return r}function M4(e,t,r,i,n){let s=n.onConflict??"throw";if(t.length===1||s==="first"){r[e]=t[0];return}let o=!0;for(let a=1;a<t.length;a++)if(!Mve(t[a],t[0])){o=!1;break}if(o){r[e]=t[0];return}if(s==="throw")throw new z_.ResolverNotFoundError(e,t);if(s!=="skip")throw new z_.InvalidOnConflictOptionError(s)}function Yve(e,t={}){return t.defaultResolver===void 0&&(t.defaultResolver=M4),t.resolvers={...q4,...t.resolvers},qn(e,t)}z4.exports={mergeSchemas:Yve,keywordsResolvers:q4,defaultResolver:M4,...z_}});var H4=w((bUe,B4)=>{"use strict";var{mergeSchemas:Kve}=U4();function Jve(e){return Kve(e,{onConflict:"skip"})}B4.exports=Jve});var V4=w((wUe,rO)=>{"use strict";function Zve(e,t,r,i){let n="";t.validatorSchemasIds.size>0?(n+=`const Validator = require('fast-json-stringify/lib/validator')
`,n+=`const validatorState = ${JSON.stringify(i.getState())}
`,n+=`const validator = Validator.restoreFromState(validatorState)
`):n+=`const validator = null
`;let{schema:s,...o}=r.getState();return`
  'use strict'

  const Serializer = require('fast-json-stringify/lib/serializer')
  const serializerState = ${JSON.stringify(o)}
  const serializer = Serializer.restoreFromState(serializerState)

  ${n}

  module.exports = ${e.toString()}(validator, serializer)`}rO.exports=Zve;rO.exports.dependencies={Serializer:vv(),Validator:GT()}});var e5=w((SUe,uf)=>{"use strict";var{RefResolver:Xve}=bM(),Qve=vv(),e_e=GT(),cc=T4(),W4=I4(),t_e=H4(),r_e=/'/g,U_=2e4,Y4="default",i_e=["floor","ceil","round","trunc"],K4=["default","json-stringify"],Dp=0;function iO(e,t){if(!W4(e)){t?t=`"${t}" `:t="";let r=W4.errors[0],i=new Error(`${t}schema is invalid: data${r.instancePath} ${r.message}`);throw i.errors=iO.errors,i}}function Lp(e,t){let r=t.schema.$ref,i=r.indexOf("#");i===-1&&(i=r.length);let n=r.slice(0,i)||t.schemaId,s=r.slice(i)||"#",o=e.refResolver.getSchema(n,s);if(o===null)throw new Error(`Cannot find reference "${r}"`);let a=new cc(o,n,s);return o.$ref!==void 0?Lp(e,a):a}function B_(e,t){let r=e.refResolver.getSchema(t,"#");return new cc(r,t,"#")}function G4(e,t){return e.$id&&e.$id.charAt(0)!=="#"?e.$id:t}function nO(e,t){iO(e),t=t||{};let r={functions:[],functionsCounter:0,functionsNamesBySchema:new Map,options:t,refResolver:new Xve,rootSchemaId:e.$id||`__fjs_root_${Dp++}`,validatorSchemasIds:new Set,mergedSchemasIds:new Map},i=G4(e,r.rootSchemaId);if(r.refResolver.hasSchema(i)||r.refResolver.addSchema(e,r.rootSchemaId),t.schema)for(let u in t.schema){let f=t.schema[u],h=G4(f,u);r.refResolver.hasSchema(h)||(iO(f,u),r.refResolver.addSchema(f,u))}if(t.rounding&&!i_e.includes(t.rounding))throw new Error(`Unsupported integer rounding method ${t.rounding}`);if(t.largeArrayMechanism)if(K4.includes(t.largeArrayMechanism))Y4=t.largeArrayMechanism;else throw new Error(`Unsupported large array mechanism ${t.largeArrayMechanism}`);if(t.largeArraySize)if(typeof t.largeArraySize=="string"&&Number.isFinite(Number.parseInt(t.largeArraySize,10)))U_=Number.parseInt(t.largeArraySize,10);else if(typeof t.largeArraySize=="number"&&Number.isInteger(t.largeArraySize))U_=t.largeArraySize;else if(typeof t.largeArraySize=="bigint")U_=Number(t.largeArraySize);else throw new Error(`Unsupported large array size. Expected integer-like, got ${typeof t.largeArraySize} with value ${t.largeArraySize}`);let n=new cc(e,r.rootSchemaId),s=Li(r,n,"input"),o=`
    const JSON_STR_BEGIN_OBJECT = '{'
    const JSON_STR_END_OBJECT = '}'
    const JSON_STR_BEGIN_ARRAY = '['
    const JSON_STR_END_ARRAY = ']'
    const JSON_STR_COMMA = ','
    const JSON_STR_COLONS = ':'
    const JSON_STR_QUOTE = '"'
    const JSON_STR_EMPTY_OBJECT = JSON_STR_BEGIN_OBJECT + JSON_STR_END_OBJECT
    const JSON_STR_EMPTY_ARRAY = JSON_STR_BEGIN_ARRAY + JSON_STR_END_ARRAY
    const JSON_STR_EMPTY_STRING = JSON_STR_QUOTE + JSON_STR_QUOTE
    const JSON_STR_NULL = 'null'
  `;s==="json += anonymous0(input)"?o+=`
    ${r.functions.join(`
`)}
    const main = anonymous0
    return main
    `:o+=`
    function main (input) {
      let json = ''
      ${s}
      return json
    }
    ${r.functions.join(`
`)}
    return main
    `;let a=new Qve(t),l=new e_e(t.ajv);for(let u of r.validatorSchemasIds){let f=r.refResolver.getSchema(u);l.addSchema(f,u);let h=r.refResolver.getSchemaDependencies(u);for(let[p,m]of Object.entries(h))l.addSchema(m,p)}if(t.debugMode&&(t.mode="debug"),t.mode==="debug")return{validator:l,serializer:a,code:`validator
serializer
${o}`,ajv:l.ajv};let c=new Function("validator","serializer",o);return t.mode==="standalone"?V4()(c,r,a,l):c(l,a)}var n_e=["properties","required","additionalProperties","patternProperties","maxProperties","minProperties","dependencies"],s_e=["items","additionalItems","maxItems","minItems","uniqueItems","contains"],o_e=["maxLength","minLength","pattern"],a_e=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum"];function l_e(e){for(var t of n_e)if(t in e)return"object";for(var t of s_e)if(t in e)return"array";for(var t of o_e)if(t in e)return"string";for(var t of a_e)if(t in e)return"number";return e.type}function c_e(e,t,r){let i=t.schema,n=Object.keys(i.properties||{}),s=`
    const propertiesKeys = ${JSON.stringify(n)}
    for (const [key, value] of Object.entries(obj)) {
      if (
        propertiesKeys.includes(key) ||
        value === undefined ||
        typeof value === 'function' ||
        typeof value === 'symbol'
      ) continue
  `,o=t.getPropertyLocation("patternProperties"),a=o.schema;if(a!==void 0)for(let u in a){let f=o.getPropertyLocation(u);s+=`
        if (/${u.replace(/\\*\//g,"\\/")}/.test(key)) {
          ${r}
          json += serializer.asString(key) + JSON_STR_COLONS
          ${Li(e,f,"value")}
          continue
        }
      `}let c=t.getPropertyLocation("additionalProperties").schema;if(c!==void 0)if(c===!0)s+=`
        ${r}
        json += serializer.asString(key) + JSON_STR_COLONS + JSON.stringify(value)
      `;else{let u=t.getPropertyLocation("additionalProperties");s+=`
        ${r}
        json += serializer.asString(key) + JSON_STR_COLONS
        ${Li(e,u,"value")}
      `}return s+=`
    }
  `,s}function u_e(e,t){let r=t.schema,i=t.getPropertyLocation("properties"),n=r.required||[],s=Object.keys(r.properties||{}).sort((c,u)=>{let f=n.includes(c),h=n.includes(u);return f===h?0:f?-1:1}),o=n.includes(s[0]),a=`let value
`;for(let c of n)if(!s.includes(c)){let u=JSON.stringify(c);a+=`if (obj[${u}] === undefined) throw new Error('${u.replace(/'/g,"\\'")} is required!')
`}a+=`let json = JSON_STR_BEGIN_OBJECT
`;let l="";o||(a+=`let addComma = false
`,l="!addComma && (addComma = true) || (json += JSON_STR_COMMA)");for(let c of s){let u=i.getPropertyLocation(c);u.schema.$ref&&(u=Lp(e,u));let f=JSON.stringify(c),h=u.schema.default,p=n.includes(c);a+=`
      value = obj[${f}]
      if (value !== undefined) {
        ${l}
        json += ${JSON.stringify(f+":")}
        ${Li(e,u,"value")}
      }`,h!==void 0?a+=` else {
        ${l}
        json += ${JSON.stringify(f+":"+JSON.stringify(h))}
      }
      `:p?a+=` else {
        throw new Error('${f.replace(/'/g,"\\'")} is required!')
      }
      `:a+=`
`,o&&(l="json += ','")}return(r.patternProperties||r.additionalProperties)&&(a+=c_e(e,t,l)),a+=`
    return json + JSON_STR_END_OBJECT
  `,a}function H_(e,t,r){for(let o=0;o<r.length;o++){let a=r[o];a.schema.$ref&&(r[o]=Lp(e,a))}let i=[];for(let o of r){let a=J4(e,o.schema,o.schemaId);delete a.$id,i.push(a)}let n=t_e(i),s=new cc(n,t);return e.refResolver.addSchema(n,t),s}function J4(e,t,r){let i=Array.isArray(t)?[]:{};t.$id!==void 0&&t.$id.charAt(0)!=="#"&&(r=t.$id);let n=e.mergedSchemasIds.get(t);n&&e.mergedSchemasIds.set(i,n);for(let s in t){let o=t[s];s==="$ref"&&typeof o=="string"&&o.charAt(0)==="#"&&(o=r+o),typeof o=="object"&&o!==null&&(o=J4(e,o,r)),i[s]=o}return i}function f_e(e){return`(${e} && typeof ${e}.toJSON === 'function')
    ? ${e}.toJSON()
    : ${e}
  `}function h_e(e,t){let r=t.schema;if(e.functionsNamesBySchema.has(r))return e.functionsNamesBySchema.get(r);let i=X4(e);e.functionsNamesBySchema.set(r,i);let n=t.getSchemaRef();n.startsWith(e.rootSchemaId)&&(n=n.replace(e.rootSchemaId,""));let s=`
  `,o=r.nullable===!0;return s+=`
    // ${n}
    function ${i} (input) {
      const obj = ${f_e("input")}
      ${o?"":"if (obj === null) return JSON_STR_EMPTY_OBJECT"}

      ${u_e(e,t)}
    }
  `,e.functions.push(s),i}function d_e(e,t){let r=t.schema,i=t.getPropertyLocation("items");i.schema=i.schema||{},i.schema.$ref&&(i=Lp(e,i));let n=i.schema;if(e.functionsNamesBySchema.has(r))return e.functionsNamesBySchema.get(r);let s=X4(e);e.functionsNamesBySchema.set(r,s);let o=t.getSchemaRef();o.startsWith(e.rootSchemaId)&&(o=o.replace(e.rootSchemaId,""));let a=`
    function ${s} (obj) {
      // ${o}
  `,l=r.nullable===!0;if(a+=`
    ${l?"":"if (obj === null) return JSON_STR_EMPTY_ARRAY"}
    if (!Array.isArray(obj)) {
      throw new TypeError(\`The value of '${o}' does not match schema definition.\`)
    }
    const arrayLength = obj.length
  `,!r.additionalItems&&Array.isArray(n)&&(a+=`
      if (arrayLength > ${n.length}) {
        throw new Error(\`Item at ${n.length} does not match schema definition.\`)
      }
    `),Y4==="json-stringify"&&(a+=`if (arrayLength >= ${U_}) return JSON.stringify(obj)
`),a+=`
    const arrayEnd = arrayLength - 1
    let value
    let json = ''
  `,Array.isArray(n)){for(let c=0;c<n.length;c++){let u=n[c];a+=`value = obj[${c}]`;let f=Li(e,i.getPropertyLocation(c),"value");a+=`
        if (${c} < arrayLength) {
          if (${Z4(u.type,`[${c}]`)}) {
            ${f}
            if (${c} < arrayEnd) {
              json += JSON_STR_COMMA
            }
          } else {
            throw new Error(\`Item at ${c} does not match schema definition.\`)
          }
        }
        `}r.additionalItems&&(a+=`
        for (let i = ${n.length}; i < arrayLength; i++) {
          json += JSON.stringify(obj[i])
          if (i < arrayEnd) {
            json += JSON_STR_COMMA
          }
        }`)}else{let c=Li(e,i,"obj[i]");a+=`
      for (let i = 0; i < arrayLength; i++) {
        ${c}
        if (i < arrayEnd) {
          json += JSON_STR_COMMA
        }
      }`}return a+=`
    return JSON_STR_BEGIN_ARRAY + json + JSON_STR_END_ARRAY
  }`,e.functions.push(a),s}function Z4(e,t){let r;switch(e){case"null":r="value === null";break;case"string":r=`typeof value === 'string' ||
      value === null ||
      value instanceof Date ||
      value instanceof RegExp ||
      (
        typeof value === "object" &&
        typeof value.toString === "function" &&
        value.toString !== Object.prototype.toString
      )`;break;case"integer":r="Number.isInteger(value)";break;case"number":r="Number.isFinite(value)";break;case"boolean":r="typeof value === 'boolean'";break;case"object":r="value && typeof value === 'object' && value.constructor === Object";break;case"array":r="Array.isArray(value)";break;default:Array.isArray(e)&&(r=`(${e.map(n=>Z4(n,t)).join(" || ")})`)}return r}function X4(e){return"anonymous"+e.functionsCounter++}function p_e(e,t,r){let n=t.schema.type.sort(a=>a==="null"?-1:1),s="";n.forEach((a,l)=>{t.schema={...t.schema,type:a};let c=Q4(e,t,r),u=l===0?"if":"else if";switch(a){case"null":s+=`
          ${u} (${r} === null)
            ${c}
          `;break;case"string":{s+=`
          ${u}(
            typeof ${r} === "string" ||
            ${r} === null ||
            ${r} instanceof Date ||
            ${r} instanceof RegExp ||
            (
              typeof ${r} === "object" &&
              typeof ${r}.toString === "function" &&
              ${r}.toString !== Object.prototype.toString
            )
          )
            ${c}
        `;break}case"array":{s+=`
          ${u}(Array.isArray(${r}))
            ${c}
        `;break}case"integer":{s+=`
          ${u}(Number.isInteger(${r}) || ${r} === null)
            ${c}
        `;break}default:{s+=`
          ${u}(typeof ${r} === "${a}" || ${r} === null)
            ${c}
        `;break}}});let o=t.getSchemaRef();return o.startsWith(e.rootSchemaId)&&(o=o.replace(e.rootSchemaId,"")),s+=`
    else throw new TypeError(\`The value of '${o}' does not match schema definition.\`)
  `,s}function Q4(e,t,r){let i=t.schema;switch(i.type){case"null":return"json += JSON_STR_NULL";case"string":return i.format==="date-time"?`json += serializer.asDateTime(${r})`:i.format==="date"?`json += serializer.asDate(${r})`:i.format==="time"?`json += serializer.asTime(${r})`:i.format==="unsafe"?`json += serializer.asUnsafeString(${r})`:`
        if (typeof ${r} !== 'string') {
          if (${r} === null) {
            json += JSON_STR_EMPTY_STRING
          } else if (${r} instanceof Date) {
            json += JSON_STR_QUOTE + ${r}.toISOString() + JSON_STR_QUOTE
          } else if (${r} instanceof RegExp) {
            json += serializer.asString(${r}.source)
          } else {
            json += serializer.asString(${r}.toString())
          }
        } else {
          json += serializer.asString(${r})
        }
        `;case"integer":return`json += serializer.asInteger(${r})`;case"number":return`json += serializer.asNumber(${r})`;case"boolean":return`json += serializer.asBoolean(${r})`;case"object":return`json += ${h_e(e,t)}(${r})`;case"array":return`json += ${d_e(e,t)}(${r})`;case void 0:return`json += JSON.stringify(${r})`;default:throw new Error(`${i.type} unsupported`)}}function m_e(e,t){let r=e.schema,i=r.type,n=Array.isArray(i)&&i.includes("null"),s="";return n&&(s+=`
      if (${t} === null) {
        json += JSON_STR_NULL
      } else {
    `),s+=`json += '${JSON.stringify(r.const).replace(r_e,"\\'")}'`,n&&(s+=`
      }
    `),s}function g_e(e,t,r){let i=t.schema,n=e.mergedSchemasIds.get(i);if(n){let u=B_(e,n);return Li(e,u,r)}n=`__fjs_merged_${Dp++}`,e.mergedSchemasIds.set(i,n);let{allOf:s,...o}=t.schema,a=[new cc(o,t.schemaId,t.jsonPointer)],l=t.getPropertyLocation("allOf");for(let u=0;u<s.length;u++)a.push(l.getPropertyLocation(u));let c=H_(e,n,a);return Li(e,c,r)}function y_e(e,t,r){e.validatorSchemasIds.add(t.schemaId);let n=t.schema.anyOf?"anyOf":"oneOf",{[n]:s,...o}=t.schema,a=new cc(o,t.schemaId,t.jsonPointer),l=t.getPropertyLocation(n),c="";for(let f=0;f<s.length;f++){let h=l.getPropertyLocation(f),p=h.schema,m=e.mergedSchemasIds.get(p),g=null;m?g=B_(e,m):(m=`__fjs_merged_${Dp++}`,e.mergedSchemasIds.set(p,m),g=H_(e,m,[a,h]));let y=Li(e,g,r),_=h.getSchemaRef();c+=`
      ${f===0?"if":"else if"}(validator.validate("${_}", ${r}))
        ${y}
    `}let u=t.getSchemaRef();return u.startsWith(e.rootSchemaId)&&(u=u.replace(e.rootSchemaId,"")),c+=`
    else throw new TypeError(\`The value of '${u}' does not match schema definition.\`)
  `,c}function v_e(e,t,r){e.validatorSchemasIds.add(t.schemaId);let{if:i,then:n,else:s,...o}=t.schema,a=new cc(o,t.schemaId,t.jsonPointer),c=t.getPropertyLocation("if").getSchemaRef(),u=t.getPropertyLocation("then"),f=e.mergedSchemasIds.get(n),h=null;if(f?h=B_(e,f):(f=`__fjs_merged_${Dp++}`,e.mergedSchemasIds.set(n,f),h=H_(e,f,[a,u])),!s)return`
      if (validator.validate("${c}", ${r})) {
        ${Li(e,h,r)}
      } else {
        ${Li(e,a,r)}
      }
    `;let p=t.getPropertyLocation("else"),m=e.mergedSchemasIds.get(s),g=null;return m?g=B_(e,m):(m=`__fjs_merged_${Dp++}`,e.mergedSchemasIds.set(s,m),g=H_(e,m,[a,p])),`
    if (validator.validate("${c}", ${r})) {
      ${Li(e,h,r)}
    } else {
      ${Li(e,g,r)}
    }
  `}function Li(e,t,r){let i=t.schema;if(typeof i=="boolean")return`json += JSON.stringify(${r})`;if(i.$ref&&(t=Lp(e,t),i=t.schema),i.allOf)return g_e(e,t,r);if(i.anyOf||i.oneOf)return y_e(e,t,r);if(i.if&&i.then)return v_e(e,t,r);if(i.type===void 0){let a=l_e(i);a&&(i.type=a)}let n="",s=i.type,o=i.nullable===!0;return o&&(n+=`
      if (${r} === null) {
        json += JSON_STR_NULL
      } else {
    `),i.const!==void 0?n+=m_e(t,r):Array.isArray(s)?n+=p_e(e,t,r):n+=Q4(e,t,r),o&&(n+=`
      }
    `),n}uf.exports=nO;uf.exports.default=nO;uf.exports.build=nO;uf.exports.validLargeArrayMechanisms=K4;uf.exports.restore=function({code:e,validator:t,serializer:r}){return Function.apply(null,["validator","serializer",e]).apply(null,[t,r])}});var r5=w((xUe,sO)=>{"use strict";var __e=oO();function t5(e={readMode:!0}){if(e.readMode===!0&&typeof e.restoreFunction!="function")throw new Error("You must provide a function for the restoreFunction-option when readMode ON");if(e.readMode!==!0&&typeof e.storeFunction!="function")throw new Error("You must provide a function for the storeFunction-option when readMode OFF");if(e.readMode===!0)return function(){return function(i){return e.restoreFunction(i)}};let t=__e();return function(i,n={}){n.mode="standalone";let s=t(i,n);return function(o){let a=s(o);return e.storeFunction(o,a),new Function(a)}}}sO.exports=t5;sO.exports.default=t5});var oO=w((EUe,jp)=>{"use strict";var b_e=e5();function aO(){return function(t,r){let i=Object.assign({},r,{schema:t});return w_e.bind(null,i)}}function w_e(e,{schema:t}){return e.schema&&t.$id&&e.schema[t.$id]&&(e.schema={...e.schema},delete e.schema[t.$id]),b_e(t,e)}jp.exports=aO;jp.exports.default=aO;jp.exports.SerializerSelector=aO;jp.exports.StandaloneSerializer=r5()});var Ao=w(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});qp.checkMetadata=void 0;var S_e=ke(),x_e={keyword:"metadata",schemaType:"object",code(e){i5(e);let{gen:t,schema:r,it:i}=e;if((0,S_e.alwaysValidSchema)(i,r))return;let n=t.name("valid");e.subschema({keyword:"metadata",jtdMetadata:!0},n),e.ok(n)}};function i5({it:e,keyword:t},r){if(e.jtdMetadata!==r)throw new Error(`JTD: "${t}" cannot be used in this schema location`)}qp.checkMetadata=i5;qp.default=x_e});var V_=w(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.hasRef=void 0;var n5=sc(),Mp=me(),E_e=Ro(),s5=fn(),o5=VR(),k_e=Ao(),R_e={keyword:"ref",schemaType:"string",code(e){(0,k_e.checkMetadata)(e);let{gen:t,data:r,schema:i,parentSchema:n,it:s}=e,{schemaEnv:{root:o}}=s,a=t.name("valid");n.nullable?(t.var(a,(0,Mp._)`${r} === null`),t.if((0,Mp.not)(a),l)):(t.var(a,!1),l()),e.ok(a);function l(){var f;let h=(f=o.schema.definitions)===null||f===void 0?void 0:f[i];if(!h)throw new E_e.default(s.opts.uriResolver,"",i,`No definition ${i}`);lO(h)||!s.opts.inlineRefs?c(h):u(h)}function c(f){let h=n5.compileSchema.call(s.self,new n5.SchemaEnv({schema:f,root:o,schemaPath:`/definitions/${i}`})),p=(0,o5.getValidate)(e,h),m=t.const("_errs",s5.default.errors);(0,o5.callRef)(e,p,h,h.$async),t.assign(a,(0,Mp._)`${m} === ${s5.default.errors}`)}function u(f){let h=t.scopeValue("schema",s.opts.code.source===!0?{ref:f,code:(0,Mp.stringify)(f)}:{ref:f});e.subschema({schema:f,dataTypes:[],schemaPath:Mp.nil,topSchemaRef:h,errSchemaPath:`/definitions/${i}`},a)}}};function lO(e){for(let t in e){let r;if(t==="ref"||typeof(r=e[t])=="object"&&lO(r))return!0}return!1}zp.hasRef=lO;zp.default=R_e});var uO=w(cO=>{"use strict";Object.defineProperty(cO,"__esModule",{value:!0});var T_e=/t|\s/i,O_e=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,A_e=/^(\d\d):(\d\d):(\d\d)(?:\.\d+)?(?:z|([+-]\d\d)(?::?(\d\d))?)$/i,C_e=[0,31,28,31,30,31,30,31,31,30,31,30,31];function l5(e,t){let r=e.split(T_e);return r.length===2&&a5(r[0])&&P_e(r[1])||t&&r.length===1&&a5(r[0])}cO.default=l5;function a5(e){let t=O_e.exec(e);if(!t)return!1;let r=+t[1],i=+t[2],n=+t[3];return i>=1&&i<=12&&n>=1&&(n<=C_e[i]||i===2&&n===29&&(r%100===0?r%400===0:r%4===0))}function P_e(e){let t=A_e.exec(e);if(!t)return!1;let r=+t[1],i=+t[2],n=+t[3],s=+(t[4]||0),o=+(t[5]||0);return r<=23&&i<=59&&n<=59||r-s===23&&i-o===59&&n===60}l5.code='require("ajv/dist/runtime/timestamp").default'});var ff=w(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.typeErrorParams=Da.typeErrorMessage=Da.typeError=void 0;var I_e=me();function N_e(e){return{message:t=>c5(t,e),params:t=>u5(t,e)}}Da.typeError=N_e;function c5({parentSchema:e},t){return e?.nullable?`must be ${t} or null`:`must be ${t}`}Da.typeErrorMessage=c5;function u5({parentSchema:e},t){return(0,I_e._)`{type: ${t}, nullable: ${!!e?.nullable}}`}Da.typeErrorParams=u5});var fO=w(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.intRange=void 0;var ji=me(),$_e=uO(),F_e=ke(),D_e=Ao(),f5=ff();hf.intRange={int8:[-128,127,3],uint8:[0,255,3],int16:[-32768,32767,5],uint16:[0,65535,5],int32:[-2147483648,2147483647,10],uint32:[0,4294967295,10]};var L_e={message:e=>(0,f5.typeErrorMessage)(e,e.schema),params:e=>(0,f5.typeErrorParams)(e,e.schema)};function j_e(e){let{gen:t,data:r,it:i}=e,{timestamp:n,allowDate:s}=i.opts;if(n==="date")return(0,ji._)`${r} instanceof Date `;let o=(0,F_e.useFunc)(t,$_e.default),a=s?(0,ji._)`, true`:ji.nil,l=(0,ji._)`typeof ${r} == "string" && ${o}(${r}${a})`;return n==="string"?l:(0,ji.or)((0,ji._)`${r} instanceof Date`,l)}var q_e={keyword:"type",schemaType:"string",error:L_e,code(e){(0,D_e.checkMetadata)(e);let{data:t,schema:r,parentSchema:i,it:n}=e,s;switch(r){case"boolean":case"string":s=(0,ji._)`typeof ${t} == ${r}`;break;case"timestamp":{s=j_e(e);break}case"float32":case"float64":s=(0,ji._)`typeof ${t} == "number"`;break;default:{let o=r;if(s=(0,ji._)`typeof ${t} == "number" && isFinite(${t}) && !(${t} % 1)`,!n.opts.int32range&&(o==="int32"||o==="uint32"))o==="uint32"&&(s=(0,ji._)`${s} && ${t} >= 0`);else{let[a,l]=hf.intRange[o];s=(0,ji._)`${s} && ${t} >= ${a} && ${t} <= ${l}`}}}e.pass(i.nullable?(0,ji.or)((0,ji._)`${t} === null`,s):s)}};hf.default=q_e});var pf=w(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.checkNullableObject=df.checkNullable=void 0;var W_=me();function h5({gen:e,data:t,parentSchema:r},i=W_.nil){let n=e.name("valid");return r.nullable?(e.let(n,(0,W_._)`${t} === null`),i=(0,W_.not)(n)):e.let(n,!1),[n,i]}df.checkNullable=h5;function M_e(e,t){let[r,i]=h5(e,t);return[r,(0,W_._)`${i} && typeof ${e.data} == "object" && !Array.isArray(${e.data})`]}df.checkNullableObject=M_e});var d5=w(hO=>{"use strict";Object.defineProperty(hO,"__esModule",{value:!0});var La=me(),z_e=Ao(),U_e=pf(),B_e={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,La._)`{allowedValues: ${e}}`},H_e={keyword:"enum",schemaType:"array",error:B_e,code(e){(0,z_e.checkMetadata)(e);let{gen:t,data:r,schema:i,schemaValue:n,parentSchema:s,it:o}=e;if(i.length===0)throw new Error("enum must have non-empty array");if(i.length!==new Set(i).size)throw new Error("enum items must be unique");let a,l=(0,La._)`typeof ${r} == "string"`;if(i.length>=o.opts.loopEnum){let u;[a,u]=(0,U_e.checkNullable)(e,l),t.if(u,c)}else{if(!Array.isArray(i))throw new Error("ajv implementation error");a=(0,La.and)(l,(0,La.or)(...i.map(u=>(0,La._)`${r} === ${u}`))),s.nullable&&(a=(0,La.or)((0,La._)`${r} === null`,a))}e.pass(a);function c(){t.forOf("v",n,u=>t.if((0,La._)`${a} = ${r} === ${u}`,()=>t.break()))}}};hO.default=H_e});var m5=w(dO=>{"use strict";Object.defineProperty(dO,"__esModule",{value:!0});var V_e=ke(),W_e=Sr(),p5=me(),G_e=Ao(),Y_e=pf(),K_e=ff(),J_e={keyword:"elements",schemaType:"object",error:(0,K_e.typeError)("array"),code(e){(0,G_e.checkMetadata)(e);let{gen:t,data:r,schema:i,it:n}=e;if((0,V_e.alwaysValidSchema)(n,i))return;let[s]=(0,Y_e.checkNullable)(e);t.if((0,p5.not)(s),()=>t.if((0,p5._)`Array.isArray(${r})`,()=>t.assign(s,(0,W_e.validateArray)(e)),()=>e.error())),e.ok(s)}};dO.default=J_e});var mO=w(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.validateProperties=ja.error=void 0;var pO=Sr(),g5=ke(),Co=me(),Z_e=Ao(),X_e=pf(),y5=ff(),mf;(function(e){e.Additional="additional",e.Missing="missing"})(mf||(mf={}));ja.error={message:e=>{let{params:t}=e;return t.propError?t.propError===mf.Additional?"must NOT have additional properties":`must have property '${t.missingProperty}'`:(0,y5.typeErrorMessage)(e,"object")},params:e=>{let{params:t}=e;return t.propError?t.propError===mf.Additional?(0,Co._)`{error: ${t.propError}, additionalProperty: ${t.additionalProperty}}`:(0,Co._)`{error: ${t.propError}, missingProperty: ${t.missingProperty}}`:(0,y5.typeErrorParams)(e,"object")}};var Q_e={keyword:"properties",schemaType:"object",error:ja.error,code:v5};function v5(e){(0,Z_e.checkMetadata)(e);let{gen:t,data:r,parentSchema:i,it:n}=e,{additionalProperties:s,nullable:o}=i;if(n.jtdDiscriminator&&o)throw new Error("JTD: nullable inside discriminator mapping");if(p())throw new Error("JTD: properties and optionalProperties have common members");let[a,l]=m("properties"),[c,u]=m("optionalProperties");if(l.length===0&&u.length===0&&s)return;let[f,h]=n.jtdDiscriminator===void 0?(0,X_e.checkNullableObject)(e,r):[t.let("valid",!1),!0];t.if(h,()=>t.assign(f,!0).block(()=>{g(l,"properties",!0),g(u,"optionalProperties"),s||_()})),e.pass(f);function p(){let b=i.properties,v=i.optionalProperties;if(!(b&&v))return!1;for(let O in b)if(Object.prototype.hasOwnProperty.call(v,O))return!0;return!1}function m(b){let v=i[b],O=v?(0,pO.allSchemaProperties)(v):[];if(n.jtdDiscriminator&&O.some(R=>R===n.jtdDiscriminator))throw new Error(`JTD: discriminator tag used in ${b}`);let j=O.filter(R=>!(0,g5.alwaysValidSchema)(n,v[R]));return[O,j]}function g(b,v,O){let j=t.var("valid");for(let I of b)t.if((0,pO.propertyInData)(t,r,I,n.opts.ownProperties),()=>y(I,v,j),()=>R(I)),e.ok(j);function R(I){O?(t.assign(j,!1),e.error(!1,{propError:mf.Missing,missingProperty:I},{schemaPath:I})):t.assign(j,!0)}}function y(b,v,O){e.subschema({keyword:v,schemaProp:b,dataProp:b},O)}function _(){t.forIn("key",r,b=>{let v=S(b,a,"properties",n.jtdDiscriminator),O=S(b,c,"optionalProperties"),j=v===!0?O:O===!0?v:(0,Co.and)(v,O);t.if(j,()=>{n.opts.removeAdditional?t.code((0,Co._)`delete ${r}[${b}]`):(e.error(!1,{propError:mf.Additional,additionalProperty:b},{instancePath:b,parentSchema:!0}),n.opts.allErrors||t.break())})})}function S(b,v,O,j){let R;if(v.length>8){let I=(0,g5.schemaRefOrVal)(n,i[O],O);R=(0,Co.not)((0,pO.isOwnProperty)(t,I,b)),j!==void 0&&(R=(0,Co.and)(R,(0,Co._)`${b} !== ${j}`))}else if(v.length||j!==void 0){let I=j===void 0?v:[j].concat(v);R=(0,Co.and)(...I.map(F=>(0,Co._)`${b} !== ${F}`))}else R=!0;return R}}ja.validateProperties=v5;ja.default=Q_e});var b5=w(gO=>{"use strict";Object.defineProperty(gO,"__esModule",{value:!0});var _5=mO(),ebe={keyword:"optionalProperties",schemaType:"object",error:_5.error,code(e){e.parentSchema.properties||(0,_5.validateProperties)(e)}};gO.default=ebe});var S5=w(yO=>{"use strict";Object.defineProperty(yO,"__esModule",{value:!0});var uc=me(),tbe=Ao(),rbe=pf(),w5=ff(),G_=PT(),ibe={message:e=>{let{schema:t,params:r}=e;return r.discrError?r.discrError===G_.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in mapping`:(0,w5.typeErrorMessage)(e,"object")},params:e=>{let{schema:t,params:r}=e;return r.discrError?(0,uc._)`{error: ${r.discrError}, tag: ${t}, tagValue: ${r.tag}}`:(0,w5.typeErrorParams)(e,"object")}},nbe={keyword:"discriminator",schemaType:"string",implements:["mapping"],error:ibe,code(e){(0,tbe.checkMetadata)(e);let{gen:t,data:r,schema:i,parentSchema:n}=e,[s,o]=(0,rbe.checkNullableObject)(e,r);t.if(o),a(),t.elseIf((0,uc.not)(s)),e.error(),t.endIf(),e.ok(s);function a(){let u=t.const("tag",(0,uc._)`${r}${(0,uc.getProperty)(i)}`);t.if((0,uc._)`${u} === undefined`),e.error(!1,{discrError:G_.DiscrError.Tag,tag:u}),t.elseIf((0,uc._)`typeof ${u} == "string"`),l(u),t.else(),e.error(!1,{discrError:G_.DiscrError.Tag,tag:u},{instancePath:i}),t.endIf()}function l(u){t.if(!1);for(let f in n.mapping)t.elseIf((0,uc._)`${u} === ${f}`),t.assign(s,c(f));t.else(),e.error(!1,{discrError:G_.DiscrError.Mapping,tag:u},{instancePath:i,schemaPath:"mapping",parentSchema:!0}),t.endIf()}function c(u){let f=t.name("valid");return e.subschema({keyword:"mapping",schemaProp:u,jtdDiscriminator:i},f),f}}};yO.default=nbe});var E5=w(vO=>{"use strict";Object.defineProperty(vO,"__esModule",{value:!0});var x5=ke(),Y_=me(),sbe=Ao(),obe=pf(),abe=ff(),lbe={keyword:"values",schemaType:"object",error:(0,abe.typeError)("object"),code(e){(0,sbe.checkMetadata)(e);let{gen:t,data:r,schema:i,it:n}=e,[s,o]=(0,obe.checkNullableObject)(e,r);(0,x5.alwaysValidSchema)(n,i)?t.if((0,Y_.not)((0,Y_.or)(o,s)),()=>e.error()):(t.if(o),t.assign(s,a()),t.elseIf((0,Y_.not)(s)),e.error(),t.endIf()),e.ok(s);function a(){let l=t.name("valid");if(n.allErrors){let u=t.let("valid",!0);return c(()=>t.assign(u,!1)),u}return t.var(l,!0),c(()=>t.break()),l;function c(u){t.forIn("key",r,f=>{e.subschema({keyword:"values",dataProp:f,dataPropType:x5.Type.Str},l),t.if((0,Y_.not)(l),u)})}}}};vO.default=lbe});var k5=w(_O=>{"use strict";Object.defineProperty(_O,"__esModule",{value:!0});var cbe=Sr(),ube={keyword:"union",schemaType:"array",trackErrors:!0,code:cbe.validateUnion,error:{message:"must match a schema in union"}};_O.default=ube});var R5=w(bO=>{"use strict";Object.defineProperty(bO,"__esModule",{value:!0});var fbe=V_(),hbe=fO(),dbe=d5(),pbe=m5(),mbe=mO(),gbe=b5(),ybe=S5(),vbe=E5(),_be=k5(),bbe=Ao(),wbe=["definitions",fbe.default,hbe.default,dbe.default,pbe.default,mbe.default,gbe.default,ybe.default,vbe.default,_be.default,bbe.default,{keyword:"additionalProperties",schemaType:"boolean"},{keyword:"nullable",schemaType:"boolean"}];bO.default=wbe});var C5=w(wO=>{"use strict";Object.defineProperty(wO,"__esModule",{value:!0});var Po=e=>{let t={nullable:{type:"boolean"},metadata:{optionalProperties:{union:{elements:{ref:"schema"}}},additionalProperties:!0}};return e&&(t.definitions={values:{ref:"schema"}}),t},Sbe=e=>({optionalProperties:Po(e)}),xbe=e=>({properties:{ref:{type:"string"}},optionalProperties:Po(e)}),Ebe=e=>({properties:{type:{enum:["boolean","timestamp","string","float32","float64","int8","uint8","int16","uint16","int32","uint32"]}},optionalProperties:Po(e)}),kbe=e=>({properties:{enum:{elements:{type:"string"}}},optionalProperties:Po(e)}),Rbe=e=>({properties:{elements:{ref:"schema"}},optionalProperties:Po(e)}),O5=e=>({properties:{properties:{values:{ref:"schema"}}},optionalProperties:{optionalProperties:{values:{ref:"schema"}},additionalProperties:{type:"boolean"},...Po(e)}}),A5=e=>({properties:{optionalProperties:{values:{ref:"schema"}}},optionalProperties:{additionalProperties:{type:"boolean"},...Po(e)}}),Tbe=e=>({properties:{discriminator:{type:"string"},mapping:{values:{metadata:{union:[O5(!1),A5(!1)]}}}},optionalProperties:Po(e)}),Obe=e=>({properties:{values:{ref:"schema"}},optionalProperties:Po(e)}),T5=e=>({metadata:{union:[Sbe,xbe,Ebe,kbe,Rbe,O5,A5,Tbe,Obe].map(t=>t(e))}}),Abe={definitions:{schema:T5(!1)},...T5(!0)};wO.default=Abe});var SO=w(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});K_.jtdForms=void 0;K_.jtdForms=["elements","values","discriminator","properties","optionalProperties","enum","type","ref"]});var I5=w(EO=>{"use strict";Object.defineProperty(EO,"__esModule",{value:!0});var xO=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Cbe={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function P5(e){return xO.lastIndex=0,'"'+(xO.test(e)?e.replace(xO,t=>{let r=Cbe[t];return typeof r=="string"?r:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}):e)+'"'}EO.default=P5;P5.code='require("ajv/dist/runtime/quote").default'});var j5=w(RO=>{"use strict";Object.defineProperty(RO,"__esModule",{value:!0});var Pbe=SO(),$5=sc(),Ie=me(),Ibe=Ro(),Qe=fn(),Nbe=Sr(),$be=V_(),Fbe=ke(),Dbe=I5(),Lbe={elements:qbe,values:Mbe,discriminator:zbe,properties:N5,optionalProperties:N5,enum:Up,type:Ube,ref:Hbe};function F5(e,t){let r=$5.getCompilingSchema.call(this,e);if(r)return r;let{es5:i,lines:n}=this.opts.code,{ownProperties:s}=this.opts,o=new Ie.CodeGen(this.scope,{es5:i,lines:n,ownProperties:s}),a=o.scopeName("serialize"),l={self:this,gen:o,schema:e.schema,schemaEnv:e,definitions:t,data:Qe.default.data},c;try{this._compilations.add(e),e.serializeName=a,o.func(a,Qe.default.data,!1,()=>{o.let(Qe.default.json,(0,Ie.str)``),Bp(l),o.return(Qe.default.json)}),o.optimize(this.opts.code.optimize);let u=o.toString();c=`${o.scopeRefs(Qe.default.scope)}return ${u}`;let h=new Function(`${Qe.default.scope}`,c)(this.scope.get());this.scope.value(a,{ref:h}),e.serialize=h}catch(u){throw c&&this.logger.error("Error compiling serializer, function code:",c),delete e.serialize,delete e.serializeName,u}finally{this._compilations.delete(e)}return e}RO.default=F5;function Bp(e){let t;for(let r of Pbe.jtdForms)if(r in e.schema){t=r;break}jbe(e,t?Lbe[t]:Wbe)}function jbe(e,t){let{gen:r,schema:i,data:n}=e;if(!i.nullable)return t(e);r.if((0,Ie._)`${n} === undefined || ${n} === null`,()=>r.add(Qe.default.json,(0,Ie._)`"null"`),()=>t(e))}function qbe(e){let{gen:t,schema:r,data:i}=e;t.add(Qe.default.json,(0,Ie.str)`[`);let n=t.let("first",!0);t.forOf("el",i,s=>{kO(e,n),Bp({...e,schema:r.elements,data:s})}),t.add(Qe.default.json,(0,Ie.str)`]`)}function Mbe(e){let{gen:t,schema:r,data:i}=e;t.add(Qe.default.json,(0,Ie.str)`{`);let n=t.let("first",!0);t.forIn("key",i,s=>D5(e,s,r.values,n)),t.add(Qe.default.json,(0,Ie.str)`}`)}function D5(e,t,r,i){let{gen:n,data:s}=e;kO(e,i),Up({...e,data:t}),n.add(Qe.default.json,(0,Ie.str)`:`);let o=n.const("value",(0,Ie._)`${s}${(0,Ie.getProperty)(t)}`);Bp({...e,schema:r,data:o})}function zbe(e){let{gen:t,schema:r,data:i}=e,{discriminator:n}=r;t.add(Qe.default.json,(0,Ie.str)`{${JSON.stringify(n)}:`);let s=t.const("tag",(0,Ie._)`${i}${(0,Ie.getProperty)(n)}`);Up({...e,data:s}),t.if(!1);for(let o in r.mapping){t.elseIf((0,Ie._)`${s} === ${o}`);let a=r.mapping[o];L5({...e,schema:a},n)}t.endIf(),t.add(Qe.default.json,(0,Ie.str)`}`)}function N5(e){let{gen:t}=e;t.add(Qe.default.json,(0,Ie.str)`{`),L5(e),t.add(Qe.default.json,(0,Ie.str)`}`)}function L5(e,t){let{gen:r,schema:i,data:n}=e,{properties:s,optionalProperties:o}=i,a=h(s),l=h(o),c=p(a.concat(l)),u=!t,f;for(let _ of a)u?u=!1:r.add(Qe.default.json,(0,Ie.str)`,`),g(_,s[_],m(_));u&&(f=r.let("first",!0));for(let _ of l){let S=m(_);r.if((0,Ie.and)((0,Ie._)`${S} !== undefined`,(0,Nbe.isOwnProperty)(r,n,_)),()=>{kO(e,f),g(_,o[_],S)})}i.additionalProperties&&r.forIn("key",n,_=>r.if(y(_,c),()=>D5(e,_,{},f)));function h(_){return _?Object.keys(_):[]}function p(_){if(t&&_.push(t),new Set(_).size!==_.length)throw new Error("JTD: properties/optionalProperties/disciminator overlap");return _}function m(_){return r.const("value",(0,Ie._)`${n}${(0,Ie.getProperty)(_)}`)}function g(_,S,b){r.add(Qe.default.json,(0,Ie.str)`${JSON.stringify(_)}:`),Bp({...e,schema:S,data:b})}function y(_,S){return S.length?(0,Ie.and)(...S.map(b=>(0,Ie._)`${_} !== ${b}`)):!0}}function Ube(e){let{gen:t,schema:r,data:i}=e;switch(r.type){case"boolean":t.add(Qe.default.json,(0,Ie._)`${i} ? "true" : "false"`);break;case"string":Up(e);break;case"timestamp":t.if((0,Ie._)`${i} instanceof Date`,()=>t.add(Qe.default.json,(0,Ie._)`'"' + ${i}.toISOString() + '"'`),()=>Up(e));break;default:Bbe(e)}}function Up({gen:e,data:t}){e.add(Qe.default.json,(0,Ie._)`${(0,Fbe.useFunc)(e,Dbe.default)}(${t})`)}function Bbe({gen:e,data:t}){e.add(Qe.default.json,(0,Ie._)`"" + ${t}`)}function Hbe(e){let{gen:t,self:r,data:i,definitions:n,schema:s,schemaEnv:o}=e,{ref:a}=s,l=n[a];if(!l)throw new Ibe.default(r.opts.uriResolver,"",a,`No definition ${a}`);if(!(0,$be.hasRef)(l))return Bp({...e,schema:l});let{root:c}=o,u=F5.call(r,new $5.SchemaEnv({schema:l,root:c}),n);t.add(Qe.default.json,(0,Ie._)`${Vbe(t,u)}(${i})`)}function Vbe(e,t){return t.serialize?e.scopeValue("serialize",{ref:t.serialize}):(0,Ie._)`${e.scopeValue("wrapper",{ref:t})}.serialize`}function Wbe({gen:e,data:t}){e.add(Qe.default.json,(0,Ie._)`JSON.stringify(${t})`)}function kO({gen:e},t){t?e.if(t,()=>e.assign(t,!1),()=>e.add(Qe.default.json,(0,Ie.str)`,`)):e.add(Qe.default.json,(0,Ie.str)`,`)}});var M5=w(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.parseJsonString=Ma.parseJsonNumber=Ma.parseJson=void 0;var Gbe=/position\s(\d+)(?: \(line \d+ column \d+\))?$/;function Io(e,t){let r;Io.message=void 0;let i;t&&(e=e.slice(t));try{return Io.position=t+e.length,JSON.parse(e)}catch(n){if(i=Gbe.exec(n.message),!i){Io.message="unexpected end";return}r=+i[1];let s=e[r];e=e.slice(0,r),Io.position=t+r;try{return JSON.parse(e)}catch{Io.message=`unexpected token ${s}`;return}}}Ma.parseJson=Io;Io.message=void 0;Io.position=0;Io.code='require("ajv/dist/runtime/parseJson").parseJson';function No(e,t,r){let i="",n;if(No.message=void 0,e[t]==="-"&&(i+="-",t++),e[t]==="0")i+="0",t++;else if(!s(r)){o();return}if(r)return No.position=t,+i;if(e[t]==="."&&(i+=".",t++,!s())){o();return}if(n=e[t],(n==="e"||n==="E")&&(i+="e",t++,n=e[t],(n==="+"||n==="-")&&(i+=n,t++),!s())){o();return}return No.position=t,+i;function s(a){let l=!1;for(;n=e[t],n>="0"&&n<="9"&&(a===void 0||a-- >0);)l=!0,i+=n,t++;return l}function o(){No.position=t,No.message=t<e.length?`unexpected token ${e[t]}`:"unexpected end"}}Ma.parseJsonNumber=No;No.message=void 0;No.position=0;No.code='require("ajv/dist/runtime/parseJson").parseJsonNumber';var q5={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},Ybe=97,Kbe=48;function qa(e,t){let r="",i;for(qa.message=void 0;i=e[t++],i!=='"';)if(i==="\\")if(i=e[t],i in q5)r+=q5[i],t++;else if(i==="u"){t++;let s=4,o=0;for(;s--;){if(o<<=4,i=e[t],i===void 0){n("unexpected end");return}if(i=i.toLowerCase(),i>="a"&&i<="f")o+=i.charCodeAt(0)-Ybe+10;else if(i>="0"&&i<="9")o+=i.charCodeAt(0)-Kbe;else{n(`unexpected token ${i}`);return}t++}r+=String.fromCharCode(o)}else{n(`unexpected token ${i}`);return}else if(i===void 0){n("unexpected end");return}else if(i.charCodeAt(0)>=32)r+=i;else{n(`unexpected token ${i}`);return}return qa.position=t,r;function n(s){qa.position=t,qa.message=s}}Ma.parseJsonString=qa;qa.message=void 0;qa.position=0;qa.code='require("ajv/dist/runtime/parseJson").parseJsonString'});var Z5=w($O=>{"use strict";Object.defineProperty($O,"__esModule",{value:!0});var Jbe=SO(),H5=sc(),de=me(),Zbe=Ro(),Pe=fn(),Xbe=Sr(),Qbe=V_(),ewe=fO(),AO=M5(),V5=ke(),twe=uO(),rwe={elements:owe,values:awe,discriminator:cwe,properties:z5,optionalProperties:z5,enum:fwe,type:uwe,ref:hwe};function W5(e,t){let r=H5.getCompilingSchema.call(this,e);if(r)return r;let{es5:i,lines:n}=this.opts.code,{ownProperties:s}=this.opts,o=new de.CodeGen(this.scope,{es5:i,lines:n,ownProperties:s}),a=o.scopeName("parse"),l={self:this,gen:o,schema:e.schema,schemaEnv:e,definitions:t,data:Pe.default.data,parseName:a,char:o.name("c")},c;try{this._compilations.add(e),e.parseName=a,iwe(l),o.optimize(this.opts.code.optimize);let u=o.toString();c=`${o.scopeRefs(Pe.default.scope)}return ${u}`;let h=new Function(`${Pe.default.scope}`,c)(this.scope.get());this.scope.value(a,{ref:h}),e.parse=h}catch(u){throw c&&this.logger.error("Error compiling parser, function code:",c),delete e.parse,delete e.parseName,u}finally{this._compilations.delete(e)}return e}$O.default=W5;var OO=(0,de._)`undefined`;function iwe(e){let{gen:t,parseName:r,char:i}=e;t.func(r,(0,de._)`${Pe.default.json}, ${Pe.default.jsonPos}, ${Pe.default.jsonPart}`,!1,()=>{t.let(Pe.default.data),t.let(i),t.assign((0,de._)`${r}.message`,OO),t.assign((0,de._)`${r}.position`,OO),t.assign(Pe.default.jsonPos,(0,de._)`${Pe.default.jsonPos} || 0`),t.const(Pe.default.jsonLen,(0,de._)`${Pe.default.json}.length`),J_(e),NO(e),t.if(Pe.default.jsonPart,()=>{t.assign((0,de._)`${r}.position`,Pe.default.jsonPos),t.return(Pe.default.data)}),t.if((0,de._)`${Pe.default.jsonPos} === ${Pe.default.jsonLen}`,()=>t.return(Pe.default.data)),gf(e)})}function J_(e){let t;for(let r of Jbe.jtdForms)if(r in e.schema){t=r;break}t?swe(e,rwe[t]):PO(e)}var nwe=B5(!0,B5(!1,gf));function swe(e,t){let{gen:r,schema:i,data:n}=e;if(!i.nullable)return t(e);Hp(e,"null",t,()=>r.assign(n,null))}function owe(e){let{gen:t,schema:r,data:i}=e;Is(e,"[");let n=t.let("i",0);t.assign(i,(0,de._)`[]`),CO(e,"]",()=>{let s=t.let("el");J_({...e,schema:r.elements,data:s}),t.assign((0,de._)`${i}[${n}++]`,s)})}function awe(e){let{gen:t,schema:r,data:i}=e;Is(e,"{"),t.assign(i,(0,de._)`{}`),CO(e,"}",()=>lwe(e,r.values))}function CO(e,t,r){G5(e,t,r),Is(e,t)}function G5(e,t,r){let{gen:i}=e;i.for((0,de._)`;${Pe.default.jsonPos}<${Pe.default.jsonLen} && ${Z_(1)}!==${t};`,()=>{r(),Hp(e,",",()=>i.break(),n)});function n(){Hp(e,t,()=>{},gf)}}function lwe(e,t){let{gen:r}=e,i=r.let("key");fc({...e,data:i}),Is(e,":"),K5(e,i,t)}function cwe(e){let{gen:t,data:r,schema:i}=e,{discriminator:n,mapping:s}=i;Is(e,"{"),t.assign(r,(0,de._)`{}`);let o=t.const("pos",Pe.default.jsonPos),a=t.let("value"),l=t.let("tag");G5(e,"}",()=>{let c=t.let("key");fc({...e,data:c}),Is(e,":"),t.if((0,de._)`${c} === ${n}`,()=>{fc({...e,data:l}),t.assign((0,de._)`${r}[${c}]`,l),t.break()},()=>PO({...e,data:a}))}),t.assign(Pe.default.jsonPos,o),t.if((0,de._)`${l} === undefined`),$o(e,(0,de.str)`discriminator tag not found`);for(let c in s)t.elseIf((0,de._)`${l} === ${c}`),Y5({...e,schema:s[c]},n);t.else(),$o(e,(0,de.str)`discriminator value not in schema`),t.endIf()}function z5(e){let{gen:t,data:r}=e;Is(e,"{"),t.assign(r,(0,de._)`{}`),Y5(e)}function Y5(e,t){let{gen:r,schema:i,data:n}=e,{properties:s,optionalProperties:o,additionalProperties:a}=i;if(CO(e,"}",()=>{let l=r.let("key");if(fc({...e,data:l}),Is(e,":"),r.if(!1),U5(e,l,s),U5(e,l,o),t){r.elseIf((0,de._)`${l} === ${t}`);let c=r.let("tag");fc({...e,data:c})}r.else(),a?PO({...e,data:(0,de._)`${n}[${l}]`}):$o(e,(0,de.str)`property ${l} not allowed`),r.endIf()}),s){let l=(0,Xbe.hasPropFunc)(r),c=(0,de.and)(...Object.keys(s).map(u=>(0,de._)`${l}.call(${n}, ${u})`));r.if((0,de.not)(c),()=>$o(e,(0,de.str)`missing required properties`))}}function U5(e,t,r={}){let{gen:i}=e;for(let n in r)i.elseIf((0,de._)`${t} === ${n}`),K5(e,t,r[n])}function K5(e,t,r){J_({...e,schema:r,data:(0,de._)`${e.data}[${t}]`})}function uwe(e){let{gen:t,schema:r,data:i,self:n}=e;switch(r.type){case"boolean":nwe(e);break;case"string":fc(e);break;case"timestamp":{fc(e);let s=(0,V5.useFunc)(t,twe.default),{allowDate:o,parseDate:a}=n.opts,l=o?(0,de._)`!${s}(${i}, true)`:(0,de._)`!${s}(${i})`,c=a?(0,de.or)(l,(0,de._)`(${i} = new Date(${i}), false)`,(0,de._)`isNaN(${i}.valueOf())`):l;t.if(c,()=>$o(e,(0,de.str)`invalid timestamp`));break}case"float32":case"float64":TO(e);break;default:{let s=r.type;if(!n.opts.int32range&&(s==="int32"||s==="uint32"))TO(e,16),s==="uint32"&&t.if((0,de._)`${i} < 0`,()=>$o(e,(0,de.str)`integer out of range`));else{let[o,a,l]=ewe.intRange[s];TO(e,l),t.if((0,de._)`${i} < ${o} || ${i} > ${a}`,()=>$o(e,(0,de.str)`integer out of range`))}}}}function fc(e){Is(e,'"'),IO(e,AO.parseJsonString)}function fwe(e){let{gen:t,data:r,schema:i}=e,n=i.enum;Is(e,'"'),t.if(!1);for(let s of n){let o=JSON.stringify(s).slice(1);t.elseIf((0,de._)`${Z_(o.length)} === ${o}`),t.assign(r,(0,de.str)`${s}`),t.add(Pe.default.jsonPos,o.length)}t.else(),gf(e),t.endIf()}function TO(e,t){let{gen:r}=e;NO(e),r.if((0,de._)`"-0123456789".indexOf(${Z_(1)}) < 0`,()=>gf(e),()=>IO(e,AO.parseJsonNumber,t))}function B5(e,t){return r=>{let{gen:i,data:n}=r;Hp(r,`${e}`,()=>t(r),()=>i.assign(n,e))}}function hwe(e){let{gen:t,self:r,definitions:i,schema:n,schemaEnv:s}=e,{ref:o}=n,a=i[o];if(!a)throw new Zbe.default(r.opts.uriResolver,"",o,`No definition ${o}`);if(!(0,Qbe.hasRef)(a))return J_({...e,schema:a});let{root:l}=s,c=W5.call(r,new H5.SchemaEnv({schema:a,root:l}),i);J5(e,dwe(t,c),!0)}function dwe(e,t){return t.parse?e.scopeValue("parse",{ref:t.parse}):(0,de._)`${e.scopeValue("wrapper",{ref:t})}.parse`}function PO(e){IO(e,AO.parseJson)}function IO(e,t,r){J5(e,(0,V5.useFunc)(e.gen,t),r)}function J5(e,t,r){let{gen:i,data:n}=e;i.assign(n,(0,de._)`${t}(${Pe.default.json}, ${Pe.default.jsonPos}${r?(0,de._)`, ${r}`:de.nil})`),i.assign(Pe.default.jsonPos,(0,de._)`${t}.position`),i.if((0,de._)`${n} === undefined`,()=>$o(e,(0,de._)`${t}.message`))}function Is(e,t){Hp(e,t,gf)}function Hp(e,t,r,i){let{gen:n}=e,s=t.length;NO(e),n.if((0,de._)`${Z_(s)} === ${t}`,()=>{n.add(Pe.default.jsonPos,s),i?.(e)},()=>r(e))}function NO({gen:e,char:t}){e.code((0,de._)`while((${t}=${Pe.default.json}[${Pe.default.jsonPos}],${t}===" "||${t}==="\\n"||${t}==="\\r"||${t}==="\\t"))${Pe.default.jsonPos}++;`)}function Z_(e){return e===1?(0,de._)`${Pe.default.json}[${Pe.default.jsonPos}]`:(0,de._)`${Pe.default.json}.slice(${Pe.default.jsonPos}, ${Pe.default.jsonPos}+${e})`}function gf(e){$o(e,(0,de._)`"unexpected token " + ${Pe.default.json}[${Pe.default.jsonPos}]`)}function $o({gen:e,parseName:t},r){e.assign((0,de._)`${t}.message`,r),e.assign((0,de._)`${t}.position`,Pe.default.jsonPos),e.return(OO)}});var LO=w((ot,DO)=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.MissingRefError=ot.ValidationError=ot.CodeGen=ot.Name=ot.nil=ot.stringify=ot.str=ot._=ot.KeywordCxt=ot.Ajv=void 0;var pwe=BR(),mwe=R5(),gwe=C5(),ywe=j5(),vwe=Z5(),FO="JTD-meta-schema",yf=class extends pwe.default{constructor(t={}){super({...t,jtd:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(mwe.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema(),this.opts.meta&&this.addMetaSchema(gwe.default,FO,!1)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(FO)?FO:void 0)}compileSerializer(t){let r=this._addSchema(t);return r.serialize||this._compileSerializer(r)}compileParser(t){let r=this._addSchema(t);return r.parse||this._compileParser(r)}_compileSerializer(t){if(ywe.default.call(this,t,t.schema.definitions||{}),!t.serialize)throw new Error("ajv implementation error");return t.serialize}_compileParser(t){if(vwe.default.call(this,t,t.schema.definitions||{}),!t.parse)throw new Error("ajv implementation error");return t.parse}};ot.Ajv=yf;DO.exports=ot=yf;DO.exports.Ajv=yf;Object.defineProperty(ot,"__esModule",{value:!0});ot.default=yf;var _we=Qu();Object.defineProperty(ot,"KeywordCxt",{enumerable:!0,get:function(){return _we.KeywordCxt}});var vf=me();Object.defineProperty(ot,"_",{enumerable:!0,get:function(){return vf._}});Object.defineProperty(ot,"str",{enumerable:!0,get:function(){return vf.str}});Object.defineProperty(ot,"stringify",{enumerable:!0,get:function(){return vf.stringify}});Object.defineProperty(ot,"nil",{enumerable:!0,get:function(){return vf.nil}});Object.defineProperty(ot,"Name",{enumerable:!0,get:function(){return vf.Name}});Object.defineProperty(ot,"CodeGen",{enumerable:!0,get:function(){return vf.CodeGen}});var bwe=vp();Object.defineProperty(ot,"ValidationError",{enumerable:!0,get:function(){return bwe.default}});var wwe=Ro();Object.defineProperty(ot,"MissingRefError",{enumerable:!0,get:function(){return wwe.default}})});var jO=w((VUe,X5)=>{"use strict";var Swe=jT();X5.exports=Object.freeze({coerceTypes:"array",useDefaults:!0,removeAdditional:!0,uriResolver:Swe,addUsedSchema:!1,allErrors:!1})});var nU=w(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.formatNames=Ns.fastFormats=Ns.fullFormats=void 0;function _f(e,t){return{validate:e,compare:t}}Ns.fullFormats={date:_f(tU,zO),time:_f(rU,UO),"date-time":_f(Rwe,iU),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:Awe,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:Dwe,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:Cwe,int32:{type:"number",validate:Nwe},int64:{type:"number",validate:$we},float:{type:"number",validate:eU},double:{type:"number",validate:eU},password:!0,binary:!0};Ns.fastFormats={...Ns.fullFormats,date:_f(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,zO),time:_f(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,UO),"date-time":_f(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,iU),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};Ns.formatNames=Object.keys(Ns.fullFormats);function xwe(e){return e%4===0&&(e%100!==0||e%400===0)}var Ewe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,kwe=[0,31,28,31,30,31,30,31,31,30,31,30,31];function tU(e){let t=Ewe.exec(e);if(!t)return!1;let r=+t[1],i=+t[2],n=+t[3];return i>=1&&i<=12&&n>=1&&n<=(i===2&&xwe(r)?29:kwe[i])}function zO(e,t){if(e&&t)return e>t?1:e<t?-1:0}var qO=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function rU(e,t){let r=qO.exec(e);if(!r)return!1;let i=+r[1],n=+r[2],s=+r[3],o=r[5];return(i<=23&&n<=59&&s<=59||i===23&&n===59&&s===60)&&(!t||o!=="")}function UO(e,t){if(!(e&&t))return;let r=qO.exec(e),i=qO.exec(t);if(r&&i)return e=r[1]+r[2]+r[3]+(r[4]||""),t=i[1]+i[2]+i[3]+(i[4]||""),e>t?1:e<t?-1:0}var MO=/t|\s/i;function Rwe(e){let t=e.split(MO);return t.length===2&&tU(t[0])&&rU(t[1],!0)}function iU(e,t){if(!(e&&t))return;let[r,i]=e.split(MO),[n,s]=t.split(MO),o=zO(r,n);if(o!==void 0)return o||UO(i,s)}var Twe=/\/|:/,Owe=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Awe(e){return Twe.test(e)&&Owe.test(e)}var Q5=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function Cwe(e){return Q5.lastIndex=0,Q5.test(e)}var Pwe=-(2**31),Iwe=2**31-1;function Nwe(e){return Number.isInteger(e)&&e<=Iwe&&e>=Pwe}function $we(e){return Number.isInteger(e)}function eU(){return!0}var Fwe=/[^\\]\\Z/;function Dwe(e){if(Fwe.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}});var sU=w(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.formatLimitDefinition=void 0;var Lwe=Np(),Mn=me(),za=Mn.operators,X_={formatMaximum:{okStr:"<=",ok:za.LTE,fail:za.GT},formatMinimum:{okStr:">=",ok:za.GTE,fail:za.LT},formatExclusiveMaximum:{okStr:"<",ok:za.LT,fail:za.GTE},formatExclusiveMinimum:{okStr:">",ok:za.GT,fail:za.LTE}},jwe={message:({keyword:e,schemaCode:t})=>Mn.str`should be ${X_[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>Mn._`{comparison: ${X_[e].okStr}, limit: ${t}}`};bf.formatLimitDefinition={keyword:Object.keys(X_),type:"string",schemaType:"string",$data:!0,error:jwe,code(e){let{gen:t,data:r,schemaCode:i,keyword:n,it:s}=e,{opts:o,self:a}=s;if(!o.validateFormats)return;let l=new Lwe.KeywordCxt(s,a.RULES.all.format.definition,"format");l.$data?c():u();function c(){let h=t.scopeValue("formats",{ref:a.formats,code:o.code.formats}),p=t.const("fmt",Mn._`${h}[${l.schemaCode}]`);e.fail$data(Mn.or(Mn._`typeof ${p} != "object"`,Mn._`${p} instanceof RegExp`,Mn._`typeof ${p}.compare != "function"`,f(p)))}function u(){let h=l.schema,p=a.formats[h];if(!p||p===!0)return;if(typeof p!="object"||p instanceof RegExp||typeof p.compare!="function")throw new Error(`"${n}": format "${h}" does not define "compare" function`);let m=t.scopeValue("formats",{key:h,ref:p,code:o.code.formats?Mn._`${o.code.formats}${Mn.getProperty(h)}`:void 0});e.fail$data(f(m))}function f(h){return Mn._`${h}.compare(${r}, ${i}) ${X_[n].fail} 0`}},dependencies:["format"]};var qwe=e=>(e.addKeyword(bf.formatLimitDefinition),e);bf.default=qwe});var cU=w((Vp,lU)=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});var wf=nU(),Mwe=sU(),BO=me(),oU=new BO.Name("fullFormats"),zwe=new BO.Name("fastFormats"),HO=(e,t={keywords:!0})=>{if(Array.isArray(t))return aU(e,t,wf.fullFormats,oU),e;let[r,i]=t.mode==="fast"?[wf.fastFormats,zwe]:[wf.fullFormats,oU],n=t.formats||wf.formatNames;return aU(e,n,r,i),t.keywords&&Mwe.default(e),e};HO.get=(e,t="full")=>{let i=(t==="fast"?wf.fastFormats:wf.fullFormats)[e];if(!i)throw new Error(`Unknown format "${e}"`);return i};function aU(e,t,r,i){var n,s;(n=(s=e.opts.code).formats)!==null&&n!==void 0||(s.formats=BO._`require("ajv-formats/dist/formats").${i}`);for(let o of t)e.addFormat(o,r[o])}lU.exports=Vp=HO;Object.defineProperty(Vp,"__esModule",{value:!0});Vp.default=HO});var hU=w((YUe,fU)=>{"use strict";var Uwe=Np().default,Bwe=LO(),uU=jO(),VO=class{constructor(t,r){r.mode==="JTD"?this.ajv=new Bwe(Object.assign({},uU,r.customOptions)):this.ajv=new Uwe(Object.assign({},uU,r.customOptions));let i=!0;if(r.plugins&&r.plugins.length>0)for(let s of r.plugins)Array.isArray(s)?(i=i&&s[0].name!=="formatsPlugin",s[0](this.ajv,s[1])):(i=i&&s.name!=="formatsPlugin",s(this.ajv));i&&cU()(this.ajv),r.onCreate?.(this.ajv);let n=Object.values(t);for(let s of n)this.ajv.addSchema(s)}buildValidatorFunction({schema:t}){if(t.$id){let r=this.ajv.getSchema(t.$id);if(r)return r}return this.ajv.compile(t)}};fU.exports=VO});var pU=w((KUe,dU)=>{"use strict";var Hwe=LO(),Vwe=jO(),WO=class{constructor(t,r){this.ajv=new Hwe(Object.assign({},Vwe,r))}buildSerializerFunction({schema:t}){return this.ajv.compileSerializer(t)}};dU.exports=WO});var yU=w((Gp,gU)=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});var Wp=s_(),zn=Vu();function mU(e,t){if(!e.opts.code.source)throw new Error("moduleCode: ajv instance must have code.source option");let{_n:r}=e.scope.opts;return typeof t=="function"?n(t.source):t!==void 0?s(t,i):s(e.schemas,a=>a.meta?void 0:e.compile(a.schema));function i(a){let l=e.getSchema(a);if(!l)throw new Error(`moduleCode: no schema with id ${a}`);return l}function n(a){let l={},c=a?.validateName,u=o(l,a);return e.opts.code.esm?`"use strict";${r}export const validate = ${c};${r}export default ${c};${r}${u}`:`"use strict";${r}module.exports = ${c};${r}module.exports.default = ${c};${r}${u}`}function s(a,l){var c;let u={},f=(0,zn._)`"use strict";`;for(let h in a){let p=l(a[h]);if(p){let m=o(u,p.source),g=e.opts.code.esm?(0,zn._)`export const ${(0,zn.getEsmExportName)(h)}`:(0,zn._)`exports${(0,zn.getProperty)(h)}`;f=(0,zn._)`${f}${r}${g} = ${(c=p.source)===null||c===void 0?void 0:c.validateName};${r}${m}`}}return`${f}`}function o(a,l){if(!l)throw new Error('moduleCode: function does not have "source" property');if(h(l.validateName)===Wp.UsedValueState.Completed)return zn.nil;p(l.validateName,Wp.UsedValueState.Started);let c=e.scope.scopeCode(l.scopeValues,a,f),u=new zn._Code(`${c}${r}${l.validateCode}`);return l.evaluated?(0,zn._)`${u}${l.validateName}.evaluated = ${l.evaluated};${r}`:u;function f(m){var g;let y=(g=m.value)===null||g===void 0?void 0:g.ref;if(m.prefix==="validate"&&typeof y=="function")return o(a,y.source);if((m.prefix==="root"||m.prefix==="wrapper")&&typeof y=="object"){let{validate:_,validateName:S}=y;if(!S)throw new Error("ajv internal error");let b=e.opts.code.es5?Wp.varKinds.var:Wp.varKinds.const,v=(0,zn._)`${b} ${m} = {validate: ${S}};`;if(h(S)===Wp.UsedValueState.Started)return v;let O=o(a,_?.source);return(0,zn._)`${v}${r}${O}`}}function h(m){var g;return(g=a[m.prefix])===null||g===void 0?void 0:g.get(m)}function p(m,g){let{prefix:y}=m;(a[y]=a[y]||new Map).set(m,g)}}}gU.exports=Gp=mU;Object.defineProperty(Gp,"__esModule",{value:!0});Gp.default=mU});var bU=w((JUe,_U)=>{"use strict";var vU=GO(),Wwe=yU().default;function Gwe(e={readMode:!0}){if(e.readMode===!0&&!e.restoreFunction)throw new Error("You must provide a restoreFunction options when readMode ON");if(e.readMode!==!0&&!e.storeFunction)throw new Error("You must provide a storeFunction options when readMode OFF");if(e.readMode===!0)return function(){return function(i){return e.restoreFunction(i)}};let t=vU();return function(i,n={}){(!n.customOptions||!n.customOptions.code)&&(n.customOptions=Object.assign({},n.customOptions,{code:{source:!0}}));let s=t(i,n);return function(o){let a=s(o),l=Wwe(s[vU.AjvReference].ajv,a);return e.storeFunction(o,l),a}}}_U.exports=Gwe});var GO=w((ZUe,Sf)=>{"use strict";var SU=Symbol.for("fastify.ajv-compiler.reference"),Ywe=hU(),Kwe=pU();function YO(e){let t=new Map,r=new Map;return e&&e.jtdSerializer===!0?function(n,s){let o=wU({},s);if(r.has(o))return r.get(o);let a=new Kwe(n,s),l=a.buildSerializerFunction.bind(a);return r.set(o,l),l}:function(n,s){let o=wU(n,s.customOptions);if(t.has(o))return t.get(o);let a=new Ywe(n,s),l=a.buildValidatorFunction.bind(a);return t.set(o,l),s.customOptions.code!==void 0&&(l[SU]=a),l}}function wU(e,t){let r=JSON.stringify(e),i=JSON.stringify(t);return`${r}${i}`}Sf.exports=YO;Sf.exports.default=YO;Sf.exports.AjvCompiler=YO;Sf.exports.AjvReference=SU;Sf.exports.StandaloneValidator=bU()});var KO=w((XUe,xU)=>{"use strict";var{buildSchemas:Jwe}=Dd(),Zwe=oO(),Xwe=GO();function Qwe(e,t){if(e)return new xf(e,t);let r=Object.assign({buildValidator:null,buildSerializer:null},t?.compilersFactory);r.buildValidator||(r.buildValidator=Xwe()),r.buildSerializer||(r.buildSerializer=Zwe());let i={bucket:t&&t.bucket||Jwe,compilersFactory:r,isCustomValidatorCompiler:typeof t?.compilersFactory?.buildValidator=="function",isCustomSerializerCompiler:typeof t?.compilersFactory?.buildValidator=="function"};return new xf(void 0,i)}var xf=class{constructor(t,r){this.opts=r||t?.opts,this.addedSchemas=!1,this.compilersFactory=this.opts.compilersFactory,t?(this.schemaBucket=this.opts.bucket(t.getSchemas()),this.validatorCompiler=t.getValidatorCompiler(),this.serializerCompiler=t.getSerializerCompiler(),this.isCustomValidatorCompiler=t.isCustomValidatorCompiler,this.isCustomSerializerCompiler=t.isCustomSerializerCompiler,this.parent=t):(this.schemaBucket=this.opts.bucket(),this.isCustomValidatorCompiler=this.opts.isCustomValidatorCompiler||!1,this.isCustomSerializerCompiler=this.opts.isCustomSerializerCompiler||!1)}add(t){return this.addedSchemas=!0,this.schemaBucket.add(t)}getSchema(t){return this.schemaBucket.getSchema(t)}getSchemas(){return this.schemaBucket.getSchemas()}setValidatorCompiler(t){this.compilersFactory=Object.assign({},this.compilersFactory,{buildValidator:()=>t}),this.validatorCompiler=t,this.isCustomValidatorCompiler=!0}setSerializerCompiler(t){this.compilersFactory=Object.assign({},this.compilersFactory,{buildSerializer:()=>t}),this.serializerCompiler=t,this.isCustomSerializerCompiler=!0}getValidatorCompiler(){return this.validatorCompiler||this.parent&&this.parent.getValidatorCompiler()}getSerializerCompiler(){return this.serializerCompiler||this.parent&&this.parent.getSerializerCompiler()}getSerializerBuilder(){return this.compilersFactory.buildSerializer||this.parent&&this.parent.getSerializerBuilder()}getValidatorBuilder(){return this.compilersFactory.buildValidator||this.parent&&this.parent.getValidatorBuilder()}setupValidator(t){this.validatorCompiler!==void 0&&!this.addedSchemas||(this.validatorCompiler=this.getValidatorBuilder()(this.schemaBucket.getSchemas(),t.ajv))}setupSerializer(t){this.serializerCompiler!==void 0&&!this.addedSchemas||(this.serializerCompiler=this.getSerializerBuilder()(this.schemaBucket.getSchemas(),t.serializerOpts))}};xf.buildSchemaController=Qwe;xU.exports=xf});var tA=w((QUe,eA)=>{"use strict";var JO=Rk(),XO=require("assert"),QO=Symbol.for("registered-plugin"),{kTestInternals:eSe}=tr(),{exist:tSe,existReply:rSe,existRequest:iSe}=Dk(),{FST_ERR_PLUGIN_VERSION_MISMATCH:nSe,FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE:sSe}=Ir(),{FSTWRN002:oSe}=vo();function Yp(e){return e[Symbol.for("plugin-meta")]}function EU(e){let t=kU(e);if(t)return t;let r=require.cache;if(r){let i=Object.keys(r);for(let n=0;n<i.length;n++){let s=i[n];if(r[s].exports===e)return s}}return e.name?e.name:null}function aSe(e){return e.toString().split(`
`).slice(0,2).map(t=>t.trim()).join(" -- ")}function kU(e){return e[Symbol.for("fastify.display-name")]}function RU(e){return!!e[Symbol.for("skip-override")]}function TU(e){let t=Yp(e);if(!t)return;let r=t.dependencies;r&&(XO(Array.isArray(r),"The dependencies should be an array of strings"),r.forEach(i=>{XO(this[QO].indexOf(i)>-1,`The dependency '${i}' of plugin '${t.name}' is not registered`)}))}function OU(e){let t=Yp(e);if(!t)return;let{decorators:r,name:i}=t;r&&(r.fastify&&ZO(this,"Fastify",r.fastify,i),r.reply&&ZO(this,"Reply",r.reply,i),r.request&&ZO(this,"Request",r.request,i))}var lSe={Fastify:tSe,Request:iSe,Reply:rSe};function ZO(e,t,r,i){XO(Array.isArray(r),"The decorators should be an array of strings"),r.forEach(n=>{let s=typeof i=="string"?` required by '${i}'`:"";if(!lSe[t].call(e,n))throw new sSe(n,s,t)})}function cSe(e){let t=Yp(e);if(!t)return;let r=t.fastify,i=/-rc.+$/.test(this.version);if(!(i===!0&&JO.gt(this.version,JO.coerce(r))===!0)&&r&&JO.satisfies(this.version,r,{includePrerelease:i})===!1)throw new nSe(t.name,r,this.version)}function uSe(e){let t=Yp(e);if(!t)return;let r=t.name;if(r)return this[QO].push(r),r}function fSe(e,t){e.constructor.name==="AsyncFunction"&&e.length===3&&oSe(t||"anonymous")}function hSe(e){let t=uSe.call(this,e)||EU(e);return fSe.call(this,e,t),cSe.call(this,e),OU.call(this,e),TU.call(this,e),RU(e)}eA.exports={getPluginName:EU,getFuncPreview:aSe,kRegisteredPlugins:QO,getDisplayName:kU,registerPlugin:hSe};eA.exports[eSe]={shouldSkipOverride:RU,getMeta:Yp,checkDecorators:OU,checkDependencies:TU}});var Q_=w((eBe,AU)=>{"use strict";function dSe(e,t){let r=t||mSe();return e?gSe(e,r):r}function pSe(e,t){return e.genReqId(t)}function mSe(){let t=0;return function(){return t=t+1&2147483647,`req-${t.toString(36)}`}}function gSe(e,t){return function(r){return r.headers[e]||t(r)}}AU.exports={getGenReqId:pSe,reqIdGenFactory:dSe}});var iA=w((tBe,IU)=>{"use strict";var CU=12,ySe=0,rA=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function vSe(e){var t=e.indexOf("%");if(t===-1)return e;for(var r=e.length,i="",n=0,s=0,o=t,a=CU;t>-1&&t<r;){var l=PU(e[t+1],4),c=PU(e[t+2],0),u=l|c,f=rA[u];if(a=rA[256+a+f],s=s<<6|u&rA[364+f],a===CU)i+=e.slice(n,o),i+=s<=65535?String.fromCharCode(s):String.fromCharCode(55232+(s>>10),56320+(s&1023)),s=0,n=t+3,t=o=e.indexOf("%",n);else{if(a===ySe)return null;if(t+=3,t<r&&e.charCodeAt(t)===37)continue;return null}}return i+e.slice(n)}var _Se={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function PU(e,t){var r=_Se[e];return r===void 0?255:r<<t}IU.exports=vSe});var LU=w((rBe,DU)=>{"use strict";var NU=iA(),$U=/\+/g,FU=function(){};FU.prototype=Object.create(null);function bSe(e){let t=new FU;if(typeof e!="string")return t;let r=e.length,i="",n="",s=-1,o=-1,a=!1,l=!1,c=!1,u=!1,f=!1,h=0;for(let p=0;p<r+1;p++)if(h=p!==r?e.charCodeAt(p):38,h===38){if(f=o>s,f||(o=p),i=e.slice(s+1,o),f||i.length>0){c&&(i=i.replace($U," ")),a&&(i=NU(i)||i),f&&(n=e.slice(o+1,p),u&&(n=n.replace($U," ")),l&&(n=NU(n)||n));let m=t[i];m===void 0?t[i]=n:m.pop?m.push(n):t[i]=[m,n]}n="",s=p,o=p,a=!1,l=!1,c=!1,u=!1}else h===61?o<=s?o=p:l=!0:h===43?o>s?u=!0:c=!0:h===37&&(o>s?l=!0:a=!0);return t}DU.exports=bSe});var qU=w((iBe,jU)=>{var $s=Array.from({length:256},(e,t)=>"%"+((t<16?"0":"")+t.toString(16)).toUpperCase()),wSe=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0]);function SSe(e){let t=e.length;if(t===0)return"";let r="",i=0,n=0;e:for(;n<t;n++){let s=e.charCodeAt(n);for(;s<128;){if(wSe[s]!==1&&(i<n&&(r+=e.slice(i,n)),i=n+1,r+=$s[s]),++n===t)break e;s=e.charCodeAt(n)}if(i<n&&(r+=e.slice(i,n)),s<2048){i=n+1,r+=$s[192|s>>6]+$s[128|s&63];continue}if(s<55296||s>=57344){i=n+1,r+=$s[224|s>>12]+$s[128|s>>6&63]+$s[128|s&63];continue}if(++n,n>=t)throw new Error("URI malformed");let o=e.charCodeAt(n)&1023;i=n+1,s=65536+((s&1023)<<10|o),r+=$s[240|s>>18]+$s[128|s>>12&63]+$s[128|s>>6&63]+$s[128|s&63]}return i===0?e:i<t?r+e.slice(i):r}jU.exports={encodeString:SSe}});var UU=w((nBe,zU)=>{"use strict";var{encodeString:nA}=qU();function MU(e){let t=typeof e;return t==="string"?nA(e):t==="bigint"?e.toString():t==="boolean"?e?"true":"false":t==="number"&&Number.isFinite(e)?e<1e21?""+e:nA(""+e):""}function xSe(e){let t="";if(e===null||typeof e!="object")return t;let r="&",i=Object.keys(e),n=i.length,s=0;for(let o=0;o<n;o++){let a=i[o],l=e[a],c=nA(a)+"=";if(o&&(t+=r),Array.isArray(l)){s=l.length;for(let u=0;u<s;u++)u&&(t+=r),t+=c,t+=MU(l[u])}else t+=c,t+=MU(l)}return t}zU.exports=xSe});var WU=w((sBe,Kp)=>{"use strict";var BU=LU(),HU=UU(),VU={parse:BU,stringify:HU};Kp.exports=VU;Kp.exports.default=VU;Kp.exports.parse=BU;Kp.exports.stringify=HU});var YU=w(GU=>{"use strict";Object.defineProperty(GU,"__esModule",{value:!0})});var KU=w(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});Jp.types=void 0;var ESe;(function(e){e[e.ROOT=0]="ROOT",e[e.GROUP=1]="GROUP",e[e.POSITION=2]="POSITION",e[e.SET=3]="SET",e[e.RANGE=4]="RANGE",e[e.REPETITION=5]="REPETITION",e[e.REFERENCE=6]="REFERENCE",e[e.CHAR=7]="CHAR"})(ESe=Jp.types||(Jp.types={}))});var ZU=w(JU=>{"use strict";Object.defineProperty(JU,"__esModule",{value:!0})});var Do=w(Fo=>{"use strict";var kSe=Fo&&Fo.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),sA=Fo&&Fo.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kSe(t,e,r)};Object.defineProperty(Fo,"__esModule",{value:!0});sA(YU(),Fo);sA(KU(),Fo);sA(ZU(),Fo)});var eb=w(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.anyChar=jr.notWhitespace=jr.whitespace=jr.notInts=jr.ints=jr.notWords=jr.words=void 0;var Ue=Do(),XU=()=>[{type:Ue.types.RANGE,from:48,to:57}],QU=()=>[{type:Ue.types.CHAR,value:95},{type:Ue.types.RANGE,from:97,to:122},{type:Ue.types.RANGE,from:65,to:90},{type:Ue.types.RANGE,from:48,to:57}],eB=()=>[{type:Ue.types.CHAR,value:9},{type:Ue.types.CHAR,value:10},{type:Ue.types.CHAR,value:11},{type:Ue.types.CHAR,value:12},{type:Ue.types.CHAR,value:13},{type:Ue.types.CHAR,value:32},{type:Ue.types.CHAR,value:160},{type:Ue.types.CHAR,value:5760},{type:Ue.types.RANGE,from:8192,to:8202},{type:Ue.types.CHAR,value:8232},{type:Ue.types.CHAR,value:8233},{type:Ue.types.CHAR,value:8239},{type:Ue.types.CHAR,value:8287},{type:Ue.types.CHAR,value:12288},{type:Ue.types.CHAR,value:65279}],RSe=()=>[{type:Ue.types.CHAR,value:10},{type:Ue.types.CHAR,value:13},{type:Ue.types.CHAR,value:8232},{type:Ue.types.CHAR,value:8233}];jr.words=()=>({type:Ue.types.SET,set:QU(),not:!1});jr.notWords=()=>({type:Ue.types.SET,set:QU(),not:!0});jr.ints=()=>({type:Ue.types.SET,set:XU(),not:!1});jr.notInts=()=>({type:Ue.types.SET,set:XU(),not:!0});jr.whitespace=()=>({type:Ue.types.SET,set:eB(),not:!1});jr.notWhitespace=()=>({type:Ue.types.SET,set:eB(),not:!0});jr.anyChar=()=>({type:Ue.types.SET,set:RSe(),not:!0})});var rB=w(mn=>{"use strict";var TSe=mn&&mn.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),OSe=mn&&mn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ASe=mn&&mn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&TSe(t,e,r);return OSe(t,e),t};Object.defineProperty(mn,"__esModule",{value:!0});mn.tokenizeClass=mn.strToChars=void 0;var tB=Do(),Ef=ASe(eb()),CSe="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?";mn.strToChars=e=>{let t=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return e.replace(t,(r,i,n,s,o,a,l)=>{if(n)return r;let c=i?8:s?parseInt(s,16):o?parseInt(o,16):a?CSe.indexOf(a):{0:0,t:9,n:10,v:11,f:12,r:13}[l],u=String.fromCharCode(c);return/[[\]{}^$.|?*+()]/.test(u)?`\\${u}`:u})};mn.tokenizeClass=(e,t)=>{var r,i,n,s,o,a,l;let c=[],u,f,h=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(((?:\\)])|(((?:\\)?([^\]])))))|(\])|(?:\\)?([^])/g;for(;(u=h.exec(e))!==null;){let p=(l=(a=(o=(s=(n=(i=(r=u[1]&&Ef.words())!==null&&r!==void 0?r:u[2]&&Ef.ints())!==null&&i!==void 0?i:u[3]&&Ef.whitespace())!==null&&n!==void 0?n:u[4]&&Ef.notWords())!==null&&s!==void 0?s:u[5]&&Ef.notInts())!==null&&o!==void 0?o:u[6]&&Ef.notWhitespace())!==null&&a!==void 0?a:u[7]&&{type:tB.types.RANGE,from:(u[8]||u[9]).charCodeAt(0),to:(f=u[10]).charCodeAt(f.length-1)})!==null&&l!==void 0?l:(f=u[16])&&{type:tB.types.CHAR,value:f.charCodeAt(0)};if(p)c.push(p);else return[c,h.lastIndex]}throw new SyntaxError(`Invalid regular expression: /${t}/: Unterminated character class`)}});var oA=w(Fs=>{"use strict";var PSe=Fs&&Fs.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),ISe=Fs&&Fs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),nB=Fs&&Fs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&PSe(t,e,r);return ISe(t,e),t};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.tokenizer=void 0;var iB=nB(rB()),kr=Do(),hc=nB(eb());Fs.tokenizer=e=>{let t=0,r,i={type:kr.types.ROOT,stack:[]},n=i,s=i.stack,o=[],a=[],l=0,c=f=>{throw new SyntaxError(`Invalid regular expression: /${e}/: Nothing to repeat at column ${f-1}`)},u=iB.strToChars(e);for(;t<u.length;)switch(r=u[t++]){case"\\":if(t===u.length)throw new SyntaxError(`Invalid regular expression: /${e}/: \\ at end of pattern`);switch(r=u[t++]){case"b":s.push({type:kr.types.POSITION,value:"b"});break;case"B":s.push({type:kr.types.POSITION,value:"B"});break;case"w":s.push(hc.words());break;case"W":s.push(hc.notWords());break;case"d":s.push(hc.ints());break;case"D":s.push(hc.notInts());break;case"s":s.push(hc.whitespace());break;case"S":s.push(hc.notWhitespace());break;default:if(/\d/.test(r)){let f=r;for(;t<u.length&&/\d/.test(u[t]);)f+=u[t++];let h=parseInt(f,10),p={type:kr.types.REFERENCE,value:h};s.push(p),a.push({reference:p,stack:s,index:s.length-1})}else s.push({type:kr.types.CHAR,value:r.charCodeAt(0)})}break;case"^":s.push({type:kr.types.POSITION,value:"^"});break;case"$":s.push({type:kr.types.POSITION,value:"$"});break;case"[":{let f;u[t]==="^"?(f=!0,t++):f=!1;let h=iB.tokenizeClass(u.slice(t),e);t+=h[1],s.push({type:kr.types.SET,set:h[0],not:f});break}case".":s.push(hc.anyChar());break;case"(":{let f={type:kr.types.GROUP,stack:[],remember:!0};if(u[t]==="?"){if(r=u[t+1],t+=2,r==="=")f.followedBy=!0;else if(r==="!")f.notFollowedBy=!0;else if(r!==":")throw new SyntaxError(`Invalid regular expression: /${e}/: Invalid group, character '${r}' after '?' at column ${t-1}`);f.remember=!1}else l+=1;s.push(f),o.push(n),n=f,s=f.stack;break}case")":if(o.length===0)throw new SyntaxError(`Invalid regular expression: /${e}/: Unmatched ) at column ${t-1}`);n=o.pop(),s=n.options?n.options[n.options.length-1]:n.stack;break;case"|":{n.options||(n.options=[n.stack],delete n.stack);let f=[];n.options.push(f),s=f;break}case"{":{let f=/^(\d+)(,(\d+)?)?\}/.exec(u.slice(t)),h,p;f!==null?(s.length===0&&c(t),h=parseInt(f[1],10),p=f[2]?f[3]?parseInt(f[3],10):1/0:h,t+=f[0].length,s.push({type:kr.types.REPETITION,min:h,max:p,value:s.pop()})):s.push({type:kr.types.CHAR,value:123});break}case"?":s.length===0&&c(t),s.push({type:kr.types.REPETITION,min:0,max:1,value:s.pop()});break;case"+":s.length===0&&c(t),s.push({type:kr.types.REPETITION,min:1,max:1/0,value:s.pop()});break;case"*":s.length===0&&c(t),s.push({type:kr.types.REPETITION,min:0,max:1/0,value:s.pop()});break;default:s.push({type:kr.types.CHAR,value:r.charCodeAt(0)})}if(o.length!==0)throw new SyntaxError(`Invalid regular expression: /${e}/: Unterminated group`);return NSe(a,l),i};function NSe(e,t){for(let r of e.reverse())if(t<r.reference.value){r.reference.type=kr.types.CHAR;let i=r.reference.value.toString();if(r.reference.value=parseInt(i,8),!/^[0-7]+$/.test(i)){let n=0;for(;i[n]!=="8"&&i[n]!=="9";)n+=1;if(n===0?(r.reference.value=i.charCodeAt(0),n+=1):r.reference.value=parseInt(i.slice(0,n),8),i.length>n){let s=r.stack.splice(r.index+1);for(let o of i.slice(n))r.stack.push({type:kr.types.CHAR,value:o.charCodeAt(0)});r.stack.push(...s)}}}}});var oB=w(qr=>{"use strict";var $Se=qr&&qr.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),FSe=qr&&qr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),DSe=qr&&qr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$Se(t,e,r);return FSe(t,e),t};Object.defineProperty(qr,"__esModule",{value:!0});qr.NOTANYCHAR=qr.WHITESPACE=qr.WORDS=qr.INTS=void 0;var tb=DSe(eb()),sB=Do();function rb(e){let t={},r=0;for(let i of e)i.type===sB.types.CHAR&&(t[i.value]=!0),i.type===sB.types.RANGE&&(t[`${i.from}-${i.to}`]=!0),r+=1;return{lookup:()=>Object.assign({},t),len:r}}qr.INTS=rb(tb.ints().set);qr.WORDS=rb(tb.words().set);qr.WHITESPACE=rb(tb.whitespace().set);qr.NOTANYCHAR=rb(tb.anyChar().set)});var lB=w(gn=>{"use strict";var LSe=gn&&gn.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),jSe=gn&&gn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),qSe=gn&&gn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&LSe(t,e,r);return jSe(t,e),t};Object.defineProperty(gn,"__esModule",{value:!0});gn.writeSetTokens=gn.setChar=void 0;var ob=Do(),ib=qSe(oB());function sb(e){return e===94?"\\^":e===92?"\\\\":e===93?"\\]":e===45?"\\-":String.fromCharCode(e)}gn.setChar=sb;function nb(e,{lookup:t,len:r}){if(r!==e.length)return!1;let i=t();for(let n of e){if(n.type===ob.types.SET)return!1;let s=n.type===ob.types.CHAR?n.value:`${n.from}-${n.to}`;if(i[s])i[s]=!1;else return!1}return!0}function aB(e,t=!1){if(nb(e.set,ib.INTS))return e.not?"\\D":"\\d";if(nb(e.set,ib.WORDS))return e.not?"\\W":"\\w";if(e.not&&nb(e.set,ib.NOTANYCHAR))return".";if(nb(e.set,ib.WHITESPACE))return e.not?"\\S":"\\s";let r="";for(let n=0;n<e.set.length;n++){let s=e.set[n];r+=MSe(s)}let i=`${e.not?"^":""}${r}`;return t?i:`[${i}]`}gn.writeSetTokens=aB;function MSe(e){return e.type===ob.types.CHAR?sb(e.value):e.type===ob.types.RANGE?`${sb(e.from)}-${sb(e.to)}`:aB(e,!0)}});var lA=w(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.reconstruct=void 0;var Ua=Do(),aA=lB(),cB=e=>e.map(kf.reconstruct).join(""),uB=e=>{if("options"in e)return e.options.map(cB).join("|");if("stack"in e)return cB(e.stack);throw new Error("options or stack must be Root or Group token")};kf.reconstruct=e=>{switch(e.type){case Ua.types.ROOT:return uB(e);case Ua.types.CHAR:{let t=String.fromCharCode(e.value);return(/[[\\{}$^.|?*+()]/.test(t)?"\\":"")+t}case Ua.types.POSITION:return e.value==="^"||e.value==="$"?e.value:`\\${e.value}`;case Ua.types.REFERENCE:return`\\${e.value}`;case Ua.types.SET:return aA.writeSetTokens(e);case Ua.types.GROUP:return`(${e.remember?"":e.followedBy?"?=":e.notFollowedBy?"?!":"?:"}${uB(e)})`;case Ua.types.REPETITION:{let{min:t,max:r}=e,i;return t===0&&r===1?i="?":t===1&&r===1/0?i="+":t===0&&r===1/0?i="*":r===1/0?i=`{${t},}`:t===r?i=`{${t}}`:i=`{${t},${r}}`,`${kf.reconstruct(e.value)}${i}`}case Ua.types.RANGE:return`${aA.setChar(e.from)}-${aA.setChar(e.to)}`;default:throw new Error(`Invalid token type ${e}`)}}});var dB=w((yn,ab)=>{"use strict";var zSe=yn&&yn.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),cA=yn&&yn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zSe(t,e,r)};Object.defineProperty(yn,"__esModule",{value:!0});yn.types=void 0;var fB=Do();Object.defineProperty(yn,"types",{enumerable:!0,get:function(){return fB.types}});cA(oA(),yn);cA(lA(),yn);var hB=oA(),USe=lA();cA(Do(),yn);yn.default=hB.tokenizer;ab.exports=hB.tokenizer;ab.exports.types=fB.types;ab.exports.reconstruct=USe.reconstruct});var mB=w((gBe,lb)=>{"use strict";var pB=dB(),BSe=pB.types;function uA(e,t){t||(t={});let r=t.limit===void 0?25:t.limit;HSe(e)?e=e.source:typeof e!="string"&&(e=String(e));try{e=pB(e)}catch{return!1}let i=0;return function n(s,o){let a,l,c;if(s.type===BSe.REPETITION&&(o++,i++,o>1||i>r))return!1;if(s.options){for(a=0,c=s.options.length;a<c;a++)if(l=n({stack:s.options[a]},o),!l)return!1}let u=s.stack||s.value&&s.value.stack;if(!u)return!0;for(a=0;a<u.length;a++)if(l=n(u[a],o),!l)return!1;return!0}(e,0)}function HSe(e){return{}.toString.call(e)==="[object RegExp]"}lb.exports=uA;lb.exports.default=uA;lb.exports.safeRegex=uA});var cb=w((yBe,gB)=>{"use strict";gB.exports={name:"__fmw_internal_strategy_merged_tree_http_method__",storage:function(){let e={};return{get:t=>e[t]||null,set:(t,r)=>{e[t]=r}}},deriveConstraint:e=>e.method,mustMatchWhenDerived:!0}});var xB=w((vBe,SB)=>{"use strict";var yB=Ta(),vB=cb(),_B=Symbol("treeData");function bB(e,t=""){let r="",i=Object.keys(e);for(let n=0;n<i.length;n++){let s=i[n],o=e[s],a=n===i.length-1,l=a?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ",c=a?"    ":"\u2502   ",f=(o[_B]||"").split(`
`).join(`
`+t+c);r+=t+l+s+f+`
`,r+=bB(o,t+c)}return r}function VSe(e){let t=e.name||"";return t=t.replace("bound","").trim(),t=(t||"anonymous")+"()",t}function wB(e){return Array.isArray(e)?e.map(t=>wB(t)):typeof e=="symbol"?e.toString():typeof e=="function"?VSe(e):e}function WSe(e,t){if(!t.includeMeta)return{};let r=t.buildPrettyMeta(e),i={},n=t.includeMeta;Array.isArray(n)||(n=Reflect.ownKeys(r));for(let s of n){if(!Object.prototype.hasOwnProperty.call(r,s))continue;let o=s.toString(),a=r[s];if(a!=null){let l=JSON.stringify(wB(a));i[o]=l}}return i}function GSe(e){let t="";for(let[r,i]of Object.entries(e))t+=`
\u2022 (${r}) ${i}`;return t}function YSe(e){let t={...e.opts.constraints},r=t[vB.name];return delete t[vB.name],{...e,method:r,opts:{constraints:t}}}function KSe(e){let t=` (${e.method})`,r=e.opts.constraints||{};return Object.keys(r).length!==0&&(t+=" "+JSON.stringify(r)),t+=GSe(e.metaData),t}function JSe(e){return e.reduce((t,r)=>{for(let i of t)if(yB(r.opts.constraints,i.opts.constraints)&&yB(r.metaData,i.metaData))return i.method+=", "+r.method,t;return t.push(r),t},[])}function ZSe(e,t,r){let i=e.routes;return r.method===void 0&&(i=i.map(YSe)),i=i.map(n=>(n.metaData=WSe(n,r),n)),r.method===void 0&&(i=JSe(i)),i.map(KSe).join(`
${t}`)}function ub(e,t,r,i){if((e.isLeafNode||i.commonPrefix!==!1)&&(r=r||"(empty root node)",t=t[r]={},e.isLeafNode&&(t[_B]=ZSe(e,r,i)),r=""),e.staticChildren)for(let n of Object.values(e.staticChildren))ub(n,t,r+n.prefix,i);if(e.parametricChildren)for(let n of Object.values(e.parametricChildren)){let s=Array.from(n.nodePaths).join("|");ub(n,t,r+s,i)}e.wildcardChild&&ub(e.wildcardChild,t,"*",i)}function XSe(e,t){let r={};return ub(e,r,e.prefix,t),bB(r)}SB.exports={prettyPrintTree:XSe}});var kB=w((_Be,EB)=>{"use strict";var QSe=cb(),fA=class{constructor(){this.unconstrainedHandler=null,this.constraints=[],this.handlers=[],this.constrainedHandlerStores=null}getMatchingHandler(t){return t===void 0?this.unconstrainedHandler:this._getHandlerMatchingConstraints(t)}addHandler(t,r){let i=r.params,n=r.opts.constraints||{},s={params:i,constraints:n,handler:r.handler,store:r.store||null,_createParamsObject:this._compileCreateParamsObject(i)},o=Object.keys(n);o.length===0&&(this.unconstrainedHandler=s);for(let l of o)this.constraints.includes(l)||(l==="version"?this.constraints.unshift(l):this.constraints.push(l));let a=o.includes(QSe.name);if(!a&&this.handlers.length>=31)throw new Error("find-my-way supports a maximum of 31 route handlers per node when there are constraints, limit reached");this.handlers.push(s),this.handlers.sort((l,c)=>Object.keys(l.constraints).length-Object.keys(c.constraints).length),a||this._compileGetHandlerMatchingConstraints(t,n)}_compileCreateParamsObject(t){let r=[];for(let i=0;i<t.length;i++)r.push(`'${t[i]}': paramsArray[${i}]`);return new Function("paramsArray",`return {${r.join(",")}}`)}_getHandlerMatchingConstraints(){return null}_buildConstraintStore(t,r){for(let i=0;i<this.handlers.length;i++){let s=this.handlers[i].constraints[r];if(s!==void 0){let o=t.get(s)||0;o|=1<<i,t.set(s,o)}}}_constrainedIndexBitmask(t){let r=0;for(let i=0;i<this.handlers.length;i++)this.handlers[i].constraints[t]!==void 0&&(r|=1<<i);return~r}_compileGetHandlerMatchingConstraints(t){this.constrainedHandlerStores={};for(let i of this.constraints){let n=t.newStoreForConstraint(i);this.constrainedHandlerStores[i]=n,this._buildConstraintStore(n,i)}let r=[];r.push(`
    let candidates = ${(1<<this.handlers.length)-1}
    let mask, matches
    `);for(let i of this.constraints){r.push(`
      mask = ${this._constrainedIndexBitmask(i)}
      value = derivedConstraints.${i}
      `);let s=t.strategies[i].mustMatchWhenDerived?"matches":"(matches | mask)";r.push(`
      if (value === undefined) {
        candidates &= mask
      } else {
        matches = this.constrainedHandlerStores.${i}.get(value) || 0
        candidates &= ${s}
      }
      if (candidates === 0) return null;
      `)}for(let i in t.strategies)t.strategies[i].mustMatchWhenDerived&&!this.constraints.includes(i)&&r.push(`if (derivedConstraints.${i} !== undefined) return null`);r.push("return this.handlers[Math.floor(Math.log2(candidates))]"),this._getHandlerMatchingConstraints=new Function("derivedConstraints",r.join(`
`))}};EB.exports=fA});var TB=w((bBe,RB)=>{"use strict";var exe=kB(),gb={STATIC:0,PARAMETRIC:1,WILDCARD:2},fb=class{constructor(){this.isLeafNode=!1,this.routes=null,this.handlerStorage=null}addRoute(t,r){this.routes===null&&(this.routes=[]),this.handlerStorage===null&&(this.handlerStorage=new exe),this.isLeafNode=!0,this.routes.push(t),this.handlerStorage.addHandler(r,t)}},hb=class extends fb{constructor(){super(),this.staticChildren={}}findStaticMatchingChild(t,r){let i=this.staticChildren[t.charAt(r)];return i===void 0||!i.matchPrefix(t,r)?null:i}getStaticChild(t,r=0){if(t.length===r)return this;let i=this.findStaticMatchingChild(t,r);return i?i.getStaticChild(t,r+i.prefix.length):null}createStaticChild(t){if(t.length===0)return this;let r=this.staticChildren[t.charAt(0)];if(r){let n=1;for(;n<r.prefix.length;n++)if(t.charCodeAt(n)!==r.prefix.charCodeAt(n)){r=r.split(this,n);break}return r.createStaticChild(t.slice(n))}let i=t.charAt(0);return this.staticChildren[i]=new db(t),this.staticChildren[i]}},db=class e extends hb{constructor(t){super(),this.prefix=t,this.wildcardChild=null,this.parametricChildren=[],this.kind=gb.STATIC,this._compilePrefixMatch()}getParametricChild(t){let r=t&&t.source,i=this.parametricChildren.find(n=>(n.regex&&n.regex.source)===r);return i||null}createParametricChild(t,r,i){let n=this.getParametricChild(t);return n?(n.nodePaths.add(i),n):(n=new pb(t,r,i),this.parametricChildren.push(n),this.parametricChildren.sort((s,o)=>s.isRegex?o.isRegex?s.staticSuffix===null?1:o.staticSuffix===null?-1:o.staticSuffix.endsWith(s.staticSuffix)?1:s.staticSuffix.endsWith(o.staticSuffix)?-1:0:-1:1),n)}getWildcardChild(){return this.wildcardChild}createWildcardChild(){return this.wildcardChild=this.getWildcardChild()||new mb,this.wildcardChild}split(t,r){let i=this.prefix.slice(0,r),n=this.prefix.slice(r);this.prefix=n,this._compilePrefixMatch();let s=new e(i);return s.staticChildren[n.charAt(0)]=this,t.staticChildren[i.charAt(0)]=s,s}getNextNode(t,r,i,n){let s=this.findStaticMatchingChild(t,r),o=0;if(s===null){if(this.parametricChildren.length===0)return this.wildcardChild;s=this.parametricChildren[0],o=1}this.wildcardChild!==null&&i.push({paramsCount:n,brotherPathIndex:r,brotherNode:this.wildcardChild});for(let a=this.parametricChildren.length-1;a>=o;a--)i.push({paramsCount:n,brotherPathIndex:r,brotherNode:this.parametricChildren[a]});return s}_compilePrefixMatch(){if(this.prefix.length===1){this.matchPrefix=()=>!0;return}let t=[];for(let r=1;r<this.prefix.length;r++){let i=this.prefix.charCodeAt(r);t.push(`path.charCodeAt(i + ${r}) === ${i}`)}this.matchPrefix=new Function("path","i",`return ${t.join(" && ")}`)}},pb=class extends hb{constructor(t,r,i){super(),this.isRegex=!!t,this.regex=t||null,this.staticSuffix=r||null,this.kind=gb.PARAMETRIC,this.nodePaths=new Set([i])}getNextNode(t,r){return this.findStaticMatchingChild(t,r)}},mb=class extends fb{constructor(){super(),this.kind=gb.WILDCARD}getNextNode(){return null}};RB.exports={StaticNode:db,ParametricNode:pb,WildcardNode:mb,NODE_TYPES:gb}});var AB=w((wBe,OB)=>{"use strict";var txe=require("assert");function Zp(){if(!(this instanceof Zp))return new Zp;this.store={},this.maxMajor=0,this.maxMinors={},this.maxPatches={}}Zp.prototype.set=function(e,t){if(typeof e!="string")throw new TypeError("Version should be a string");let[r,i,n]=e.split(".");if(isNaN(r))throw new TypeError("Major version must be a numeric value");return r=Number(r),i=Number(i)||0,n=Number(n)||0,r>=this.maxMajor&&(this.maxMajor=r,this.store.x=t,this.store["*"]=t,this.store["x.x"]=t,this.store["x.x.x"]=t),i>=(this.maxMinors[r]||0)&&(this.maxMinors[r]=i,this.store[`${r}.x`]=t,this.store[`${r}.x.x`]=t),n>=(this.maxPatches[`${r}.${i}`]||0)&&(this.maxPatches[`${r}.${i}`]=n,this.store[`${r}.${i}.x`]=t),this.store[`${r}.${i}.${n}`]=t,this};Zp.prototype.get=function(e){return this.store[e]};OB.exports={name:"version",mustMatchWhenDerived:!0,storage:Zp,validate(e){txe(typeof e=="string","Version should be a string")}}});var PB=w((SBe,CB)=>{"use strict";var rxe=require("assert");function ixe(){let e={},t=[];return{get:r=>{let i=e[r];if(i)return i;for(let n of t)if(n.host.test(r))return n.value},set:(r,i)=>{r instanceof RegExp?t.push({host:r,value:i}):e[r]=i}}}CB.exports={name:"host",mustMatchWhenDerived:!1,storage:ixe,validate(e){rxe(typeof e=="string"||Object.prototype.toString.call(e)==="[object RegExp]","Host should be a string or a RegExp")}}});var NB=w((xBe,IB)=>{"use strict";var nxe=AB(),sxe=PB(),hA=require("assert"),dA=class{constructor(t){if(this.strategies={version:nxe,host:sxe},this.strategiesInUse=new Set,this.asyncStrategiesInUse=new Set,t)for(let r of Object.values(t))this.addConstraintStrategy(r)}isStrategyUsed(t){return this.strategiesInUse.has(t)||this.asyncStrategiesInUse.has(t)}hasConstraintStrategy(t){let r=this.strategies[t];return r!==void 0?r.isCustom||this.isStrategyUsed(t):!1}addConstraintStrategy(t){if(hA(typeof t.name=="string"&&t.name!=="","strategy.name is required."),hA(t.storage&&typeof t.storage=="function","strategy.storage function is required."),hA(t.deriveConstraint&&typeof t.deriveConstraint=="function","strategy.deriveConstraint function is required."),this.strategies[t.name]&&this.strategies[t.name].isCustom)throw new Error(`There already exists a custom constraint with the name ${t.name}.`);if(this.isStrategyUsed(t.name))throw new Error(`There already exists a route with ${t.name} constraint.`);t.isCustom=!0,t.isAsync=t.deriveConstraint.length===3,this.strategies[t.name]=t,t.mustMatchWhenDerived&&this.noteUsage({[t.name]:t})}deriveConstraints(t,r,i){let n=this.deriveSyncConstraints(t,r);if(i===void 0)return n;this.deriveAsyncConstraints(n,t,r,i)}deriveSyncConstraints(t,r){}noteUsage(t){if(t){let r=this.strategiesInUse.size;for(let i in t)this.strategies[i].isAsync?this.asyncStrategiesInUse.add(i):this.strategiesInUse.add(i);r!==this.strategiesInUse.size&&this._buildDeriveConstraints()}}newStoreForConstraint(t){if(!this.strategies[t])throw new Error(`No strategy registered for constraint key ${t}`);return this.strategies[t].storage()}validateConstraints(t){for(let r in t){let i=t[r];if(typeof i>"u")throw new Error("Can't pass an undefined constraint value, must pass null or no key at all");let n=this.strategies[r];if(!n)throw new Error(`No strategy registered for constraint key ${r}`);n.validate&&n.validate(i)}}deriveAsyncConstraints(t,r,i,n){let s=this.asyncStrategiesInUse.size;if(s===0){n(null,t);return}t=t||{};for(let o of this.asyncStrategiesInUse)this.strategies[o].deriveConstraint(r,i,(l,c)=>{if(l!==null){n(l);return}t[o]=c,--s===0&&n(null,t)})}_buildDeriveConstraints(){if(this.strategiesInUse.size===0)return;let t=["return {"];for(let r of this.strategiesInUse){let i=this.strategies[r];i.isCustom?t.push(`  ${i.name}: this.strategies.${r}.deriveConstraint(req, ctx),`):r==="version"?t.push("   version: req.headers['accept-version'],"):t.push("   host: req.headers.host || req.headers[':authority'],")}t.push("}"),this.deriveSyncConstraints=new Function("req","ctx",t.join(`
`)).bind(this)}};IB.exports=dA});var FB=w((EBe,$B)=>{"use strict";var oxe=["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"];$B.exports=oxe});var jB=w((kBe,LB)=>{"use strict";function DB(e,t){return e===50?t===53?"%":t===51?"#":t===52?"$":t===54?"&":t===66||t===98?"+":t===67||t===99?",":t===70||t===102?"/":null:e===51?t===65||t===97?":":t===66||t===98?";":t===68||t===100?"=":t===70||t===102?"?":null:e===52&&t===48?"@":null}function axe(e,t){let r=!1,i=!1,n="";for(let o=1;o<e.length;o++){let a=e.charCodeAt(o);if(a===37){let l=e.charCodeAt(o+1),c=e.charCodeAt(o+2);DB(l,c)===null?r=!0:(i=!0,l===50&&c===53&&(r=!0,e=e.slice(0,o+1)+"25"+e.slice(o+1),o+=2),o+=2)}else if(a===63||a===35||a===59&&t){n=e.slice(o+1),e=e.slice(0,o);break}}return{path:r?decodeURI(e):e,querystring:n,shouldDecodeParam:i}}function lxe(e){let t=e.indexOf("%");if(t===-1)return e;let r="",i=t;for(let n=t;n<e.length;n++)if(e.charCodeAt(n)===37){let s=e.charCodeAt(n+1),o=e.charCodeAt(n+2),a=DB(s,o);r+=e.slice(i,n)+a,i=n+3}return e.slice(0,t)+r+e.slice(i)}LB.exports={safeDecodeURI:axe,safeDecodeURIComponent:lxe}});var vA=w((RBe,WB)=>{"use strict";var At=require("assert"),cxe=WU(),yb=mB(),mA=Ta(),{prettyPrintTree:uxe}=xB(),{StaticNode:qB,NODE_TYPES:MB}=TB(),fxe=NB(),Rf=FB(),pA=cb(),{safeDecodeURI:hxe,safeDecodeURIComponent:zB}=jB(),UB=/^https?:\/\/.*?\//,dc=/(\/:[^/()]*?)\?(\/?)/;if(!yb(UB))throw new Error("the FULL_PATH_REGEXP is not safe, update this module");if(!yb(dc))throw new Error("the OPTIONAL_PARAM_REGEXP is not safe, update this module");function wt(e){if(!(this instanceof wt))return new wt(e);e=e||{},this._opts=e,e.defaultRoute?(At(typeof e.defaultRoute=="function","The default route must be a function"),this.defaultRoute=e.defaultRoute):this.defaultRoute=null,e.onBadUrl?(At(typeof e.onBadUrl=="function","The bad url handler must be a function"),this.onBadUrl=e.onBadUrl):this.onBadUrl=null,e.buildPrettyMeta?(At(typeof e.buildPrettyMeta=="function","buildPrettyMeta must be a function"),this.buildPrettyMeta=e.buildPrettyMeta):this.buildPrettyMeta=dxe,e.querystringParser?(At(typeof e.querystringParser=="function","querystringParser must be a function"),this.querystringParser=e.querystringParser):this.querystringParser=t=>t===""?{}:cxe.parse(t),this.caseSensitive=e.caseSensitive===void 0?!0:e.caseSensitive,this.ignoreTrailingSlash=e.ignoreTrailingSlash||!1,this.ignoreDuplicateSlashes=e.ignoreDuplicateSlashes||!1,this.maxParamLength=e.maxParamLength||100,this.allowUnsafeRegex=e.allowUnsafeRegex||!1,this.constrainer=new fxe(e.constraints),this.useSemicolonDelimiter=e.useSemicolonDelimiter||!1,this.routes=[],this.trees={}}wt.prototype.on=function(t,r,i,n,s){typeof i=="function"&&(n!==void 0&&(s=n),n=i,i={}),At(typeof r=="string","Path should be a string"),At(r.length>0,"The path could not be empty"),At(r[0]==="/"||r[0]==="*","The first character of a path should be `/` or `*`"),At(typeof n=="function","Handler should be a function");let o=r.match(dc);if(o){At(r.length===o.index+o[0].length,"Optional Parameter needs to be the last parameter of the path");let c=r.replace(dc,"$1$2"),u=r.replace(dc,"$2")||"/";this.on(t,c,i,n,s),this.on(t,u,i,n,s);return}let a=r;this.ignoreDuplicateSlashes&&(r=gA(r)),this.ignoreTrailingSlash&&(r=yA(r));let l=Array.isArray(t)?t:[t];for(let c of l)At(typeof c=="string","Method should be a string"),At(Rf.includes(c),`Method '${c}' is not an http method.`),this._on(c,r,i,n,s,a)};wt.prototype._on=function(t,r,i,n,s){let o={};i.constraints!==void 0&&(At(typeof i.constraints=="object"&&i.constraints!==null,"Constraints should be an object"),Object.keys(i.constraints).length!==0&&(o=i.constraints)),this.constrainer.validateConstraints(o),this.constrainer.noteUsage(o),this.trees[t]===void 0&&(this.trees[t]=new qB("/"));let a=r;if(a==="*"&&this.trees[t].prefix.length!==0){let h=this.trees[t];this.trees[t]=new qB(""),this.trees[t].staticChildren["/"]=h}let l=this.trees[t],c=l.prefix.length,u=[];for(let h=0;h<=a.length;h++){if(a.charCodeAt(h)===58&&a.charCodeAt(h+1)===58){h++;continue}let p=a.charCodeAt(h)===58&&a.charCodeAt(h+1)!==58,m=a.charCodeAt(h)===42;if(p||m||h===a.length&&h!==c){let g=a.slice(c,h);this.caseSensitive||(g=g.toLowerCase()),g=g.split("::").join(":"),g=g.split("%").join("%25"),l=l.createStaticChild(g)}if(p){let g=!1,y=!0,_="",S=[],b=h+1;for(let v=b;;v++){let O=a.charCodeAt(v),j=O===40,R=O===45||O===46,I=O===47||v===a.length;if(j||R||I){let F=a.slice(b,v);if(u.push(F),g=g||j||R,j){let z=VB(a,v),H=a.slice(v,z+1);this.allowUnsafeRegex||At(yb(new RegExp(H)),`The regex '${H}' is not safe!`),S.push(HB(H)),v=z+1,y=!0}else S.push(y?"(.*?)":`(${_}|(?:(?!${_}).)*)`),y=!1;let T=v;for(;v<a.length;v++){let z=a.charCodeAt(v);if(z===47)break;if(z===58)if(a.charCodeAt(v+1)===58)v++;else break}let $=a.slice(T,v);if($&&($=$.split("::").join(":"),$=$.split("%").join("%25"),S.push(_=BB($))),b=v+1,I||a.charCodeAt(v)===47||v===a.length){let z=g?"()"+$:$,H=a.slice(h,v);a=a.slice(0,h+1)+z+a.slice(v),h+=z.length;let X=g?new RegExp("^"+S.join("")+"$"):null;l=l.createParametricChild(X,$||null,H),c=h+1;break}}}}else if(m&&(u.push("*"),l=l.createWildcardChild(),c=h+1,h!==a.length-1))throw new Error("Wildcard must be the last character in the route")}this.caseSensitive||(a=a.toLowerCase()),a==="*"&&(a="/*");for(let h of this.routes){let p=h.opts.constraints||{};if(h.method===t&&h.pattern===a&&mA(p,o))throw new Error(`Method '${t}' already declared for route '${a}' with constraints '${JSON.stringify(o)}'`)}let f={method:t,path:r,pattern:a,params:u,opts:i,handler:n,store:s};this.routes.push(f),l.addRoute(f,this.constrainer)};wt.prototype.hasRoute=function(t,r,i){return this.findRoute(t,r,i)!==null};wt.prototype.findRoute=function(t,r,i={}){if(this.trees[t]===void 0)return null;let n=r,s=this.trees[t],o=s.prefix.length,a=[];for(let l=0;l<=n.length;l++){if(n.charCodeAt(l)===58&&n.charCodeAt(l+1)===58){l++;continue}let c=n.charCodeAt(l)===58&&n.charCodeAt(l+1)!==58,u=n.charCodeAt(l)===42;if(c||u||l===n.length&&l!==o){let f=n.slice(o,l);if(this.caseSensitive||(f=f.toLowerCase()),f=f.split("::").join(":"),f=f.split("%").join("%25"),s=s.getStaticChild(f),s===null)return null}if(c){let f=!1,h=!0,p="",m=[],g=l+1;for(let y=g;;y++){let _=n.charCodeAt(y),S=_===40,b=_===45||_===46,v=_===47||y===n.length;if(S||b||v){let O=n.slice(g,y);if(a.push(O),f=f||S||b,S){let I=VB(n,y),F=n.slice(y,I+1);this.allowUnsafeRegex||At(yb(new RegExp(F)),`The regex '${F}' is not safe!`),m.push(HB(F)),y=I+1,h=!1}else m.push(h?"(.*?)":`(${p}|(?:(?!${p}).)*)`),h=!1;let j=y;for(;y<n.length;y++){let I=n.charCodeAt(y);if(I===47)break;if(I===58)if(n.charCodeAt(y+1)===58)y++;else break}let R=n.slice(j,y);if(R&&(R=R.split("::").join(":"),R=R.split("%").join("%25"),m.push(p=BB(R))),g=y+1,v||n.charCodeAt(y)===47||y===n.length){let I=f?"()"+R:R,F=n.slice(l,y);n=n.slice(0,l+1)+I+n.slice(y),l+=I.length;let T=f?new RegExp("^"+m.join("")+"$"):null;if(s=s.getParametricChild(T,R||null,F),s===null)return null;o=l+1;break}}}}else if(u&&(a.push("*"),s=s.getWildcardChild(),o=l+1,l!==n.length-1))throw new Error("Wildcard must be the last character in the route")}this.caseSensitive||(n=n.toLowerCase());for(let l of this.routes){let c=l.opts.constraints||{};if(l.method===t&&l.pattern===n&&mA(c,i))return{handler:l.handler,store:l.store,params:l.params}}return null};wt.prototype.hasConstraintStrategy=function(e){return this.constrainer.hasConstraintStrategy(e)};wt.prototype.addConstraintStrategy=function(e){this.constrainer.addConstraintStrategy(e),this._rebuild(this.routes)};wt.prototype.reset=function(){this.trees={},this.routes=[]};wt.prototype.off=function(t,r,i){At(typeof r=="string","Path should be a string"),At(r.length>0,"The path could not be empty"),At(r[0]==="/"||r[0]==="*","The first character of a path should be `/` or `*`"),At(typeof i>"u"||typeof i=="object"&&!Array.isArray(i)&&i!==null,"Constraints should be an object or undefined.");let n=r.match(dc);if(n){At(r.length===n.index+n[0].length,"Optional Parameter needs to be the last parameter of the path");let o=r.replace(dc,"$1$2"),a=r.replace(dc,"$2");this.off(t,o,i),this.off(t,a,i);return}this.ignoreDuplicateSlashes&&(r=gA(r)),this.ignoreTrailingSlash&&(r=yA(r));let s=Array.isArray(t)?t:[t];for(let o of s)this._off(o,r,i)};wt.prototype._off=function(t,r,i){At(typeof t=="string","Method should be a string"),At(Rf.includes(t),`Method '${t}' is not an http method.`);function n(l){return t!==l.method||r!==l.path}function s(l){return n(l)||!mA(i,l.opts.constraints||{})}let o=i?s:n,a=this.routes.filter(o);this._rebuild(a)};wt.prototype.lookup=function(t,r,i,n){if(typeof i=="function"&&(n=i,i=void 0),n===void 0){let s=this.constrainer.deriveConstraints(t,i),o=this.find(t.method,t.url,s);return this.callHandler(o,t,r,i)}this.constrainer.deriveConstraints(t,i,(s,o)=>{if(s!==null){n(s);return}try{let a=this.find(t.method,t.url,o),l=this.callHandler(a,t,r,i);n(null,l)}catch(a){n(a)}})};wt.prototype.callHandler=function(t,r,i,n){return t===null?this._defaultRoute(r,i,n):n===void 0?t.handler(r,i,t.params,t.store,t.searchParams):t.handler.call(n,r,i,t.params,t.store,t.searchParams)};wt.prototype.find=function(t,r,i){let n=this.trees[t];if(n===void 0)return null;r.charCodeAt(0)!==47&&(r=r.replace(UB,"/")),this.ignoreDuplicateSlashes&&(r=gA(r));let s,o,a;try{s=hxe(r,this.useSemicolonDelimiter),r=s.path,o=s.querystring,a=s.shouldDecodeParam}catch{return this._onBadUrl(r)}this.ignoreTrailingSlash&&(r=yA(r));let l=r;this.caseSensitive===!1&&(r=r.toLowerCase());let c=this.maxParamLength,u=n.prefix.length,f=[],h=r.length,p=[];for(;;){if(u===h&&n.isLeafNode){let _=n.handlerStorage.getMatchingHandler(i);if(_!==null)return{handler:_.handler,store:_.store,params:_._createParamsObject(f),searchParams:this.querystringParser(o)}}let m=n.getNextNode(r,u,p,f.length);if(m===null){if(p.length===0)return null;let _=p.pop();u=_.brotherPathIndex,f.splice(_.paramsCount),m=_.brotherNode}if(n=m,n.kind===MB.STATIC){u+=n.prefix.length;continue}if(n.kind===MB.WILDCARD){let _=l.slice(u);a&&(_=zB(_)),f.push(_),u=h;continue}let g=l.indexOf("/",u);g===-1&&(g=h);let y=l.slice(u,g);if(a&&(y=zB(y)),n.isRegex){let _=n.regex.exec(y);if(_===null)continue;for(let S=1;S<_.length;S++){let b=_[S];if(b.length>c)return null;f.push(b)}}else{if(y.length>c)return null;f.push(y)}u=g}};wt.prototype._rebuild=function(e){this.reset();for(let t of e){let{method:r,path:i,opts:n,handler:s,store:o}=t;this._on(r,i,n,s,o)}};wt.prototype._defaultRoute=function(e,t,r){if(this.defaultRoute!==null)return r===void 0?this.defaultRoute(e,t):this.defaultRoute.call(r,e,t);t.statusCode=404,t.end()};wt.prototype._onBadUrl=function(e){if(this.onBadUrl===null)return null;let t=this.onBadUrl;return{handler:(r,i,n)=>t(e,r,i),params:{},store:null}};wt.prototype.prettyPrint=function(e={}){let t=e.method;e.buildPrettyMeta=this.buildPrettyMeta.bind(this);let r=null;if(t===void 0){let{version:i,host:n,...s}=this.constrainer.strategies;s[pA.name]=pA;let o=new wt({...this._opts,constraints:s}),a=this.routes.map(l=>{let c={...l.opts.constraints,[pA.name]:l.method};return{...l,method:"MERGED",opts:{constraints:c}}});o._rebuild(a),r=o.trees.MERGED}else r=this.trees[t];return r==null?"(empty tree)":uxe(r,e)};for(let e in Rf){if(!Rf.hasOwnProperty(e))continue;let t=Rf[e],r=t.toLowerCase();wt.prototype[r]=function(i,n,s){return this.on(t,i,n,s)}}wt.prototype.all=function(e,t,r){this.on(Rf,e,t,r)};WB.exports=wt;function BB(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function gA(e){return e.replace(/\/\/+/g,"/")}function yA(e){return e.length>1&&e.charCodeAt(e.length-1)===47?e.slice(0,-1):e}function HB(e){return e.charCodeAt(1)===94&&(e=e.slice(0,1)+e.slice(2)),e.charCodeAt(e.length-2)===36&&(e=e.slice(0,e.length-2)+e.slice(e.length-1)),e}function VB(e,t){let r=1;for(;t<e.length;){if(t++,e[t]==="\\"){t++;continue}if(e[t]===")"?r--:e[t]==="("&&r++,!r)return t}throw new TypeError('Invalid regexp expression in "'+e+'"')}function dxe(e){return e?e.store?Object.assign({},e.store):{}:{}}});var YB=w((TBe,GB)=>{"use strict";function _A(e,t,r,i){if(r===void 0)return t.header("content-length","0"),i(null,null);if(typeof r.resume=="function")return r.on("error",s=>{t.log.error({err:s},"Error on Stream found for HEAD route")}),r.resume(),i(null,null);let n=""+Buffer.byteLength(r);t.header("content-length",n),i(null,null)}function pxe(e){return e==null?_A:Array.isArray(e)?[...e,_A]:[e,_A]}GB.exports={parseHeadOnSendHandlers:pxe}});var fH=w((OBe,uH)=>{"use strict";var mxe=vA(),gxe=Uv(),KB=eE(),{onRequestAbortHookRunner:yxe,lifecycleHooks:JB,preParsingHookRunner:vxe,onTimeoutHookRunner:_xe,onRequestHookRunner:bxe}=ba(),{supportedMethods:wxe}=Pk(),{normalizeSchema:Sxe}=Dd(),{parseHeadOnSendHandlers:xxe}=YB(),{FSTDEP007:Exe,FSTDEP008:kxe,FSTDEP014:ZB}=vo(),{compileSchemasForValidation:Rxe,compileSchemasForSerialization:Txe}=K1(),{FST_ERR_SCH_VALIDATION_BUILD:Oxe,FST_ERR_SCH_SERIALIZATION_BUILD:Axe,FST_ERR_DEFAULT_ROUTE_INVALID_TYPE:Cxe,FST_ERR_DUPLICATED_ROUTE:Pxe,FST_ERR_INVALID_URL:Ixe,FST_ERR_HOOK_INVALID_HANDLER:XB,FST_ERR_ROUTE_OPTIONS_NOT_OBJ:Nxe,FST_ERR_ROUTE_DUPLICATED_HANDLER:$xe,FST_ERR_ROUTE_HANDLER_NOT_FN:QB,FST_ERR_ROUTE_MISSING_HANDLER:Fxe,FST_ERR_ROUTE_METHOD_NOT_SUPPORTED:Dxe,FST_ERR_ROUTE_METHOD_INVALID:Lxe,FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED:jxe,FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT:qxe,FST_ERR_HOOK_INVALID_ASYNC_HANDLER:bA}=Ir(),{kRoutePrefix:Mxe,kLogLevel:zxe,kLogSerializers:eH,kHooks:tH,kSchemaController:Uxe,kOptions:rH,kReplySerializerDefault:wA,kReplyIsError:Bxe,kRequestPayloadStream:Hxe,kDisableRequestLogging:Vxe,kSchemaErrorFormatter:Wxe,kErrorHandler:iH,kHasBeenDecorated:nH,kRequestAcceptVersion:SA,kRouteByFastify:xA,kRouteContext:sH}=tr(),{buildErrorHandler:Gxe}=Ld(),{createChildLogger:Yxe}=Fd(),{getGenReqId:Kxe}=Q_();function Jxe(e){let t=mxe(e.config),r,i,n,s,o,a,l,c,u,f,h,p,m,g=!1;return{setup(I,F){r=F.avvio,i=F.fourOhFour,n=F.logger,s=F.hasLogger,o=F.setupResponseListeners,a=F.throwIfAlreadyStarted,p=F.validateHTTPVersion,h=I.exposeHeadRoutes,l=I.disableRequestLogging,c=I.ignoreTrailingSlash,u=I.ignoreDuplicateSlashes,f=Object.prototype.hasOwnProperty.call(I,"return503OnClosing")?I.return503OnClosing:!0,m=F.keepAliveConnections},routing:t.lookup.bind(t),route:j,hasRoute:v,prepareRoute:b,getDefaultRoute:function(){return ZB(),t.defaultRoute},setDefaultRoute:function(I){if(ZB(),typeof I!="function")throw new Cxe;t.defaultRoute=I},routeHandler:R,closeRoutes:()=>{g=!0},printRoutes:t.prettyPrint.bind(t),addConstraintStrategy:y,hasConstraintStrategy:_,isAsyncConstraint:S,findRoute:O};function y(I){return a("Cannot add constraint strategy!"),t.addConstraintStrategy(I)}function _(I){return t.hasConstraintStrategy(I)}function S(){return t.constrainer.asyncStrategiesInUse.size>0}function b({method:I,url:F,options:T,handler:$,isFastify:z}){if(typeof F!="string")throw new Ixe(typeof F);if(!$&&typeof T=="function")$=T,T={};else if($&&typeof $=="function"){if(Object.prototype.toString.call(T)!=="[object Object]")throw new Nxe(I,F);if(T.handler)throw typeof T.handler=="function"?new $xe(I,F):new QB(I,F)}return T=Object.assign({},T,{method:I,url:F,path:F,handler:$||T&&T.handler}),j.call(this,{options:T,isFastify:z})}function v({options:I}){let F=I.method?.toUpperCase()??"";return O({...I,method:F})!==null}function O(I){let F=t.find(I.method,I.url||"",I.constraints);return F?{handler:F.handler,params:F.params,searchParams:F.searchParams}:null}function j({options:I,isFastify:F}){let T={...I},{exposeHeadRoute:$}=T,H=$!=null?$:h,X=T.method==="GET"||Array.isArray(T.method)&&T.method.includes("GET"),ie=T.method==="HEAD"||Array.isArray(T.method)&&T.method.includes("HEAD"),J=H&&X?{...I}:null;a("Cannot add route!");let Z=T.url||T.path||"";if(Array.isArray(T.method))for(var he=0;he<T.method.length;++he)T.method[he]=oH(T.method[he]),aH(T.method[he],Z,T.schema);else T.method=oH(T.method),aH(T.method,Z,T.schema);if(!T.handler)throw new Fxe(T.method,Z);if(T.errorHandler!==void 0&&typeof T.errorHandler!="function")throw new QB(T.method,Z);cH(T.bodyLimit);let K=this[Mxe];if(Z==="/"&&K.length>0&&T.method!=="HEAD")switch(T.prefixTrailingSlash){case"slash":rt.call(this,{path:Z,isFastify:F});break;case"no-slash":rt.call(this,{path:"",isFastify:F});break;case"both":default:rt.call(this,{path:"",isFastify:F}),c!==!0&&(u!==!0||!K.endsWith("/"))&&rt.call(this,{path:Z,prefixing:!0,isFastify:F})}else Z[0]==="/"&&K.endsWith("/")?rt.call(this,{path:Z.slice(1),isFastify:F}):rt.call(this,{path:Z,isFastify:F});return this;function rt({path:ae,prefixing:ze=!1,isFastify:sn=!1}){let Fi=K+ae;if(T.url=Fi,T.path=Fi,T.routePath=ae,T.prefix=K,T.logLevel=T.logLevel||this[zxe],(this[eH]||T.logSerializers)&&(T.logSerializers=Object.assign(Object.create(this[eH]),T.logSerializers)),T.attachValidation==null&&(T.attachValidation=!1),ze===!1)for(let G of this[tH].onRoute)G.call(this,T);for(let G of JB)if(T&&G in T){if(Array.isArray(T[G]))for(let U of T[G]){if(typeof U!="function")throw new XB(G,Object.prototype.toString.call(U));if(G==="onSend"||G==="preSerialization"||G==="onError"||G==="preParsing"){if(U.constructor.name==="AsyncFunction"&&U.length===4)throw new bA}else if(G==="onRequestAbort"){if(U.constructor.name==="AsyncFunction"&&U.length!==1)throw new bA}else if(U.constructor.name==="AsyncFunction"&&U.length===3)throw new bA}else if(T[G]!==void 0&&typeof T[G]!="function")throw new XB(G,Object.prototype.toString.call(T[G]))}let ee=T.constraints||{},k={...T.config,url:Fi,method:T.method},E=new gxe({schema:T.schema,handler:T.handler.bind(this),config:k,errorHandler:T.errorHandler,childLoggerFactory:T.childLoggerFactory,bodyLimit:T.bodyLimit,logLevel:T.logLevel,logSerializers:T.logSerializers,attachValidation:T.attachValidation,schemaErrorFormatter:T.schemaErrorFormatter,replySerializer:this[wA],validatorCompiler:T.validatorCompiler,serializerCompiler:T.serializerCompiler,exposeHeadRoute:H,prefixTrailingSlash:T.prefixTrailingSlash||"both",server:this,isFastify:sn});T.version&&(kxe(),ee.version=T.version);let x=t.findRoute("HEAD",T.url,ee),P=x!==null;ie&&P&&!E[xA]&&x.store[xA]&&t.off("HEAD",T.url,ee);try{t.on(T.method,T.url,{constraints:ee},R,E)}catch(G){if(!E[xA])throw G.message.includes(`Method '${T.method}' already declared for route '${T.url}'`)?new Pxe(T.method,T.url):G}if(this.after((G,U)=>{E.errorHandler=T.errorHandler?Gxe(this[iH],T.errorHandler):this[iH],E._parserOptions.limit=T.bodyLimit||null,E.logLevel=T.logLevel,E.logSerializers=T.logSerializers,E.attachValidation=T.attachValidation,E[wA]=this[wA],E.schemaErrorFormatter=T.schemaErrorFormatter||this[Wxe]||E.schemaErrorFormatter,r.once("preReady",()=>{for(let D of JB){let q=this[tH][D].concat(T[D]||[]).map(W=>W.bind(this));E[D]=q.length?q:null}for(;!E.Request[nH]&&E.Request.parent;)E.Request=E.Request.parent;for(;!E.Reply[nH]&&E.Reply.parent;)E.Reply=E.Reply.parent;if(i.setContext(this,E),T.schema){E.schema=Sxe(E.schema,this.initialConfig);let D=this[Uxe];!T.validatorCompiler&&(T.schema.body||T.schema.headers||T.schema.querystring||T.schema.params)&&D.setupValidator(this[rH]);try{let q=typeof T?.validatorCompiler=="function"||D.isCustomValidatorCompiler;Rxe(E,T.validatorCompiler||D.validatorCompiler,q)}catch(q){throw new Oxe(T.method,Fi,q.message)}T.schema.response&&!T.serializerCompiler&&D.setupSerializer(this[rH]);try{Txe(E,T.serializerCompiler||D.serializerCompiler)}catch(q){throw new Axe(T.method,Fi,q.message)}}}),U(G)}),H&&X&&!ie&&!P){let G=xxe(J.onSend);b.call(this,{method:"HEAD",url:ae,options:{...J,onSend:G},isFastify:!0})}else P&&$&&Exe()}}function R(I,F,T,$,z){let H=Kxe($.server,I),X={level:$.logLevel};$.logSerializers&&(X.serializers=$.logSerializers);let ie=Yxe($,n,I,H,X);if(ie[Vxe]=l,!p(I.httpVersion)){ie.info({res:{statusCode:505}},"request aborted - invalid HTTP version");let K='{"error":"HTTP Version Not Supported","message":"HTTP Version Not Supported","statusCode":505}',rt={"Content-Type":"application/json","Content-Length":K.length};F.writeHead(505,rt),F.end(K);return}if(g===!0&&(I.httpVersionMajor!==2&&F.setHeader("Connection","close"),f)){let K={"Content-Type":"application/json","Content-Length":"80"};F.writeHead(503,K),F.end('{"error":"Service Unavailable","message":"Service Unavailable","statusCode":503}'),ie.info({res:{statusCode:503}},"request aborted - refusing to accept new requests as server is closing");return}String.prototype.toLowerCase.call(I.headers.connection||"")==="keep-alive"&&m.has(I.socket)===!1&&(m.add(I.socket),I.socket.on("close",Qxe.bind({keepAliveConnections:m,socket:I.socket}))),I.headers[SA]!==void 0&&(I.headers["accept-version"]=I.headers[SA],I.headers[SA]=void 0);let Z=new $.Request(H,T,I,z,ie,$),he=new $.Reply(F,Z,ie);l===!1&&ie.info({req:Z},"incoming request"),(s===!0||$.onResponse!==null)&&o(he),$.onRequest!==null?bxe($.onRequest,Z,he,lH):lH(null,Z,he),$.onRequestAbort!==null&&I.on("close",()=>{I.aborted&&yxe($.onRequestAbort,Z,Zxe.bind(null,he))}),$.onTimeout!==null&&(Z.raw.socket._meta||Z.raw.socket.on("timeout",Xxe),Z.raw.socket._meta={context:$,request:Z,reply:he})}}function Zxe(e,t){t&&e.log.error({err:t},"onRequestAborted hook failed")}function Xxe(){let{context:e,request:t,reply:r}=this._meta;_xe(e.onTimeout,t,r,e1e)}function oH(e){if(typeof e!="string")throw new Lxe;if(e=e.toUpperCase(),wxe.indexOf(e)===-1)throw new Dxe(e);return e}function aH(e,t,r){if((e==="GET"||e==="HEAD")&&r&&r.body)throw new jxe(e,t)}function cH(e){if(e!==void 0&&(!Number.isInteger(e)||e<=0))throw new qxe(e)}function lH(e,t,r){if(r.sent!==!0){if(e!=null){r[Bxe]=!0,r.send(e);return}t[Hxe]=t.raw,t[sH].preParsing!==null?vxe(t[sH].preParsing,t,r,KB):KB(null,t,r)}}function Qxe(){this.keepAliveConnections.delete(this.socket)}function e1e(){}uH.exports={buildRouting:Jxe,validateBodyLimitOption:cH}});var vH=w((ABe,yH)=>{"use strict";var t1e=vA(),hH=Rv(),dH=zv(),r1e=Uv(),{kRoutePrefix:i1e,kCanSetNotFoundHandler:Xp,kFourOhFourLevelInstance:Qp,kFourOhFourContext:Ds,kHooks:n1e,kErrorHandler:pH}=tr(),{lifecycleHooks:s1e}=ba(),{buildErrorHandler:o1e}=Ld(),{FST_ERR_NOT_FOUND:a1e}=Ir(),{createChildLogger:mH}=Fd(),{getGenReqId:gH}=Q_();function l1e(e){let{logger:t,disableRequestLogging:r}=e,i=t1e({onBadUrl:a(),defaultRoute:f}),n=null;return{router:i,setNotFoundHandler:c,setContext:l,arrange404:s};function s(h){h[Qp]=h,h[Xp]=!0,i.onBadUrl=i.onBadUrl.bind(h),i.defaultRoute=i.defaultRoute.bind(h)}function o(h,p){let{url:m,method:g}=h.raw,y=`Route ${g}:${m} not found`;r||h.log.info(y),p.code(404).send({message:y,error:"Not Found",statusCode:404})}function a(){return function(p,m,g){let y=this[Qp][Ds],_=gH(y.server,m),S=mH(y,t,m,_),b=new dH(_,null,m,null,S,y),v=new hH(g,b,S);n(b,v)}}function l(h,p){let m=Object.assign({},h[Ds]);m.onSend=p.onSend,p[Ds]=m}function c(h,p,m,g){this[Xp]===void 0&&(this[Xp]=!0),this[Ds]===void 0&&(this[Ds]=null);let y=this,_=this[i1e]||"/";if(this[Xp]===!1)throw new Error(`Not found handler already set for Fastify instance with prefix: '${_}'`);typeof h=="object"&&(h.preHandler&&(Array.isArray(h.preHandler)?h.preHandler=h.preHandler.map(S=>S.bind(y)):h.preHandler=h.preHandler.bind(y)),h.preValidation&&(Array.isArray(h.preValidation)?h.preValidation=h.preValidation.map(S=>S.bind(y)):h.preValidation=h.preValidation.bind(y))),typeof h=="function"&&(p=h,h=void 0),h=h||{},p?(this[Qp][Xp]=!1,p=p.bind(this),n=p):(p=o,n=o),this.after((S,b)=>{u.call(this,_,h,p,m,g),b(S)})}function u(h,p,m,g,y){let _=new r1e({schema:p.schema,handler:m,config:p.config||{},server:this});if(g.once("preReady",()=>{let S=this[Ds];for(let b of s1e){let v=this[n1e][b].concat(p[b]||[]).map(O=>O.bind(this));S[b]=v.length?v:null}S.errorHandler=p.errorHandler?o1e(this[pH],p.errorHandler):this[pH]}),this[Ds]!==null&&h==="/"){Object.assign(this[Ds],_);return}this[Qp][Ds]=_,i.all(h+(h.endsWith("/")?"*":"/*"),y,_),i.all(h,y,_)}function f(h,p){let m=this[Qp][Ds],g=gH(m.server,h),y=mH(m,t,h,g);y.info({req:h},"incoming request");let _=new dH(g,null,h,null,y,m),S=new hH(p,_,y);_.log.warn("the default handler for 404 did not catch this, this is likely a fastify bug, please report it"),_.log.warn(i.prettyPrint()),S.code(404).send(new a1e)}}yH.exports=l1e});var bH=w((CBe,vb)=>{"use strict";vb.exports=qe;vb.exports.default=qe;var _H={type:"object",additionalProperties:!1,properties:{connectionTimeout:{type:"integer",default:0},keepAliveTimeout:{type:"integer",default:72e3},forceCloseConnections:{oneOf:[{type:"string",pattern:"idle"},{type:"boolean"}]},maxRequestsPerSocket:{type:"integer",default:0,nullable:!0},requestTimeout:{type:"integer",default:0},bodyLimit:{type:"integer",default:1048576},caseSensitive:{type:"boolean",default:!0},allowUnsafeRegex:{type:"boolean",default:!1},http2:{type:"boolean"},https:{if:{not:{oneOf:[{type:"boolean"},{type:"null"},{type:"object",additionalProperties:!1,required:["allowHTTP1"],properties:{allowHTTP1:{type:"boolean"}}}]}},then:{setDefaultValue:!0}},ignoreTrailingSlash:{type:"boolean",default:!1},ignoreDuplicateSlashes:{type:"boolean",default:!1},disableRequestLogging:{type:"boolean",default:!1},jsonShorthand:{type:"boolean",default:!0},maxParamLength:{type:"integer",default:100},onProtoPoisoning:{type:"string",default:"error"},onConstructorPoisoning:{type:"string",default:"error"},pluginTimeout:{type:"integer",default:1e4},requestIdHeader:{anyOf:[{enum:[!1]},{type:"string"}],default:"request-id"},requestIdLogLabel:{type:"string",default:"reqId"},http2SessionTimeout:{type:"integer",default:72e3},exposeHeadRoutes:{type:"boolean",default:!0},useSemicolonDelimiter:{type:"boolean",default:!0},versioning:{type:"object",additionalProperties:!0,required:["storage","deriveVersion"],properties:{storage:{},deriveVersion:{}}},constraints:{type:"object",additionalProperties:{type:"object",required:["name","storage","validate","deriveConstraint"],additionalProperties:!0,properties:{name:{type:"string"},storage:{},validate:{},deriveConstraint:{}}}}}},c1e=Object.prototype.hasOwnProperty,u1e=new RegExp("idle","u");function qe(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let s=null,o=0;if(o===0)if(e&&typeof e=="object"&&!Array.isArray(e)){e.connectionTimeout===void 0&&(e.connectionTimeout=0),e.keepAliveTimeout===void 0&&(e.keepAliveTimeout=72e3),e.maxRequestsPerSocket===void 0&&(e.maxRequestsPerSocket=0),e.requestTimeout===void 0&&(e.requestTimeout=0),e.bodyLimit===void 0&&(e.bodyLimit=1048576),e.caseSensitive===void 0&&(e.caseSensitive=!0),e.allowUnsafeRegex===void 0&&(e.allowUnsafeRegex=!1),e.ignoreTrailingSlash===void 0&&(e.ignoreTrailingSlash=!1),e.ignoreDuplicateSlashes===void 0&&(e.ignoreDuplicateSlashes=!1),e.disableRequestLogging===void 0&&(e.disableRequestLogging=!1),e.jsonShorthand===void 0&&(e.jsonShorthand=!0),e.maxParamLength===void 0&&(e.maxParamLength=100),e.onProtoPoisoning===void 0&&(e.onProtoPoisoning="error"),e.onConstructorPoisoning===void 0&&(e.onConstructorPoisoning="error"),e.pluginTimeout===void 0&&(e.pluginTimeout=1e4),e.requestIdHeader===void 0&&(e.requestIdHeader="request-id"),e.requestIdLogLabel===void 0&&(e.requestIdLogLabel="reqId"),e.http2SessionTimeout===void 0&&(e.http2SessionTimeout=72e3),e.exposeHeadRoutes===void 0&&(e.exposeHeadRoutes=!0),e.useSemicolonDelimiter===void 0&&(e.useSemicolonDelimiter=!0);let m=o;for(let g in e)c1e.call(_H.properties,g)||delete e[g];if(m===o){let g=e.connectionTimeout,y=o;if(!(typeof g=="number"&&!(g%1)&&!isNaN(g)&&isFinite(g))){let _=typeof g,S;if(S===void 0)if(_==="boolean"||g===null||_==="string"&&g&&g==+g&&!(g%1))S=+g;else return qe.errors=[{instancePath:t+"/connectionTimeout",schemaPath:"#/properties/connectionTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;S!==void 0&&(g=S,e!==void 0&&(e.connectionTimeout=S))}var a=y===o;if(a){let _=e.keepAliveTimeout,S=o;if(!(typeof _=="number"&&!(_%1)&&!isNaN(_)&&isFinite(_))){let v=typeof _,O;if(O===void 0)if(v==="boolean"||_===null||v==="string"&&_&&_==+_&&!(_%1))O=+_;else return qe.errors=[{instancePath:t+"/keepAliveTimeout",schemaPath:"#/properties/keepAliveTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;O!==void 0&&(_=O,e!==void 0&&(e.keepAliveTimeout=O))}var a=S===o;if(a){if(e.forceCloseConnections!==void 0){let v=e.forceCloseConnections,O=o,j=o,R=!1,I=null,F=o;if(typeof v!="string"){let z=typeof v,H;if(H===void 0)if(z=="number"||z=="boolean")H=""+v;else if(v===null)H="";else{let X={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[X]:s.push(X),o++}H!==void 0&&(v=H,e!==void 0&&(e.forceCloseConnections=H))}if(o===F&&typeof v=="string"&&!u1e.test(v)){let z={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/0/pattern",keyword:"pattern",params:{pattern:"idle"},message:'must match pattern "idle"'};s===null?s=[z]:s.push(z),o++}var l=F===o;l&&(R=!0,I=0);let T=o;if(typeof v!="boolean"){let z;if(z===void 0)if(v==="false"||v===0||v===null)z=!1;else if(v==="true"||v===1)z=!0;else{let H={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/1/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};s===null?s=[H]:s.push(H),o++}z!==void 0&&(v=z,e!==void 0&&(e.forceCloseConnections=z))}var l=T===o;if(l&&R?(R=!1,I=[I,1]):l&&(R=!0,I=1),R)o=j,s!==null&&(j?s.length=j:s=null);else{let z={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf",keyword:"oneOf",params:{passingSchemas:I},message:"must match exactly one schema in oneOf"};return s===null?s=[z]:s.push(z),o++,qe.errors=s,!1}var a=O===o}else var a=!0;if(a){let v=e.maxRequestsPerSocket,O=o;if(!(typeof v=="number"&&!(v%1)&&!isNaN(v)&&isFinite(v))&&v!==null){let R=typeof v,I;if(I===void 0)if(R==="boolean"||v===null||R==="string"&&v&&v==+v&&!(v%1))I=+v;else if(v===""||v===0||v===!1)I=null;else return qe.errors=[{instancePath:t+"/maxRequestsPerSocket",schemaPath:"#/properties/maxRequestsPerSocket/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;I!==void 0&&(v=I,e!==void 0&&(e.maxRequestsPerSocket=I))}var a=O===o;if(a){let R=e.requestTimeout,I=o;if(!(typeof R=="number"&&!(R%1)&&!isNaN(R)&&isFinite(R))){let T=typeof R,$;if($===void 0)if(T==="boolean"||R===null||T==="string"&&R&&R==+R&&!(R%1))$=+R;else return qe.errors=[{instancePath:t+"/requestTimeout",schemaPath:"#/properties/requestTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;$!==void 0&&(R=$,e!==void 0&&(e.requestTimeout=$))}var a=I===o;if(a){let T=e.bodyLimit,$=o;if(!(typeof T=="number"&&!(T%1)&&!isNaN(T)&&isFinite(T))){let H=typeof T,X;if(X===void 0)if(H==="boolean"||T===null||H==="string"&&T&&T==+T&&!(T%1))X=+T;else return qe.errors=[{instancePath:t+"/bodyLimit",schemaPath:"#/properties/bodyLimit/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;X!==void 0&&(T=X,e!==void 0&&(e.bodyLimit=X))}var a=$===o;if(a){let H=e.caseSensitive,X=o;if(typeof H!="boolean"){let J;if(J===void 0)if(H==="false"||H===0||H===null)J=!1;else if(H==="true"||H===1)J=!0;else return qe.errors=[{instancePath:t+"/caseSensitive",schemaPath:"#/properties/caseSensitive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;J!==void 0&&(H=J,e!==void 0&&(e.caseSensitive=J))}var a=X===o;if(a){let J=e.allowUnsafeRegex,Z=o;if(typeof J!="boolean"){let K;if(K===void 0)if(J==="false"||J===0||J===null)K=!1;else if(J==="true"||J===1)K=!0;else return qe.errors=[{instancePath:t+"/allowUnsafeRegex",schemaPath:"#/properties/allowUnsafeRegex/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;K!==void 0&&(J=K,e!==void 0&&(e.allowUnsafeRegex=K))}var a=Z===o;if(a){if(e.http2!==void 0){let K=e.http2,rt=o;if(typeof K!="boolean"){let ze;if(ze===void 0)if(K==="false"||K===0||K===null)ze=!1;else if(K==="true"||K===1)ze=!0;else return qe.errors=[{instancePath:t+"/http2",schemaPath:"#/properties/http2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;ze!==void 0&&(K=ze,e!==void 0&&(e.http2=ze))}var a=rt===o}else var a=!0;if(a){if(e.https!==void 0){let K=e.https,rt=o,ae=o,ze=!0,sn=o,Fi=o,ee=o,k=o,E=!1,x=null,P=o;if(typeof K!="boolean"){let D;if(D===void 0)if(K==="false"||K===0||K===null)D=!1;else if(K==="true"||K===1)D=!0;else{let q={};s===null?s=[q]:s.push(q),o++}D!==void 0&&(K=D,e!==void 0&&(e.https=D))}var c=P===o;c&&(E=!0,x=0);let G=o;if(K!==null){let D;if(D===void 0)if(K===""||K===0||K===!1)D=null;else{let q={};s===null?s=[q]:s.push(q),o++}D!==void 0&&(K=D,e!==void 0&&(e.https=D))}var c=G===o;if(c&&E)E=!1,x=[x,1];else{c&&(E=!0,x=1);let D=o;if(o===D)if(K&&typeof K=="object"&&!Array.isArray(K)){let W;if(K.allowHTTP1===void 0&&(W="allowHTTP1")){let B={};s===null?s=[B]:s.push(B),o++}else{let B=o;for(let M in K)M!=="allowHTTP1"&&delete K[M];if(B===o&&K.allowHTTP1!==void 0){let M=K.allowHTTP1;if(typeof M!="boolean"){let V;if(V===void 0)if(M==="false"||M===0||M===null)V=!1;else if(M==="true"||M===1)V=!0;else{let te={};s===null?s=[te]:s.push(te),o++}V!==void 0&&(M=V,K!==void 0&&(K.allowHTTP1=V))}}}}else{let W={};s===null?s=[W]:s.push(W),o++}var c=D===o;c&&E?(E=!1,x=[x,2]):c&&(E=!0,x=2)}if(E)o=k,s!==null&&(k?s.length=k:s=null);else{let D={};s===null?s=[D]:s.push(D),o++}var u=ee===o;if(u){let D={};s===null?s=[D]:s.push(D),o++}else o=Fi,s!==null&&(Fi?s.length=Fi:s=null);var f=sn===o;if(o=ae,s!==null&&(ae?s.length=ae:s=null),f){let D=o;e.https=!0;var f=D===o;ze=f}if(!ze){let D={instancePath:t+"/https",schemaPath:"#/properties/https/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[D]:s.push(D),o++,qe.errors=s,!1}var a=rt===o}else var a=!0;if(a){let K=e.ignoreTrailingSlash,rt=o;if(typeof K!="boolean"){let ze;if(ze===void 0)if(K==="false"||K===0||K===null)ze=!1;else if(K==="true"||K===1)ze=!0;else return qe.errors=[{instancePath:t+"/ignoreTrailingSlash",schemaPath:"#/properties/ignoreTrailingSlash/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;ze!==void 0&&(K=ze,e!==void 0&&(e.ignoreTrailingSlash=ze))}var a=rt===o;if(a){let ze=e.ignoreDuplicateSlashes,sn=o;if(typeof ze!="boolean"){let ee;if(ee===void 0)if(ze==="false"||ze===0||ze===null)ee=!1;else if(ze==="true"||ze===1)ee=!0;else return qe.errors=[{instancePath:t+"/ignoreDuplicateSlashes",schemaPath:"#/properties/ignoreDuplicateSlashes/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;ee!==void 0&&(ze=ee,e!==void 0&&(e.ignoreDuplicateSlashes=ee))}var a=sn===o;if(a){let ee=e.disableRequestLogging,k=o;if(typeof ee!="boolean"){let x;if(x===void 0)if(ee==="false"||ee===0||ee===null)x=!1;else if(ee==="true"||ee===1)x=!0;else return qe.errors=[{instancePath:t+"/disableRequestLogging",schemaPath:"#/properties/disableRequestLogging/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;x!==void 0&&(ee=x,e!==void 0&&(e.disableRequestLogging=x))}var a=k===o;if(a){let x=e.jsonShorthand,P=o;if(typeof x!="boolean"){let U;if(U===void 0)if(x==="false"||x===0||x===null)U=!1;else if(x==="true"||x===1)U=!0;else return qe.errors=[{instancePath:t+"/jsonShorthand",schemaPath:"#/properties/jsonShorthand/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;U!==void 0&&(x=U,e!==void 0&&(e.jsonShorthand=U))}var a=P===o;if(a){let U=e.maxParamLength,D=o;if(!(typeof U=="number"&&!(U%1)&&!isNaN(U)&&isFinite(U))){let W=typeof U,B;if(B===void 0)if(W==="boolean"||U===null||W==="string"&&U&&U==+U&&!(U%1))B=+U;else return qe.errors=[{instancePath:t+"/maxParamLength",schemaPath:"#/properties/maxParamLength/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;B!==void 0&&(U=B,e!==void 0&&(e.maxParamLength=B))}var a=D===o;if(a){let W=e.onProtoPoisoning,B=o;if(typeof W!="string"){let V=typeof W,te;if(te===void 0)if(V=="number"||V=="boolean")te=""+W;else if(W===null)te="";else return qe.errors=[{instancePath:t+"/onProtoPoisoning",schemaPath:"#/properties/onProtoPoisoning/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;te!==void 0&&(W=te,e!==void 0&&(e.onProtoPoisoning=te))}var a=B===o;if(a){let V=e.onConstructorPoisoning,te=o;if(typeof V!="string"){let ne=typeof V,ye;if(ye===void 0)if(ne=="number"||ne=="boolean")ye=""+V;else if(V===null)ye="";else return qe.errors=[{instancePath:t+"/onConstructorPoisoning",schemaPath:"#/properties/onConstructorPoisoning/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;ye!==void 0&&(V=ye,e!==void 0&&(e.onConstructorPoisoning=ye))}var a=te===o;if(a){let ne=e.pluginTimeout,ye=o;if(!(typeof ne=="number"&&!(ne%1)&&!isNaN(ne)&&isFinite(ne))){let Ce=typeof ne,$e;if($e===void 0)if(Ce==="boolean"||ne===null||Ce==="string"&&ne&&ne==+ne&&!(ne%1))$e=+ne;else return qe.errors=[{instancePath:t+"/pluginTimeout",schemaPath:"#/properties/pluginTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;$e!==void 0&&(ne=$e,e!==void 0&&(e.pluginTimeout=$e))}var a=ye===o;if(a){let Ce=e.requestIdHeader,$e=o,He=o,ht=!1,We=o;if(Ce!==!1){let Pr={instancePath:t+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf/0/enum",keyword:"enum",params:{allowedValues:_H.properties.requestIdHeader.anyOf[0].enum},message:"must be equal to one of the allowed values"};s===null?s=[Pr]:s.push(Pr),o++}var h=We===o;if(ht=ht||h,!ht){let Pr=o;if(typeof Ce!="string"){let ON=typeof Ce,bt;if(bt===void 0)if(ON=="number"||ON=="boolean")bt=""+Ce;else if(Ce===null)bt="";else{let An={instancePath:t+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[An]:s.push(An),o++}bt!==void 0&&(Ce=bt,e!==void 0&&(e.requestIdHeader=bt))}var h=Pr===o;ht=ht||h}if(ht)o=He,s!==null&&(He?s.length=He:s=null);else{let Pr={instancePath:t+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[Pr]:s.push(Pr),o++,qe.errors=s,!1}var a=$e===o;if(a){let Pr=e.requestIdLogLabel,Eee=o;if(typeof Pr!="string"){let bt=typeof Pr,An;if(An===void 0)if(bt=="number"||bt=="boolean")An=""+Pr;else if(Pr===null)An="";else return qe.errors=[{instancePath:t+"/requestIdLogLabel",schemaPath:"#/properties/requestIdLogLabel/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;An!==void 0&&(Pr=An,e!==void 0&&(e.requestIdLogLabel=An))}var a=Eee===o;if(a){let bt=e.http2SessionTimeout,An=o;if(!(typeof bt=="number"&&!(bt%1)&&!isNaN(bt)&&isFinite(bt))){let bs=typeof bt,Ul;if(Ul===void 0)if(bs==="boolean"||bt===null||bs==="string"&&bt&&bt==+bt&&!(bt%1))Ul=+bt;else return qe.errors=[{instancePath:t+"/http2SessionTimeout",schemaPath:"#/properties/http2SessionTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;Ul!==void 0&&(bt=Ul,e!==void 0&&(e.http2SessionTimeout=Ul))}var a=An===o;if(a){let bs=e.exposeHeadRoutes,Ul=o;if(typeof bs!="boolean"){let xi;if(xi===void 0)if(bs==="false"||bs===0||bs===null)xi=!1;else if(bs==="true"||bs===1)xi=!0;else return qe.errors=[{instancePath:t+"/exposeHeadRoutes",schemaPath:"#/properties/exposeHeadRoutes/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;xi!==void 0&&(bs=xi,e!==void 0&&(e.exposeHeadRoutes=xi))}var a=Ul===o;if(a){let xi=e.useSemicolonDelimiter,kee=o;if(typeof xi!="boolean"){let er;if(er===void 0)if(xi==="false"||xi===0||xi===null)er=!1;else if(xi==="true"||xi===1)er=!0;else return qe.errors=[{instancePath:t+"/useSemicolonDelimiter",schemaPath:"#/properties/useSemicolonDelimiter/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;er!==void 0&&(xi=er,e!==void 0&&(e.useSemicolonDelimiter=er))}var a=kee===o;if(a){if(e.versioning!==void 0){let er=e.versioning,Ed=o;if(o===Ed)if(er&&typeof er=="object"&&!Array.isArray(er)){let yo;if(er.storage===void 0&&(yo="storage")||er.deriveVersion===void 0&&(yo="deriveVersion"))return qe.errors=[{instancePath:t+"/versioning",schemaPath:"#/properties/versioning/required",keyword:"required",params:{missingProperty:yo},message:"must have required property '"+yo+"'"}],!1}else return qe.errors=[{instancePath:t+"/versioning",schemaPath:"#/properties/versioning/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=Ed===o}else var a=!0;if(a)if(e.constraints!==void 0){let er=e.constraints,Ed=o;if(o===Ed)if(er&&typeof er=="object"&&!Array.isArray(er))for(let yo in er){let Cn=er[yo],AN=o;if(o===AN)if(Cn&&typeof Cn=="object"&&!Array.isArray(Cn)){let Ou;if(Cn.name===void 0&&(Ou="name")||Cn.storage===void 0&&(Ou="storage")||Cn.validate===void 0&&(Ou="validate")||Cn.deriveConstraint===void 0&&(Ou="deriveConstraint"))return qe.errors=[{instancePath:t+"/constraints/"+yo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/constraints/additionalProperties/required",keyword:"required",params:{missingProperty:Ou},message:"must have required property '"+Ou+"'"}],!1;if(Cn.name!==void 0){let kd=Cn.name;if(typeof kd!="string"){let CN=typeof kd,Au;if(Au===void 0)if(CN=="number"||CN=="boolean")Au=""+kd;else if(kd===null)Au="";else return qe.errors=[{instancePath:t+"/constraints/"+yo.replace(/~/g,"~0").replace(/\//g,"~1")+"/name",schemaPath:"#/properties/constraints/additionalProperties/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Au!==void 0&&(kd=Au,Cn!==void 0&&(Cn.name=Au))}}}else return qe.errors=[{instancePath:t+"/constraints/"+yo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/constraints/additionalProperties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var p=AN===o;if(!p)break}else return qe.errors=[{instancePath:t+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=Ed===o}else var a=!0}}}}}}}}}}}}}}}}}}}}}}}}}else return qe.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return qe.errors=s,o===0}vb.exports.defaultInitOptions={connectionTimeout:0,keepAliveTimeout:72e3,maxRequestsPerSocket:0,requestTimeout:0,bodyLimit:1048576,caseSensitive:!0,allowUnsafeRegex:!1,disableRequestLogging:!1,jsonShorthand:!0,ignoreTrailingSlash:!1,ignoreDuplicateSlashes:!1,maxParamLength:100,onProtoPoisoning:"error",onConstructorPoisoning:"error",pluginTimeout:1e4,requestIdHeader:"request-id",requestIdLogLabel:"reqId",http2SessionTimeout:72e3,exposeHeadRoutes:!0,useSemicolonDelimiter:!0}});var wH=w((PBe,bb)=>{"use strict";var _b=bH(),f1e=gv()({circles:!0,proto:!1}),{FST_ERR_INIT_OPTS_INVALID:h1e}=Ir();function d1e(e){let t=f1e(e);if(!_b(t)){let r=new h1e(JSON.stringify(_b.errors.map(i=>i.message)));throw r.errors=_b.errors,r}return EA(t)}function EA(e){let t=Object.getOwnPropertyNames(e);for(let r of t){let i=e[r];ArrayBuffer.isView(i)&&!(i instanceof DataView)||(e[r]=i&&typeof i=="object"?EA(i):i)}return Object.freeze(e)}bb.exports=d1e;bb.exports.defaultInitOptions=_b.defaultInitOptions;bb.exports.utils={deepFreezeObject:EA}});var CH=w((IBe,AH)=>{"use strict";var{kAvvioBoot:p1e,kChildren:SH,kRoutePrefix:xH,kLogLevel:EH,kLogSerializers:kA,kHooks:RA,kSchemaController:Tf,kContentTypeParser:kH,kReply:RH,kRequest:TH,kFourOhFour:m1e,kPluginNameChain:OH}=tr(),g1e=Rv(),y1e=zv(),v1e=KO(),_1e=Vk(),{buildHooks:b1e}=ba(),em=tA();AH.exports=function(t,r,i){let n=em.registerPlugin.call(t,r),s=em.getPluginName(r)||em.getFuncPreview(r);if(n)return t[OH].push(s),t;let o=Object.create(t);t[SH].push(o),o.ready=t[p1e].bind(o),o[SH]=[],o[RH]=g1e.buildReply(o[RH]),o[TH]=y1e.buildRequest(o[TH]),o[kH]=_1e.helpers.buildContentTypeParser(o[kH]),o[RA]=b1e(o[RA]),o[xH]=w1e(o[xH],i.prefix),o[EH]=i.logLevel||o[EH],o[Tf]=v1e.buildSchemaController(t[Tf]),o.getSchema=o[Tf].getSchema.bind(o[Tf]),o.getSchemas=o[Tf].getSchemas.bind(o[Tf]),o[em.kRegisteredPlugins]=Object.create(o[em.kRegisteredPlugins]),o[OH]=[s],(o[kA]||i.logSerializers)&&(o[kA]=Object.assign(Object.create(o[kA]),i.logSerializers)),i.prefix&&o[m1e].arrange404(o);for(let a of o[RA].onRegister)a.call(this,o,i);return o};function w1e(e,t){return t?(e.endsWith("/")&&t[0]==="/"?t=t.slice(1):t[0]!=="/"&&(t="/"+t),e+t):e}});var IH=w((NBe,PH)=>{"use strict";PH.exports=function(){return{[Symbol.iterator]:function*(){},add(){},delete(){},has(){return!0}}}});var NH=w(TA=>{"use strict";TA.parse=x1e;TA.serialize=E1e;var S1e=Object.prototype.toString,wb=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function x1e(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var r={},i=t||{},n=i.decode||k1e,s=0;s<e.length;){var o=e.indexOf("=",s);if(o===-1)break;var a=e.indexOf(";",s);if(a===-1)a=e.length;else if(a<o){s=e.lastIndexOf(";",o-1)+1;continue}var l=e.slice(s,o).trim();if(r[l]===void 0){var c=e.slice(o+1,a).trim();c.charCodeAt(0)===34&&(c=c.slice(1,-1)),r[l]=O1e(c,n)}s=a+1}return r}function E1e(e,t,r){var i=r||{},n=i.encode||R1e;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!wb.test(e))throw new TypeError("argument name is invalid");var s=n(t);if(s&&!wb.test(s))throw new TypeError("argument val is invalid");var o=e+"="+s;if(i.maxAge!=null){var a=i.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(i.domain){if(!wb.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain="+i.domain}if(i.path){if(!wb.test(i.path))throw new TypeError("option path is invalid");o+="; Path="+i.path}if(i.expires){var l=i.expires;if(!T1e(l)||isNaN(l.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+l.toUTCString()}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.partitioned&&(o+="; Partitioned"),i.priority){var c=typeof i.priority=="string"?i.priority.toLowerCase():i.priority;switch(c){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(i.sameSite){var u=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(u){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o}function k1e(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function R1e(e){return encodeURIComponent(e)}function T1e(e){return S1e.call(e)==="[object Date]"||e instanceof Date}function O1e(e,t){try{return t(e)}catch{return e}}});var DH=w((FBe,FH)=>{"use strict";var{URL:$H}=require("url"),OA="http://localhost";FH.exports=function(t,r){(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]")&&t.startsWith("//")&&(t=OA+t);let i=typeof t=="object"?Object.assign(new $H(OA),t):new $H(t,OA);if(typeof r=="string"){r=new URLSearchParams(r);for(let n of r.keys()){i.searchParams.delete(n);for(let s of r.getAll(n))i.searchParams.append(n,s)}}else{let n=Object.assign({},t.query,r);for(let s in n){let o=n[s];if(Array.isArray(o)){i.searchParams.delete(s);for(let a of o)i.searchParams.append(s,a)}else i.searchParams.set(s,o)}}return i}});var LH=w((DBe,AA)=>{"use strict";var{randomUUID:A1e}=require("crypto"),{Readable:C1e}=require("stream"),Of;function P1e(e){return e&&typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&e[Symbol.toStringTag]==="FormData"}function I1e(e){Of=Of??new TextEncoder;let t=`----formdata-${A1e()}`,r=`--${t}\r
Content-Disposition: form-data`;let i=l=>l.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),n=l=>l.replace(/\r?\n|\r/g,`\r
`),s=new Uint8Array([13,10]);async function*o(){for(let[l,c]of e)if(typeof c=="string")yield Of.encode(`${r}; name="${i(n(l))}"\r
\r
`),yield Of.encode(`${n(c)}\r
`);else{let u=`${r}; name="${i(n(l))}"`;c.name&&(u+=`; filename="${i(c.name)}"`),u+=`\r
Content-Type: ${c.type||"application/octet-stream"}\r
\r
`,yield Of.encode(u),c.stream?yield*c.stream():yield c,yield s}yield Of.encode(`--${t}--`)}return{stream:C1e.from(o()),contentType:`multipart/form-data; boundary=${t}`}}AA.exports.isFormDataLike=P1e;AA.exports.formDataToStream=I1e});var MH=w((LBe,Sb)=>{"use strict";var{Readable:jH,addAbortSignal:N1e}=require("stream"),PA=require("util"),$1e=NH(),F1e=require("assert"),{createDeprecation:D1e}=B1(),L1e=DH(),{isFormDataLike:j1e,formDataToStream:q1e}=LH(),{EventEmitter:M1e}=require("events"),z1e=D1e({name:"FastifyDeprecationLightMyRequest",code:"FST_LIGHTMYREQUEST_DEP01",message:'You are accessing "request.connection", use "request.socket" instead.'});function U1e(e){return e.port?e.host:e.hostname+(e.protocol==="https:"?":443":":80")}var CA=class extends M1e{constructor(t){super(),this.remoteAddress=t}};function qH(e){return new t(this);function t(r){Ls.call(r,{...e,Request:void 0}),Object.assign(this,r);for(let i of Object.keys(Ls.prototype))this.constructor.prototype[i]=Ls.prototype[i];return PA.inherits(this.constructor,e.Request),this}}function Ls(e){jH.call(this,{autoDestroy:!1});let t=L1e(e.url||e.path,e.query);this.url=t.pathname+t.search,this.aborted=!1,this.httpVersionMajor=1,this.httpVersionMinor=1,this.httpVersion="1.1",this.method=e.method?e.method.toUpperCase():"GET",this.headers={},this.rawHeaders=[];let r=e.headers||{};for(let o in r){let a=o.toLowerCase();if((a==="user-agent"||a==="content-type")&&r[o]===void 0){this.headers[a]=void 0;continue}let l=r[o];F1e(l!==void 0,'invalid value "undefined" for header '+o),this.headers[a]=""+l}if("user-agent"in this.headers||(this.headers["user-agent"]="lightMyRequest"),this.headers.host=this.headers.host||e.authority||U1e(t),e.cookies){let{cookies:o}=e,a=Object.keys(o).map(l=>$1e.serialize(l,o[l]));this.headers.cookie&&a.unshift(this.headers.cookie),this.headers.cookie=a.join("; ")}this.socket=new CA(e.remoteAddress||"127.0.0.1"),Object.defineProperty(this,"connection",{get(){return z1e(),this.socket},configurable:!0});let i=e.payload||e.body||null,n=i&&typeof i.resume=="function";if(j1e(i)){let o=q1e(i);i=o.stream,n=!0,this.headers["content-type"]=o.contentType}i&&typeof i!="string"&&!n&&!Buffer.isBuffer(i)&&(i=JSON.stringify(i),"content-type"in this.headers||(this.headers["content-type"]="application/json")),i&&!n&&!Object.prototype.hasOwnProperty.call(this.headers,"content-length")&&(this.headers["content-length"]=(Buffer.isBuffer(i)?i.length:Buffer.byteLength(i)).toString());for(let o of Object.keys(this.headers))this.rawHeaders.push(o,this.headers[o]);this._lightMyRequest={payload:i,isDone:!1,simulate:e.simulate||{}};let s=e.signal;return s&&N1e(s,this),this}PA.inherits(Ls,jH);PA.inherits(qH,Ls);Ls.prototype.prepare=function(e){let t=this._lightMyRequest.payload;if(!t||typeof t.resume!="function")return e();let r=[];t.on("data",i=>r.push(Buffer.from(i))),t.on("end",()=>{let i=Buffer.concat(r);return this.headers["content-length"]=this.headers["content-length"]||""+i.length,this._lightMyRequest.payload=i,e()}),t.resume()};Ls.prototype._read=function(e){setImmediate(()=>{if(this._lightMyRequest.isDone){this._lightMyRequest.simulate.end!==!1&&this.push(null);return}this._lightMyRequest.isDone=!0,this._lightMyRequest.payload&&(this._lightMyRequest.simulate.split?(this.push(this._lightMyRequest.payload.slice(0,1)),this.push(this._lightMyRequest.payload.slice(1))):this.push(this._lightMyRequest.payload)),this._lightMyRequest.simulate.error&&this.emit("error",new Error("Simulated")),this._lightMyRequest.simulate.close&&this.emit("close"),this._lightMyRequest.simulate.end!==!1&&this.push(null)})};Ls.prototype.destroy=function(e){this.destroyed||this._lightMyRequest.isDone||(this.destroyed=!0,e&&(this._error=!0,process.nextTick(()=>this.emit("error",e))),process.nextTick(()=>this.emit("close")))};Sb.exports=Ls;Sb.exports.Request=Ls;Sb.exports.CustomRequest=qH});var UH=w((jBe,tm)=>{"use strict";var Af={decodeValues:!0,map:!1,silent:!1};function IA(e){return typeof e=="string"&&!!e.trim()}function NA(e,t){var r=e.split(";").filter(IA),i=r.shift(),n=B1e(i),s=n.name,o=n.value;t=t?Object.assign({},Af,t):Af;try{o=t.decodeValues?decodeURIComponent(o):o}catch(l){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+o+"'. Set options.decodeValues to false to disable this feature.",l)}var a={name:s,value:o};return r.forEach(function(l){var c=l.split("="),u=c.shift().trimLeft().toLowerCase(),f=c.join("=");u==="expires"?a.expires=new Date(f):u==="max-age"?a.maxAge=parseInt(f,10):u==="secure"?a.secure=!0:u==="httponly"?a.httpOnly=!0:u==="samesite"?a.sameSite=f:u==="partitioned"?a.partitioned=!0:a[u]=f}),a}function B1e(e){var t="",r="",i=e.split("=");return i.length>1?(t=i.shift(),r=i.join("=")):r=e,{name:t,value:r}}function zH(e,t){if(t=t?Object.assign({},Af,t):Af,!e)return t.map?{}:[];if(e.headers)if(typeof e.headers.getSetCookie=="function")e=e.headers.getSetCookie();else if(e.headers["set-cookie"])e=e.headers["set-cookie"];else{var r=e.headers[Object.keys(e.headers).find(function(n){return n.toLowerCase()==="set-cookie"})];!r&&e.headers.cookie&&!t.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=r}if(Array.isArray(e)||(e=[e]),t=t?Object.assign({},Af,t):Af,t.map){var i={};return e.filter(IA).reduce(function(n,s){var o=NA(s,t);return n[o.name]=o,n},i)}else return e.filter(IA).map(function(n){return NA(n,t)})}function H1e(e){if(Array.isArray(e))return e;if(typeof e!="string")return[];var t=[],r=0,i,n,s,o,a;function l(){for(;r<e.length&&/\s/.test(e.charAt(r));)r+=1;return r<e.length}function c(){return n=e.charAt(r),n!=="="&&n!==";"&&n!==","}for(;r<e.length;){for(i=r,a=!1;l();)if(n=e.charAt(r),n===","){for(s=r,r+=1,l(),o=r;r<e.length&&c();)r+=1;r<e.length&&e.charAt(r)==="="?(a=!0,r=o,t.push(e.substring(i,s)),i=r):r=s+1}else r+=1;(!a||r>=e.length)&&t.push(e.substring(i,e.length))}return t}tm.exports=zH;tm.exports.parse=zH;tm.exports.parseString=NA;tm.exports.splitCookiesString=H1e});var VH=w((qBe,HH)=>{"use strict";var rm=require("http"),{Writable:V1e,Readable:W1e}=require("stream"),G1e=require("util"),Y1e=UH();function Ba(e,t,r){rm.ServerResponse.call(this,e),this._lightMyRequest={headers:null,trailers:{},payloadChunks:[]},this.setHeader("foo","bar"),this.removeHeader("foo"),this.assignSocket(J1e()),this._promiseCallback=typeof r=="function";let i=!1,n=o=>{if(i=!0,this._promiseCallback)return process.nextTick(()=>t(o));process.nextTick(()=>t(null,o))},s=o=>{if(!i){if(i=!0,this._promiseCallback)return process.nextTick(()=>r(o));process.nextTick(()=>t(o,null))}};this.once("finish",()=>{let o=K1e(this);o.raw.req=e,n(o)}),this.connection.once("error",s),this.once("error",s),this.once("close",s)}G1e.inherits(Ba,rm.ServerResponse);Ba.prototype.setTimeout=function(e,t){return this.timeoutHandle=setTimeout(()=>{this.emit("timeout")},e),this.on("timeout",t),this};Ba.prototype.writeHead=function(){let e=rm.ServerResponse.prototype.writeHead.apply(this,arguments);return BH(this),e};Ba.prototype.write=function(e,t,r){return this.timeoutHandle&&clearTimeout(this.timeoutHandle),rm.ServerResponse.prototype.write.call(this,e,t,r),this._lightMyRequest.payloadChunks.push(Buffer.from(e,t)),!0};Ba.prototype.end=function(e,t,r){e&&this.write(e,t),rm.ServerResponse.prototype.end.call(this,r),this.emit("finish"),this.destroy()};Ba.prototype.destroy=function(e){this.destroyed||(this.destroyed=!0,e&&process.nextTick(()=>this.emit("error",e)),process.nextTick(()=>this.emit("close")))};Ba.prototype.addTrailers=function(e){for(let t in e)this._lightMyRequest.trailers[t.toLowerCase().trim()]=e[t].toString().trim()};function K1e(e){e._lightMyRequest.headers===null&&BH(e),Z1e(e);let t={raw:{res:e},headers:e._lightMyRequest.headers,statusCode:e.statusCode,statusMessage:e.statusMessage,trailers:{},get cookies(){return Y1e.parse(this)}},r=Buffer.concat(e._lightMyRequest.payloadChunks);return t.rawPayload=r,t.payload=r.toString(),t.body=t.payload,t.trailers=e._lightMyRequest.trailers,t.json=function(){return JSON.parse(t.payload)},t.stream=function(){return W1e.from(e._lightMyRequest.payloadChunks)},t}function J1e(){return new V1e({write(e,t,r){setImmediate(r)}})}function Z1e(e){let t=e._lightMyRequest.headers;for(let r of Object.keys(t)){let i=t[r];Array.isArray(i)?t[r]=i.map(n=>""+n):t[r]=""+i}}function BH(e){e._lightMyRequest.headers=Object.assign({},e.getHeaders()),["Date","Connection","Transfer-Encoding"].forEach(t=>{let r=new RegExp("\\r\\n"+t+": ([^\\r]*)\\r\\n"),i=e._header.match(r);i&&(e._lightMyRequest.headers[t.toLowerCase()]=i[1])})}HH.exports=Ba});var WH=w((MBe,$A)=>{"use strict";$A.exports=$t;$A.exports.default=$t;var X1e={type:"object",properties:{url:{oneOf:[{type:"string"},{type:"object",properties:{protocol:{type:"string"},hostname:{type:"string"},pathname:{type:"string"}},additionalProperties:!0,required:["pathname"]}]},path:{oneOf:[{type:"string"},{type:"object",properties:{protocol:{type:"string"},hostname:{type:"string"},pathname:{type:"string"}},additionalProperties:!0,required:["pathname"]}]},cookies:{type:"object",additionalProperties:!0},headers:{type:"object",additionalProperties:!0},query:{anyOf:[{type:"object",additionalProperties:!0},{type:"string"}]},simulate:{type:"object",properties:{end:{type:"boolean"},split:{type:"boolean"},error:{type:"boolean"},close:{type:"boolean"}}},authority:{type:"string"},remoteAddress:{type:"string"},method:{type:"string",enum:["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE","acl","bind","checkout","connect","copy","delete","get","head","link","lock","m-search","merge","mkactivity","mkcalendar","mkcol","move","notify","options","patch","post","propfind","proppatch","purge","put","rebind","report","search","source","subscribe","trace","unbind","unlink","unlock","unsubscribe"]},validate:{type:"boolean"}},additionalProperties:!0,oneOf:[{required:["url"]},{required:["path"]}]};function $t(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let s=null,o=0,a=o,l=!1,c=null,u=o;if(e&&typeof e=="object"&&!Array.isArray(e)){let v;if(e.url===void 0&&(v="url")){let O={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"};s===null?s=[O]:s.push(O),o++}}var h=u===o;h&&(l=!0,c=0);let f=o;if(e&&typeof e=="object"&&!Array.isArray(e)){let v;if(e.path===void 0&&(v="path")){let O={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"};s===null?s=[O]:s.push(O),o++}}var h=f===o;if(h&&l?(l=!1,c=[c,1]):h&&(l=!0,c=1),l)o=a,s!==null&&(a?s.length=a:s=null);else{let v={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:c},message:"must match exactly one schema in oneOf"};return s===null?s=[v]:s.push(v),o++,$t.errors=s,!1}if(o===0)if(e&&typeof e=="object"&&!Array.isArray(e)){if(e.url!==void 0){let v=e.url,O=o,j=o,R=!1,I=null,F=o;if(typeof v!="string"){let $=typeof v,z;if(z===void 0)if($=="number"||$=="boolean")z=""+v;else if(v===null)z="";else{let H={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[H]:s.push(H),o++}z!==void 0&&(v=z,e!==void 0&&(e.url=z))}var m=F===o;m&&(R=!0,I=0);let T=o;if(o===T)if(v&&typeof v=="object"&&!Array.isArray(v)){let $;if(v.pathname===void 0&&($="pathname")){let z={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf/1/required",keyword:"required",params:{missingProperty:$},message:"must have required property '"+$+"'"};s===null?s=[z]:s.push(z),o++}else{if(v.protocol!==void 0){let z=v.protocol,H=o;if(typeof z!="string"){let X=typeof z,ie;if(ie===void 0)if(X=="number"||X=="boolean")ie=""+z;else if(z===null)ie="";else{let J={instancePath:t+"/url/protocol",schemaPath:"#/properties/url/oneOf/1/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[J]:s.push(J),o++}ie!==void 0&&(z=ie,v!==void 0&&(v.protocol=ie))}var p=H===o}else var p=!0;if(p){if(v.hostname!==void 0){let z=v.hostname,H=o;if(typeof z!="string"){let ie=typeof z,J;if(J===void 0)if(ie=="number"||ie=="boolean")J=""+z;else if(z===null)J="";else{let Z={instancePath:t+"/url/hostname",schemaPath:"#/properties/url/oneOf/1/properties/hostname/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Z]:s.push(Z),o++}J!==void 0&&(z=J,v!==void 0&&(v.hostname=J))}var p=H===o}else var p=!0;if(p)if(v.pathname!==void 0){let z=v.pathname,H=o;if(typeof z!="string"){let ie=typeof z,J;if(J===void 0)if(ie=="number"||ie=="boolean")J=""+z;else if(z===null)J="";else{let Z={instancePath:t+"/url/pathname",schemaPath:"#/properties/url/oneOf/1/properties/pathname/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Z]:s.push(Z),o++}J!==void 0&&(z=J,v!==void 0&&(v.pathname=J))}var p=H===o}else var p=!0}}}else{let $={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[$]:s.push($),o++}var m=T===o;if(m&&R?(R=!1,I=[I,1]):m&&(R=!0,I=1),R)o=j,s!==null&&(j?s.length=j:s=null);else{let $={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf",keyword:"oneOf",params:{passingSchemas:I},message:"must match exactly one schema in oneOf"};return s===null?s=[$]:s.push($),o++,$t.errors=s,!1}var g=O===o}else var g=!0;if(g){if(e.path!==void 0){let v=e.path,O=o,j=o,R=!1,I=null,F=o;if(typeof v!="string"){let z=typeof v,H;if(H===void 0)if(z=="number"||z=="boolean")H=""+v;else if(v===null)H="";else{let X={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[X]:s.push(X),o++}H!==void 0&&(v=H,e!==void 0&&(e.path=H))}var _=F===o;_&&(R=!0,I=0);let T=o;if(o===T)if(v&&typeof v=="object"&&!Array.isArray(v)){let z;if(v.pathname===void 0&&(z="pathname")){let H={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf/1/required",keyword:"required",params:{missingProperty:z},message:"must have required property '"+z+"'"};s===null?s=[H]:s.push(H),o++}else{if(v.protocol!==void 0){let H=v.protocol,X=o;if(typeof H!="string"){let ie=typeof H,J;if(J===void 0)if(ie=="number"||ie=="boolean")J=""+H;else if(H===null)J="";else{let Z={instancePath:t+"/path/protocol",schemaPath:"#/properties/path/oneOf/1/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Z]:s.push(Z),o++}J!==void 0&&(H=J,v!==void 0&&(v.protocol=J))}var y=X===o}else var y=!0;if(y){if(v.hostname!==void 0){let H=v.hostname,X=o;if(typeof H!="string"){let J=typeof H,Z;if(Z===void 0)if(J=="number"||J=="boolean")Z=""+H;else if(H===null)Z="";else{let he={instancePath:t+"/path/hostname",schemaPath:"#/properties/path/oneOf/1/properties/hostname/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[he]:s.push(he),o++}Z!==void 0&&(H=Z,v!==void 0&&(v.hostname=Z))}var y=X===o}else var y=!0;if(y)if(v.pathname!==void 0){let H=v.pathname,X=o;if(typeof H!="string"){let J=typeof H,Z;if(Z===void 0)if(J=="number"||J=="boolean")Z=""+H;else if(H===null)Z="";else{let he={instancePath:t+"/path/pathname",schemaPath:"#/properties/path/oneOf/1/properties/pathname/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[he]:s.push(he),o++}Z!==void 0&&(H=Z,v!==void 0&&(v.pathname=Z))}var y=X===o}else var y=!0}}}else{let z={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[z]:s.push(z),o++}var _=T===o;if(_&&R?(R=!1,I=[I,1]):_&&(R=!0,I=1),R)o=j,s!==null&&(j?s.length=j:s=null);else{let z={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf",keyword:"oneOf",params:{passingSchemas:I},message:"must match exactly one schema in oneOf"};return s===null?s=[z]:s.push(z),o++,$t.errors=s,!1}var g=O===o}else var g=!0;if(g){if(e.cookies!==void 0){let v=e.cookies,O=o;if(o===O&&!(v&&typeof v=="object"&&!Array.isArray(v)))return $t.errors=[{instancePath:t+"/cookies",schemaPath:"#/properties/cookies/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var g=O===o}else var g=!0;if(g){if(e.headers!==void 0){let v=e.headers,O=o;if(o===O&&!(v&&typeof v=="object"&&!Array.isArray(v)))return $t.errors=[{instancePath:t+"/headers",schemaPath:"#/properties/headers/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var g=O===o}else var g=!0;if(g){if(e.query!==void 0){let v=e.query,O=o,j=o,R=!1,I=o;if(o===I&&!(v&&typeof v=="object"&&!Array.isArray(v))){let T={instancePath:t+"/query",schemaPath:"#/properties/query/anyOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[T]:s.push(T),o++}var S=I===o;if(R=R||S,!R){let T=o;if(typeof v!="string"){let z=typeof v,H;if(H===void 0)if(z=="number"||z=="boolean")H=""+v;else if(v===null)H="";else{let X={instancePath:t+"/query",schemaPath:"#/properties/query/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[X]:s.push(X),o++}H!==void 0&&(v=H,e!==void 0&&(e.query=H))}var S=T===o;R=R||S}if(R)o=j,s!==null&&(j?s.length=j:s=null);else{let T={instancePath:t+"/query",schemaPath:"#/properties/query/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[T]:s.push(T),o++,$t.errors=s,!1}var g=O===o}else var g=!0;if(g){if(e.simulate!==void 0){let v=e.simulate,O=o;if(o===O)if(v&&typeof v=="object"&&!Array.isArray(v)){if(v.end!==void 0){let R=v.end,I=o;if(typeof R!="boolean"){let F;if(F===void 0)if(R==="false"||R===0||R===null)F=!1;else if(R==="true"||R===1)F=!0;else return $t.errors=[{instancePath:t+"/simulate/end",schemaPath:"#/properties/simulate/properties/end/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;F!==void 0&&(R=F,v!==void 0&&(v.end=F))}var b=I===o}else var b=!0;if(b){if(v.split!==void 0){let R=v.split,I=o;if(typeof R!="boolean"){let T;if(T===void 0)if(R==="false"||R===0||R===null)T=!1;else if(R==="true"||R===1)T=!0;else return $t.errors=[{instancePath:t+"/simulate/split",schemaPath:"#/properties/simulate/properties/split/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;T!==void 0&&(R=T,v!==void 0&&(v.split=T))}var b=I===o}else var b=!0;if(b){if(v.error!==void 0){let R=v.error,I=o;if(typeof R!="boolean"){let T;if(T===void 0)if(R==="false"||R===0||R===null)T=!1;else if(R==="true"||R===1)T=!0;else return $t.errors=[{instancePath:t+"/simulate/error",schemaPath:"#/properties/simulate/properties/error/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;T!==void 0&&(R=T,v!==void 0&&(v.error=T))}var b=I===o}else var b=!0;if(b)if(v.close!==void 0){let R=v.close,I=o;if(typeof R!="boolean"){let T;if(T===void 0)if(R==="false"||R===0||R===null)T=!1;else if(R==="true"||R===1)T=!0;else return $t.errors=[{instancePath:t+"/simulate/close",schemaPath:"#/properties/simulate/properties/close/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;T!==void 0&&(R=T,v!==void 0&&(v.close=T))}var b=I===o}else var b=!0}}}else return $t.errors=[{instancePath:t+"/simulate",schemaPath:"#/properties/simulate/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var g=O===o}else var g=!0;if(g){if(e.authority!==void 0){let v=e.authority,O=o;if(typeof v!="string"){let R=typeof v,I;if(I===void 0)if(R=="number"||R=="boolean")I=""+v;else if(v===null)I="";else return $t.errors=[{instancePath:t+"/authority",schemaPath:"#/properties/authority/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I!==void 0&&(v=I,e!==void 0&&(e.authority=I))}var g=O===o}else var g=!0;if(g){if(e.remoteAddress!==void 0){let v=e.remoteAddress,O=o;if(typeof v!="string"){let R=typeof v,I;if(I===void 0)if(R=="number"||R=="boolean")I=""+v;else if(v===null)I="";else return $t.errors=[{instancePath:t+"/remoteAddress",schemaPath:"#/properties/remoteAddress/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I!==void 0&&(v=I,e!==void 0&&(e.remoteAddress=I))}var g=O===o}else var g=!0;if(g){if(e.method!==void 0){let v=e.method,O=o;if(typeof v!="string"){let R=typeof v,I;if(I===void 0)if(R=="number"||R=="boolean")I=""+v;else if(v===null)I="";else return $t.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I!==void 0&&(v=I,e!==void 0&&(e.method=I))}if(!(v==="ACL"||v==="BIND"||v==="CHECKOUT"||v==="CONNECT"||v==="COPY"||v==="DELETE"||v==="GET"||v==="HEAD"||v==="LINK"||v==="LOCK"||v==="M-SEARCH"||v==="MERGE"||v==="MKACTIVITY"||v==="MKCALENDAR"||v==="MKCOL"||v==="MOVE"||v==="NOTIFY"||v==="OPTIONS"||v==="PATCH"||v==="POST"||v==="PROPFIND"||v==="PROPPATCH"||v==="PURGE"||v==="PUT"||v==="REBIND"||v==="REPORT"||v==="SEARCH"||v==="SOURCE"||v==="SUBSCRIBE"||v==="TRACE"||v==="UNBIND"||v==="UNLINK"||v==="UNLOCK"||v==="UNSUBSCRIBE"||v==="acl"||v==="bind"||v==="checkout"||v==="connect"||v==="copy"||v==="delete"||v==="get"||v==="head"||v==="link"||v==="lock"||v==="m-search"||v==="merge"||v==="mkactivity"||v==="mkcalendar"||v==="mkcol"||v==="move"||v==="notify"||v==="options"||v==="patch"||v==="post"||v==="propfind"||v==="proppatch"||v==="purge"||v==="put"||v==="rebind"||v==="report"||v==="search"||v==="source"||v==="subscribe"||v==="trace"||v==="unbind"||v==="unlink"||v==="unlock"||v==="unsubscribe"))return $t.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:X1e.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var g=O===o}else var g=!0;if(g)if(e.validate!==void 0){let v=e.validate,O=o;if(typeof v!="boolean"){let R;if(R===void 0)if(v==="false"||v===0||v===null)R=!1;else if(v==="true"||v===1)R=!0;else return $t.errors=[{instancePath:t+"/validate",schemaPath:"#/properties/validate/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;R!==void 0&&(v=R,e!==void 0&&(e.validate=R))}var g=O===o}else var g=!0}}}}}}}}}else return $t.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return $t.errors=s,o===0}});var KH=w((zBe,nm)=>{"use strict";var Q1e=require("assert"),FA=MH(),xb=VH(),kb="The dispatch function has already been invoked",GH=WH();function DA(e,t,r){return r===void 0?new im(e,t):Eb(e,t,r)}function YH(e,t,r,i){return r.once("error",function(n){this.destroyed&&i.destroy(n)}),r.once("close",function(){this.destroyed&&!this._error&&i.destroy()}),r.prepare(()=>e.call(t,r,i))}function Eb(e,t,r){if(t=typeof t=="string"?{url:t}:t,t.validate!==!1&&(Q1e(typeof e=="function","dispatchFunc should be a function"),!GH(t)))throw new Error(GH.errors.map(o=>o.message));let i=t.server||{},n=t.Request?FA.CustomRequest:FA;if(e.request&&e.request.app===e&&(Object.setPrototypeOf(Object.getPrototypeOf(e.request),n.prototype),Object.setPrototypeOf(Object.getPrototypeOf(e.response),xb.prototype)),typeof r=="function"){let s=new n(t),o=new xb(s,r);return YH(e,i,s,o)}else return new Promise((s,o)=>{let a=new n(t),l=new xb(a,s,o);YH(e,i,a,l)})}function im(e,t){typeof t=="string"?this.option={url:t}:this.option=Object.assign({},t),this.dispatch=e,this._hasInvoked=!1,this._promise=null,this.option.autoStart!==!1&&process.nextTick(()=>{this._hasInvoked||this.end()})}var eEe=["delete","get","head","options","patch","post","put","trace"];eEe.forEach(e=>{im.prototype[e]=function(t){if(this._hasInvoked===!0||this._promise)throw new Error(kb);return this.option.url=t,this.option.method=e.toUpperCase(),this}});var tEe=["body","cookies","headers","payload","query"];tEe.forEach(e=>{im.prototype[e]=function(t){if(this._hasInvoked===!0||this._promise)throw new Error(kb);return this.option[e]=t,this}});im.prototype.end=function(e){if(this._hasInvoked===!0||this._promise)throw new Error(kb);if(this._hasInvoked=!0,typeof e=="function")Eb(this.dispatch,this.option,e);else return this._promise=Eb(this.dispatch,this.option),this._promise};Object.getOwnPropertyNames(Promise.prototype).forEach(e=>{e!=="constructor"&&(im.prototype[e]=function(...t){if(!this._promise){if(this._hasInvoked===!0)throw new Error(kb);this._hasInvoked=!0,this._promise=Eb(this.dispatch,this.option)}return this._promise[e](...t)})});function rEe(e){return e instanceof FA||e instanceof xb||e&&e.constructor&&e.constructor.name==="_CustomLMRRequest"}nm.exports=DA;nm.exports.default=DA;nm.exports.inject=DA;nm.exports.isInjection=rEe});var u8=w((UBe,cm)=>{"use strict";var iEe="4.28.1",nEe=p$(),LA=require("http"),sm,{kAvvioBoot:om,kChildren:jA,kServerBindings:JH,kBodyLimit:sEe,kRoutePrefix:ZH,kLogLevel:oEe,kLogSerializers:aEe,kHooks:qA,kSchemaController:Ha,kRequestAcceptVersion:lEe,kReplySerializerDefault:XH,kContentTypeParser:cEe,kReply:uEe,kRequest:fEe,kFourOhFour:hEe,kState:Ct,kOptions:MA,kPluginNameChain:am,kSchemaErrorFormatter:zA,kErrorHandler:Rb,kKeepAliveConnections:UA,kChildLoggerFactory:BA,kGenReqId:HA}=tr(),{createServer:dEe,compileValidateHTTPVersion:pEe}=L$(),lm=Rv(),Tb=zv(),mEe=Uv(),{supportedMethods:gEe}=Pk(),Cf=Dk(),pc=Vk(),QH=KO(),{Hooks:yEe,hookRunnerApplication:e8,supportedHooks:VA}=ba(),{createLogger:vEe,createChildLogger:t8,defaultChildLoggerFactory:_Ee}=Fd(),r8=tA(),{getGenReqId:i8,reqIdGenFactory:n8}=Q_(),{buildRouting:bEe,validateBodyLimitOption:wEe}=fH(),SEe=vH(),c8=wH(),xEe=CH(),{FSTDEP009:EEe}=vo(),kEe=IH(),{appendStackTrace:REe,AVVIO_ERRORS_MAP:s8,...mc}=Ir(),{defaultInitOptions:Ci}=c8,{FST_ERR_ASYNC_CONSTRAINT:TEe,FST_ERR_BAD_URL:OEe,FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE:AEe,FST_ERR_OPTIONS_NOT_OBJ:CEe,FST_ERR_QSP_NOT_FN:PEe,FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN:IEe,FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ:NEe,FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR:$Ee,FST_ERR_VERSION_CONSTRAINT_NOT_STR:FEe,FST_ERR_INSTANCE_ALREADY_LISTENING:DEe,FST_ERR_REOPENED_CLOSE_SERVER:LEe,FST_ERR_ROUTE_REWRITE_NOT_STR:jEe,FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN:o8,FST_ERR_ERROR_HANDLER_NOT_FN:qEe}=mc,{buildErrorHandler:a8}=Ld();function MEe(e){let t={};return["errorHandler","logLevel","logSerializers"].concat(VA).forEach(i=>{t[i]=e.store[i]}),Object.assign({},t)}function WA(e){if(e=e||{},typeof e!="object")throw new CEe;if(e.querystringParser&&typeof e.querystringParser!="function")throw new PEe(typeof e.querystringParser);if(e.schemaController&&e.schemaController.bucket&&typeof e.schemaController.bucket!="function")throw new IEe(typeof e.schemaController.bucket);wEe(e.bodyLimit);let t=e.requestIdHeader===!1?!1:(e.requestIdHeader||Ci.requestIdHeader).toLowerCase(),r=n8(t,e.genReqId),i=e.requestIdLogLabel||"reqId",n=e.bodyLimit||Ci.bodyLimit,s=e.disableRequestLogging||!1,o=Object.assign({customOptions:{},plugins:[]},e.ajv),a=e.frameworkErrors;if(!o.customOptions||Object.prototype.toString.call(o.customOptions)!=="[object Object]")throw new NEe(typeof o.customOptions);if(!o.plugins||!Array.isArray(o.plugins))throw new $Ee(typeof o.plugins);let{logger:l,hasLogger:c}=vEe(e);e.connectionTimeout=e.connectionTimeout||Ci.connectionTimeout,e.keepAliveTimeout=e.keepAliveTimeout||Ci.keepAliveTimeout,e.maxRequestsPerSocket=e.maxRequestsPerSocket||Ci.maxRequestsPerSocket,e.requestTimeout=e.requestTimeout||Ci.requestTimeout,e.logger=l,e.requestIdHeader=t,e.requestIdLogLabel=i,e.disableRequestLogging=s,e.ajv=o,e.clientErrorHandler=e.clientErrorHandler||Z;let u=c8(e);e.exposeHeadRoutes=u.exposeHeadRoutes;let f=e.constraints;e.versioning&&(EEe(),f={...f,version:{name:"version",mustMatchWhenDerived:!0,storage:e.versioning.storage,deriveConstraint:e.versioning.deriveVersion,validate(D){if(typeof D!="string")throw new FEe}}});let h=bEe({config:{defaultRoute:he,onBadUrl:K,constraints:f,ignoreTrailingSlash:e.ignoreTrailingSlash||Ci.ignoreTrailingSlash,ignoreDuplicateSlashes:e.ignoreDuplicateSlashes||Ci.ignoreDuplicateSlashes,maxParamLength:e.maxParamLength||Ci.maxParamLength,caseSensitive:e.caseSensitive,allowUnsafeRegex:e.allowUnsafeRegex||Ci.allowUnsafeRegex,buildPrettyMeta:MEe,querystringParser:e.querystringParser,useSemicolonDelimiter:e.useSemicolonDelimiter??Ci.useSemicolonDelimiter}}),p=SEe(e),m=G(h,e);e.http2SessionTimeout=u.http2SessionTimeout;let{server:g,listen:y}=dEe(e,m),_=typeof g.closeAllConnections=="function",S=typeof g.closeIdleConnections=="function",b=e.forceCloseConnections;if(b==="idle"&&!S)throw new AEe;typeof b!="boolean"&&(b=S?"idle":!1);let v=!_&&b===!0?new Set:kEe(),O=lm.setupResponseListeners,j=QH.buildSchemaController(null,e.schemaController),R={[Ct]:{listening:!1,closing:!1,started:!1,ready:!1,booting:!1,readyPromise:null},[UA]:v,[MA]:e,[jA]:[],[JH]:[],[sEe]:n,[ZH]:"",[oEe]:"",[aEe]:null,[qA]:new yEe,[Ha]:j,[zA]:null,[Rb]:a8(),[BA]:_Ee,[XH]:null,[cEe]:new pc(n,e.onProtoPoisoning||Ci.onProtoPoisoning,e.onConstructorPoisoning||Ci.onConstructorPoisoning),[uEe]:lm.buildReply(lm),[fEe]:Tb.buildRequest(Tb,e.trustProxy),[hEe]:p,[r8.kRegisteredPlugins]:[],[am]:["fastify"],[om]:null,[HA]:r,routing:m,getDefaultRoute:h.getDefaultRoute.bind(h),setDefaultRoute:h.setDefaultRoute.bind(h),delete:function(q,W,B){return h.prepareRoute.call(this,{method:"DELETE",url:q,options:W,handler:B})},get:function(q,W,B){return h.prepareRoute.call(this,{method:"GET",url:q,options:W,handler:B})},head:function(q,W,B){return h.prepareRoute.call(this,{method:"HEAD",url:q,options:W,handler:B})},patch:function(q,W,B){return h.prepareRoute.call(this,{method:"PATCH",url:q,options:W,handler:B})},post:function(q,W,B){return h.prepareRoute.call(this,{method:"POST",url:q,options:W,handler:B})},put:function(q,W,B){return h.prepareRoute.call(this,{method:"PUT",url:q,options:W,handler:B})},options:function(q,W,B){return h.prepareRoute.call(this,{method:"OPTIONS",url:q,options:W,handler:B})},all:function(q,W,B){return h.prepareRoute.call(this,{method:gEe,url:q,options:W,handler:B})},route:function(q){return h.route.call(this,{options:q})},hasRoute:function(q){return h.hasRoute.call(this,{options:q})},findRoute:function(q){return h.findRoute(q)},log:l,withTypeProvider:X,addHook:ie,addSchema:J,getSchema:j.getSchema.bind(j),getSchemas:j.getSchemas.bind(j),setValidatorCompiler:ze,setSerializerCompiler:Fi,setSchemaController:ee,setReplySerializer:k,setSchemaErrorFormatter:sn,setGenReqId:U,addContentTypeParser:pc.helpers.addContentTypeParser,hasContentTypeParser:pc.helpers.hasContentTypeParser,getDefaultJsonParser:pc.defaultParsers.getDefaultJsonParser,defaultTextParser:pc.defaultParsers.defaultTextParser,removeContentTypeParser:pc.helpers.removeContentTypeParser,removeAllContentTypeParsers:pc.helpers.removeAllContentTypeParsers,register:null,after:null,ready:null,onClose:null,close:null,printPlugins:null,hasPlugin:function(D){return this[r8.kRegisteredPlugins].includes(D)||this[am].includes(D)},listen:y,server:g,addresses:function(){let D=this[JH].map(q=>q.address());return D.push(this.server.address()),D.filter(q=>q)},decorate:Cf.add,hasDecorator:Cf.exist,decorateReply:Cf.decorateReply,decorateRequest:Cf.decorateRequest,hasRequestDecorator:Cf.existRequest,hasReplyDecorator:Cf.existReply,inject:z,printRoutes:P,setNotFoundHandler:ae,setErrorHandler:E,setChildLoggerFactory:x,initialConfig:u,addConstraintStrategy:h.addConstraintStrategy.bind(h),hasConstraintStrategy:h.hasConstraintStrategy.bind(h)};Object.defineProperties(R,{listeningOrigin:{get(){let D=this.addresses().slice(-1).pop();if(typeof D=="string")return D;let q=D.family==="IPv6"?`[${D.address}]`:D.address;return`${this[MA].https?"https":"http"}://${q}:${D.port}`}},pluginName:{configurable:!0,get(){return this[am].length>1?this[am].join(" -> "):this[am][0]}},prefix:{configurable:!0,get(){return this[ZH]}},validatorCompiler:{configurable:!0,get(){return this[Ha].getValidatorCompiler()}},serializerCompiler:{configurable:!0,get(){return this[Ha].getSerializerCompiler()}},childLoggerFactory:{configurable:!0,get(){return this[BA]}},version:{configurable:!0,get(){return iEe}},errorHandler:{configurable:!0,get(){return this[Rb].func}},genReqId:{configurable:!0,get(){return this[HA]}}}),e.schemaErrorFormatter&&(l8(e.schemaErrorFormatter),R[zA]=e.schemaErrorFormatter.bind(R));let I=Number(e.pluginTimeout),F=nEe(R,{autostart:!1,timeout:isNaN(I)===!1?I:Ci.pluginTimeout,expose:{use:"register"}});F.override=xEe,F.on("start",()=>R[Ct].started=!0),R[om]=R.ready,R.ready=H,R.printPlugins=F.prettyPrint.bind(F),F.once("preReady",()=>{R.onClose((D,q)=>{R[Ct].closing=!0,h.closeRoutes(),e8("preClose",R[om],R,function(){if(R[Ct].listening){if(b==="idle")D.server.closeIdleConnections();else if(_&&b)D.server.closeAllConnections();else if(b===!0)for(let W of R[UA])W.destroy(),R[UA].delete(W)}!e.serverFactory||R[Ct].listening?D.server.close(function(W){W&&W.code!=="ERR_SERVER_NOT_RUNNING"?q(null):q()}):process.nextTick(q,null)})})});let T=new mEe({server:R,config:{}});R.setNotFoundHandler(),p.arrange404(R),h.setup(e,{avvio:F,fourOhFour:p,logger:l,hasLogger:c,setupResponseListeners:O,throwIfAlreadyStarted:$,validateHTTPVersion:pEe(e),keepAliveConnections:v}),g.on("clientError",e.clientErrorHandler.bind(R));try{let q=require("diagnostics_channel").channel("fastify.initialization");q.hasSubscribers&&q.publish({fastify:R})}catch{}return"asyncDispose"in Symbol&&(R[Symbol.asyncDispose]=function(){return R.close()}),R;function $(D){if(R[Ct].started)throw new DEe(D)}function z(D,q){if(sm===void 0&&(sm=KH()),R[Ct].started){if(R[Ct].closing){let W=new LEe;if(q){q(W);return}else return Promise.reject(W)}return sm(m,D,q)}if(q)this.ready(W=>{W?q(W,null):sm(m,D,q)});else return sm((W,B)=>{this.ready(function(M){if(M){B.emit("error",M);return}m(W,B)})},D)}function H(D){if(this[Ct].readyPromise!==null){if(D!=null){this[Ct].readyPromise.then(()=>D(null,R),D);return}return this[Ct].readyPromise}let q,W;if(process.nextTick(B),this[Ct].readyPromise=new Promise(function(V,te){q=V,W=te}),D)this[Ct].readyPromise.then(()=>D(null,R),D);else return this[Ct].readyPromise;function B(){R[om]((V,te)=>{V||R[Ct].started||R[Ct].ready||R[Ct].booting?M(V):(R[Ct].booting=!0,e8("onReady",R[om],R,M)),te()})}function M(V){if(V=V!=null&&s8[V.code]!=null?REe(V,new s8[V.code](V.message)):V,V)return W(V);q(R),R[Ct].booting=!1,R[Ct].ready=!0,R[Ct].promise=null}}function X(){return this}function ie(D,q){if($('Cannot call "addHook"!'),q==null)throw new mc.FST_ERR_HOOK_INVALID_HANDLER(D,q);if(D==="onSend"||D==="preSerialization"||D==="onError"||D==="preParsing"){if(q.constructor.name==="AsyncFunction"&&q.length===4)throw new mc.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(D==="onReady"||D==="onListen"){if(q.constructor.name==="AsyncFunction"&&q.length!==0)throw new mc.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(D==="onRequestAbort"){if(q.constructor.name==="AsyncFunction"&&q.length!==1)throw new mc.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(q.constructor.name==="AsyncFunction"&&q.length===3)throw new mc.FST_ERR_HOOK_INVALID_ASYNC_HANDLER;return D==="onClose"?this.onClose(q):D==="onReady"||D==="onListen"||D==="onRoute"?this[qA].add(D,q):this.after((B,M)=>{W.call(this,D,q),M(B)}),this;function W(B,M){this[qA].add(B,M),this[jA].forEach(V=>W.call(V,B,M))}}function J(D){return $('Cannot call "addSchema"!'),this[Ha].add(D),this[jA].forEach(q=>q.addSchema(D)),this}function Z(D,q){if(D.code==="ECONNRESET"||q.destroyed)return;let W,B,M,V;D.code==="ERR_HTTP_REQUEST_TIMEOUT"?(B="408",M=LA.STATUS_CODES[B],W=`{"error":"${M}","message":"Client Timeout","statusCode":408}`,V="timeout"):D.code==="HPE_HEADER_OVERFLOW"?(B="431",M=LA.STATUS_CODES[B],W=`{"error":"${M}","message":"Exceeded maximum allowed HTTP header size","statusCode":431}`,V="header_overflow"):(B="400",M=LA.STATUS_CODES[B],W=`{"error":"${M}","message":"Client Error","statusCode":400}`,V="error"),this.log.trace({err:D},`client ${V}`),q.writable&&q.write(`HTTP/1.1 ${B} ${M}\r
Content-Length: ${W.length}\r
Content-Type: application/json\r
\r
${W}`),q.destroy(D)}function he(D,q){D.headers["accept-version"]!==void 0&&(D.headers[lEe]=D.headers["accept-version"],D.headers["accept-version"]=void 0),p.router.lookup(D,q)}function K(D,q,W){if(a){let M=i8(T.server,q),V=t8(T,l,q,M),te=new Tb(M,null,q,null,V,T),Te=new lm(W,te,V);return s===!1&&V.info({req:te},"incoming request"),a(new OEe(D),te,Te)}let B=`{"error":"Bad Request","code":"FST_ERR_BAD_URL","message":"'${D}' is not a valid url component","statusCode":400}`;W.writeHead(400,{"Content-Type":"application/json","Content-Length":B.length}),W.end(B)}function rt(D,q,W){if(D!==!1)return function(M){if(M){if(a){let te=i8(T.server,q),Te=t8(T,l,q,te),ne=new Tb(te,null,q,null,Te,T),ye=new lm(W,ne,Te);return s===!1&&Te.info({req:ne},"incoming request"),a(new TEe,ne,ye)}let V='{"error":"Internal Server Error","message":"Unexpected error from async constraint","statusCode":500}';W.writeHead(500,{"Content-Type":"application/json","Content-Length":V.length}),W.end(V)}}}function ae(D,q){return $('Cannot call "setNotFoundHandler"!'),p.setNotFoundHandler.call(this,D,q,F,h.routeHandler),this}function ze(D){return $('Cannot call "setValidatorCompiler"!'),this[Ha].setValidatorCompiler(D),this}function sn(D){return $('Cannot call "setSchemaErrorFormatter"!'),l8(D),this[zA]=D.bind(this),this}function Fi(D){return $('Cannot call "setSerializerCompiler"!'),this[Ha].setSerializerCompiler(D),this}function ee(D){$('Cannot call "setSchemaController"!');let q=this[Ha],W=QH.buildSchemaController(q,Object.assign({},q.opts,D));return this[Ha]=W,this.getSchema=W.getSchema.bind(W),this.getSchemas=W.getSchemas.bind(W),this}function k(D){return $('Cannot call "setReplySerializer"!'),this[XH]=D,this}function E(D){if($('Cannot call "setErrorHandler"!'),typeof D!="function")throw new qEe;return this[Rb]=a8(this[Rb],D.bind(this)),this}function x(D){return $('Cannot call "setChildLoggerFactory"!'),this[BA]=D,this}function P(D={}){return D.includeMeta=D.includeHooks?D.includeMeta?VA.concat(D.includeMeta):VA:D.includeMeta,h.printRoutes(D)}function G(D,{rewriteUrl:q,logger:W}){let B;return function(V,te){if(B===void 0&&(B=D.isAsyncConstraint()),q){V.originalUrl=V.url;let Te=q.call(R,V);if(typeof Te=="string")V.url=Te;else{let ne=new jEe(V.url,typeof Te);V.destroy(ne)}}D.routing(V,te,rt(B,V,te))}}function U(D){return $('Cannot call "setGenReqId"!'),this[HA]=n8(this[MA].requestIdHeader,D),this}}function l8(e){if(typeof e!="function")throw new o8(typeof e);if(e.constructor.name==="AsyncFunction")throw new o8("AsyncFunction")}cm.exports=WA;cm.exports.errorCodes=mc;cm.exports.fastify=WA;cm.exports.default=WA});var ir=w(KA=>{"use strict";KA.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,i)=>{t.push((n,s)=>n!=null?i(n):r(s)),e.apply(this,t)})},"name",{value:e.name})};KA.fromPromise=function(e){return Object.defineProperty(function(...t){let r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(i=>r(null,i),r)},"name",{value:e.name})}});var m8=w((VBe,p8)=>{var Va=require("constants"),ike=process.cwd,Ob=null,nke=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Ob||(Ob=ike.call(process)),Ob};try{process.cwd()}catch{}typeof process.chdir=="function"&&(JA=process.chdir,process.chdir=function(e){Ob=null,JA.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,JA));var JA;p8.exports=ske;function ske(e){Va.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=i(e.chmod),e.fchmod=i(e.fchmod),e.lchmod=i(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=n(e.chmodSync),e.fchmodSync=n(e.fchmodSync),e.lchmodSync=n(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(u,f,h){h&&process.nextTick(h)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(u,f,h,p){p&&process.nextTick(p)},e.lchownSync=function(){}),nke==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(u){function f(h,p,m){var g=Date.now(),y=0;u(h,p,function _(S){if(S&&(S.code==="EACCES"||S.code==="EPERM"||S.code==="EBUSY")&&Date.now()-g<6e4){setTimeout(function(){e.stat(p,function(b,v){b&&b.code==="ENOENT"?u(h,p,_):m(S)})},y),y<100&&(y+=10);return}m&&m(S)})}return Object.setPrototypeOf&&Object.setPrototypeOf(f,u),f}(e.rename)),e.read=typeof e.read!="function"?e.read:function(u){function f(h,p,m,g,y,_){var S;if(_&&typeof _=="function"){var b=0;S=function(v,O,j){if(v&&v.code==="EAGAIN"&&b<10)return b++,u.call(e,h,p,m,g,y,S);_.apply(this,arguments)}}return u.call(e,h,p,m,g,y,S)}return Object.setPrototypeOf&&Object.setPrototypeOf(f,u),f}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(u){return function(f,h,p,m,g){for(var y=0;;)try{return u.call(e,f,h,p,m,g)}catch(_){if(_.code==="EAGAIN"&&y<10){y++;continue}throw _}}}(e.readSync);function t(u){u.lchmod=function(f,h,p){u.open(f,Va.O_WRONLY|Va.O_SYMLINK,h,function(m,g){if(m){p&&p(m);return}u.fchmod(g,h,function(y){u.close(g,function(_){p&&p(y||_)})})})},u.lchmodSync=function(f,h){var p=u.openSync(f,Va.O_WRONLY|Va.O_SYMLINK,h),m=!0,g;try{g=u.fchmodSync(p,h),m=!1}finally{if(m)try{u.closeSync(p)}catch{}else u.closeSync(p)}return g}}function r(u){Va.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(f,h,p,m){u.open(f,Va.O_SYMLINK,function(g,y){if(g){m&&m(g);return}u.futimes(y,h,p,function(_){u.close(y,function(S){m&&m(_||S)})})})},u.lutimesSync=function(f,h,p){var m=u.openSync(f,Va.O_SYMLINK),g,y=!0;try{g=u.futimesSync(m,h,p),y=!1}finally{if(y)try{u.closeSync(m)}catch{}else u.closeSync(m)}return g}):u.futimes&&(u.lutimes=function(f,h,p,m){m&&process.nextTick(m)},u.lutimesSync=function(){})}function i(u){return u&&function(f,h,p){return u.call(e,f,h,function(m){c(m)&&(m=null),p&&p.apply(this,arguments)})}}function n(u){return u&&function(f,h){try{return u.call(e,f,h)}catch(p){if(!c(p))throw p}}}function s(u){return u&&function(f,h,p,m){return u.call(e,f,h,p,function(g){c(g)&&(g=null),m&&m.apply(this,arguments)})}}function o(u){return u&&function(f,h,p){try{return u.call(e,f,h,p)}catch(m){if(!c(m))throw m}}}function a(u){return u&&function(f,h,p){typeof h=="function"&&(p=h,h=null);function m(g,y){y&&(y.uid<0&&(y.uid+=4294967296),y.gid<0&&(y.gid+=4294967296)),p&&p.apply(this,arguments)}return h?u.call(e,f,h,m):u.call(e,f,m)}}function l(u){return u&&function(f,h){var p=h?u.call(e,f,h):u.call(e,f);return p&&(p.uid<0&&(p.uid+=4294967296),p.gid<0&&(p.gid+=4294967296)),p}}function c(u){if(!u||u.code==="ENOSYS")return!0;var f=!process.getuid||process.getuid()!==0;return!!(f&&(u.code==="EINVAL"||u.code==="EPERM"))}}});var v8=w((WBe,y8)=>{var g8=require("stream").Stream;y8.exports=oke;function oke(e){return{ReadStream:t,WriteStream:r};function t(i,n){if(!(this instanceof t))return new t(i,n);g8.call(this);var s=this;this.path=i,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,n=n||{};for(var o=Object.keys(n),a=0,l=o.length;a<l;a++){var c=o[a];this[c]=n[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}e.open(this.path,this.flags,this.mode,function(u,f){if(u){s.emit("error",u),s.readable=!1;return}s.fd=f,s.emit("open",f),s._read()})}function r(i,n){if(!(this instanceof r))return new r(i,n);g8.call(this),this.path=i,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,n=n||{};for(var s=Object.keys(n),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=n[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var b8=w((GBe,_8)=>{"use strict";_8.exports=lke;var ake=Object.getPrototypeOf||function(e){return e.__proto__};function lke(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:ake(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}});var $f=w((YBe,QA)=>{var yt=require("fs"),cke=m8(),uke=v8(),fke=b8(),Ab=require("util"),Rr,Pb;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Rr=Symbol.for("graceful-fs.queue"),Pb=Symbol.for("graceful-fs.previous")):(Rr="___graceful-fs.queue",Pb="___graceful-fs.previous");function hke(){}function x8(e,t){Object.defineProperty(e,Rr,{get:function(){return t}})}var gc=hke;Ab.debuglog?gc=Ab.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(gc=function(){var e=Ab.format.apply(Ab,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});yt[Rr]||(w8=global[Rr]||[],x8(yt,w8),yt.close=function(e){function t(r,i){return e.call(yt,r,function(n){n||S8(),typeof i=="function"&&i.apply(this,arguments)})}return Object.defineProperty(t,Pb,{value:e}),t}(yt.close),yt.closeSync=function(e){function t(r){e.apply(yt,arguments),S8()}return Object.defineProperty(t,Pb,{value:e}),t}(yt.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){gc(yt[Rr]),require("assert").equal(yt[Rr].length,0)}));var w8;global[Rr]||x8(global,yt[Rr]);QA.exports=ZA(fke(yt));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!yt.__patched&&(QA.exports=ZA(yt),yt.__patched=!0);function ZA(e){cke(e),e.gracefulify=ZA,e.createReadStream=O,e.createWriteStream=j;var t=e.readFile;e.readFile=r;function r(F,T,$){return typeof T=="function"&&($=T,T=null),z(F,T,$);function z(H,X,ie,J){return t(H,X,function(Z){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?Nf([z,[H,X,ie],Z,J||Date.now(),Date.now()]):typeof ie=="function"&&ie.apply(this,arguments)})}}var i=e.writeFile;e.writeFile=n;function n(F,T,$,z){return typeof $=="function"&&(z=$,$=null),H(F,T,$,z);function H(X,ie,J,Z,he){return i(X,ie,J,function(K){K&&(K.code==="EMFILE"||K.code==="ENFILE")?Nf([H,[X,ie,J,Z],K,he||Date.now(),Date.now()]):typeof Z=="function"&&Z.apply(this,arguments)})}}var s=e.appendFile;s&&(e.appendFile=o);function o(F,T,$,z){return typeof $=="function"&&(z=$,$=null),H(F,T,$,z);function H(X,ie,J,Z,he){return s(X,ie,J,function(K){K&&(K.code==="EMFILE"||K.code==="ENFILE")?Nf([H,[X,ie,J,Z],K,he||Date.now(),Date.now()]):typeof Z=="function"&&Z.apply(this,arguments)})}}var a=e.copyFile;a&&(e.copyFile=l);function l(F,T,$,z){return typeof $=="function"&&(z=$,$=0),H(F,T,$,z);function H(X,ie,J,Z,he){return a(X,ie,J,function(K){K&&(K.code==="EMFILE"||K.code==="ENFILE")?Nf([H,[X,ie,J,Z],K,he||Date.now(),Date.now()]):typeof Z=="function"&&Z.apply(this,arguments)})}}var c=e.readdir;e.readdir=f;var u=/^v[0-5]\./;function f(F,T,$){typeof T=="function"&&($=T,T=null);var z=u.test(process.version)?function(ie,J,Z,he){return c(ie,H(ie,J,Z,he))}:function(ie,J,Z,he){return c(ie,J,H(ie,J,Z,he))};return z(F,T,$);function H(X,ie,J,Z){return function(he,K){he&&(he.code==="EMFILE"||he.code==="ENFILE")?Nf([z,[X,ie,J],he,Z||Date.now(),Date.now()]):(K&&K.sort&&K.sort(),typeof J=="function"&&J.call(this,he,K))}}}if(process.version.substr(0,4)==="v0.8"){var h=uke(e);_=h.ReadStream,b=h.WriteStream}var p=e.ReadStream;p&&(_.prototype=Object.create(p.prototype),_.prototype.open=S);var m=e.WriteStream;m&&(b.prototype=Object.create(m.prototype),b.prototype.open=v),Object.defineProperty(e,"ReadStream",{get:function(){return _},set:function(F){_=F},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return b},set:function(F){b=F},enumerable:!0,configurable:!0});var g=_;Object.defineProperty(e,"FileReadStream",{get:function(){return g},set:function(F){g=F},enumerable:!0,configurable:!0});var y=b;Object.defineProperty(e,"FileWriteStream",{get:function(){return y},set:function(F){y=F},enumerable:!0,configurable:!0});function _(F,T){return this instanceof _?(p.apply(this,arguments),this):_.apply(Object.create(_.prototype),arguments)}function S(){var F=this;I(F.path,F.flags,F.mode,function(T,$){T?(F.autoClose&&F.destroy(),F.emit("error",T)):(F.fd=$,F.emit("open",$),F.read())})}function b(F,T){return this instanceof b?(m.apply(this,arguments),this):b.apply(Object.create(b.prototype),arguments)}function v(){var F=this;I(F.path,F.flags,F.mode,function(T,$){T?(F.destroy(),F.emit("error",T)):(F.fd=$,F.emit("open",$))})}function O(F,T){return new e.ReadStream(F,T)}function j(F,T){return new e.WriteStream(F,T)}var R=e.open;e.open=I;function I(F,T,$,z){return typeof $=="function"&&(z=$,$=null),H(F,T,$,z);function H(X,ie,J,Z,he){return R(X,ie,J,function(K,rt){K&&(K.code==="EMFILE"||K.code==="ENFILE")?Nf([H,[X,ie,J,Z],K,he||Date.now(),Date.now()]):typeof Z=="function"&&Z.apply(this,arguments)})}}return e}function Nf(e){gc("ENQUEUE",e[0].name,e[1]),yt[Rr].push(e),XA()}var Cb;function S8(){for(var e=Date.now(),t=0;t<yt[Rr].length;++t)yt[Rr][t].length>2&&(yt[Rr][t][3]=e,yt[Rr][t][4]=e);XA()}function XA(){if(clearTimeout(Cb),Cb=void 0,yt[Rr].length!==0){var e=yt[Rr].shift(),t=e[0],r=e[1],i=e[2],n=e[3],s=e[4];if(n===void 0)gc("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-n>=6e4){gc("TIMEOUT",t.name,r);var o=r.pop();typeof o=="function"&&o.call(null,i)}else{var a=Date.now()-s,l=Math.max(s-n,1),c=Math.min(l*1.2,100);a>=c?(gc("RETRY",t.name,r),t.apply(null,r.concat([n]))):yt[Rr].push(e)}Cb===void 0&&(Cb=setTimeout(XA,0))}}});var ai=w(Lo=>{"use strict";var E8=ir().fromCallback,oi=$f(),dke=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>typeof oi[e]=="function");Object.assign(Lo,oi);dke.forEach(e=>{Lo[e]=E8(oi[e])});Lo.exists=function(e,t){return typeof t=="function"?oi.exists(e,t):new Promise(r=>oi.exists(e,r))};Lo.read=function(e,t,r,i,n,s){return typeof s=="function"?oi.read(e,t,r,i,n,s):new Promise((o,a)=>{oi.read(e,t,r,i,n,(l,c,u)=>{if(l)return a(l);o({bytesRead:c,buffer:u})})})};Lo.write=function(e,t,...r){return typeof r[r.length-1]=="function"?oi.write(e,t,...r):new Promise((i,n)=>{oi.write(e,t,...r,(s,o,a)=>{if(s)return n(s);i({bytesWritten:o,buffer:a})})})};Lo.readv=function(e,t,...r){return typeof r[r.length-1]=="function"?oi.readv(e,t,...r):new Promise((i,n)=>{oi.readv(e,t,...r,(s,o,a)=>{if(s)return n(s);i({bytesRead:o,buffers:a})})})};Lo.writev=function(e,t,...r){return typeof r[r.length-1]=="function"?oi.writev(e,t,...r):new Promise((i,n)=>{oi.writev(e,t,...r,(s,o,a)=>{if(s)return n(s);i({bytesWritten:o,buffers:a})})})};typeof oi.realpath.native=="function"?Lo.realpath.native=E8(oi.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var R8=w((JBe,k8)=>{"use strict";var pke=require("path");k8.exports.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(pke.parse(t).root,""))){let i=new Error(`Path contains invalid characters: ${t}`);throw i.code="EINVAL",i}}});var C8=w((ZBe,eC)=>{"use strict";var T8=ai(),{checkPath:O8}=R8(),A8=e=>{let t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};eC.exports.makeDir=async(e,t)=>(O8(e),T8.mkdir(e,{mode:A8(t),recursive:!0}));eC.exports.makeDirSync=(e,t)=>(O8(e),T8.mkdirSync(e,{mode:A8(t),recursive:!0}))});var Un=w((XBe,P8)=>{"use strict";var mke=ir().fromPromise,{makeDir:gke,makeDirSync:tC}=C8(),rC=mke(gke);P8.exports={mkdirs:rC,mkdirsSync:tC,mkdirp:rC,mkdirpSync:tC,ensureDir:rC,ensureDirSync:tC}});var Wa=w((QBe,N8)=>{"use strict";var yke=ir().fromPromise,I8=ai();function vke(e){return I8.access(e).then(()=>!0).catch(()=>!1)}N8.exports={pathExists:yke(vke),pathExistsSync:I8.existsSync}});var iC=w((eHe,$8)=>{"use strict";var Ff=ai(),_ke=ir().fromPromise;async function bke(e,t,r){let i=await Ff.open(e,"r+"),n=null;try{await Ff.futimes(i,t,r)}finally{try{await Ff.close(i)}catch(s){n=s}}if(n)throw n}function wke(e,t,r){let i=Ff.openSync(e,"r+");return Ff.futimesSync(i,t,r),Ff.closeSync(i)}$8.exports={utimesMillis:_ke(bke),utimesMillisSync:wke}});var yc=w((tHe,j8)=>{"use strict";var Df=ai(),nr=require("path"),F8=ir().fromPromise;function Ske(e,t,r){let i=r.dereference?n=>Df.stat(n,{bigint:!0}):n=>Df.lstat(n,{bigint:!0});return Promise.all([i(e),i(t).catch(n=>{if(n.code==="ENOENT")return null;throw n})]).then(([n,s])=>({srcStat:n,destStat:s}))}function xke(e,t,r){let i,n=r.dereference?o=>Df.statSync(o,{bigint:!0}):o=>Df.lstatSync(o,{bigint:!0}),s=n(e);try{i=n(t)}catch(o){if(o.code==="ENOENT")return{srcStat:s,destStat:null};throw o}return{srcStat:s,destStat:i}}async function Eke(e,t,r,i){let{srcStat:n,destStat:s}=await Ske(e,t,i);if(s){if(hm(n,s)){let o=nr.basename(e),a=nr.basename(t);if(r==="move"&&o!==a&&o.toLowerCase()===a.toLowerCase())return{srcStat:n,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(n.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!n.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(n.isDirectory()&&nC(e,t))throw new Error(Ib(e,t,r));return{srcStat:n,destStat:s}}function kke(e,t,r,i){let{srcStat:n,destStat:s}=xke(e,t,i);if(s){if(hm(n,s)){let o=nr.basename(e),a=nr.basename(t);if(r==="move"&&o!==a&&o.toLowerCase()===a.toLowerCase())return{srcStat:n,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(n.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!n.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(n.isDirectory()&&nC(e,t))throw new Error(Ib(e,t,r));return{srcStat:n,destStat:s}}async function D8(e,t,r,i){let n=nr.resolve(nr.dirname(e)),s=nr.resolve(nr.dirname(r));if(s===n||s===nr.parse(s).root)return;let o;try{o=await Df.stat(s,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(hm(t,o))throw new Error(Ib(e,r,i));return D8(e,t,s,i)}function L8(e,t,r,i){let n=nr.resolve(nr.dirname(e)),s=nr.resolve(nr.dirname(r));if(s===n||s===nr.parse(s).root)return;let o;try{o=Df.statSync(s,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(hm(t,o))throw new Error(Ib(e,r,i));return L8(e,t,s,i)}function hm(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function nC(e,t){let r=nr.resolve(e).split(nr.sep).filter(n=>n),i=nr.resolve(t).split(nr.sep).filter(n=>n);return r.every((n,s)=>i[s]===n)}function Ib(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}j8.exports={checkPaths:F8(Eke),checkPathsSync:kke,checkParentPaths:F8(D8),checkParentPathsSync:L8,isSrcSubdir:nC,areIdentical:hm}});var B8=w((rHe,U8)=>{"use strict";var Mr=ai(),dm=require("path"),{mkdirs:Rke}=Un(),{pathExists:Tke}=Wa(),{utimesMillis:Oke}=iC(),pm=yc();async function Ake(e,t,r={}){typeof r=="function"&&(r={filter:r}),r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");let{srcStat:i,destStat:n}=await pm.checkPaths(e,t,"copy",r);if(await pm.checkParentPaths(e,i,t,"copy"),!await M8(e,t,r))return;let o=dm.dirname(t);await Tke(o)||await Rke(o),await z8(n,e,t,r)}async function M8(e,t,r){return r.filter?r.filter(e,t):!0}async function z8(e,t,r,i){let s=await(i.dereference?Mr.stat:Mr.lstat)(t);if(s.isDirectory())return Nke(s,e,t,r,i);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return Cke(s,e,t,r,i);if(s.isSymbolicLink())return $ke(e,t,r,i);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}async function Cke(e,t,r,i,n){if(!t)return q8(e,r,i,n);if(n.overwrite)return await Mr.unlink(i),q8(e,r,i,n);if(n.errorOnExist)throw new Error(`'${i}' already exists`)}async function q8(e,t,r,i){if(await Mr.copyFile(t,r),i.preserveTimestamps){Pke(e.mode)&&await Ike(r,e.mode);let n=await Mr.stat(t);await Oke(r,n.atime,n.mtime)}return Mr.chmod(r,e.mode)}function Pke(e){return(e&128)===0}function Ike(e,t){return Mr.chmod(e,t|128)}async function Nke(e,t,r,i,n){t||await Mr.mkdir(i);let s=await Mr.readdir(r);await Promise.all(s.map(async o=>{let a=dm.join(r,o),l=dm.join(i,o);if(!await M8(a,l,n))return;let{destStat:u}=await pm.checkPaths(a,l,"copy",n);return z8(u,a,l,n)})),t||await Mr.chmod(i,e.mode)}async function $ke(e,t,r,i){let n=await Mr.readlink(t);if(i.dereference&&(n=dm.resolve(process.cwd(),n)),!e)return Mr.symlink(n,r);let s=null;try{s=await Mr.readlink(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Mr.symlink(n,r);throw o}if(i.dereference&&(s=dm.resolve(process.cwd(),s)),pm.isSrcSubdir(n,s))throw new Error(`Cannot copy '${n}' to a subdirectory of itself, '${s}'.`);if(pm.isSrcSubdir(s,n))throw new Error(`Cannot overwrite '${s}' with '${n}'.`);return await Mr.unlink(r),Mr.symlink(n,r)}U8.exports=Ake});var Y8=w((iHe,G8)=>{"use strict";var li=$f(),mm=require("path"),Fke=Un().mkdirsSync,Dke=iC().utimesMillisSync,gm=yc();function Lke(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:i,destStat:n}=gm.checkPathsSync(e,t,"copy",r);if(gm.checkParentPathsSync(e,i,t,"copy"),r.filter&&!r.filter(e,t))return;let s=mm.dirname(t);return li.existsSync(s)||Fke(s),H8(n,e,t,r)}function H8(e,t,r,i){let s=(i.dereference?li.statSync:li.lstatSync)(t);if(s.isDirectory())return Hke(s,e,t,r,i);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return jke(s,e,t,r,i);if(s.isSymbolicLink())return Gke(e,t,r,i);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function jke(e,t,r,i,n){return t?qke(e,r,i,n):V8(e,r,i,n)}function qke(e,t,r,i){if(i.overwrite)return li.unlinkSync(r),V8(e,t,r,i);if(i.errorOnExist)throw new Error(`'${r}' already exists`)}function V8(e,t,r,i){return li.copyFileSync(t,r),i.preserveTimestamps&&Mke(e.mode,t,r),sC(r,e.mode)}function Mke(e,t,r){return zke(e)&&Uke(r,e),Bke(t,r)}function zke(e){return(e&128)===0}function Uke(e,t){return sC(e,t|128)}function sC(e,t){return li.chmodSync(e,t)}function Bke(e,t){let r=li.statSync(e);return Dke(t,r.atime,r.mtime)}function Hke(e,t,r,i,n){return t?W8(r,i,n):Vke(e.mode,r,i,n)}function Vke(e,t,r,i){return li.mkdirSync(r),W8(t,r,i),sC(r,e)}function W8(e,t,r){li.readdirSync(e).forEach(i=>Wke(i,e,t,r))}function Wke(e,t,r,i){let n=mm.join(t,e),s=mm.join(r,e);if(i.filter&&!i.filter(n,s))return;let{destStat:o}=gm.checkPathsSync(n,s,"copy",i);return H8(o,n,s,i)}function Gke(e,t,r,i){let n=li.readlinkSync(t);if(i.dereference&&(n=mm.resolve(process.cwd(),n)),e){let s;try{s=li.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return li.symlinkSync(n,r);throw o}if(i.dereference&&(s=mm.resolve(process.cwd(),s)),gm.isSrcSubdir(n,s))throw new Error(`Cannot copy '${n}' to a subdirectory of itself, '${s}'.`);if(gm.isSrcSubdir(s,n))throw new Error(`Cannot overwrite '${s}' with '${n}'.`);return Yke(n,r)}else return li.symlinkSync(n,r)}function Yke(e,t){return li.unlinkSync(t),li.symlinkSync(e,t)}G8.exports=Lke});var Nb=w((nHe,K8)=>{"use strict";var Kke=ir().fromPromise;K8.exports={copy:Kke(B8()),copySync:Y8()}});var ym=w((sHe,Z8)=>{"use strict";var J8=$f(),Jke=ir().fromCallback;function Zke(e,t){J8.rm(e,{recursive:!0,force:!0},t)}function Xke(e){J8.rmSync(e,{recursive:!0,force:!0})}Z8.exports={remove:Jke(Zke),removeSync:Xke}});var s6=w((oHe,n6)=>{"use strict";var Qke=ir().fromPromise,e6=ai(),t6=require("path"),r6=Un(),i6=ym(),X8=Qke(async function(t){let r;try{r=await e6.readdir(t)}catch{return r6.mkdirs(t)}return Promise.all(r.map(i=>i6.remove(t6.join(t,i))))});function Q8(e){let t;try{t=e6.readdirSync(e)}catch{return r6.mkdirsSync(e)}t.forEach(r=>{r=t6.join(e,r),i6.removeSync(r)})}n6.exports={emptyDirSync:Q8,emptydirSync:Q8,emptyDir:X8,emptydir:X8}});var c6=w((aHe,l6)=>{"use strict";var eRe=ir().fromPromise,o6=require("path"),jo=ai(),a6=Un();async function tRe(e){let t;try{t=await jo.stat(e)}catch{}if(t&&t.isFile())return;let r=o6.dirname(e),i=null;try{i=await jo.stat(r)}catch(n){if(n.code==="ENOENT"){await a6.mkdirs(r),await jo.writeFile(e,"");return}else throw n}i.isDirectory()?await jo.writeFile(e,""):await jo.readdir(r)}function rRe(e){let t;try{t=jo.statSync(e)}catch{}if(t&&t.isFile())return;let r=o6.dirname(e);try{jo.statSync(r).isDirectory()||jo.readdirSync(r)}catch(i){if(i&&i.code==="ENOENT")a6.mkdirsSync(r);else throw i}jo.writeFileSync(e,"")}l6.exports={createFile:eRe(tRe),createFileSync:rRe}});var p6=w((lHe,d6)=>{"use strict";var iRe=ir().fromPromise,u6=require("path"),Ga=ai(),f6=Un(),{pathExists:nRe}=Wa(),{areIdentical:h6}=yc();async function sRe(e,t){let r;try{r=await Ga.lstat(t)}catch{}let i;try{i=await Ga.lstat(e)}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}if(r&&h6(i,r))return;let n=u6.dirname(t);await nRe(n)||await f6.mkdirs(n),await Ga.link(e,t)}function oRe(e,t){let r;try{r=Ga.lstatSync(t)}catch{}try{let s=Ga.lstatSync(e);if(r&&h6(s,r))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}let i=u6.dirname(t);return Ga.existsSync(i)||f6.mkdirsSync(i),Ga.linkSync(e,t)}d6.exports={createLink:iRe(sRe),createLinkSync:oRe}});var g6=w((cHe,m6)=>{"use strict";var Ya=require("path"),vm=ai(),{pathExists:aRe}=Wa(),lRe=ir().fromPromise;async function cRe(e,t){if(Ya.isAbsolute(e)){try{await vm.lstat(e)}catch(s){throw s.message=s.message.replace("lstat","ensureSymlink"),s}return{toCwd:e,toDst:e}}let r=Ya.dirname(t),i=Ya.join(r,e);if(await aRe(i))return{toCwd:i,toDst:e};try{await vm.lstat(e)}catch(s){throw s.message=s.message.replace("lstat","ensureSymlink"),s}return{toCwd:e,toDst:Ya.relative(r,e)}}function uRe(e,t){if(Ya.isAbsolute(e)){if(!vm.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}let r=Ya.dirname(t),i=Ya.join(r,e);if(vm.existsSync(i))return{toCwd:i,toDst:e};if(!vm.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:Ya.relative(r,e)}}m6.exports={symlinkPaths:lRe(cRe),symlinkPathsSync:uRe}});var _6=w((uHe,v6)=>{"use strict";var y6=ai(),fRe=ir().fromPromise;async function hRe(e,t){if(t)return t;let r;try{r=await y6.lstat(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}function dRe(e,t){if(t)return t;let r;try{r=y6.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}v6.exports={symlinkType:fRe(hRe),symlinkTypeSync:dRe}});var x6=w((fHe,S6)=>{"use strict";var pRe=ir().fromPromise,b6=require("path"),js=ai(),{mkdirs:mRe,mkdirsSync:gRe}=Un(),{symlinkPaths:yRe,symlinkPathsSync:vRe}=g6(),{symlinkType:_Re,symlinkTypeSync:bRe}=_6(),{pathExists:wRe}=Wa(),{areIdentical:w6}=yc();async function SRe(e,t,r){let i;try{i=await js.lstat(t)}catch{}if(i&&i.isSymbolicLink()){let[a,l]=await Promise.all([js.stat(e),js.stat(t)]);if(w6(a,l))return}let n=await yRe(e,t);e=n.toDst;let s=await _Re(n.toCwd,r),o=b6.dirname(t);return await wRe(o)||await mRe(o),js.symlink(e,t,s)}function xRe(e,t,r){let i;try{i=js.lstatSync(t)}catch{}if(i&&i.isSymbolicLink()){let a=js.statSync(e),l=js.statSync(t);if(w6(a,l))return}let n=vRe(e,t);e=n.toDst,r=bRe(n.toCwd,r);let s=b6.dirname(t);return js.existsSync(s)||gRe(s),js.symlinkSync(e,t,r)}S6.exports={createSymlink:pRe(SRe),createSymlinkSync:xRe}});var P6=w((hHe,C6)=>{"use strict";var{createFile:E6,createFileSync:k6}=c6(),{createLink:R6,createLinkSync:T6}=p6(),{createSymlink:O6,createSymlinkSync:A6}=x6();C6.exports={createFile:E6,createFileSync:k6,ensureFile:E6,ensureFileSync:k6,createLink:R6,createLinkSync:T6,ensureLink:R6,ensureLinkSync:T6,createSymlink:O6,createSymlinkSync:A6,ensureSymlink:O6,ensureSymlinkSync:A6}});var $b=w((dHe,I6)=>{function ERe(e,{EOL:t=`
`,finalEOL:r=!0,replacer:i=null,spaces:n}={}){let s=r?t:"";return JSON.stringify(e,i,n).replace(/\n/g,t)+s}function kRe(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}I6.exports={stringify:ERe,stripBom:kRe}});var D6=w((pHe,F6)=>{var Lf;try{Lf=$f()}catch{Lf=require("fs")}var Fb=ir(),{stringify:N6,stripBom:$6}=$b();async function RRe(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||Lf,i="throws"in t?t.throws:!0,n=await Fb.fromCallback(r.readFile)(e,t);n=$6(n);let s;try{s=JSON.parse(n,t?t.reviver:null)}catch(o){if(i)throw o.message=`${e}: ${o.message}`,o;return null}return s}var TRe=Fb.fromPromise(RRe);function ORe(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||Lf,i="throws"in t?t.throws:!0;try{let n=r.readFileSync(e,t);return n=$6(n),JSON.parse(n,t.reviver)}catch(n){if(i)throw n.message=`${e}: ${n.message}`,n;return null}}async function ARe(e,t,r={}){let i=r.fs||Lf,n=N6(t,r);await Fb.fromCallback(i.writeFile)(e,n,r)}var CRe=Fb.fromPromise(ARe);function PRe(e,t,r={}){let i=r.fs||Lf,n=N6(t,r);return i.writeFileSync(e,n,r)}var IRe={readFile:TRe,readFileSync:ORe,writeFile:CRe,writeFileSync:PRe};F6.exports=IRe});var j6=w((mHe,L6)=>{"use strict";var Db=D6();L6.exports={readJson:Db.readFile,readJsonSync:Db.readFileSync,writeJson:Db.writeFile,writeJsonSync:Db.writeFileSync}});var Lb=w((gHe,z6)=>{"use strict";var NRe=ir().fromPromise,oC=ai(),q6=require("path"),M6=Un(),$Re=Wa().pathExists;async function FRe(e,t,r="utf-8"){let i=q6.dirname(e);return await $Re(i)||await M6.mkdirs(i),oC.writeFile(e,t,r)}function DRe(e,...t){let r=q6.dirname(e);oC.existsSync(r)||M6.mkdirsSync(r),oC.writeFileSync(e,...t)}z6.exports={outputFile:NRe(FRe),outputFileSync:DRe}});var B6=w((yHe,U6)=>{"use strict";var{stringify:LRe}=$b(),{outputFile:jRe}=Lb();async function qRe(e,t,r={}){let i=LRe(t,r);await jRe(e,i,r)}U6.exports=qRe});var V6=w((vHe,H6)=>{"use strict";var{stringify:MRe}=$b(),{outputFileSync:zRe}=Lb();function URe(e,t,r){let i=MRe(t,r);zRe(e,i,r)}H6.exports=URe});var G6=w((_He,W6)=>{"use strict";var BRe=ir().fromPromise,ci=j6();ci.outputJson=BRe(B6());ci.outputJsonSync=V6();ci.outputJSON=ci.outputJson;ci.outputJSONSync=ci.outputJsonSync;ci.writeJSON=ci.writeJson;ci.writeJSONSync=ci.writeJsonSync;ci.readJSON=ci.readJson;ci.readJSONSync=ci.readJsonSync;W6.exports=ci});var X6=w((bHe,Z6)=>{"use strict";var HRe=ai(),Y6=require("path"),{copy:VRe}=Nb(),{remove:J6}=ym(),{mkdirp:WRe}=Un(),{pathExists:GRe}=Wa(),K6=yc();async function YRe(e,t,r={}){let i=r.overwrite||r.clobber||!1,{srcStat:n,isChangingCase:s=!1}=await K6.checkPaths(e,t,"move",r);await K6.checkParentPaths(e,n,t,"move");let o=Y6.dirname(t);return Y6.parse(o).root!==o&&await WRe(o),KRe(e,t,i,s)}async function KRe(e,t,r,i){if(!i){if(r)await J6(t);else if(await GRe(t))throw new Error("dest already exists.")}try{await HRe.rename(e,t)}catch(n){if(n.code!=="EXDEV")throw n;await JRe(e,t,r)}}async function JRe(e,t,r){return await VRe(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),J6(e)}Z6.exports=YRe});var i9=w((wHe,r9)=>{"use strict";var e9=$f(),lC=require("path"),ZRe=Nb().copySync,t9=ym().removeSync,XRe=Un().mkdirpSync,Q6=yc();function QRe(e,t,r){r=r||{};let i=r.overwrite||r.clobber||!1,{srcStat:n,isChangingCase:s=!1}=Q6.checkPathsSync(e,t,"move",r);return Q6.checkParentPathsSync(e,n,t,"move"),eTe(t)||XRe(lC.dirname(t)),tTe(e,t,i,s)}function eTe(e){let t=lC.dirname(e);return lC.parse(t).root===t}function tTe(e,t,r,i){if(i)return aC(e,t,r);if(r)return t9(t),aC(e,t,r);if(e9.existsSync(t))throw new Error("dest already exists.");return aC(e,t,r)}function aC(e,t,r){try{e9.renameSync(e,t)}catch(i){if(i.code!=="EXDEV")throw i;return rTe(e,t,r)}}function rTe(e,t,r){return ZRe(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),t9(e)}r9.exports=QRe});var s9=w((SHe,n9)=>{"use strict";var iTe=ir().fromPromise;n9.exports={move:iTe(X6()),moveSync:i9()}});var jb=w((xHe,o9)=>{"use strict";o9.exports={...ai(),...Nb(),...s6(),...P6(),...G6(),...Un(),...s9(),...Lb(),...Wa(),...ym()}});var cC=w((PHe,h9)=>{"use strict";h9.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var p9=w((IHe,d9)=>{d9.exports=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")}});var y9=w((NHe,g9)=>{"use strict";var nTe=p9(),sTe=Array.prototype.concat,oTe=Array.prototype.slice,m9=g9.exports=function(t){for(var r=[],i=0,n=t.length;i<n;i++){var s=t[i];nTe(s)?r=sTe.call(r,oTe.call(s)):r.push(s)}return r};m9.wrap=function(e){return function(){return e(m9(arguments))}}});var w9=w(($He,b9)=>{var _m=cC(),bm=y9(),v9=Object.hasOwnProperty,_9=Object.create(null);for(Hb in _m)v9.call(_m,Hb)&&(_9[_m[Hb]]=Hb);var Hb,qi=b9.exports={to:{},get:{}};qi.get=function(e){var t=e.substring(0,3).toLowerCase(),r,i;switch(t){case"hsl":r=qi.get.hsl(e),i="hsl";break;case"hwb":r=qi.get.hwb(e),i="hwb";break;default:r=qi.get.rgb(e),i="rgb";break}return r?{model:i,value:r}:null};qi.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,i=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,n=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^(\w+)$/,o=[0,0,0,1],a,l,c;if(a=e.match(r)){for(c=a[2],a=a[1],l=0;l<3;l++){var u=l*2;o[l]=parseInt(a.slice(u,u+2),16)}c&&(o[3]=parseInt(c,16)/255)}else if(a=e.match(t)){for(a=a[1],c=a[3],l=0;l<3;l++)o[l]=parseInt(a[l]+a[l],16);c&&(o[3]=parseInt(c+c,16)/255)}else if(a=e.match(i)){for(l=0;l<3;l++)o[l]=parseInt(a[l+1],0);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else if(a=e.match(n)){for(l=0;l<3;l++)o[l]=Math.round(parseFloat(a[l+1])*2.55);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else return(a=e.match(s))?a[1]==="transparent"?[0,0,0,0]:v9.call(_m,a[1])?(o=_m[a[1]],o[3]=1,o):null:null;for(l=0;l<3;l++)o[l]=Ka(o[l],0,255);return o[3]=Ka(o[3],0,1),o};qi.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var i=parseFloat(r[4]),n=(parseFloat(r[1])%360+360)%360,s=Ka(parseFloat(r[2]),0,100),o=Ka(parseFloat(r[3]),0,100),a=Ka(isNaN(i)?1:i,0,1);return[n,s,o,a]}return null};qi.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var i=parseFloat(r[4]),n=(parseFloat(r[1])%360+360)%360,s=Ka(parseFloat(r[2]),0,100),o=Ka(parseFloat(r[3]),0,100),a=Ka(isNaN(i)?1:i,0,1);return[n,s,o,a]}return null};qi.to.hex=function(){var e=bm(arguments);return"#"+Vb(e[0])+Vb(e[1])+Vb(e[2])+(e[3]<1?Vb(Math.round(e[3]*255)):"")};qi.to.rgb=function(){var e=bm(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};qi.to.rgb.percent=function(){var e=bm(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),i=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+r+"%, "+i+"%)":"rgba("+t+"%, "+r+"%, "+i+"%, "+e[3]+")"};qi.to.hsl=function(){var e=bm(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};qi.to.hwb=function(){var e=bm(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};qi.to.keyword=function(e){return _9[e.slice(0,3)]};function Ka(e,t,r){return Math.min(Math.max(t,e),r)}function Vb(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}});var uC=w((FHe,x9)=>{var wm=cC(),S9={};for(let e of Object.keys(wm))S9[wm[e]]=e;var ce={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};x9.exports=ce;for(let e of Object.keys(ce)){if(!("channels"in ce[e]))throw new Error("missing channels property: "+e);if(!("labels"in ce[e]))throw new Error("missing channel labels property: "+e);if(ce[e].labels.length!==ce[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=ce[e];delete ce[e].channels,delete ce[e].labels,Object.defineProperty(ce[e],"channels",{value:t}),Object.defineProperty(ce[e],"labels",{value:r})}ce.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,i=e[2]/255,n=Math.min(t,r,i),s=Math.max(t,r,i),o=s-n,a,l;s===n?a=0:t===s?a=(r-i)/o:r===s?a=2+(i-t)/o:i===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let c=(n+s)/2;return s===n?l=0:c<=.5?l=o/(s+n):l=o/(2-s-n),[a,l*100,c*100]};ce.rgb.hsv=function(e){let t,r,i,n,s,o=e[0]/255,a=e[1]/255,l=e[2]/255,c=Math.max(o,a,l),u=c-Math.min(o,a,l),f=function(h){return(c-h)/6/u+1/2};return u===0?(n=0,s=0):(s=u/c,t=f(o),r=f(a),i=f(l),o===c?n=i-r:a===c?n=1/3+t-i:l===c&&(n=2/3+r-t),n<0?n+=1:n>1&&(n-=1)),[n*360,s*100,c*100]};ce.rgb.hwb=function(e){let t=e[0],r=e[1],i=e[2],n=ce.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,i));return i=1-1/255*Math.max(t,Math.max(r,i)),[n,s*100,i*100]};ce.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,i=e[2]/255,n=Math.min(1-t,1-r,1-i),s=(1-t-n)/(1-n)||0,o=(1-r-n)/(1-n)||0,a=(1-i-n)/(1-n)||0;return[s*100,o*100,a*100,n*100]};function aTe(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}ce.rgb.keyword=function(e){let t=S9[e];if(t)return t;let r=1/0,i;for(let n of Object.keys(wm)){let s=wm[n],o=aTe(e,s);o<r&&(r=o,i=n)}return i};ce.keyword.rgb=function(e){return wm[e]};ce.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,i=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;let n=t*.4124+r*.3576+i*.1805,s=t*.2126+r*.7152+i*.0722,o=t*.0193+r*.1192+i*.9505;return[n*100,s*100,o*100]};ce.rgb.lab=function(e){let t=ce.rgb.xyz(e),r=t[0],i=t[1],n=t[2];r/=95.047,i/=100,n/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let s=116*i-16,o=500*(r-i),a=200*(i-n);return[s,o,a]};ce.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,i=e[2]/100,n,s,o;if(r===0)return o=i*255,[o,o,o];i<.5?n=i*(1+r):n=i+r-i*r;let a=2*i-n,l=[0,0,0];for(let c=0;c<3;c++)s=t+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(n-a)*6*s:2*s<1?o=n:3*s<2?o=a+(n-a)*(2/3-s)*6:o=a,l[c]=o*255;return l};ce.hsl.hsv=function(e){let t=e[0],r=e[1]/100,i=e[2]/100,n=r,s=Math.max(i,.01);i*=2,r*=i<=1?i:2-i,n*=s<=1?s:2-s;let o=(i+r)/2,a=i===0?2*n/(s+n):2*r/(i+r);return[t,a*100,o*100]};ce.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,i=e[2]/100,n=Math.floor(t)%6,s=t-Math.floor(t),o=255*i*(1-r),a=255*i*(1-r*s),l=255*i*(1-r*(1-s));switch(i*=255,n){case 0:return[i,l,o];case 1:return[a,i,o];case 2:return[o,i,l];case 3:return[o,a,i];case 4:return[l,o,i];case 5:return[i,o,a]}};ce.hsv.hsl=function(e){let t=e[0],r=e[1]/100,i=e[2]/100,n=Math.max(i,.01),s,o;o=(2-r)*i;let a=(2-r)*n;return s=r*n,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};ce.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,i=e[2]/100,n=r+i,s;n>1&&(r/=n,i/=n);let o=Math.floor(6*t),a=1-i;s=6*t-o,o&1&&(s=1-s);let l=r+s*(a-r),c,u,f;switch(o){default:case 6:case 0:c=a,u=l,f=r;break;case 1:c=l,u=a,f=r;break;case 2:c=r,u=a,f=l;break;case 3:c=r,u=l,f=a;break;case 4:c=l,u=r,f=a;break;case 5:c=a,u=r,f=l;break}return[c*255,u*255,f*255]};ce.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,i=e[2]/100,n=e[3]/100,s=1-Math.min(1,t*(1-n)+n),o=1-Math.min(1,r*(1-n)+n),a=1-Math.min(1,i*(1-n)+n);return[s*255,o*255,a*255]};ce.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,i=e[2]/100,n,s,o;return n=t*3.2406+r*-1.5372+i*-.4986,s=t*-.9689+r*1.8758+i*.0415,o=t*.0557+r*-.204+i*1.057,n=n>.0031308?1.055*n**(1/2.4)-.055:n*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,n=Math.min(Math.max(0,n),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[n*255,s*255,o*255]};ce.xyz.lab=function(e){let t=e[0],r=e[1],i=e[2];t/=95.047,r/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let n=116*r-16,s=500*(t-r),o=200*(r-i);return[n,s,o]};ce.lab.xyz=function(e){let t=e[0],r=e[1],i=e[2],n,s,o;s=(t+16)/116,n=r/500+s,o=s-i/200;let a=s**3,l=n**3,c=o**3;return s=a>.008856?a:(s-16/116)/7.787,n=l>.008856?l:(n-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,n*=95.047,s*=100,o*=108.883,[n,s,o]};ce.lab.lch=function(e){let t=e[0],r=e[1],i=e[2],n;n=Math.atan2(i,r)*360/2/Math.PI,n<0&&(n+=360);let o=Math.sqrt(r*r+i*i);return[t,o,n]};ce.lch.lab=function(e){let t=e[0],r=e[1],n=e[2]/360*2*Math.PI,s=r*Math.cos(n),o=r*Math.sin(n);return[t,s,o]};ce.rgb.ansi16=function(e,t=null){let[r,i,n]=e,s=t===null?ce.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(n/255)<<2|Math.round(i/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};ce.hsv.ansi16=function(e){return ce.rgb.ansi16(ce.hsv.rgb(e),e[2])};ce.rgb.ansi256=function(e){let t=e[0],r=e[1],i=e[2];return t===r&&r===i?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(i/255*5)};ce.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,i=(t&1)*r*255,n=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[i,n,s]};ce.ansi256.rgb=function(e){if(e>=232){let s=(e-232)*10+8;return[s,s,s]}e-=16;let t,r=Math.floor(e/36)/5*255,i=Math.floor((t=e%36)/6)/5*255,n=t%6/5*255;return[r,i,n]};ce.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};ce.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let i=parseInt(r,16),n=i>>16&255,s=i>>8&255,o=i&255;return[n,s,o]};ce.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,i=e[2]/255,n=Math.max(Math.max(t,r),i),s=Math.min(Math.min(t,r),i),o=n-s,a,l;return o<1?a=s/(1-o):a=0,o<=0?l=0:n===t?l=(r-i)/o%6:n===r?l=2+(i-t)/o:l=4+(t-r)/o,l/=6,l%=1,[l*360,o*100,a*100]};ce.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,i=r<.5?2*t*r:2*t*(1-r),n=0;return i<1&&(n=(r-.5*i)/(1-i)),[e[0],i*100,n*100]};ce.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,i=t*r,n=0;return i<1&&(n=(r-i)/(1-i)),[e[0],i*100,n*100]};ce.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,i=e[2]/100;if(r===0)return[i*255,i*255,i*255];let n=[0,0,0],s=t%1*6,o=s%1,a=1-o,l=0;switch(Math.floor(s)){case 0:n[0]=1,n[1]=o,n[2]=0;break;case 1:n[0]=a,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=o;break;case 3:n[0]=0,n[1]=a,n[2]=1;break;case 4:n[0]=o,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=a}return l=(1-r)*i,[(r*n[0]+l)*255,(r*n[1]+l)*255,(r*n[2]+l)*255]};ce.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,i=t+r*(1-t),n=0;return i>0&&(n=t/i),[e[0],n*100,i*100]};ce.hcg.hsl=function(e){let t=e[1]/100,i=e[2]/100*(1-t)+.5*t,n=0;return i>0&&i<.5?n=t/(2*i):i>=.5&&i<1&&(n=t/(2*(1-i))),[e[0],n*100,i*100]};ce.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,i=t+r*(1-t);return[e[0],(i-t)*100,(1-i)*100]};ce.hwb.hcg=function(e){let t=e[1]/100,i=1-e[2]/100,n=i-t,s=0;return n<1&&(s=(i-n)/(1-n)),[e[0],n*100,s*100]};ce.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};ce.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};ce.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};ce.gray.hsl=function(e){return[0,0,e[0]]};ce.gray.hsv=ce.gray.hsl;ce.gray.hwb=function(e){return[0,100,e[0]]};ce.gray.cmyk=function(e){return[0,0,0,e[0]]};ce.gray.lab=function(e){return[e[0],0,0]};ce.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,i=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(i.length)+i};ce.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var k9=w((DHe,E9)=>{var Wb=uC();function lTe(){let e={},t=Object.keys(Wb);for(let r=t.length,i=0;i<r;i++)e[t[i]]={distance:-1,parent:null};return e}function cTe(e){let t=lTe(),r=[e];for(t[e].distance=0;r.length;){let i=r.pop(),n=Object.keys(Wb[i]);for(let s=n.length,o=0;o<s;o++){let a=n[o],l=t[a];l.distance===-1&&(l.distance=t[i].distance+1,l.parent=i,r.unshift(a))}}return t}function uTe(e,t){return function(r){return t(e(r))}}function fTe(e,t){let r=[t[e].parent,e],i=Wb[t[e].parent][e],n=t[e].parent;for(;t[n].parent;)r.unshift(t[n].parent),i=uTe(Wb[t[n].parent][n],i),n=t[n].parent;return i.conversion=r,i}E9.exports=function(e){let t=cTe(e),r={},i=Object.keys(t);for(let n=i.length,s=0;s<n;s++){let o=i[s];t[o].parent!==null&&(r[o]=fTe(o,t))}return r}});var T9=w((LHe,R9)=>{var fC=uC(),hTe=k9(),qf={},dTe=Object.keys(fC);function pTe(e){let t=function(...r){let i=r[0];return i==null?i:(i.length>1&&(r=i),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function mTe(e){let t=function(...r){let i=r[0];if(i==null)return i;i.length>1&&(r=i);let n=e(r);if(typeof n=="object")for(let s=n.length,o=0;o<s;o++)n[o]=Math.round(n[o]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}dTe.forEach(e=>{qf[e]={},Object.defineProperty(qf[e],"channels",{value:fC[e].channels}),Object.defineProperty(qf[e],"labels",{value:fC[e].labels});let t=hTe(e);Object.keys(t).forEach(i=>{let n=t[i];qf[e][i]=mTe(n),qf[e][i].raw=pTe(n)})});R9.exports=qf});var C9=w((jHe,A9)=>{var Mf=w9(),Mi=T9(),O9=["keyword","gray","hex"],hC={};for(let e of Object.keys(Mi))hC[[...Mi[e].labels].sort().join("")]=e;var Gb={};function sr(e,t){if(!(this instanceof sr))return new sr(e,t);if(t&&t in O9&&(t=null),t&&!(t in Mi))throw new Error("Unknown model: "+t);let r,i;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof sr)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){let n=Mf.get(e);if(n===null)throw new Error("Unable to parse color from string: "+e);this.model=n.model,i=Mi[this.model].channels,this.color=n.value.slice(0,i),this.valpha=typeof n.value[i]=="number"?n.value[i]:1}else if(e.length>0){this.model=t||"rgb",i=Mi[this.model].channels;let n=Array.prototype.slice.call(e,0,i);this.color=dC(n,i),this.valpha=typeof e[i]=="number"?e[i]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;let n=Object.keys(e);"alpha"in e&&(n.splice(n.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);let s=n.sort().join("");if(!(s in hC))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=hC[s];let{labels:o}=Mi[this.model],a=[];for(r=0;r<o.length;r++)a.push(e[o[r]]);this.color=dC(a)}if(Gb[this.model])for(i=Mi[this.model].channels,r=0;r<i;r++){let n=Gb[this.model][r];n&&(this.color[r]=n(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}sr.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in Mf.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);let r=t.valpha===1?t.color:[...t.color,this.valpha];return Mf.to[t.model](r)},percentString(e){let t=this.rgb().round(typeof e=="number"?e:1),r=t.valpha===1?t.color:[...t.color,this.valpha];return Mf.to.rgb.percent(r)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){let e={},{channels:t}=Mi[this.model],{labels:r}=Mi[this.model];for(let i=0;i<t;i++)e[r[i]]=this.color[i];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){let e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){let e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new sr([...this.color.map(yTe(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new sr([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:St("rgb",0,Ht(255)),green:St("rgb",1,Ht(255)),blue:St("rgb",2,Ht(255)),hue:St(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:St("hsl",1,Ht(100)),lightness:St("hsl",2,Ht(100)),saturationv:St("hsv",1,Ht(100)),value:St("hsv",2,Ht(100)),chroma:St("hcg",1,Ht(100)),gray:St("hcg",2,Ht(100)),white:St("hwb",1,Ht(100)),wblack:St("hwb",2,Ht(100)),cyan:St("cmyk",0,Ht(100)),magenta:St("cmyk",1,Ht(100)),yellow:St("cmyk",2,Ht(100)),black:St("cmyk",3,Ht(100)),x:St("xyz",0,Ht(95.047)),y:St("xyz",1,Ht(100)),z:St("xyz",2,Ht(108.833)),l:St("lab",0,Ht(100)),a:St("lab",1),b:St("lab",2),keyword(e){return e!==void 0?new sr(e):Mi[this.model].keyword(this.color)},hex(e){return e!==void 0?new sr(e):Mf.to.hex(this.rgb().round().color)},hexa(e){if(e!==void 0)return new sr(e);let t=this.rgb().round().color,r=Math.round(this.valpha*255).toString(16).toUpperCase();return r.length===1&&(r="0"+r),Mf.to.hex(t)+r},rgbNumber(){let e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){let e=this.rgb().color,t=[];for(let[r,i]of e.entries()){let n=i/255;t[r]=n<=.04045?n/12.92:((n+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){let t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level(e){let t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){let e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){let e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){let t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){let t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){let t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){let t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){let t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){let t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){let e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return sr.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){let t=this.hsl(),r=t.color[0];return r=(r+e)%360,r=r<0?360+r:r,t.color[0]=r,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);let r=e.rgb(),i=this.rgb(),n=t===void 0?.5:t,s=2*n-1,o=r.alpha()-i.alpha(),a=((s*o===-1?s:(s+o)/(1+s*o))+1)/2,l=1-a;return sr.rgb(a*r.red()+l*i.red(),a*r.green()+l*i.green(),a*r.blue()+l*i.blue(),r.alpha()*n+i.alpha()*(1-n))}};for(let e of Object.keys(Mi)){if(O9.includes(e))continue;let{channels:t}=Mi[e];sr.prototype[e]=function(...r){return this.model===e?new sr(this):r.length>0?new sr(r,e):new sr([...vTe(Mi[this.model][e].raw(this.color)),this.valpha],e)},sr[e]=function(...r){let i=r[0];return typeof i=="number"&&(i=dC(r,t)),new sr(i,e)}}function gTe(e,t){return Number(e.toFixed(t))}function yTe(e){return function(t){return gTe(t,e)}}function St(e,t,r){e=Array.isArray(e)?e:[e];for(let i of e)(Gb[i]||(Gb[i]=[]))[t]=r;return e=e[0],function(i){let n;return i!==void 0?(r&&(i=r(i)),n=this[e](),n.color[t]=i,n):(n=this[e]().color[t],r&&(n=r(n)),n)}}function Ht(e){return function(t){return Math.max(0,Math.min(e,t))}}function vTe(e){return Array.isArray(e)?e:[e]}function dC(e,t){for(let r=0;r<t;r++)typeof e[r]!="number"&&(e[r]=0);return e}A9.exports=sr});var bc=w((b6e,_c)=>{"use strict";function F9(e){return typeof e>"u"||e===null}function STe(e){return typeof e=="object"&&e!==null}function xTe(e){return Array.isArray(e)?e:F9(e)?[]:[e]}function ETe(e,t){var r,i,n,s;if(t)for(s=Object.keys(t),r=0,i=s.length;r<i;r+=1)n=s[r],e[n]=t[n];return e}function kTe(e,t){var r="",i;for(i=0;i<t;i+=1)r+=e;return r}function RTe(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}_c.exports.isNothing=F9;_c.exports.isObject=STe;_c.exports.toArray=xTe;_c.exports.repeat=kTe;_c.exports.isNegativeZero=RTe;_c.exports.extend=ETe});var Hf=w((w6e,D9)=>{"use strict";function Om(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Om.prototype=Object.create(Error.prototype);Om.prototype.constructor=Om;Om.prototype.toString=function(t){var r=this.name+": ";return r+=this.reason||"(unknown reason)",!t&&this.mark&&(r+=" "+this.mark.toString()),r};D9.exports=Om});var q9=w((S6e,j9)=>{"use strict";var L9=bc();function yC(e,t,r,i,n){this.name=e,this.buffer=t,this.position=r,this.line=i,this.column=n}yC.prototype.getSnippet=function(t,r){var i,n,s,o,a;if(!this.buffer)return null;for(t=t||4,r=r||75,i="",n=this.position;n>0&&`\0\r
\x85\u2028\u2029`.indexOf(this.buffer.charAt(n-1))===-1;)if(n-=1,this.position-n>r/2-1){i=" ... ",n+=5;break}for(s="",o=this.position;o<this.buffer.length&&`\0\r
\x85\u2028\u2029`.indexOf(this.buffer.charAt(o))===-1;)if(o+=1,o-this.position>r/2-1){s=" ... ",o-=5;break}return a=this.buffer.slice(n,o),L9.repeat(" ",t)+i+a+s+`
`+L9.repeat(" ",t+this.position-n+i.length)+"^"};yC.prototype.toString=function(t){var r,i="";return this.name&&(i+='in "'+this.name+'" '),i+="at line "+(this.line+1)+", column "+(this.column+1),t||(r=this.getSnippet(),r&&(i+=`:
`+r)),i};j9.exports=yC});var Vt=w((x6e,z9)=>{"use strict";var M9=Hf(),TTe=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],OTe=["scalar","sequence","mapping"];function ATe(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(i){t[String(i)]=r})}),t}function CTe(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(TTe.indexOf(r)===-1)throw new M9('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=ATe(t.styleAliases||null),OTe.indexOf(this.kind)===-1)throw new M9('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}z9.exports=CTe});var wc=w((E6e,B9)=>{"use strict";var U9=bc(),Rw=Hf(),PTe=Vt();function vC(e,t,r){var i=[];return e.include.forEach(function(n){r=vC(n,t,r)}),e[t].forEach(function(n){r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&i.push(o)}),r.push(n)}),r.filter(function(n,s){return i.indexOf(s)===-1})}function ITe(){var e={scalar:{},sequence:{},mapping:{},fallback:{}},t,r;function i(n){e[n.kind][n.tag]=e.fallback[n.tag]=n}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(i);return e}function Vf(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(t){if(t.loadKind&&t.loadKind!=="scalar")throw new Rw("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=vC(this,"implicit",[]),this.compiledExplicit=vC(this,"explicit",[]),this.compiledTypeMap=ITe(this.compiledImplicit,this.compiledExplicit)}Vf.DEFAULT=null;Vf.create=function(){var t,r;switch(arguments.length){case 1:t=Vf.DEFAULT,r=arguments[0];break;case 2:t=arguments[0],r=arguments[1];break;default:throw new Rw("Wrong number of arguments for Schema.create function")}if(t=U9.toArray(t),r=U9.toArray(r),!t.every(function(i){return i instanceof Vf}))throw new Rw("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!r.every(function(i){return i instanceof PTe}))throw new Rw("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new Vf({include:t,explicit:r})};B9.exports=Vf});var V9=w((k6e,H9)=>{"use strict";var NTe=Vt();H9.exports=new NTe("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var G9=w((R6e,W9)=>{"use strict";var $Te=Vt();W9.exports=new $Te("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var K9=w((T6e,Y9)=>{"use strict";var FTe=Vt();Y9.exports=new FTe("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var Tw=w((O6e,J9)=>{"use strict";var DTe=wc();J9.exports=new DTe({explicit:[V9(),G9(),K9()]})});var X9=w((A6e,Z9)=>{"use strict";var LTe=Vt();function jTe(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function qTe(){return null}function MTe(e){return e===null}Z9.exports=new LTe("tag:yaml.org,2002:null",{kind:"scalar",resolve:jTe,construct:qTe,predicate:MTe,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})});var eV=w((C6e,Q9)=>{"use strict";var zTe=Vt();function UTe(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function BTe(e){return e==="true"||e==="True"||e==="TRUE"}function HTe(e){return Object.prototype.toString.call(e)==="[object Boolean]"}Q9.exports=new zTe("tag:yaml.org,2002:bool",{kind:"scalar",resolve:UTe,construct:BTe,predicate:HTe,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var rV=w((P6e,tV)=>{"use strict";var VTe=bc(),WTe=Vt();function GTe(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function YTe(e){return 48<=e&&e<=55}function KTe(e){return 48<=e&&e<=57}function JTe(e){if(e===null)return!1;var t=e.length,r=0,i=!1,n;if(!t)return!1;if(n=e[r],(n==="-"||n==="+")&&(n=e[++r]),n==="0"){if(r+1===t)return!0;if(n=e[++r],n==="b"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(n!=="0"&&n!=="1")return!1;i=!0}return i&&n!=="_"}if(n==="x"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!GTe(e.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}for(;r<t;r++)if(n=e[r],n!=="_"){if(!YTe(e.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}if(n==="_")return!1;for(;r<t;r++)if(n=e[r],n!=="_"){if(n===":")break;if(!KTe(e.charCodeAt(r)))return!1;i=!0}return!i||n==="_"?!1:n!==":"?!0:/^(:[0-5]?[0-9])+$/.test(e.slice(r))}function ZTe(e){var t=e,r=1,i,n,s=[];return t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(r=-1),t=t.slice(1),i=t[0]),t==="0"?0:i==="0"?t[1]==="b"?r*parseInt(t.slice(2),2):t[1]==="x"?r*parseInt(t,16):r*parseInt(t,8):t.indexOf(":")!==-1?(t.split(":").forEach(function(o){s.unshift(parseInt(o,10))}),t=0,n=1,s.forEach(function(o){t+=o*n,n*=60}),r*t):r*parseInt(t,10)}function XTe(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!VTe.isNegativeZero(e)}tV.exports=new WTe("tag:yaml.org,2002:int",{kind:"scalar",resolve:JTe,construct:ZTe,predicate:XTe,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var sV=w((I6e,nV)=>{"use strict";var iV=bc(),QTe=Vt(),eOe=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function tOe(e){return!(e===null||!eOe.test(e)||e[e.length-1]==="_")}function rOe(e){var t,r,i,n;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,n=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:t.indexOf(":")>=0?(t.split(":").forEach(function(s){n.unshift(parseFloat(s,10))}),t=0,i=1,n.forEach(function(s){t+=s*i,i*=60}),r*t):r*parseFloat(t,10)}var iOe=/^[-+]?[0-9]+e/;function nOe(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(iV.isNegativeZero(e))return"-0.0";return r=e.toString(10),iOe.test(r)?r.replace("e",".e"):r}function sOe(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||iV.isNegativeZero(e))}nV.exports=new QTe("tag:yaml.org,2002:float",{kind:"scalar",resolve:tOe,construct:rOe,predicate:sOe,represent:nOe,defaultStyle:"lowercase"})});var _C=w((N6e,oV)=>{"use strict";var oOe=wc();oV.exports=new oOe({include:[Tw()],implicit:[X9(),eV(),rV(),sV()]})});var bC=w(($6e,aV)=>{"use strict";var aOe=wc();aV.exports=new aOe({include:[_C()]})});var fV=w((F6e,uV)=>{"use strict";var lOe=Vt(),lV=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),cV=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function cOe(e){return e===null?!1:lV.exec(e)!==null||cV.exec(e)!==null}function uOe(e){var t,r,i,n,s,o,a,l=0,c=null,u,f,h;if(t=lV.exec(e),t===null&&(t=cV.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],i=+t[2]-1,n=+t[3],!t[4])return new Date(Date.UTC(r,i,n));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(u=+t[10],f=+(t[11]||0),c=(u*60+f)*6e4,t[9]==="-"&&(c=-c)),h=new Date(Date.UTC(r,i,n,s,o,a,l)),c&&h.setTime(h.getTime()-c),h}function fOe(e){return e.toISOString()}uV.exports=new lOe("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:cOe,construct:uOe,instanceOf:Date,represent:fOe})});var dV=w((D6e,hV)=>{"use strict";var hOe=Vt();function dOe(e){return e==="<<"||e===null}hV.exports=new hOe("tag:yaml.org,2002:merge",{kind:"scalar",resolve:dOe})});var gV=w((L6e,mV)=>{"use strict";var Sc;try{pV=require,Sc=pV("buffer").Buffer}catch{}var pV,pOe=Vt(),wC=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function mOe(e){if(e===null)return!1;var t,r,i=0,n=e.length,s=wC;for(r=0;r<n;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}function gOe(e){var t,r,i=e.replace(/[\r\n=]/g,""),n=i.length,s=wC,o=0,a=[];for(t=0;t<n;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(i.charAt(t));return r=n%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),Sc?Sc.from?Sc.from(a):new Sc(a):a}function yOe(e){var t="",r=0,i,n,s=e.length,o=wC;for(i=0;i<s;i++)i%3===0&&i&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[i];return n=s%3,n===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):n===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):n===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function vOe(e){return Sc&&Sc.isBuffer(e)}mV.exports=new pOe("tag:yaml.org,2002:binary",{kind:"scalar",resolve:mOe,construct:gOe,predicate:vOe,represent:yOe})});var vV=w((j6e,yV)=>{"use strict";var _Oe=Vt(),bOe=Object.prototype.hasOwnProperty,wOe=Object.prototype.toString;function SOe(e){if(e===null)return!0;var t=[],r,i,n,s,o,a=e;for(r=0,i=a.length;r<i;r+=1){if(n=a[r],o=!1,wOe.call(n)!=="[object Object]")return!1;for(s in n)if(bOe.call(n,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function xOe(e){return e!==null?e:[]}yV.exports=new _Oe("tag:yaml.org,2002:omap",{kind:"sequence",resolve:SOe,construct:xOe})});var bV=w((q6e,_V)=>{"use strict";var EOe=Vt(),kOe=Object.prototype.toString;function ROe(e){if(e===null)return!0;var t,r,i,n,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(i=o[t],kOe.call(i)!=="[object Object]"||(n=Object.keys(i),n.length!==1))return!1;s[t]=[n[0],i[n[0]]]}return!0}function TOe(e){if(e===null)return[];var t,r,i,n,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)i=o[t],n=Object.keys(i),s[t]=[n[0],i[n[0]]];return s}_V.exports=new EOe("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:ROe,construct:TOe})});var SV=w((M6e,wV)=>{"use strict";var OOe=Vt(),AOe=Object.prototype.hasOwnProperty;function COe(e){if(e===null)return!0;var t,r=e;for(t in r)if(AOe.call(r,t)&&r[t]!==null)return!1;return!0}function POe(e){return e!==null?e:{}}wV.exports=new OOe("tag:yaml.org,2002:set",{kind:"mapping",resolve:COe,construct:POe})});var Wf=w((z6e,xV)=>{"use strict";var IOe=wc();xV.exports=new IOe({include:[bC()],implicit:[fV(),dV()],explicit:[gV(),vV(),bV(),SV()]})});var kV=w((U6e,EV)=>{"use strict";var NOe=Vt();function $Oe(){return!0}function FOe(){}function DOe(){return""}function LOe(e){return typeof e>"u"}EV.exports=new NOe("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:$Oe,construct:FOe,predicate:LOe,represent:DOe})});var TV=w((B6e,RV)=>{"use strict";var jOe=Vt();function qOe(e){if(e===null||e.length===0)return!1;var t=e,r=/\/([gim]*)$/.exec(e),i="";return!(t[0]==="/"&&(r&&(i=r[1]),i.length>3||t[t.length-i.length-1]!=="/"))}function MOe(e){var t=e,r=/\/([gim]*)$/.exec(e),i="";return t[0]==="/"&&(r&&(i=r[1]),t=t.slice(1,t.length-i.length-1)),new RegExp(t,i)}function zOe(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}function UOe(e){return Object.prototype.toString.call(e)==="[object RegExp]"}RV.exports=new jOe("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:qOe,construct:MOe,predicate:UOe,represent:zOe})});var CV=w((H6e,AV)=>{"use strict";var Ow;try{OV=require,Ow=OV("esprima")}catch{typeof window<"u"&&(Ow=window.esprima)}var OV,BOe=Vt();function HOe(e){if(e===null)return!1;try{var t="("+e+")",r=Ow.parse(t,{range:!0});return!(r.type!=="Program"||r.body.length!==1||r.body[0].type!=="ExpressionStatement"||r.body[0].expression.type!=="ArrowFunctionExpression"&&r.body[0].expression.type!=="FunctionExpression")}catch{return!1}}function VOe(e){var t="("+e+")",r=Ow.parse(t,{range:!0}),i=[],n;if(r.type!=="Program"||r.body.length!==1||r.body[0].type!=="ExpressionStatement"||r.body[0].expression.type!=="ArrowFunctionExpression"&&r.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach(function(s){i.push(s.name)}),n=r.body[0].expression.body.range,r.body[0].expression.body.type==="BlockStatement"?new Function(i,t.slice(n[0]+1,n[1]-1)):new Function(i,"return "+t.slice(n[0],n[1]))}function WOe(e){return e.toString()}function GOe(e){return Object.prototype.toString.call(e)==="[object Function]"}AV.exports=new BOe("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:HOe,construct:VOe,predicate:GOe,represent:WOe})});var Am=w((V6e,IV)=>{"use strict";var PV=wc();IV.exports=PV.DEFAULT=new PV({include:[Wf()],explicit:[kV(),TV(),CV()]})});var ZV=w((W6e,Cm)=>{"use strict";var qo=bc(),qV=Hf(),YOe=q9(),MV=Wf(),KOe=Am(),Xa=Object.prototype.hasOwnProperty,Aw=1,zV=2,UV=3,Cw=4,SC=1,JOe=2,NV=3,ZOe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,XOe=/[\x85\u2028\u2029]/,QOe=/[,\[\]\{\}]/,BV=/^(?:!|!!|![a-z\-]+!)$/i,HV=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function $V(e){return Object.prototype.toString.call(e)}function Ms(e){return e===10||e===13}function Ec(e){return e===9||e===32}function Pi(e){return e===9||e===32||e===10||e===13}function Gf(e){return e===44||e===91||e===93||e===123||e===125}function eAe(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function tAe(e){return e===120?2:e===117?4:e===85?8:0}function rAe(e){return 48<=e&&e<=57?e-48:-1}function FV(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function iAe(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var VV=new Array(256),WV=new Array(256);for(xc=0;xc<256;xc++)VV[xc]=FV(xc)?1:0,WV[xc]=FV(xc);var xc;function nAe(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||KOe,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function GV(e,t){return new qV(t,new YOe(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function ge(e,t){throw GV(e,t)}function Pw(e,t){e.onWarning&&e.onWarning.call(null,GV(e,t))}var DV={YAML:function(t,r,i){var n,s,o;t.version!==null&&ge(t,"duplication of %YAML directive"),i.length!==1&&ge(t,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),n===null&&ge(t,"ill-formed argument of the YAML directive"),s=parseInt(n[1],10),o=parseInt(n[2],10),s!==1&&ge(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&Pw(t,"unsupported YAML version of the document")},TAG:function(t,r,i){var n,s;i.length!==2&&ge(t,"TAG directive accepts exactly two arguments"),n=i[0],s=i[1],BV.test(n)||ge(t,"ill-formed tag handle (first argument) of the TAG directive"),Xa.call(t.tagMap,n)&&ge(t,'there is a previously declared suffix for "'+n+'" tag handle'),HV.test(s)||ge(t,"ill-formed tag prefix (second argument) of the TAG directive"),t.tagMap[n]=s}};function Za(e,t,r,i){var n,s,o,a;if(t<r){if(a=e.input.slice(t,r),i)for(n=0,s=a.length;n<s;n+=1)o=a.charCodeAt(n),o===9||32<=o&&o<=1114111||ge(e,"expected valid JSON character");else ZOe.test(a)&&ge(e,"the stream contains non-printable characters");e.result+=a}}function LV(e,t,r,i){var n,s,o,a;for(qo.isObject(r)||ge(e,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(r),o=0,a=n.length;o<a;o+=1)s=n[o],Xa.call(t,s)||(t[s]=r[s],i[s]=!0)}function Yf(e,t,r,i,n,s,o,a){var l,c;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),l=0,c=n.length;l<c;l+=1)Array.isArray(n[l])&&ge(e,"nested arrays are not supported inside keys"),typeof n=="object"&&$V(n[l])==="[object Object]"&&(n[l]="[object Object]");if(typeof n=="object"&&$V(n)==="[object Object]"&&(n="[object Object]"),n=String(n),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(l=0,c=s.length;l<c;l+=1)LV(e,t,s[l],r);else LV(e,t,s,r);else!e.json&&!Xa.call(r,n)&&Xa.call(t,n)&&(e.line=o||e.line,e.position=a||e.position,ge(e,"duplicated mapping key")),t[n]=s,delete r[n];return t}function xC(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):ge(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function Ft(e,t,r){for(var i=0,n=e.input.charCodeAt(e.position);n!==0;){for(;Ec(n);)n=e.input.charCodeAt(++e.position);if(t&&n===35)do n=e.input.charCodeAt(++e.position);while(n!==10&&n!==13&&n!==0);if(Ms(n))for(xC(e),n=e.input.charCodeAt(e.position),i++,e.lineIndent=0;n===32;)e.lineIndent++,n=e.input.charCodeAt(++e.position);else break}return r!==-1&&i!==0&&e.lineIndent<r&&Pw(e,"deficient indentation"),i}function Iw(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Pi(r)))}function EC(e,t){t===1?e.result+=" ":t>1&&(e.result+=qo.repeat(`
`,t-1))}function sAe(e,t,r){var i,n,s,o,a,l,c,u,f=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),Pi(p)||Gf(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(n=e.input.charCodeAt(e.position+1),Pi(n)||r&&Gf(n)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;p!==0;){if(p===58){if(n=e.input.charCodeAt(e.position+1),Pi(n)||r&&Gf(n))break}else if(p===35){if(i=e.input.charCodeAt(e.position-1),Pi(i))break}else{if(e.position===e.lineStart&&Iw(e)||r&&Gf(p))break;if(Ms(p))if(l=e.line,c=e.lineStart,u=e.lineIndent,Ft(e,!1,-1),e.lineIndent>=t){a=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=c,e.lineIndent=u;break}}a&&(Za(e,s,o,!1),EC(e,e.line-l),s=o=e.position,a=!1),Ec(p)||(o=e.position+1),p=e.input.charCodeAt(++e.position)}return Za(e,s,o,!1),e.result?!0:(e.kind=f,e.result=h,!1)}function oAe(e,t){var r,i,n;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=n=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Za(e,i,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)i=e.position,e.position++,n=e.position;else return!0;else Ms(r)?(Za(e,i,n,!0),EC(e,Ft(e,!1,t)),i=n=e.position):e.position===e.lineStart&&Iw(e)?ge(e,"unexpected end of the document within a single quoted scalar"):(e.position++,n=e.position);ge(e,"unexpected end of the stream within a single quoted scalar")}function aAe(e,t){var r,i,n,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Za(e,r,e.position,!0),e.position++,!0;if(a===92){if(Za(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),Ms(a))Ft(e,!1,t);else if(a<256&&VV[a])e.result+=WV[a],e.position++;else if((o=tAe(a))>0){for(n=o,s=0;n>0;n--)a=e.input.charCodeAt(++e.position),(o=eAe(a))>=0?s=(s<<4)+o:ge(e,"expected hexadecimal character");e.result+=iAe(s),e.position++}else ge(e,"unknown escape sequence");r=i=e.position}else Ms(a)?(Za(e,r,i,!0),EC(e,Ft(e,!1,t)),r=i=e.position):e.position===e.lineStart&&Iw(e)?ge(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}ge(e,"unexpected end of the stream within a double quoted scalar")}function lAe(e,t){var r=!0,i,n=e.tag,s,o=e.anchor,a,l,c,u,f,h={},p,m,g,y;if(y=e.input.charCodeAt(e.position),y===91)l=93,f=!1,s=[];else if(y===123)l=125,f=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),y=e.input.charCodeAt(++e.position);y!==0;){if(Ft(e,!0,t),y=e.input.charCodeAt(e.position),y===l)return e.position++,e.tag=n,e.anchor=o,e.kind=f?"mapping":"sequence",e.result=s,!0;r||ge(e,"missed comma between flow collection entries"),m=p=g=null,c=u=!1,y===63&&(a=e.input.charCodeAt(e.position+1),Pi(a)&&(c=u=!0,e.position++,Ft(e,!0,t))),i=e.line,Kf(e,t,Aw,!1,!0),m=e.tag,p=e.result,Ft(e,!0,t),y=e.input.charCodeAt(e.position),(u||e.line===i)&&y===58&&(c=!0,y=e.input.charCodeAt(++e.position),Ft(e,!0,t),Kf(e,t,Aw,!1,!0),g=e.result),f?Yf(e,s,h,m,p,g):c?s.push(Yf(e,null,h,m,p,g)):s.push(p),Ft(e,!0,t),y=e.input.charCodeAt(e.position),y===44?(r=!0,y=e.input.charCodeAt(++e.position)):r=!1}ge(e,"unexpected end of the stream within a flow collection")}function cAe(e,t){var r,i,n=SC,s=!1,o=!1,a=t,l=0,c=!1,u,f;if(f=e.input.charCodeAt(e.position),f===124)i=!1;else if(f===62)i=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)SC===n?n=f===43?NV:JOe:ge(e,"repeat of a chomping mode identifier");else if((u=rAe(f))>=0)u===0?ge(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?ge(e,"repeat of an indentation width identifier"):(a=t+u-1,o=!0);else break;if(Ec(f)){do f=e.input.charCodeAt(++e.position);while(Ec(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!Ms(f)&&f!==0)}for(;f!==0;){for(xC(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),Ms(f)){l++;continue}if(e.lineIndent<a){n===NV?e.result+=qo.repeat(`
`,s?1+l:l):n===SC&&s&&(e.result+=`
`);break}for(i?Ec(f)?(c=!0,e.result+=qo.repeat(`
`,s?1+l:l)):c?(c=!1,e.result+=qo.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=qo.repeat(`
`,l):e.result+=qo.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,r=e.position;!Ms(f)&&f!==0;)f=e.input.charCodeAt(++e.position);Za(e,r,e.position,!1)}return!0}function jV(e,t){var r,i=e.tag,n=e.anchor,s=[],o,a=!1,l;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&!(l!==45||(o=e.input.charCodeAt(e.position+1),!Pi(o)));){if(a=!0,e.position++,Ft(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,Kf(e,t,UV,!1,!0),s.push(e.result),Ft(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)ge(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=i,e.anchor=n,e.kind="sequence",e.result=s,!0):!1}function uAe(e,t,r){var i,n,s,o,a=e.tag,l=e.anchor,c={},u={},f=null,h=null,p=null,m=!1,g=!1,y;for(e.anchor!==null&&(e.anchorMap[e.anchor]=c),y=e.input.charCodeAt(e.position);y!==0;){if(i=e.input.charCodeAt(e.position+1),s=e.line,o=e.position,(y===63||y===58)&&Pi(i))y===63?(m&&(Yf(e,c,u,f,h,null),f=h=p=null),g=!0,m=!0,n=!0):m?(m=!1,n=!0):ge(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=i;else if(Kf(e,r,zV,!1,!0))if(e.line===s){for(y=e.input.charCodeAt(e.position);Ec(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),Pi(y)||ge(e,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(Yf(e,c,u,f,h,null),f=h=p=null),g=!0,m=!1,n=!1,f=e.tag,h=e.result;else if(g)ge(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=a,e.anchor=l,!0}else if(g)ge(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=a,e.anchor=l,!0;else break;if((e.line===s||e.lineIndent>t)&&(Kf(e,t,Cw,!0,n)&&(m?h=e.result:p=e.result),m||(Yf(e,c,u,f,h,p,s,o),f=h=p=null),Ft(e,!0,-1),y=e.input.charCodeAt(e.position)),e.lineIndent>t&&y!==0)ge(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return m&&Yf(e,c,u,f,h,null),g&&(e.tag=a,e.anchor=l,e.kind="mapping",e.result=c),g}function fAe(e){var t,r=!1,i=!1,n,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&ge(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(i=!0,n="!!",o=e.input.charCodeAt(++e.position)):n="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):ge(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Pi(o);)o===33&&(i?ge(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),BV.test(n)||ge(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),QOe.test(s)&&ge(e,"tag suffix cannot contain flow indicator characters")}return s&&!HV.test(s)&&ge(e,"tag name cannot contain such characters: "+s),r?e.tag=s:Xa.call(e.tagMap,n)?e.tag=e.tagMap[n]+s:n==="!"?e.tag="!"+s:n==="!!"?e.tag="tag:yaml.org,2002:"+s:ge(e,'undeclared tag handle "'+n+'"'),!0}function hAe(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&ge(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Pi(r)&&!Gf(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&ge(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function dAe(e){var t,r,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!Pi(i)&&!Gf(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&ge(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Xa.call(e.anchorMap,r)||ge(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Ft(e,!0,-1),!0}function Kf(e,t,r,i,n){var s,o,a,l=1,c=!1,u=!1,f,h,p,m,g;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=Cw===r||UV===r,i&&Ft(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;fAe(e)||hAe(e);)Ft(e,!0,-1)?(c=!0,a=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=c||n),(l===1||Cw===r)&&(Aw===r||zV===r?m=t:m=t+1,g=e.position-e.lineStart,l===1?a&&(jV(e,g)||uAe(e,g,m))||lAe(e,m)?u=!0:(o&&cAe(e,m)||oAe(e,m)||aAe(e,m)?u=!0:dAe(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&ge(e,"alias node should not have any properties")):sAe(e,m,Aw===r)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(u=a&&jV(e,g))),e.tag!==null&&e.tag!=="!")if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&ge(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,h=e.implicitTypes.length;f<h;f+=1)if(p=e.implicitTypes[f],p.resolve(e.result)){e.result=p.construct(e.result),e.tag=p.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else Xa.call(e.typeMap[e.kind||"fallback"],e.tag)?(p=e.typeMap[e.kind||"fallback"][e.tag],e.result!==null&&p.kind!==e.kind&&ge(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+p.kind+'", not "'+e.kind+'"'),p.resolve(e.result)?(e.result=p.construct(e.result),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):ge(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):ge(e,"unknown tag !<"+e.tag+">");return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function pAe(e){var t=e.position,r,i,n,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};(o=e.input.charCodeAt(e.position))!==0&&(Ft(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Pi(o);)o=e.input.charCodeAt(++e.position);for(i=e.input.slice(r,e.position),n=[],i.length<1&&ge(e,"directive name must not be less than one character in length");o!==0;){for(;Ec(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!Ms(o));break}if(Ms(o))break;for(r=e.position;o!==0&&!Pi(o);)o=e.input.charCodeAt(++e.position);n.push(e.input.slice(r,e.position))}o!==0&&xC(e),Xa.call(DV,i)?DV[i](e,i,n):Pw(e,'unknown document directive "'+i+'"')}if(Ft(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ft(e,!0,-1)):s&&ge(e,"directives end mark is expected"),Kf(e,e.lineIndent-1,Cw,!1,!0),Ft(e,!0,-1),e.checkLineBreaks&&XOe.test(e.input.slice(t,e.position))&&Pw(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Iw(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ft(e,!0,-1));return}if(e.position<e.length-1)ge(e,"end of the stream or a document separator is expected");else return}function YV(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new nAe(e,t),i=e.indexOf("\0");for(i!==-1&&(r.position=i,ge(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)pAe(r);return r.documents}function KV(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var i=YV(e,r);if(typeof t!="function")return i;for(var n=0,s=i.length;n<s;n+=1)t(i[n])}function JV(e,t){var r=YV(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new qV("expected a single document in the stream, but found more")}}function mAe(e,t,r){return typeof t=="object"&&t!==null&&typeof r>"u"&&(r=t,t=null),KV(e,t,qo.extend({schema:MV},r))}function gAe(e,t){return JV(e,qo.extend({schema:MV},t))}Cm.exports.loadAll=KV;Cm.exports.load=JV;Cm.exports.safeLoadAll=mAe;Cm.exports.safeLoad=gAe});var bW=w((G6e,OC)=>{"use strict";var Im=bc(),Nm=Hf(),yAe=Am(),vAe=Wf(),sW=Object.prototype.toString,oW=Object.prototype.hasOwnProperty,_Ae=9,Pm=10,bAe=13,wAe=32,SAe=33,xAe=34,aW=35,EAe=37,kAe=38,RAe=39,TAe=42,lW=44,OAe=45,cW=58,AAe=61,CAe=62,PAe=63,IAe=64,uW=91,fW=93,NAe=96,hW=123,$Ae=124,dW=125,Ur={};Ur[0]="\\0";Ur[7]="\\a";Ur[8]="\\b";Ur[9]="\\t";Ur[10]="\\n";Ur[11]="\\v";Ur[12]="\\f";Ur[13]="\\r";Ur[27]="\\e";Ur[34]='\\"';Ur[92]="\\\\";Ur[133]="\\N";Ur[160]="\\_";Ur[8232]="\\L";Ur[8233]="\\P";var FAe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function DAe(e,t){var r,i,n,s,o,a,l;if(t===null)return{};for(r={},i=Object.keys(t),n=0,s=i.length;n<s;n+=1)o=i[n],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&oW.call(l.styleAliases,a)&&(a=l.styleAliases[a]),r[o]=a;return r}function XV(e){var t,r,i;if(t=e.toString(16).toUpperCase(),e<=255)r="x",i=2;else if(e<=65535)r="u",i=4;else if(e<=4294967295)r="U",i=8;else throw new Nm("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Im.repeat("0",i-t.length)+t}function LAe(e){this.schema=e.schema||yAe,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Im.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=DAe(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function QV(e,t){for(var r=Im.repeat(" ",t),i=0,n=-1,s="",o,a=e.length;i<a;)n=e.indexOf(`
`,i),n===-1?(o=e.slice(i),i=a):(o=e.slice(i,n+1),i=n+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function kC(e,t){return`
`+Im.repeat(" ",e.indent*t)}function jAe(e,t){var r,i,n;for(r=0,i=e.implicitTypes.length;r<i;r+=1)if(n=e.implicitTypes[r],n.resolve(t))return!0;return!1}function TC(e){return e===wAe||e===_Ae}function Jf(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==65279||65536<=e&&e<=1114111}function qAe(e){return Jf(e)&&!TC(e)&&e!==65279&&e!==bAe&&e!==Pm}function eW(e,t){return Jf(e)&&e!==65279&&e!==lW&&e!==uW&&e!==fW&&e!==hW&&e!==dW&&e!==cW&&(e!==aW||t&&qAe(t))}function MAe(e){return Jf(e)&&e!==65279&&!TC(e)&&e!==OAe&&e!==PAe&&e!==cW&&e!==lW&&e!==uW&&e!==fW&&e!==hW&&e!==dW&&e!==aW&&e!==kAe&&e!==TAe&&e!==SAe&&e!==$Ae&&e!==AAe&&e!==CAe&&e!==RAe&&e!==xAe&&e!==EAe&&e!==IAe&&e!==NAe}function pW(e){var t=/^\n* /;return t.test(e)}var mW=1,gW=2,yW=3,vW=4,Nw=5;function zAe(e,t,r,i,n){var s,o,a,l=!1,c=!1,u=i!==-1,f=-1,h=MAe(e.charCodeAt(0))&&!TC(e.charCodeAt(e.length-1));if(t)for(s=0;s<e.length;s++){if(o=e.charCodeAt(s),!Jf(o))return Nw;a=s>0?e.charCodeAt(s-1):null,h=h&&eW(o,a)}else{for(s=0;s<e.length;s++){if(o=e.charCodeAt(s),o===Pm)l=!0,u&&(c=c||s-f-1>i&&e[f+1]!==" ",f=s);else if(!Jf(o))return Nw;a=s>0?e.charCodeAt(s-1):null,h=h&&eW(o,a)}c=c||u&&s-f-1>i&&e[f+1]!==" "}return!l&&!c?h&&!n(e)?mW:gW:r>9&&pW(e)?Nw:c?vW:yW}function UAe(e,t,r,i){e.dump=function(){if(t.length===0)return"''";if(!e.noCompatMode&&FAe.indexOf(t)!==-1)return"'"+t+"'";var n=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-n),o=i||e.flowLevel>-1&&r>=e.flowLevel;function a(l){return jAe(e,l)}switch(zAe(t,o,e.indent,s,a)){case mW:return t;case gW:return"'"+t.replace(/'/g,"''")+"'";case yW:return"|"+tW(t,e.indent)+rW(QV(t,n));case vW:return">"+tW(t,e.indent)+rW(QV(BAe(t,s),n));case Nw:return'"'+HAe(t,s)+'"';default:throw new Nm("impossible error: invalid scalar style")}}()}function tW(e,t){var r=pW(e)?String(t):"",i=e[e.length-1]===`
`,n=i&&(e[e.length-2]===`
`||e===`
`),s=n?"+":i?"":"-";return r+s+`
`}function rW(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function BAe(e,t){for(var r=/(\n+)([^\n]*)/g,i=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,iW(e.slice(0,c),t)}(),n=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],l=o[2];s=l[0]===" ",i+=a+(!n&&!s&&l!==""?`
`:"")+iW(l,t),n=s}return i}function iW(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,i,n=0,s,o=0,a=0,l="";i=r.exec(e);)a=i.index,a-n>t&&(s=o>n?o:a,l+=`
`+e.slice(n,s),n=s+1),o=a;return l+=`
`,e.length-n>t&&o>n?l+=e.slice(n,o)+`
`+e.slice(o+1):l+=e.slice(n),l.slice(1)}function HAe(e){for(var t="",r,i,n,s=0;s<e.length;s++){if(r=e.charCodeAt(s),r>=55296&&r<=56319&&(i=e.charCodeAt(s+1),i>=56320&&i<=57343)){t+=XV((r-55296)*1024+i-56320+65536),s++;continue}n=Ur[r],t+=!n&&Jf(r)?e[s]:n||XV(r)}return t}function VAe(e,t,r){var i="",n=e.tag,s,o;for(s=0,o=r.length;s<o;s+=1)kc(e,t,r[s],!1,!1)&&(s!==0&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=n,e.dump="["+i+"]"}function WAe(e,t,r,i){var n="",s=e.tag,o,a;for(o=0,a=r.length;o<a;o+=1)kc(e,t+1,r[o],!0,!0)&&((!i||o!==0)&&(n+=kC(e,t)),e.dump&&Pm===e.dump.charCodeAt(0)?n+="-":n+="- ",n+=e.dump);e.tag=s,e.dump=n||"[]"}function GAe(e,t,r){var i="",n=e.tag,s=Object.keys(r),o,a,l,c,u;for(o=0,a=s.length;o<a;o+=1)u="",o!==0&&(u+=", "),e.condenseFlow&&(u+='"'),l=s[o],c=r[l],kc(e,t,l,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),kc(e,t,c,!1,!1)&&(u+=e.dump,i+=u));e.tag=n,e.dump="{"+i+"}"}function YAe(e,t,r,i){var n="",s=e.tag,o=Object.keys(r),a,l,c,u,f,h;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Nm("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)h="",(!i||a!==0)&&(h+=kC(e,t)),c=o[a],u=r[c],kc(e,t+1,c,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&Pm===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,f&&(h+=kC(e,t)),kc(e,t+1,u,!0,f)&&(e.dump&&Pm===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,n+=h));e.tag=s,e.dump=n||"{}"}function nW(e,t,r){var i,n,s,o,a,l;for(n=r?e.explicitTypes:e.implicitTypes,s=0,o=n.length;s<o;s+=1)if(a=n[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(e.tag=r?a.tag:"?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,sW.call(a.represent)==="[object Function]")i=a.represent(t,l);else if(oW.call(a.represent,l))i=a.represent[l](t,l);else throw new Nm("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=i}return!0}return!1}function kc(e,t,r,i,n,s){e.tag=null,e.dump=r,nW(e,r,!1)||nW(e,r,!0);var o=sW.call(e.dump);i&&(i=e.flowLevel<0||e.flowLevel>t);var a=o==="[object Object]"||o==="[object Array]",l,c;if(a&&(l=e.duplicates.indexOf(r),c=l!==-1),(e.tag!==null&&e.tag!=="?"||c||e.indent!==2&&t>0)&&(n=!1),c&&e.usedDuplicates[l])e.dump="*ref_"+l;else{if(a&&c&&!e.usedDuplicates[l]&&(e.usedDuplicates[l]=!0),o==="[object Object]")i&&Object.keys(e.dump).length!==0?(YAe(e,t,e.dump,n),c&&(e.dump="&ref_"+l+e.dump)):(GAe(e,t,e.dump),c&&(e.dump="&ref_"+l+" "+e.dump));else if(o==="[object Array]"){var u=e.noArrayIndent&&t>0?t-1:t;i&&e.dump.length!==0?(WAe(e,u,e.dump,n),c&&(e.dump="&ref_"+l+e.dump)):(VAe(e,u,e.dump),c&&(e.dump="&ref_"+l+" "+e.dump))}else if(o==="[object String]")e.tag!=="?"&&UAe(e,e.dump,t,s);else{if(e.skipInvalid)return!1;throw new Nm("unacceptable kind of an object to dump "+o)}e.tag!==null&&e.tag!=="?"&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function KAe(e,t){var r=[],i=[],n,s;for(RC(e,r,i),n=0,s=i.length;n<s;n+=1)t.duplicates.push(r[i[n]]);t.usedDuplicates=new Array(s)}function RC(e,t,r){var i,n,s;if(e!==null&&typeof e=="object")if(n=t.indexOf(e),n!==-1)r.indexOf(n)===-1&&r.push(n);else if(t.push(e),Array.isArray(e))for(n=0,s=e.length;n<s;n+=1)RC(e[n],t,r);else for(i=Object.keys(e),n=0,s=i.length;n<s;n+=1)RC(e[i[n]],t,r)}function _W(e,t){t=t||{};var r=new LAe(t);return r.noRefs||KAe(e,r),kc(r,0,e,!0,!0)?r.dump+`
`:""}function JAe(e,t){return _W(e,Im.extend({schema:vAe},t))}OC.exports.dump=_W;OC.exports.safeDump=JAe});var SW=w((Y6e,xt)=>{"use strict";var $w=ZV(),wW=bW();function Fw(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}xt.exports.Type=Vt();xt.exports.Schema=wc();xt.exports.FAILSAFE_SCHEMA=Tw();xt.exports.JSON_SCHEMA=_C();xt.exports.CORE_SCHEMA=bC();xt.exports.DEFAULT_SAFE_SCHEMA=Wf();xt.exports.DEFAULT_FULL_SCHEMA=Am();xt.exports.load=$w.load;xt.exports.loadAll=$w.loadAll;xt.exports.safeLoad=$w.safeLoad;xt.exports.safeLoadAll=$w.safeLoadAll;xt.exports.dump=wW.dump;xt.exports.safeDump=wW.safeDump;xt.exports.YAMLException=Hf();xt.exports.MINIMAL_SCHEMA=Tw();xt.exports.SAFE_SCHEMA=Wf();xt.exports.DEFAULT_SCHEMA=Am();xt.exports.scan=Fw("scan");xt.exports.parse=Fw("parse");xt.exports.compose=Fw("compose");xt.exports.addConstructor=Fw("addConstructor")});var AC=w((K6e,xW)=>{"use strict";var ZAe=SW();xW.exports=ZAe});var EW=w(($m,CC)=>{(function(e,t){typeof $m=="object"&&typeof CC=="object"?CC.exports=t(AC()):typeof define=="function"&&define.amd?define([],t):typeof $m=="object"?$m.yamlFront=t(AC()):e.yamlFront=t(e.jsyaml)})($m,function(e){return function(t){var r={};function i(n){if(r[n])return r[n].exports;var s=r[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=r,i.d=function(n,s,o){i.o(n,s)||Object.defineProperty(n,s,{enumerable:!0,get:o})},i.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,s){if(1&s&&(n=i(n)),8&s||4&s&&typeof n=="object"&&n&&n.__esModule)return n;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&s&&typeof n!="string")for(var a in n)i.d(o,a,function(l){return n[l]}.bind(null,a));return o},i.n=function(n){var s=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(s,"a",s),s},i.o=function(n,s){return Object.prototype.hasOwnProperty.call(n,s)},i.p="",i(i.s=0)}([function(t,r,i){"use strict";function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(c)}i.r(r),i.d(r,"loadFront",function(){return a}),i.d(r,"safeLoadFront",function(){return l});var s=i(1);function o(c,u,f){var h,p=u&&typeof u=="string"?u:u&&u.contentKeyName?u.contentKeyName:"__content",m=u&&n(u)==="object"?u:void 0,g=/^(-{3}(?:\n|\r)([\w\W]+?)(?:\n|\r)-{3})?([\w\W]*)*/.exec(c),y={};return(h=g[2])&&(y=h.charAt(0)==="{"?JSON.parse(h):f?s.safeLoad(h,m):s.load(h,m)),y[p]=g[3]||"",y}function a(c,u){return o(c,u,!1)}function l(c,u){return o(c,u,!0)}},function(t,r){t.exports=e}])})});var CW=w((Q6e,AW)=>{"use strict";AW.exports=TW;function TW(e,t,r){e instanceof RegExp&&(e=RW(e,r)),t instanceof RegExp&&(t=RW(t,r));var i=OW(e,t,r);return i&&{start:i[0],end:i[1],pre:r.slice(0,i[0]),body:r.slice(i[0]+e.length,i[1]),post:r.slice(i[1]+t.length)}}function RW(e,t){var r=t.match(e);return r?r[0]:null}TW.range=OW;function OW(e,t,r){var i,n,s,o,a,l=r.indexOf(e),c=r.indexOf(t,l+1),u=l;if(l>=0&&c>0){if(e===t)return[l,c];for(i=[],s=r.length;u>=0&&!a;)u==l?(i.push(u),l=r.indexOf(e,u+1)):i.length==1?a=[i.pop(),c]:(n=i.pop(),n<s&&(s=n,o=c),c=r.indexOf(t,u+1)),u=l<c&&l>=0?l:c;i.length&&(a=[s,o])}return a}});var NC=w((e9e,LW)=>{var PW=CW();LW.exports=eCe;var IW="\0SLASH"+Math.random()+"\0",NW="\0OPEN"+Math.random()+"\0",IC="\0CLOSE"+Math.random()+"\0",$W="\0COMMA"+Math.random()+"\0",FW="\0PERIOD"+Math.random()+"\0";function PC(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function XAe(e){return e.split("\\\\").join(IW).split("\\{").join(NW).split("\\}").join(IC).split("\\,").join($W).split("\\.").join(FW)}function QAe(e){return e.split(IW).join("\\").split(NW).join("{").split(IC).join("}").split($W).join(",").split(FW).join(".")}function DW(e){if(!e)return[""];var t=[],r=PW("{","}",e);if(!r)return e.split(",");var i=r.pre,n=r.body,s=r.post,o=i.split(",");o[o.length-1]+="{"+n+"}";var a=DW(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),t.push.apply(t,o),t}function eCe(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),Fm(XAe(e),!0).map(QAe)):[]}function tCe(e){return"{"+e+"}"}function rCe(e){return/^-?0\d/.test(e)}function iCe(e,t){return e<=t}function nCe(e,t){return e>=t}function Fm(e,t){var r=[],i=PW("{","}",e);if(!i)return[e];var n=i.pre,s=i.post.length?Fm(i.post,!1):[""];if(/\$$/.test(i.pre))for(var o=0;o<s.length;o++){var a=n+"{"+i.body+"}"+s[o];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),u=l||c,f=i.body.indexOf(",")>=0;if(!u&&!f)return i.post.match(/,.*\}/)?(e=i.pre+"{"+i.body+IC+i.post,Fm(e)):[e];var h;if(u)h=i.body.split(/\.\./);else if(h=DW(i.body),h.length===1&&(h=Fm(h[0],!1).map(tCe),h.length===1))return s.map(function(T){return i.pre+h[0]+T});var p;if(u){var m=PC(h[0]),g=PC(h[1]),y=Math.max(h[0].length,h[1].length),_=h.length==3?Math.abs(PC(h[2])):1,S=iCe,b=g<m;b&&(_*=-1,S=nCe);var v=h.some(rCe);p=[];for(var O=m;S(O,g);O+=_){var j;if(c)j=String.fromCharCode(O),j==="\\"&&(j="");else if(j=String(O),v){var R=y-j.length;if(R>0){var I=new Array(R+1).join("0");O<0?j="-"+I+j.slice(1):j=I+j}}p.push(j)}}else{p=[];for(var F=0;F<h.length;F++)p.push.apply(p,Fm(h[F],!1))}for(var F=0;F<p.length;F++)for(var o=0;o<s.length;o++){var a=n+p[F]+s[o];(!t||u||a)&&r.push(a)}}return r}});var PG=w((fP,hP)=>{(function(e,t){typeof fP=="object"&&typeof hP<"u"?hP.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).RevealMarkdown=t()})(fP,function(){"use strict";function e(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let t={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},r=/[&<>"']/,i=new RegExp(r.source,"g"),n=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,s=new RegExp(n.source,"g"),o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},a=ee=>o[ee];function l(ee,k){if(k){if(r.test(ee))return ee.replace(i,a)}else if(n.test(ee))return ee.replace(s,a);return ee}let c=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function u(ee){return ee.replace(c,(k,E)=>(E=E.toLowerCase())==="colon"?":":E.charAt(0)==="#"?E.charAt(1)==="x"?String.fromCharCode(parseInt(E.substring(2),16)):String.fromCharCode(+E.substring(1)):"")}let f=/(^|[^\[])\^/g;function h(ee,k){ee=typeof ee=="string"?ee:ee.source,k=k||"";let E={replace:(x,P)=>(P=(P=P.source||P).replace(f,"$1"),ee=ee.replace(x,P),E),getRegex:()=>new RegExp(ee,k)};return E}let p=/[^\w:]/g,m=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function g(ee,k,E){if(ee){let x;try{x=decodeURIComponent(u(E)).replace(p,"").toLowerCase()}catch{return null}if(x.indexOf("javascript:")===0||x.indexOf("vbscript:")===0||x.indexOf("data:")===0)return null}k&&!m.test(E)&&(E=function(x,P){y[" "+x]||(_.test(x)?y[" "+x]=x+"/":y[" "+x]=j(x,"/",!0)),x=y[" "+x];let G=x.indexOf(":")===-1;return P.substring(0,2)==="//"?G?P:x.replace(S,"$1")+P:P.charAt(0)==="/"?G?P:x.replace(b,"$1")+P:x+P}(k,E));try{E=encodeURI(E).replace(/%25/g,"%")}catch{return null}return E}let y={},_=/^[^:]+:\/*[^/]*$/,S=/^([^:]+:)[\s\S]*$/,b=/^([^:]+:\/*[^/]*)[\s\S]*$/,v={exec:function(){}};function O(ee,k){let E=ee.replace(/\|/g,(P,G,U)=>{let D=!1,q=G;for(;--q>=0&&U[q]==="\\";)D=!D;return D?"|":" |"}).split(/ \|/),x=0;if(E[0].trim()||E.shift(),E.length>0&&!E[E.length-1].trim()&&E.pop(),E.length>k)E.splice(k);else for(;E.length<k;)E.push("");for(;x<E.length;x++)E[x]=E[x].trim().replace(/\\\|/g,"|");return E}function j(ee,k,E){let x=ee.length;if(x===0)return"";let P=0;for(;P<x;){let G=ee.charAt(x-P-1);if(G!==k||E){if(G===k||!E)break;P++}else P++}return ee.slice(0,x-P)}function R(ee,k){if(k<1)return"";let E="";for(;k>1;)1&k&&(E+=ee),k>>=1,ee+=ee;return E+ee}function I(ee,k,E,x){let P=k.href,G=k.title?l(k.title):null,U=ee[1].replace(/\\([\[\]])/g,"$1");if(ee[0].charAt(0)!=="!"){x.state.inLink=!0;let D={type:"link",raw:E,href:P,title:G,text:U,tokens:x.inlineTokens(U)};return x.state.inLink=!1,D}return{type:"image",raw:E,href:P,title:G,text:l(U)}}class F{constructor(k){this.options=k||t}space(k){let E=this.rules.block.newline.exec(k);if(E&&E[0].length>0)return{type:"space",raw:E[0]}}code(k){let E=this.rules.block.code.exec(k);if(E){let x=E[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:E[0],codeBlockStyle:"indented",text:this.options.pedantic?x:j(x,`
`)}}}fences(k){let E=this.rules.block.fences.exec(k);if(E){let x=E[0],P=function(G,U){let D=G.match(/^(\s+)(?:```)/);if(D===null)return U;let q=D[1];return U.split(`
`).map(W=>{let B=W.match(/^\s+/);if(B===null)return W;let[M]=B;return M.length>=q.length?W.slice(q.length):W}).join(`
`)}(x,E[3]||"");return{type:"code",raw:x,lang:E[2]?E[2].trim().replace(this.rules.inline._escapes,"$1"):E[2],text:P}}}heading(k){let E=this.rules.block.heading.exec(k);if(E){let x=E[2].trim();if(/#$/.test(x)){let P=j(x,"#");this.options.pedantic?x=P.trim():P&&!/ $/.test(P)||(x=P.trim())}return{type:"heading",raw:E[0],depth:E[1].length,text:x,tokens:this.lexer.inline(x)}}}hr(k){let E=this.rules.block.hr.exec(k);if(E)return{type:"hr",raw:E[0]}}blockquote(k){let E=this.rules.block.blockquote.exec(k);if(E){let x=E[0].replace(/^ *>[ \t]?/gm,""),P=this.lexer.state.top;this.lexer.state.top=!0;let G=this.lexer.blockTokens(x);return this.lexer.state.top=P,{type:"blockquote",raw:E[0],tokens:G,text:x}}}list(k){let E=this.rules.block.list.exec(k);if(E){let x,P,G,U,D,q,W,B,M,V,te,Te,ne=E[1].trim(),ye=ne.length>1,ue={type:"list",raw:"",ordered:ye,start:ye?+ne.slice(0,-1):"",loose:!1,items:[]};ne=ye?`\\d{1,9}\\${ne.slice(-1)}`:`\\${ne}`,this.options.pedantic&&(ne=ye?ne:"[*+-]");let Ce=new RegExp(`^( {0,3}${ne})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;k&&(Te=!1,E=Ce.exec(k))&&!this.rules.block.hr.test(k);){if(x=E[0],k=k.substring(x.length),B=E[2].split(`
`,1)[0].replace(/^\t+/,He=>" ".repeat(3*He.length)),M=k.split(`
`,1)[0],this.options.pedantic?(U=2,te=B.trimLeft()):(U=E[2].search(/[^ ]/),U=U>4?1:U,te=B.slice(U),U+=E[1].length),q=!1,!B&&/^ *$/.test(M)&&(x+=M+`
`,k=k.substring(M.length+1),Te=!0),!Te){let He=new RegExp(`^ {0,${Math.min(3,U-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),ht=new RegExp(`^ {0,${Math.min(3,U-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),We=new RegExp(`^ {0,${Math.min(3,U-1)}}(?:\`\`\`|~~~)`),zl=new RegExp(`^ {0,${Math.min(3,U-1)}}#`);for(;k&&(V=k.split(`
`,1)[0],M=V,this.options.pedantic&&(M=M.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!We.test(M))&&!zl.test(M)&&!He.test(M)&&!ht.test(k);){if(M.search(/[^ ]/)>=U||!M.trim())te+=`
`+M.slice(U);else{if(q||B.search(/[^ ]/)>=4||We.test(B)||zl.test(B)||ht.test(B))break;te+=`
`+M}q||M.trim()||(q=!0),x+=V+`
`,k=k.substring(V.length+1),B=M.slice(U)}}ue.loose||(W?ue.loose=!0:/\n *\n *$/.test(x)&&(W=!0)),this.options.gfm&&(P=/^\[[ xX]\] /.exec(te),P&&(G=P[0]!=="[ ] ",te=te.replace(/^\[[ xX]\] +/,""))),ue.items.push({type:"list_item",raw:x,task:!!P,checked:G,loose:!1,text:te}),ue.raw+=x}ue.items[ue.items.length-1].raw=x.trimRight(),ue.items[ue.items.length-1].text=te.trimRight(),ue.raw=ue.raw.trimRight();let $e=ue.items.length;for(D=0;D<$e;D++)if(this.lexer.state.top=!1,ue.items[D].tokens=this.lexer.blockTokens(ue.items[D].text,[]),!ue.loose){let He=ue.items[D].tokens.filter(We=>We.type==="space"),ht=He.length>0&&He.some(We=>/\n.*\n/.test(We.raw));ue.loose=ht}if(ue.loose)for(D=0;D<$e;D++)ue.items[D].loose=!0;return ue}}html(k){let E=this.rules.block.html.exec(k);if(E){let x={type:"html",raw:E[0],pre:!this.options.sanitizer&&(E[1]==="pre"||E[1]==="script"||E[1]==="style"),text:E[0]};if(this.options.sanitize){let P=this.options.sanitizer?this.options.sanitizer(E[0]):l(E[0]);x.type="paragraph",x.text=P,x.tokens=this.lexer.inline(P)}return x}}def(k){let E=this.rules.block.def.exec(k);if(E){let x=E[1].toLowerCase().replace(/\s+/g," "),P=E[2]?E[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",G=E[3]?E[3].substring(1,E[3].length-1).replace(this.rules.inline._escapes,"$1"):E[3];return{type:"def",tag:x,raw:E[0],href:P,title:G}}}table(k){let E=this.rules.block.table.exec(k);if(E){let x={type:"table",header:O(E[1]).map(P=>({text:P})),align:E[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:E[3]&&E[3].trim()?E[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(x.header.length===x.align.length){x.raw=E[0];let P,G,U,D,q=x.align.length;for(P=0;P<q;P++)/^ *-+: *$/.test(x.align[P])?x.align[P]="right":/^ *:-+: *$/.test(x.align[P])?x.align[P]="center":/^ *:-+ *$/.test(x.align[P])?x.align[P]="left":x.align[P]=null;for(q=x.rows.length,P=0;P<q;P++)x.rows[P]=O(x.rows[P],x.header.length).map(W=>({text:W}));for(q=x.header.length,G=0;G<q;G++)x.header[G].tokens=this.lexer.inline(x.header[G].text);for(q=x.rows.length,G=0;G<q;G++)for(D=x.rows[G],U=0;U<D.length;U++)D[U].tokens=this.lexer.inline(D[U].text);return x}}}lheading(k){let E=this.rules.block.lheading.exec(k);if(E)return{type:"heading",raw:E[0],depth:E[2].charAt(0)==="="?1:2,text:E[1],tokens:this.lexer.inline(E[1])}}paragraph(k){let E=this.rules.block.paragraph.exec(k);if(E){let x=E[1].charAt(E[1].length-1)===`
`?E[1].slice(0,-1):E[1];return{type:"paragraph",raw:E[0],text:x,tokens:this.lexer.inline(x)}}}text(k){let E=this.rules.block.text.exec(k);if(E)return{type:"text",raw:E[0],text:E[0],tokens:this.lexer.inline(E[0])}}escape(k){let E=this.rules.inline.escape.exec(k);if(E)return{type:"escape",raw:E[0],text:l(E[1])}}tag(k){let E=this.rules.inline.tag.exec(k);if(E)return!this.lexer.state.inLink&&/^<a /i.test(E[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(E[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(E[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(E[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:E[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(E[0]):l(E[0]):E[0]}}link(k){let E=this.rules.inline.link.exec(k);if(E){let x=E[2].trim();if(!this.options.pedantic&&/^</.test(x)){if(!/>$/.test(x))return;let U=j(x.slice(0,-1),"\\");if((x.length-U.length)%2==0)return}else{let U=function(D,q){if(D.indexOf(q[1])===-1)return-1;let W=D.length,B=0,M=0;for(;M<W;M++)if(D[M]==="\\")M++;else if(D[M]===q[0])B++;else if(D[M]===q[1]&&(B--,B<0))return M;return-1}(E[2],"()");if(U>-1){let D=(E[0].indexOf("!")===0?5:4)+E[1].length+U;E[2]=E[2].substring(0,U),E[0]=E[0].substring(0,D).trim(),E[3]=""}}let P=E[2],G="";if(this.options.pedantic){let U=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(P);U&&(P=U[1],G=U[3])}else G=E[3]?E[3].slice(1,-1):"";return P=P.trim(),/^</.test(P)&&(P=this.options.pedantic&&!/>$/.test(x)?P.slice(1):P.slice(1,-1)),I(E,{href:P&&P.replace(this.rules.inline._escapes,"$1"),title:G&&G.replace(this.rules.inline._escapes,"$1")},E[0],this.lexer)}}reflink(k,E){let x;if((x=this.rules.inline.reflink.exec(k))||(x=this.rules.inline.nolink.exec(k))){let P=(x[2]||x[1]).replace(/\s+/g," ");if(P=E[P.toLowerCase()],!P){let G=x[0].charAt(0);return{type:"text",raw:G,text:G}}return I(x,P,x[0],this.lexer)}}emStrong(k,E,x=""){let P=this.rules.inline.emStrong.lDelim.exec(k);if(!P||P[3]&&x.match(/[\p{L}\p{N}]/u))return;let G=P[1]||P[2]||"";if(!G||G&&(x===""||this.rules.inline.punctuation.exec(x))){let U=P[0].length-1,D,q,W=U,B=0,M=P[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(M.lastIndex=0,E=E.slice(-1*k.length+U);(P=M.exec(E))!=null;){if(D=P[1]||P[2]||P[3]||P[4]||P[5]||P[6],!D)continue;if(q=D.length,P[3]||P[4]){W+=q;continue}if((P[5]||P[6])&&U%3&&!((U+q)%3)){B+=q;continue}if(W-=q,W>0)continue;q=Math.min(q,q+W+B);let V=k.slice(0,U+P.index+(P[0].length-D.length)+q);if(Math.min(U,q)%2){let Te=V.slice(1,-1);return{type:"em",raw:V,text:Te,tokens:this.lexer.inlineTokens(Te)}}let te=V.slice(2,-2);return{type:"strong",raw:V,text:te,tokens:this.lexer.inlineTokens(te)}}}}codespan(k){let E=this.rules.inline.code.exec(k);if(E){let x=E[2].replace(/\n/g," "),P=/[^ ]/.test(x),G=/^ /.test(x)&&/ $/.test(x);return P&&G&&(x=x.substring(1,x.length-1)),x=l(x,!0),{type:"codespan",raw:E[0],text:x}}}br(k){let E=this.rules.inline.br.exec(k);if(E)return{type:"br",raw:E[0]}}del(k){let E=this.rules.inline.del.exec(k);if(E)return{type:"del",raw:E[0],text:E[2],tokens:this.lexer.inlineTokens(E[2])}}autolink(k,E){let x=this.rules.inline.autolink.exec(k);if(x){let P,G;return x[2]==="@"?(P=l(this.options.mangle?E(x[1]):x[1]),G="mailto:"+P):(P=l(x[1]),G=P),{type:"link",raw:x[0],text:P,href:G,tokens:[{type:"text",raw:P,text:P}]}}}url(k,E){let x;if(x=this.rules.inline.url.exec(k)){let P,G;if(x[2]==="@")P=l(this.options.mangle?E(x[0]):x[0]),G="mailto:"+P;else{let U;do U=x[0],x[0]=this.rules.inline._backpedal.exec(x[0])[0];while(U!==x[0]);P=l(x[0]),G=x[1]==="www."?"http://"+x[0]:x[0]}return{type:"link",raw:x[0],text:P,href:G,tokens:[{type:"text",raw:P,text:P}]}}}inlineText(k,E){let x=this.rules.inline.text.exec(k);if(x){let P;return P=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(x[0]):l(x[0]):x[0]:l(this.options.smartypants?E(x[0]):x[0]),{type:"text",raw:x[0],text:P}}}}let T={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:v,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};T.def=h(T.def).replace("label",T._label).replace("title",T._title).getRegex(),T.bullet=/(?:[*+-]|\d{1,9}[.)])/,T.listItemStart=h(/^( *)(bull) */).replace("bull",T.bullet).getRegex(),T.list=h(T.list).replace(/bull/g,T.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+T.def.source+")").getRegex(),T._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",T._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,T.html=h(T.html,"i").replace("comment",T._comment).replace("tag",T._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),T.paragraph=h(T._paragraph).replace("hr",T.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",T._tag).getRegex(),T.blockquote=h(T.blockquote).replace("paragraph",T.paragraph).getRegex(),T.normal={...T},T.gfm={...T.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},T.gfm.table=h(T.gfm.table).replace("hr",T.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",T._tag).getRegex(),T.gfm.paragraph=h(T._paragraph).replace("hr",T.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",T.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",T._tag).getRegex(),T.pedantic={...T.normal,html:h(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",T._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:v,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:h(T.normal._paragraph).replace("hr",T.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",T.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};let $={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:v,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:v,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function z(ee){return ee.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function H(ee){let k,E,x="",P=ee.length;for(k=0;k<P;k++)E=ee.charCodeAt(k),Math.random()>.5&&(E="x"+E.toString(16)),x+="&#"+E+";";return x}$._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",$.punctuation=h($.punctuation).replace(/punctuation/g,$._punctuation).getRegex(),$.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,$.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,$._comment=h(T._comment).replace("(?:-->|$)","-->").getRegex(),$.emStrong.lDelim=h($.emStrong.lDelim).replace(/punct/g,$._punctuation).getRegex(),$.emStrong.rDelimAst=h($.emStrong.rDelimAst,"g").replace(/punct/g,$._punctuation).getRegex(),$.emStrong.rDelimUnd=h($.emStrong.rDelimUnd,"g").replace(/punct/g,$._punctuation).getRegex(),$._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,$._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,$._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,$.autolink=h($.autolink).replace("scheme",$._scheme).replace("email",$._email).getRegex(),$._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,$.tag=h($.tag).replace("comment",$._comment).replace("attribute",$._attribute).getRegex(),$._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,$._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,$._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,$.link=h($.link).replace("label",$._label).replace("href",$._href).replace("title",$._title).getRegex(),$.reflink=h($.reflink).replace("label",$._label).replace("ref",T._label).getRegex(),$.nolink=h($.nolink).replace("ref",T._label).getRegex(),$.reflinkSearch=h($.reflinkSearch,"g").replace("reflink",$.reflink).replace("nolink",$.nolink).getRegex(),$.normal={...$},$.pedantic={...$.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",$._label).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",$._label).getRegex()},$.gfm={...$.normal,escape:h($.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},$.gfm.url=h($.gfm.url,"i").replace("email",$.gfm._extended_email).getRegex(),$.breaks={...$.gfm,br:h($.br).replace("{2,}","*").getRegex(),text:h($.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class X{constructor(k){this.tokens=[],this.tokens.links=Object.create(null),this.options=k||t,this.options.tokenizer=this.options.tokenizer||new F,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let E={block:T.normal,inline:$.normal};this.options.pedantic?(E.block=T.pedantic,E.inline=$.pedantic):this.options.gfm&&(E.block=T.gfm,this.options.breaks?E.inline=$.breaks:E.inline=$.gfm),this.tokenizer.rules=E}static get rules(){return{block:T,inline:$}}static lex(k,E){return new X(E).lex(k)}static lexInline(k,E){return new X(E).inlineTokens(k)}lex(k){let E;for(k=k.replace(/\r\n|\r/g,`
`),this.blockTokens(k,this.tokens);E=this.inlineQueue.shift();)this.inlineTokens(E.src,E.tokens);return this.tokens}blockTokens(k,E=[]){let x,P,G,U;for(k=this.options.pedantic?k.replace(/\t/g,"    ").replace(/^ +$/gm,""):k.replace(/^( *)(\t+)/gm,(D,q,W)=>q+"    ".repeat(W.length));k;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(D=>!!(x=D.call({lexer:this},k,E))&&(k=k.substring(x.raw.length),E.push(x),!0))))if(x=this.tokenizer.space(k))k=k.substring(x.raw.length),x.raw.length===1&&E.length>0?E[E.length-1].raw+=`
`:E.push(x);else if(x=this.tokenizer.code(k))k=k.substring(x.raw.length),P=E[E.length-1],!P||P.type!=="paragraph"&&P.type!=="text"?E.push(x):(P.raw+=`
`+x.raw,P.text+=`
`+x.text,this.inlineQueue[this.inlineQueue.length-1].src=P.text);else if(x=this.tokenizer.fences(k))k=k.substring(x.raw.length),E.push(x);else if(x=this.tokenizer.heading(k))k=k.substring(x.raw.length),E.push(x);else if(x=this.tokenizer.hr(k))k=k.substring(x.raw.length),E.push(x);else if(x=this.tokenizer.blockquote(k))k=k.substring(x.raw.length),E.push(x);else if(x=this.tokenizer.list(k))k=k.substring(x.raw.length),E.push(x);else if(x=this.tokenizer.html(k))k=k.substring(x.raw.length),E.push(x);else if(x=this.tokenizer.def(k))k=k.substring(x.raw.length),P=E[E.length-1],!P||P.type!=="paragraph"&&P.type!=="text"?this.tokens.links[x.tag]||(this.tokens.links[x.tag]={href:x.href,title:x.title}):(P.raw+=`
`+x.raw,P.text+=`
`+x.raw,this.inlineQueue[this.inlineQueue.length-1].src=P.text);else if(x=this.tokenizer.table(k))k=k.substring(x.raw.length),E.push(x);else if(x=this.tokenizer.lheading(k))k=k.substring(x.raw.length),E.push(x);else{if(G=k,this.options.extensions&&this.options.extensions.startBlock){let D=1/0,q=k.slice(1),W;this.options.extensions.startBlock.forEach(function(B){W=B.call({lexer:this},q),typeof W=="number"&&W>=0&&(D=Math.min(D,W))}),D<1/0&&D>=0&&(G=k.substring(0,D+1))}if(this.state.top&&(x=this.tokenizer.paragraph(G)))P=E[E.length-1],U&&P.type==="paragraph"?(P.raw+=`
`+x.raw,P.text+=`
`+x.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=P.text):E.push(x),U=G.length!==k.length,k=k.substring(x.raw.length);else if(x=this.tokenizer.text(k))k=k.substring(x.raw.length),P=E[E.length-1],P&&P.type==="text"?(P.raw+=`
`+x.raw,P.text+=`
`+x.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=P.text):E.push(x);else if(k){let D="Infinite loop on byte: "+k.charCodeAt(0);if(this.options.silent){console.error(D);break}throw new Error(D)}}return this.state.top=!0,E}inline(k,E=[]){return this.inlineQueue.push({src:k,tokens:E}),E}inlineTokens(k,E=[]){let x,P,G,U,D,q,W=k;if(this.tokens.links){let B=Object.keys(this.tokens.links);if(B.length>0)for(;(U=this.tokenizer.rules.inline.reflinkSearch.exec(W))!=null;)B.includes(U[0].slice(U[0].lastIndexOf("[")+1,-1))&&(W=W.slice(0,U.index)+"["+R("a",U[0].length-2)+"]"+W.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(U=this.tokenizer.rules.inline.blockSkip.exec(W))!=null;)W=W.slice(0,U.index)+"["+R("a",U[0].length-2)+"]"+W.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(U=this.tokenizer.rules.inline.escapedEmSt.exec(W))!=null;)W=W.slice(0,U.index+U[0].length-2)+"++"+W.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;k;)if(D||(q=""),D=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(B=>!!(x=B.call({lexer:this},k,E))&&(k=k.substring(x.raw.length),E.push(x),!0))))if(x=this.tokenizer.escape(k))k=k.substring(x.raw.length),E.push(x);else if(x=this.tokenizer.tag(k))k=k.substring(x.raw.length),P=E[E.length-1],P&&x.type==="text"&&P.type==="text"?(P.raw+=x.raw,P.text+=x.text):E.push(x);else if(x=this.tokenizer.link(k))k=k.substring(x.raw.length),E.push(x);else if(x=this.tokenizer.reflink(k,this.tokens.links))k=k.substring(x.raw.length),P=E[E.length-1],P&&x.type==="text"&&P.type==="text"?(P.raw+=x.raw,P.text+=x.text):E.push(x);else if(x=this.tokenizer.emStrong(k,W,q))k=k.substring(x.raw.length),E.push(x);else if(x=this.tokenizer.codespan(k))k=k.substring(x.raw.length),E.push(x);else if(x=this.tokenizer.br(k))k=k.substring(x.raw.length),E.push(x);else if(x=this.tokenizer.del(k))k=k.substring(x.raw.length),E.push(x);else if(x=this.tokenizer.autolink(k,H))k=k.substring(x.raw.length),E.push(x);else if(this.state.inLink||!(x=this.tokenizer.url(k,H))){if(G=k,this.options.extensions&&this.options.extensions.startInline){let B=1/0,M=k.slice(1),V;this.options.extensions.startInline.forEach(function(te){V=te.call({lexer:this},M),typeof V=="number"&&V>=0&&(B=Math.min(B,V))}),B<1/0&&B>=0&&(G=k.substring(0,B+1))}if(x=this.tokenizer.inlineText(G,z))k=k.substring(x.raw.length),x.raw.slice(-1)!=="_"&&(q=x.raw.slice(-1)),D=!0,P=E[E.length-1],P&&P.type==="text"?(P.raw+=x.raw,P.text+=x.text):E.push(x);else if(k){let B="Infinite loop on byte: "+k.charCodeAt(0);if(this.options.silent){console.error(B);break}throw new Error(B)}}else k=k.substring(x.raw.length),E.push(x);return E}}class ie{constructor(k){this.options=k||t}code(k,E,x){let P=(E||"").match(/\S*/)[0];if(this.options.highlight){let G=this.options.highlight(k,P);G!=null&&G!==k&&(x=!0,k=G)}return k=k.replace(/\n$/,"")+`
`,P?'<pre><code class="'+this.options.langPrefix+l(P)+'">'+(x?k:l(k,!0))+`</code></pre>
`:"<pre><code>"+(x?k:l(k,!0))+`</code></pre>
`}blockquote(k){return`<blockquote>
${k}</blockquote>
`}html(k){return k}heading(k,E,x,P){return this.options.headerIds?`<h${E} id="${this.options.headerPrefix+P.slug(x)}">${k}</h${E}>
`:`<h${E}>${k}</h${E}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(k,E,x){let P=E?"ol":"ul";return"<"+P+(E&&x!==1?' start="'+x+'"':"")+`>
`+k+"</"+P+`>
`}listitem(k){return`<li>${k}</li>
`}checkbox(k){return"<input "+(k?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(k){return`<p>${k}</p>
`}table(k,E){return E&&(E=`<tbody>${E}</tbody>`),`<table>
<thead>
`+k+`</thead>
`+E+`</table>
`}tablerow(k){return`<tr>
${k}</tr>
`}tablecell(k,E){let x=E.header?"th":"td";return(E.align?`<${x} align="${E.align}">`:`<${x}>`)+k+`</${x}>
`}strong(k){return`<strong>${k}</strong>`}em(k){return`<em>${k}</em>`}codespan(k){return`<code>${k}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(k){return`<del>${k}</del>`}link(k,E,x){if((k=g(this.options.sanitize,this.options.baseUrl,k))===null)return x;let P='<a href="'+k+'"';return E&&(P+=' title="'+E+'"'),P+=">"+x+"</a>",P}image(k,E,x){if((k=g(this.options.sanitize,this.options.baseUrl,k))===null)return x;let P=`<img src="${k}" alt="${x}"`;return E&&(P+=` title="${E}"`),P+=this.options.xhtml?"/>":">",P}text(k){return k}}class J{strong(k){return k}em(k){return k}codespan(k){return k}del(k){return k}html(k){return k}text(k){return k}link(k,E,x){return""+x}image(k,E,x){return""+x}br(){return""}}class Z{constructor(){this.seen={}}serialize(k){return k.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(k,E){let x=k,P=0;if(this.seen.hasOwnProperty(x)){P=this.seen[k];do P++,x=k+"-"+P;while(this.seen.hasOwnProperty(x))}return E||(this.seen[k]=P,this.seen[x]=0),x}slug(k,E={}){let x=this.serialize(k);return this.getNextSafeSlug(x,E.dryrun)}}class he{constructor(k){this.options=k||t,this.options.renderer=this.options.renderer||new ie,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new J,this.slugger=new Z}static parse(k,E){return new he(E).parse(k)}static parseInline(k,E){return new he(E).parseInline(k)}parse(k,E=!0){let x,P,G,U,D,q,W,B,M,V,te,Te,ne,ye,ue,Ce,$e,He,ht,We="",zl=k.length;for(x=0;x<zl;x++)if(V=k[x],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[V.type]&&(ht=this.options.extensions.renderers[V.type].call({parser:this},V),ht!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(V.type)))We+=ht||"";else switch(V.type){case"space":continue;case"hr":We+=this.renderer.hr();continue;case"heading":We+=this.renderer.heading(this.parseInline(V.tokens),V.depth,u(this.parseInline(V.tokens,this.textRenderer)),this.slugger);continue;case"code":We+=this.renderer.code(V.text,V.lang,V.escaped);continue;case"table":for(B="",W="",U=V.header.length,P=0;P<U;P++)W+=this.renderer.tablecell(this.parseInline(V.header[P].tokens),{header:!0,align:V.align[P]});for(B+=this.renderer.tablerow(W),M="",U=V.rows.length,P=0;P<U;P++){for(q=V.rows[P],W="",D=q.length,G=0;G<D;G++)W+=this.renderer.tablecell(this.parseInline(q[G].tokens),{header:!1,align:V.align[G]});M+=this.renderer.tablerow(W)}We+=this.renderer.table(B,M);continue;case"blockquote":M=this.parse(V.tokens),We+=this.renderer.blockquote(M);continue;case"list":for(te=V.ordered,Te=V.start,ne=V.loose,U=V.items.length,M="",P=0;P<U;P++)ue=V.items[P],Ce=ue.checked,$e=ue.task,ye="",ue.task&&(He=this.renderer.checkbox(Ce),ne?ue.tokens.length>0&&ue.tokens[0].type==="paragraph"?(ue.tokens[0].text=He+" "+ue.tokens[0].text,ue.tokens[0].tokens&&ue.tokens[0].tokens.length>0&&ue.tokens[0].tokens[0].type==="text"&&(ue.tokens[0].tokens[0].text=He+" "+ue.tokens[0].tokens[0].text)):ue.tokens.unshift({type:"text",text:He}):ye+=He),ye+=this.parse(ue.tokens,ne),M+=this.renderer.listitem(ye,$e,Ce);We+=this.renderer.list(M,te,Te);continue;case"html":We+=this.renderer.html(V.text);continue;case"paragraph":We+=this.renderer.paragraph(this.parseInline(V.tokens));continue;case"text":for(M=V.tokens?this.parseInline(V.tokens):V.text;x+1<zl&&k[x+1].type==="text";)V=k[++x],M+=`
`+(V.tokens?this.parseInline(V.tokens):V.text);We+=E?this.renderer.paragraph(M):M;continue;default:{let Pr='Token with "'+V.type+'" type was not found.';if(this.options.silent)return void console.error(Pr);throw new Error(Pr)}}return We}parseInline(k,E){E=E||this.renderer;let x,P,G,U="",D=k.length;for(x=0;x<D;x++)if(P=k[x],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[P.type]&&(G=this.options.extensions.renderers[P.type].call({parser:this},P),G!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(P.type)))U+=G||"";else switch(P.type){case"escape":case"text":U+=E.text(P.text);break;case"html":U+=E.html(P.text);break;case"link":U+=E.link(P.href,P.title,this.parseInline(P.tokens,E));break;case"image":U+=E.image(P.href,P.title,P.text);break;case"strong":U+=E.strong(this.parseInline(P.tokens,E));break;case"em":U+=E.em(this.parseInline(P.tokens,E));break;case"codespan":U+=E.codespan(P.text);break;case"br":U+=E.br();break;case"del":U+=E.del(this.parseInline(P.tokens,E));break;default:{let q='Token with "'+P.type+'" type was not found.';if(this.options.silent)return void console.error(q);throw new Error(q)}}return U}}class K{constructor(k){this.options=k||t}preprocess(k){return k}postprocess(k){return k}}C(K,"passThroughHooks",new Set(["preprocess","postprocess"]));function rt(ee,k){return(E,x,P)=>{typeof x=="function"&&(P=x,x=null);let G={...x},U=function(D,q,W){return B=>{if(B.message+=`
Please report this to https://github.com/markedjs/marked.`,D){let M="<p>An error occurred:</p><pre>"+l(B.message+"",!0)+"</pre>";return q?Promise.resolve(M):W?void W(null,M):M}if(q)return Promise.reject(B);if(!W)throw B;W(B)}}((x={...ae.defaults,...G}).silent,x.async,P);if(E==null)return U(new Error("marked(): input parameter is undefined or null"));if(typeof E!="string")return U(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(E)+", string expected"));if(function(D){D&&D.sanitize&&!D.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(x),x.hooks&&(x.hooks.options=x),P){let D=x.highlight,q;try{x.hooks&&(E=x.hooks.preprocess(E)),q=ee(E,x)}catch(M){return U(M)}let W=function(M){let V;if(!M)try{x.walkTokens&&ae.walkTokens(q,x.walkTokens),V=k(q,x),x.hooks&&(V=x.hooks.postprocess(V))}catch(te){M=te}return x.highlight=D,M?U(M):P(null,V)};if(!D||D.length<3||(delete x.highlight,!q.length))return W();let B=0;return ae.walkTokens(q,function(M){M.type==="code"&&(B++,setTimeout(()=>{D(M.text,M.lang,function(V,te){if(V)return W(V);te!=null&&te!==M.text&&(M.text=te,M.escaped=!0),B--,B===0&&W()})},0))}),void(B===0&&W())}if(x.async)return Promise.resolve(x.hooks?x.hooks.preprocess(E):E).then(D=>ee(D,x)).then(D=>x.walkTokens?Promise.all(ae.walkTokens(D,x.walkTokens)).then(()=>D):D).then(D=>k(D,x)).then(D=>x.hooks?x.hooks.postprocess(D):D).catch(U);try{x.hooks&&(E=x.hooks.preprocess(E));let D=ee(E,x);x.walkTokens&&ae.walkTokens(D,x.walkTokens);let q=k(D,x);return x.hooks&&(q=x.hooks.postprocess(q)),q}catch(D){return U(D)}}}function ae(ee,k,E){return rt(X.lex,he.parse)(ee,k,E)}ae.options=ae.setOptions=function(ee){var k;return ae.defaults={...ae.defaults,...ee},k=ae.defaults,t=k,ae},ae.getDefaults=e,ae.defaults=t,ae.use=function(...ee){let k=ae.defaults.extensions||{renderers:{},childTokens:{}};ee.forEach(E=>{let x={...E};if(x.async=ae.defaults.async||x.async||!1,E.extensions&&(E.extensions.forEach(P=>{if(!P.name)throw new Error("extension name required");if(P.renderer){let G=k.renderers[P.name];k.renderers[P.name]=G?function(...U){let D=P.renderer.apply(this,U);return D===!1&&(D=G.apply(this,U)),D}:P.renderer}if(P.tokenizer){if(!P.level||P.level!=="block"&&P.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");k[P.level]?k[P.level].unshift(P.tokenizer):k[P.level]=[P.tokenizer],P.start&&(P.level==="block"?k.startBlock?k.startBlock.push(P.start):k.startBlock=[P.start]:P.level==="inline"&&(k.startInline?k.startInline.push(P.start):k.startInline=[P.start]))}P.childTokens&&(k.childTokens[P.name]=P.childTokens)}),x.extensions=k),E.renderer){let P=ae.defaults.renderer||new ie;for(let G in E.renderer){let U=P[G];P[G]=(...D)=>{let q=E.renderer[G].apply(P,D);return q===!1&&(q=U.apply(P,D)),q}}x.renderer=P}if(E.tokenizer){let P=ae.defaults.tokenizer||new F;for(let G in E.tokenizer){let U=P[G];P[G]=(...D)=>{let q=E.tokenizer[G].apply(P,D);return q===!1&&(q=U.apply(P,D)),q}}x.tokenizer=P}if(E.hooks){let P=ae.defaults.hooks||new K;for(let G in E.hooks){let U=P[G];K.passThroughHooks.has(G)?P[G]=D=>{if(ae.defaults.async)return Promise.resolve(E.hooks[G].call(P,D)).then(W=>U.call(P,W));let q=E.hooks[G].call(P,D);return U.call(P,q)}:P[G]=(...D)=>{let q=E.hooks[G].apply(P,D);return q===!1&&(q=U.apply(P,D)),q}}x.hooks=P}if(E.walkTokens){let P=ae.defaults.walkTokens;x.walkTokens=function(G){let U=[];return U.push(E.walkTokens.call(this,G)),P&&(U=U.concat(P.call(this,G))),U}}ae.setOptions(x)})},ae.walkTokens=function(ee,k){let E=[];for(let x of ee)switch(E=E.concat(k.call(ae,x)),x.type){case"table":for(let P of x.header)E=E.concat(ae.walkTokens(P.tokens,k));for(let P of x.rows)for(let G of P)E=E.concat(ae.walkTokens(G.tokens,k));break;case"list":E=E.concat(ae.walkTokens(x.items,k));break;default:ae.defaults.extensions&&ae.defaults.extensions.childTokens&&ae.defaults.extensions.childTokens[x.type]?ae.defaults.extensions.childTokens[x.type].forEach(function(P){E=E.concat(ae.walkTokens(x[P],k))}):x.tokens&&(E=E.concat(ae.walkTokens(x.tokens,k)))}return E},ae.parseInline=rt(X.lexInline,he.parseInline),ae.Parser=he,ae.parser=he.parse,ae.Renderer=ie,ae.TextRenderer=J,ae.Lexer=X,ae.lexer=X.lex,ae.Tokenizer=F,ae.Slugger=Z,ae.Hooks=K,ae.parse=ae,ae.options,ae.setOptions,ae.use,ae.walkTokens,ae.parseInline,he.parse,X.lex;let ze="__SCRIPT_END__",sn=/\[\s*((\d*):)?\s*([\s\d,|-]*)\]/,Fi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return()=>{let ee;function k(B){let M=(B.querySelector("[data-template]")||B.querySelector("script")||B).textContent;M=M.replace(new RegExp(ze,"g"),"</script>");let V=M.match(/^\n?(\s*)/)[1].length,te=M.match(/^\n?(\t*)/)[1].length;return te>0?M=M.replace(new RegExp("\\n?\\t{"+te+"}(.*)","g"),function(Te,ne){return`
`+ne}):V>1&&(M=M.replace(new RegExp("\\n? {"+V+"}(.*)","g"),function(Te,ne){return`
`+ne})),M}function E(B){let M=B.attributes,V=[];for(let te=0,Te=M.length;te<Te;te++){let ne=M[te].name,ye=M[te].value;/data\-(markdown|separator|vertical|notes)/gi.test(ne)||(ye?V.push(ne+'="'+ye+'"'):V.push(ne))}return V.join(" ")}function x(B){let M=ee?.getConfig?.().markdown;return(B=B||{}).separator=B.separator||M?.separator||`\r?
---\r?
`,B.verticalSeparator=B.verticalSeparator||M?.verticalSeparator||null,B.notesSeparator=B.notesSeparator||M?.notesSeparator||"^s*notes?:",B.attributes=B.attributes||"",B}function P(B,M){M=x(M);let V=B.split(new RegExp(M.notesSeparator,"mgi"));return V.length===2&&(B=V[0]+'<aside class="notes">'+ae(V[1].trim())+"</aside>"),'<script type="text/template">'+(B=B.replace(/<\/script>/g,ze))+"</script>"}function G(B,M){M=x(M);let V=new RegExp(M.separator+(M.verticalSeparator?"|"+M.verticalSeparator:""),"mg"),te=new RegExp(M.separator),Te,ne,ye,ue=0,Ce=!0,$e=[];for(;Te=V.exec(B);)ne=te.test(Te[0]),!ne&&Ce&&$e.push([]),ye=B.substring(ue,Te.index),ne&&Ce?$e.push(ye):$e[$e.length-1].push(ye),ue=V.lastIndex,Ce=ne;(Ce?$e:$e[$e.length-1]).push(B.substring(ue));let He="";for(let ht=0,We=$e.length;ht<We;ht++)$e[ht]instanceof Array?(He+="<section "+M.attributes+">",$e[ht].forEach(function(zl){He+="<section data-markdown>"+P(zl,M)+"</section>"}),He+="</section>"):He+="<section "+M.attributes+" data-markdown>"+P($e[ht],M)+"</section>";return He}function U(B){return new Promise(function(M){let V=[];[].slice.call(B.querySelectorAll("section[data-markdown]:not([data-markdown-parsed])")).forEach(function(te,Te){te.getAttribute("data-markdown").length?V.push(function(ne){return new Promise(function(ye,ue){let Ce=new XMLHttpRequest,$e=ne.getAttribute("data-markdown"),He=ne.getAttribute("data-charset");He!==null&&He!==""&&Ce.overrideMimeType("text/html; charset="+He),Ce.onreadystatechange=function(ht,We){We.readyState===4&&(We.status>=200&&We.status<300||We.status===0?ye(We,$e):ue(We,$e))}.bind(this,ne,Ce),Ce.open("GET",$e,!0);try{Ce.send()}catch(ht){console.warn("Failed to get the Markdown file "+$e+". Make sure that the presentation and the file are served by a HTTP server and the file can be found there. "+ht),ye(Ce,$e)}})}(te).then(function(ne,ye){te.outerHTML=G(ne.responseText,{separator:te.getAttribute("data-separator"),verticalSeparator:te.getAttribute("data-separator-vertical"),notesSeparator:te.getAttribute("data-separator-notes"),attributes:E(te)})},function(ne,ye){te.outerHTML='<section data-state="alert">ERROR: The attempt to fetch '+ye+" failed with HTTP status "+ne.status+".Check your browser's JavaScript console for more details.<p>Remember that you need to serve the presentation HTML from a HTTP server.</p></section>"})):te.outerHTML=G(k(te),{separator:te.getAttribute("data-separator"),verticalSeparator:te.getAttribute("data-separator-vertical"),notesSeparator:te.getAttribute("data-separator-notes"),attributes:E(te)})}),Promise.all(V).then(M)})}function D(B,M,V){let te=new RegExp(V,"mg"),Te=new RegExp('([^"= ]+?)="([^"]+?)"|(data-[^"= ]+?)(?=[" ])',"mg"),ne,ye,ue=B.nodeValue;if(ne=te.exec(ue)){let Ce=ne[1];for(ue=ue.substring(0,ne.index)+ue.substring(te.lastIndex),B.nodeValue=ue;ye=Te.exec(Ce);)ye[2]?M.setAttribute(ye[1],ye[2]):M.setAttribute(ye[3],"");return!0}return!1}function q(B,M,V,te,Te){if(M!==null&&M.childNodes!==void 0&&M.childNodes.length>0){let ne=M;for(let ye=0;ye<M.childNodes.length;ye++){let ue=M.childNodes[ye];if(ye>0){let $e=ye-1;for(;$e>=0;){let He=M.childNodes[$e];if(typeof He.setAttribute=="function"&&He.tagName!=="BR"){ne=He;break}$e-=1}}let Ce=B;ue.nodeName==="section"&&(Ce=ue,ne=ue),typeof ue.setAttribute!="function"&&ue.nodeType!==Node.COMMENT_NODE||q(Ce,ue,ne,te,Te)}}M.nodeType===Node.COMMENT_NODE&&D(M,V,te)===!1&&D(M,B,Te)}function W(){let B=ee.getRevealElement().querySelectorAll("[data-markdown]:not([data-markdown-parsed])");return[].slice.call(B).forEach(function(M){M.setAttribute("data-markdown-parsed",!0);let V=M.querySelector("aside.notes"),te=k(M);M.innerHTML=ae(te),q(M,M,null,M.getAttribute("data-element-attributes")||M.parentNode.getAttribute("data-element-attributes")||"\\.element\\s*?(.+?)$",M.getAttribute("data-attributes")||M.parentNode.getAttribute("data-attributes")||"\\.slide:\\s*?(\\S.+?)$"),V&&M.appendChild(V)}),Promise.resolve()}return{id:"markdown",init:function(B){ee=B;let{renderer:M,animateLists:V,...te}=ee.getConfig().markdown||{};return M||(M=new ae.Renderer,M.code=(Te,ne)=>{let ye="",ue="";if(sn.test(ne)){let Ce=ne.match(sn)[2];Ce&&(ye=`data-ln-start-from="${Ce.trim()}"`),ue=ne.match(sn)[3].trim(),ue=`data-line-numbers="${ue}"`,ne=ne.replace(sn,"").trim()}return`<pre><code ${ue} ${ye} class="${ne}">${Te=Te.replace(/([&<>'"])/g,Ce=>Fi[Ce])}</code></pre>`}),V===!0&&(M.listitem=Te=>`<li class="fragment">${Te}</li>`),ae.setOptions({renderer:M,...te}),U(ee.getRevealElement()).then(W)},processSlides:U,convertSlides:W,slidify:G,marked:ae}}})});var NG=w(gS=>{"use strict";Object.defineProperty(gS,"__esModule",{value:!0});gS.assertValidPattern=void 0;var IPe=1024*64,NPe=e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>IPe)throw new TypeError("pattern is too long")};gS.assertValidPattern=NPe});var FG=w(yS=>{"use strict";Object.defineProperty(yS,"__esModule",{value:!0});yS.parseClass=void 0;var $Pe={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Lg=e=>e.replace(/[[\]\\-]/g,"\\$&"),FPe=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),$G=e=>e.join(""),DPe=(e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let i=[],n=[],s=r+1,o=!1,a=!1,l=!1,c=!1,u=r,f="";e:for(;s<e.length;){let g=e.charAt(s);if((g==="!"||g==="^")&&s===r+1){c=!0,s++;continue}if(g==="]"&&o&&!l){u=s+1;break}if(o=!0,g==="\\"&&!l){l=!0,s++;continue}if(g==="["&&!l){for(let[y,[_,S,b]]of Object.entries($Pe))if(e.startsWith(y,s)){if(f)return["$.",!1,e.length-r,!0];s+=y.length,b?n.push(_):i.push(_),a=a||S;continue e}}if(l=!1,f){g>f?i.push(Lg(f)+"-"+Lg(g)):g===f&&i.push(Lg(g)),f="",s++;continue}if(e.startsWith("-]",s+1)){i.push(Lg(g+"-")),s+=2;continue}if(e.startsWith("-",s+1)){f=g,s+=2;continue}i.push(Lg(g)),s++}if(u<s)return["",!1,0,!1];if(!i.length&&!n.length)return["$.",!1,e.length-r,!0];if(n.length===0&&i.length===1&&/^\\?.$/.test(i[0])&&!c){let g=i[0].length===2?i[0].slice(-1):i[0];return[FPe(g),!1,u-r,!1]}let h="["+(c?"^":"")+$G(i)+"]",p="["+(c?"":"^")+$G(n)+"]";return[i.length&&n.length?"("+h+"|"+p+")":i.length?h:p,a,u-r,!0]};yS.parseClass=DPe});var _S=w(vS=>{"use strict";Object.defineProperty(vS,"__esModule",{value:!0});vS.unescape=void 0;var LPe=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");vS.unescape=LPe});var gP=w(kS=>{"use strict";Object.defineProperty(kS,"__esModule",{value:!0});kS.AST=void 0;var jPe=FG(),bS=_S(),qPe=new Set(["!","?","+","*","@"]),DG=e=>qPe.has(e),MPe="(?!(?:^|/)\\.\\.?(?:$|/))",wS="(?!\\.)",zPe=new Set(["[","."]),UPe=new Set(["..","."]),BPe=new Set("().*{}+?[]^$\\!"),HPe=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),mP="[^/]",LG=mP+"*?",jG=mP+"+?",Kt,dr,Jo,pt,jt,dl,Uc,pl,Zs,Bc,jg,xS,qG,kh,SS,qg,pP,ES,MG,Gr=class Gr{constructor(t,r,i={}){N(this,xS);N(this,qg);C(this,"type");N(this,Kt,void 0);N(this,dr,void 0);N(this,Jo,!1);N(this,pt,[]);N(this,jt,void 0);N(this,dl,void 0);N(this,Uc,void 0);N(this,pl,!1);N(this,Zs,void 0);N(this,Bc,void 0);N(this,jg,!1);this.type=t,t&&A(this,dr,!0),A(this,jt,r),A(this,Kt,d(this,jt)?d(d(this,jt),Kt):this),A(this,Zs,d(this,Kt)===this?i:d(d(this,Kt),Zs)),A(this,Uc,d(this,Kt)===this?[]:d(d(this,Kt),Uc)),t==="!"&&!d(d(this,Kt),pl)&&d(this,Uc).push(this),A(this,dl,d(this,jt)?d(d(this,jt),pt).length:0)}get hasMagic(){if(d(this,dr)!==void 0)return d(this,dr);for(let t of d(this,pt))if(typeof t!="string"&&(t.type||t.hasMagic))return A(this,dr,!0);return d(this,dr)}toString(){return d(this,Bc)!==void 0?d(this,Bc):this.type?A(this,Bc,this.type+"("+d(this,pt).map(t=>String(t)).join("|")+")"):A(this,Bc,d(this,pt).map(t=>String(t)).join(""))}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof Gr&&d(r,jt)===this))throw new Error("invalid part: "+r);d(this,pt).push(r)}}toJSON(){let t=this.type===null?d(this,pt).slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...d(this,pt).map(r=>r.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===d(this,Kt)||d(d(this,Kt),pl)&&d(this,jt)?.type==="!")&&t.push({}),t}isStart(){if(d(this,Kt)===this)return!0;if(!d(this,jt)?.isStart())return!1;if(d(this,dl)===0)return!0;let t=d(this,jt);for(let r=0;r<d(this,dl);r++){let i=d(t,pt)[r];if(!(i instanceof Gr&&i.type==="!"))return!1}return!0}isEnd(){if(d(this,Kt)===this||d(this,jt)?.type==="!")return!0;if(!d(this,jt)?.isEnd())return!1;if(!this.type)return d(this,jt)?.isEnd();let t=d(this,jt)?d(d(this,jt),pt).length:0;return d(this,dl)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new Gr(this.type,t);for(let i of d(this,pt))r.copyIn(i);return r}static fromGlob(t,r={}){var n;let i=new Gr(null,void 0,r);return L(n=Gr,kh,SS).call(n,t,i,0,r),i}toMMPattern(){if(this!==d(this,Kt))return d(this,Kt).toMMPattern();let t=this.toString(),[r,i,n,s]=this.toRegExpSource();if(!(n||d(this,dr)||d(this,Zs).nocase&&!d(this,Zs).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return i;let a=(d(this,Zs).nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,a),{_src:r,_glob:t})}get options(){return d(this,Zs)}toRegExpSource(t){let r=t??!!d(this,Zs).dot;if(d(this,Kt)===this&&L(this,xS,qG).call(this),!this.type){let l=this.isStart()&&this.isEnd(),c=d(this,pt).map(p=>{var S;let[m,g,y,_]=typeof p=="string"?L(S=Gr,ES,MG).call(S,p,d(this,dr),l):p.toRegExpSource(t);return A(this,dr,d(this,dr)||y),A(this,Jo,d(this,Jo)||_),m}).join(""),u="";if(this.isStart()&&typeof d(this,pt)[0]=="string"&&!(d(this,pt).length===1&&UPe.has(d(this,pt)[0]))){let m=zPe,g=r&&m.has(c.charAt(0))||c.startsWith("\\.")&&m.has(c.charAt(2))||c.startsWith("\\.\\.")&&m.has(c.charAt(4)),y=!r&&!t&&m.has(c.charAt(0));u=g?MPe:y?wS:""}let f="";return this.isEnd()&&d(d(this,Kt),pl)&&d(this,jt)?.type==="!"&&(f="(?:$|\\/)"),[u+c+f,(0,bS.unescape)(c),A(this,dr,!!d(this,dr)),d(this,Jo)]}let i=this.type==="*"||this.type==="+",n=this.type==="!"?"(?:(?!(?:":"(?:",s=L(this,qg,pP).call(this,r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let l=this.toString();return A(this,pt,[l]),this.type=null,A(this,dr,void 0),[l,(0,bS.unescape)(this.toString()),!1,!1]}let o=!i||t||r||!wS?"":L(this,qg,pP).call(this,!0);o===s&&(o=""),o&&(s=`(?:${s})(?:${o})*?`);let a="";if(this.type==="!"&&d(this,jg))a=(this.isStart()&&!r?wS:"")+jG;else{let l=this.type==="!"?"))"+(this.isStart()&&!r&&!t?wS:"")+LG+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;a=n+s+l}return[a,(0,bS.unescape)(s),A(this,dr,!!d(this,dr)),d(this,Jo)]}};Kt=new WeakMap,dr=new WeakMap,Jo=new WeakMap,pt=new WeakMap,jt=new WeakMap,dl=new WeakMap,Uc=new WeakMap,pl=new WeakMap,Zs=new WeakMap,Bc=new WeakMap,jg=new WeakMap,xS=new WeakSet,qG=function(){if(this!==d(this,Kt))throw new Error("should only call on root");if(d(this,pl))return this;this.toString(),A(this,pl,!0);let t;for(;t=d(this,Uc).pop();){if(t.type!=="!")continue;let r=t,i=d(r,jt);for(;i;){for(let n=d(r,dl)+1;!i.type&&n<d(i,pt).length;n++)for(let s of d(t,pt)){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(d(i,pt)[n])}r=i,i=d(r,jt)}}return this},kh=new WeakSet,SS=function(t,r,i,n){var p,m;let s=!1,o=!1,a=-1,l=!1;if(r.type===null){let g=i,y="";for(;g<t.length;){let _=t.charAt(g++);if(s||_==="\\"){s=!s,y+=_;continue}if(o){g===a+1?(_==="^"||_==="!")&&(l=!0):_==="]"&&!(g===a+2&&l)&&(o=!1),y+=_;continue}else if(_==="["){o=!0,a=g,l=!1,y+=_;continue}if(!n.noext&&DG(_)&&t.charAt(g)==="("){r.push(y),y="";let S=new Gr(_,r);g=L(p=Gr,kh,SS).call(p,t,S,g,n),r.push(S);continue}y+=_}return r.push(y),g}let c=i+1,u=new Gr(null,r),f=[],h="";for(;c<t.length;){let g=t.charAt(c++);if(s||g==="\\"){s=!s,h+=g;continue}if(o){c===a+1?(g==="^"||g==="!")&&(l=!0):g==="]"&&!(c===a+2&&l)&&(o=!1),h+=g;continue}else if(g==="["){o=!0,a=c,l=!1,h+=g;continue}if(DG(g)&&t.charAt(c)==="("){u.push(h),h="";let y=new Gr(g,u);u.push(y),c=L(m=Gr,kh,SS).call(m,t,y,c,n);continue}if(g==="|"){u.push(h),h="",f.push(u),u=new Gr(null,r);continue}if(g===")")return h===""&&d(r,pt).length===0&&A(r,jg,!0),u.push(h),h="",r.push(...f,u),c;h+=g}return r.type=null,A(r,dr,void 0),A(r,pt,[t.substring(i-1)]),c},qg=new WeakSet,pP=function(t){return d(this,pt).map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[i,n,s,o]=r.toRegExpSource(t);return A(this,Jo,d(this,Jo)||o),i}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")},ES=new WeakSet,MG=function(t,r,i=!1){let n=!1,s="",o=!1;for(let a=0;a<t.length;a++){let l=t.charAt(a);if(n){n=!1,s+=(BPe.has(l)?"\\":"")+l;continue}if(l==="\\"){a===t.length-1?s+="\\\\":n=!0;continue}if(l==="["){let[c,u,f,h]=(0,jPe.parseClass)(t,a);if(f){s+=c,o=o||u,a+=f-1,r=r||h;continue}}if(l==="*"){i&&t==="*"?s+=jG:s+=LG,r=!0;continue}if(l==="?"){s+=mP,r=!0;continue}s+=HPe(l)}return[s,(0,bS.unescape)(t),!!r,o]},N(Gr,kh),N(Gr,ES);var dP=Gr;kS.AST=dP});var yP=w(RS=>{"use strict";Object.defineProperty(RS,"__esModule",{value:!0});RS.escape=void 0;var VPe=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&");RS.escape=VPe});var ml=w(le=>{"use strict";var WPe=le&&le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(le,"__esModule",{value:!0});le.unescape=le.escape=le.AST=le.Minimatch=le.match=le.makeRe=le.braceExpand=le.defaults=le.filter=le.GLOBSTAR=le.sep=le.minimatch=void 0;var GPe=WPe(NC()),TS=NG(),BG=gP(),YPe=yP(),KPe=_S(),JPe=(e,t,r={})=>((0,TS.assertValidPattern)(t),!r.nocomment&&t.charAt(0)==="#"?!1:new Hc(t,r).match(e));le.minimatch=JPe;var ZPe=/^\*+([^+@!?\*\[\(]*)$/,XPe=e=>t=>!t.startsWith(".")&&t.endsWith(e),QPe=e=>t=>t.endsWith(e),eIe=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),tIe=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),rIe=/^\*+\.\*+$/,iIe=e=>!e.startsWith(".")&&e.includes("."),nIe=e=>e!=="."&&e!==".."&&e.includes("."),sIe=/^\.\*+$/,oIe=e=>e!=="."&&e!==".."&&e.startsWith("."),aIe=/^\*+$/,lIe=e=>e.length!==0&&!e.startsWith("."),cIe=e=>e.length!==0&&e!=="."&&e!=="..",uIe=/^\?+([^+@!?\*\[\(]*)?$/,fIe=([e,t=""])=>{let r=HG([e]);return t?(t=t.toLowerCase(),i=>r(i)&&i.toLowerCase().endsWith(t)):r},hIe=([e,t=""])=>{let r=VG([e]);return t?(t=t.toLowerCase(),i=>r(i)&&i.toLowerCase().endsWith(t)):r},dIe=([e,t=""])=>{let r=VG([e]);return t?i=>r(i)&&i.endsWith(t):r},pIe=([e,t=""])=>{let r=HG([e]);return t?i=>r(i)&&i.endsWith(t):r},HG=([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},VG=([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},WG=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",zG={win32:{sep:"\\"},posix:{sep:"/"}};le.sep=WG==="win32"?zG.win32.sep:zG.posix.sep;le.minimatch.sep=le.sep;le.GLOBSTAR=Symbol("globstar **");le.minimatch.GLOBSTAR=le.GLOBSTAR;var mIe="[^/]",gIe=mIe+"*?",yIe="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",vIe="(?:(?!(?:\\/|^)\\.).)*?",_Ie=(e,t={})=>r=>(0,le.minimatch)(r,e,t);le.filter=_Ie;le.minimatch.filter=le.filter;var Sn=(e,t={})=>Object.assign({},e,t),bIe=e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return le.minimatch;let t=le.minimatch;return Object.assign((i,n,s={})=>t(i,n,Sn(e,s)),{Minimatch:class extends t.Minimatch{constructor(n,s={}){super(n,Sn(e,s))}static defaults(n){return t.defaults(Sn(e,n)).Minimatch}},AST:class extends t.AST{constructor(n,s,o={}){super(n,s,Sn(e,o))}static fromGlob(n,s={}){return t.AST.fromGlob(n,Sn(e,s))}},unescape:(i,n={})=>t.unescape(i,Sn(e,n)),escape:(i,n={})=>t.escape(i,Sn(e,n)),filter:(i,n={})=>t.filter(i,Sn(e,n)),defaults:i=>t.defaults(Sn(e,i)),makeRe:(i,n={})=>t.makeRe(i,Sn(e,n)),braceExpand:(i,n={})=>t.braceExpand(i,Sn(e,n)),match:(i,n,s={})=>t.match(i,n,Sn(e,s)),sep:t.sep,GLOBSTAR:le.GLOBSTAR})};le.defaults=bIe;le.minimatch.defaults=le.defaults;var wIe=(e,t={})=>((0,TS.assertValidPattern)(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,GPe.default)(e));le.braceExpand=wIe;le.minimatch.braceExpand=le.braceExpand;var SIe=(e,t={})=>new Hc(e,t).makeRe();le.makeRe=SIe;le.minimatch.makeRe=le.makeRe;var xIe=(e,t,r={})=>{let i=new Hc(t,r);return e=e.filter(n=>i.match(n)),i.options.nonull&&!e.length&&e.push(t),e};le.match=xIe;le.minimatch.match=le.match;var UG=/[?*]|[+@!]\(.*?\)|\[|\]/,EIe=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Hc=class{constructor(t,r={}){C(this,"options");C(this,"set");C(this,"pattern");C(this,"windowsPathsNoEscape");C(this,"nonegate");C(this,"negate");C(this,"comment");C(this,"empty");C(this,"preserveMultipleSlashes");C(this,"partial");C(this,"globSet");C(this,"globParts");C(this,"nocase");C(this,"isWindows");C(this,"platform");C(this,"windowsNoMagicRoot");C(this,"regexp");(0,TS.assertValidPattern)(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||WG,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let i=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(i),this.debug(this.pattern,this.globParts);let n=this.globParts.map((s,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let l=s[0]===""&&s[1]===""&&(s[2]==="?"||!UG.test(s[2]))&&!UG.test(s[3]),c=/^[a-z]:/i.test(s[0]);if(l)return[...s.slice(0,4),...s.slice(4).map(u=>this.parse(u))];if(c)return[s[0],...s.slice(1).map(u=>this.parse(u))]}return s.map(l=>this.parse(l))});if(this.debug(this.pattern,n),this.set=n.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let o=this.set[s];o[0]===""&&o[1]===""&&this.globParts[s][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let i=0;i<t.length;i++)for(let n=0;n<t[i].length;n++)t[i][n]==="**"&&(t[i][n]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let i=-1;for(;(i=r.indexOf("**",i+1))!==-1;){let n=i;for(;r[n+1]==="**";)n++;n!==i&&r.splice(i,n-i)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((i,n)=>{let s=i[i.length-1];return n==="**"&&s==="**"?i:n===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(i.pop(),i):(i.push(n),i)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let n=1;n<t.length-1;n++){let s=t[n];n===1&&s===""&&t[0]===""||(s==="."||s==="")&&(r=!0,t.splice(n,1),n--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let i=0;for(;(i=t.indexOf("..",i+1))!==-1;){let n=t[i-1];n&&n!=="."&&n!==".."&&n!=="**"&&(r=!0,t.splice(i-1,2),i-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let i of t){let n=-1;for(;(n=i.indexOf("**",n+1))!==-1;){let o=n;for(;i[o+1]==="**";)o++;o>n&&i.splice(n+1,o-n);let a=i[n+1],l=i[n+2],c=i[n+3];if(a!==".."||!l||l==="."||l===".."||!c||c==="."||c==="..")continue;r=!0,i.splice(n,1);let u=i.slice(0);u[n]="**",t.push(u),n--}if(!this.preserveMultipleSlashes){for(let o=1;o<i.length-1;o++){let a=i[o];o===1&&a===""&&i[0]===""||(a==="."||a==="")&&(r=!0,i.splice(o,1),o--)}i[0]==="."&&i.length===2&&(i[1]==="."||i[1]==="")&&(r=!0,i.pop())}let s=0;for(;(s=i.indexOf("..",s+1))!==-1;){let o=i[s-1];if(o&&o!=="."&&o!==".."&&o!=="**"){r=!0;let l=s===1&&i[s+1]==="**"?["."]:[];i.splice(s-1,2,...l),i.length===0&&i.push(""),s-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let i=r+1;i<t.length;i++){let n=this.partsMatch(t[r],t[i],!this.preserveMultipleSlashes);if(n){t[r]=[],t[i]=n;break}}return t.filter(r=>r.length)}partsMatch(t,r,i=!1){let n=0,s=0,o=[],a="";for(;n<t.length&&s<r.length;)if(t[n]===r[s])o.push(a==="b"?r[s]:t[n]),n++,s++;else if(i&&t[n]==="**"&&r[s]===t[n+1])o.push(t[n]),n++;else if(i&&r[s]==="**"&&t[n]===r[s+1])o.push(r[s]),s++;else if(t[n]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(a==="b")return!1;a="a",o.push(t[n]),n++,s++}else if(r[s]==="*"&&t[n]&&(this.options.dot||!t[n].startsWith("."))&&t[n]!=="**"){if(a==="a")return!1;a="b",o.push(r[s]),n++,s++}else return!1;return t.length===r.length&&o}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,i=0;for(let n=0;n<t.length&&t.charAt(n)==="!";n++)r=!r,i++;i&&(this.pattern=t.slice(i)),this.negate=r}matchOne(t,r,i=!1){let n=this.options;if(this.isWindows){let g=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),y=!g&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),_=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),S=!_&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),b=y?3:g?0:void 0,v=S?3:_?0:void 0;if(typeof b=="number"&&typeof v=="number"){let[O,j]=[t[b],r[v]];O.toLowerCase()===j.toLowerCase()&&(r[v]=O,v>b?r=r.slice(v):b>v&&(t=t.slice(b)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var o=0,a=0,l=t.length,c=r.length;o<l&&a<c;o++,a++){this.debug("matchOne loop");var u=r[a],f=t[o];if(this.debug(r,u,f),u===!1)return!1;if(u===le.GLOBSTAR){this.debug("GLOBSTAR",[r,u,f]);var h=o,p=a+1;if(p===c){for(this.debug("** at the end");o<l;o++)if(t[o]==="."||t[o]===".."||!n.dot&&t[o].charAt(0)===".")return!1;return!0}for(;h<l;){var m=t[h];if(this.debug(`
globstar while`,t,h,r,p,m),this.matchOne(t.slice(h),r.slice(p),i))return this.debug("globstar found match!",h,l,m),!0;if(m==="."||m===".."||!n.dot&&m.charAt(0)==="."){this.debug("dot detected!",t,h,r,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(i&&(this.debug(`
>>> no match, partial?`,t,h,r,p),h===l))}let g;if(typeof u=="string"?(g=f===u,this.debug("string match",u,f,g)):(g=u.test(f),this.debug("pattern match",u,f,g)),!g)return!1}if(o===l&&a===c)return!0;if(o===l)return i;if(a===c)return o===l-1&&t[o]==="";throw new Error("wtf?")}braceExpand(){return(0,le.braceExpand)(this.pattern,this.options)}parse(t){(0,TS.assertValidPattern)(t);let r=this.options;if(t==="**")return le.GLOBSTAR;if(t==="")return"";let i,n=null;(i=t.match(aIe))?n=r.dot?cIe:lIe:(i=t.match(ZPe))?n=(r.nocase?r.dot?tIe:eIe:r.dot?QPe:XPe)(i[1]):(i=t.match(uIe))?n=(r.nocase?r.dot?hIe:fIe:r.dot?dIe:pIe)(i):(i=t.match(rIe))?n=r.dot?nIe:iIe:(i=t.match(sIe))&&(n=oIe);let s=BG.AST.fromGlob(t,this.options).toMMPattern();return n&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:n}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,i=r.noglobstar?gIe:r.dot?yIe:vIe,n=new Set(r.nocase?["i"]:[]),s=t.map(l=>{let c=l.map(u=>{if(u instanceof RegExp)for(let f of u.flags.split(""))n.add(f);return typeof u=="string"?EIe(u):u===le.GLOBSTAR?le.GLOBSTAR:u._src});return c.forEach((u,f)=>{let h=c[f+1],p=c[f-1];u!==le.GLOBSTAR||p===le.GLOBSTAR||(p===void 0?h!==void 0&&h!==le.GLOBSTAR?c[f+1]="(?:\\/|"+i+"\\/)?"+h:c[f]=i:h===void 0?c[f-1]=p+"(?:\\/|"+i+")?":h!==le.GLOBSTAR&&(c[f-1]=p+"(?:\\/|\\/"+i+"\\/)"+h,c[f+1]=le.GLOBSTAR))}),c.filter(u=>u!==le.GLOBSTAR).join("/")}).join("|"),[o,a]=t.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...n].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let i=this.options;this.isWindows&&(t=t.split("\\").join("/"));let n=this.slashSplit(t);this.debug(this.pattern,"split",n);let s=this.set;this.debug(this.pattern,"set",s);let o=n[n.length-1];if(!o)for(let a=n.length-2;!o&&a>=0;a--)o=n[a];for(let a=0;a<s.length;a++){let l=s[a],c=n;if(i.matchBase&&l.length===1&&(c=[o]),this.matchOne(c,l,r))return i.flipNegate?!0:!this.negate}return i.flipNegate?!1:this.negate}static defaults(t){return le.minimatch.defaults(t).Minimatch}};le.Minimatch=Hc;var kIe=gP();Object.defineProperty(le,"AST",{enumerable:!0,get:function(){return kIe.AST}});var RIe=yP();Object.defineProperty(le,"escape",{enumerable:!0,get:function(){return RIe.escape}});var TIe=_S();Object.defineProperty(le,"unescape",{enumerable:!0,get:function(){return TIe.unescape}});le.minimatch.AST=BG.AST;le.minimatch.Minimatch=Hc;le.minimatch.escape=YPe.escape;le.minimatch.unescape=KPe.unescape});var XG=w(IS=>{"use strict";Object.defineProperty(IS,"__esModule",{value:!0});IS.LRUCache=void 0;var Rh=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,YG=new Set,vP=typeof process=="object"&&process?process:{},KG=(e,t,r,i)=>{typeof vP.emitWarning=="function"?vP.emitWarning(e,t,r,i):console.error(`[${r}] ${t}: ${e}`)},CS=globalThis.AbortController,GG=globalThis.AbortSignal;if(typeof CS>"u"){GG=class{constructor(){C(this,"onabort");C(this,"_onabort",[]);C(this,"reason");C(this,"aborted",!1)}addEventListener(i,n){this._onabort.push(n)}},CS=class{constructor(){C(this,"signal",new GG);t()}abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(let n of this.signal._onabort)n(i);this.signal.onabort?.(i)}}};let e=vP.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",t=()=>{e&&(e=!1,KG("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var OIe=e=>!YG.has(e),NVe=Symbol("type"),gl=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),JG=e=>gl(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?Th:null:null,Th=class extends Array{constructor(t){super(t),this.fill(0)}},Oh,Vc=class Vc{constructor(t,r){C(this,"heap");C(this,"length");if(!d(Vc,Oh))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(t),this.length=0}static create(t){let r=JG(t);if(!r)return[];A(Vc,Oh,!0);let i=new Vc(t,r);return A(Vc,Oh,!1),i}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};Oh=new WeakMap,N(Vc,Oh,!1);var _P=Vc,is,Yi,ns,ss,Ah,Ch,Jt,os,qt,ut,Se,gi,Ki,Yr,pr,as,mr,ls,cs,Ji,us,bl,yi,zg,wP,Wc,Zo,Ug,Zi,PS,ZG,Gc,Ph,Bg,Xs,yl,Qs,vl,Hg,SP,AIe,Ih,OS,Nh,AS,Ze,ct,Vg,xP,Yc,Mg,eo,_l,Wg,EP,kP=class kP{constructor(t){N(this,zg);N(this,PS);N(this,Xs);N(this,Qs);N(this,Hg);N(this,Ih);N(this,Nh);N(this,Ze);N(this,Vg);N(this,Yc);N(this,eo);N(this,Wg);N(this,is,void 0);N(this,Yi,void 0);N(this,ns,void 0);N(this,ss,void 0);N(this,Ah,void 0);N(this,Ch,void 0);C(this,"ttl");C(this,"ttlResolution");C(this,"ttlAutopurge");C(this,"updateAgeOnGet");C(this,"updateAgeOnHas");C(this,"allowStale");C(this,"noDisposeOnSet");C(this,"noUpdateTTL");C(this,"maxEntrySize");C(this,"sizeCalculation");C(this,"noDeleteOnFetchRejection");C(this,"noDeleteOnStaleGet");C(this,"allowStaleOnFetchAbort");C(this,"allowStaleOnFetchRejection");C(this,"ignoreFetchAbort");N(this,Jt,void 0);N(this,os,void 0);N(this,qt,void 0);N(this,ut,void 0);N(this,Se,void 0);N(this,gi,void 0);N(this,Ki,void 0);N(this,Yr,void 0);N(this,pr,void 0);N(this,as,void 0);N(this,mr,void 0);N(this,ls,void 0);N(this,cs,void 0);N(this,Ji,void 0);N(this,us,void 0);N(this,bl,void 0);N(this,yi,void 0);N(this,Wc,()=>{});N(this,Zo,()=>{});N(this,Ug,()=>{});N(this,Zi,()=>!1);N(this,Gc,t=>{});N(this,Ph,(t,r,i)=>{});N(this,Bg,(t,r,i,n)=>{if(i||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});C(this,AIe,"LRUCache");let{max:r=0,ttl:i,ttlResolution:n=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:c,disposeAfter:u,noDisposeOnSet:f,noUpdateTTL:h,maxSize:p=0,maxEntrySize:m=0,sizeCalculation:g,fetchMethod:y,memoMethod:_,noDeleteOnFetchRejection:S,noDeleteOnStaleGet:b,allowStaleOnFetchRejection:v,allowStaleOnFetchAbort:O,ignoreFetchAbort:j}=t;if(r!==0&&!gl(r))throw new TypeError("max option must be a nonnegative integer");let R=r?JG(r):Array;if(!R)throw new Error("invalid max value: "+r);if(A(this,is,r),A(this,Yi,p),this.maxEntrySize=m||d(this,Yi),this.sizeCalculation=g,this.sizeCalculation){if(!d(this,Yi)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(_!==void 0&&typeof _!="function")throw new TypeError("memoMethod must be a function if defined");if(A(this,Ch,_),y!==void 0&&typeof y!="function")throw new TypeError("fetchMethod must be a function if specified");if(A(this,Ah,y),A(this,bl,!!y),A(this,qt,new Map),A(this,ut,new Array(r).fill(void 0)),A(this,Se,new Array(r).fill(void 0)),A(this,gi,new R(r)),A(this,Ki,new R(r)),A(this,Yr,0),A(this,pr,0),A(this,as,_P.create(r)),A(this,Jt,0),A(this,os,0),typeof c=="function"&&A(this,ns,c),typeof u=="function"?(A(this,ss,u),A(this,mr,[])):(A(this,ss,void 0),A(this,mr,void 0)),A(this,us,!!d(this,ns)),A(this,yi,!!d(this,ss)),this.noDisposeOnSet=!!f,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!S,this.allowStaleOnFetchRejection=!!v,this.allowStaleOnFetchAbort=!!O,this.ignoreFetchAbort=!!j,this.maxEntrySize!==0){if(d(this,Yi)!==0&&!gl(d(this,Yi)))throw new TypeError("maxSize must be a positive integer if specified");if(!gl(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");L(this,PS,ZG).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=gl(n)||n===0?n:1,this.ttlAutopurge=!!s,this.ttl=i||0,this.ttl){if(!gl(this.ttl))throw new TypeError("ttl must be a positive integer if specified");L(this,zg,wP).call(this)}if(d(this,is)===0&&this.ttl===0&&d(this,Yi)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!d(this,is)&&!d(this,Yi)){let I="LRU_CACHE_UNBOUNDED";OIe(I)&&(YG.add(I),KG("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",I,kP))}}static unsafeExposeInternals(t){return{starts:d(t,cs),ttls:d(t,Ji),sizes:d(t,ls),keyMap:d(t,qt),keyList:d(t,ut),valList:d(t,Se),next:d(t,gi),prev:d(t,Ki),get head(){return d(t,Yr)},get tail(){return d(t,pr)},free:d(t,as),isBackgroundFetch:r=>{var i;return L(i=t,Ze,ct).call(i,r)},backgroundFetch:(r,i,n,s)=>{var o;return L(o=t,Nh,AS).call(o,r,i,n,s)},moveToTail:r=>{var i;return L(i=t,Yc,Mg).call(i,r)},indexes:r=>{var i;return L(i=t,Xs,yl).call(i,r)},rindexes:r=>{var i;return L(i=t,Qs,vl).call(i,r)},isStale:r=>{var i;return d(i=t,Zi).call(i,r)}}}get max(){return d(this,is)}get maxSize(){return d(this,Yi)}get calculatedSize(){return d(this,os)}get size(){return d(this,Jt)}get fetchMethod(){return d(this,Ah)}get memoMethod(){return d(this,Ch)}get dispose(){return d(this,ns)}get disposeAfter(){return d(this,ss)}getRemainingTTL(t){return d(this,qt).has(t)?1/0:0}*entries(){for(let t of L(this,Xs,yl).call(this))d(this,Se)[t]!==void 0&&d(this,ut)[t]!==void 0&&!L(this,Ze,ct).call(this,d(this,Se)[t])&&(yield[d(this,ut)[t],d(this,Se)[t]])}*rentries(){for(let t of L(this,Qs,vl).call(this))d(this,Se)[t]!==void 0&&d(this,ut)[t]!==void 0&&!L(this,Ze,ct).call(this,d(this,Se)[t])&&(yield[d(this,ut)[t],d(this,Se)[t]])}*keys(){for(let t of L(this,Xs,yl).call(this)){let r=d(this,ut)[t];r!==void 0&&!L(this,Ze,ct).call(this,d(this,Se)[t])&&(yield r)}}*rkeys(){for(let t of L(this,Qs,vl).call(this)){let r=d(this,ut)[t];r!==void 0&&!L(this,Ze,ct).call(this,d(this,Se)[t])&&(yield r)}}*values(){for(let t of L(this,Xs,yl).call(this))d(this,Se)[t]!==void 0&&!L(this,Ze,ct).call(this,d(this,Se)[t])&&(yield d(this,Se)[t])}*rvalues(){for(let t of L(this,Qs,vl).call(this))d(this,Se)[t]!==void 0&&!L(this,Ze,ct).call(this,d(this,Se)[t])&&(yield d(this,Se)[t])}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let i of L(this,Xs,yl).call(this)){let n=d(this,Se)[i],s=L(this,Ze,ct).call(this,n)?n.__staleWhileFetching:n;if(s!==void 0&&t(s,d(this,ut)[i],this))return this.get(d(this,ut)[i],r)}}forEach(t,r=this){for(let i of L(this,Xs,yl).call(this)){let n=d(this,Se)[i],s=L(this,Ze,ct).call(this,n)?n.__staleWhileFetching:n;s!==void 0&&t.call(r,s,d(this,ut)[i],this)}}rforEach(t,r=this){for(let i of L(this,Qs,vl).call(this)){let n=d(this,Se)[i],s=L(this,Ze,ct).call(this,n)?n.__staleWhileFetching:n;s!==void 0&&t.call(r,s,d(this,ut)[i],this)}}purgeStale(){let t=!1;for(let r of L(this,Qs,vl).call(this,{allowStale:!0}))d(this,Zi).call(this,r)&&(L(this,eo,_l).call(this,d(this,ut)[r],"expire"),t=!0);return t}info(t){let r=d(this,qt).get(t);if(r===void 0)return;let i=d(this,Se)[r],n=L(this,Ze,ct).call(this,i)?i.__staleWhileFetching:i;if(n===void 0)return;let s={value:n};if(d(this,Ji)&&d(this,cs)){let o=d(this,Ji)[r],a=d(this,cs)[r];if(o&&a){let l=o-(Rh.now()-a);s.ttl=l,s.start=Date.now()}}return d(this,ls)&&(s.size=d(this,ls)[r]),s}dump(){let t=[];for(let r of L(this,Xs,yl).call(this,{allowStale:!0})){let i=d(this,ut)[r],n=d(this,Se)[r],s=L(this,Ze,ct).call(this,n)?n.__staleWhileFetching:n;if(s===void 0||i===void 0)continue;let o={value:s};if(d(this,Ji)&&d(this,cs)){o.ttl=d(this,Ji)[r];let a=Rh.now()-d(this,cs)[r];o.start=Math.floor(Date.now()-a)}d(this,ls)&&(o.size=d(this,ls)[r]),t.unshift([i,o])}return t}load(t){this.clear();for(let[r,i]of t){if(i.start){let n=Date.now()-i.start;i.start=Rh.now()-n}this.set(r,i.value,i)}}set(t,r,i={}){var h,p,m;if(r===void 0)return this.delete(t),this;let{ttl:n=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=i,{noUpdateTTL:c=this.noUpdateTTL}=i,u=d(this,Bg).call(this,t,r,i.size||0,a);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),L(this,eo,_l).call(this,t,"set"),this;let f=d(this,Jt)===0?void 0:d(this,qt).get(t);if(f===void 0)f=d(this,Jt)===0?d(this,pr):d(this,as).length!==0?d(this,as).pop():d(this,Jt)===d(this,is)?L(this,Ih,OS).call(this,!1):d(this,Jt),d(this,ut)[f]=t,d(this,Se)[f]=r,d(this,qt).set(t,f),d(this,gi)[d(this,pr)]=f,d(this,Ki)[f]=d(this,pr),A(this,pr,f),va(this,Jt)._++,d(this,Ph).call(this,f,u,l),l&&(l.set="add"),c=!1;else{L(this,Yc,Mg).call(this,f);let g=d(this,Se)[f];if(r!==g){if(d(this,bl)&&L(this,Ze,ct).call(this,g)){g.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:y}=g;y!==void 0&&!o&&(d(this,us)&&((h=d(this,ns))==null||h.call(this,y,t,"set")),d(this,yi)&&d(this,mr)?.push([y,t,"set"]))}else o||(d(this,us)&&((p=d(this,ns))==null||p.call(this,g,t,"set")),d(this,yi)&&d(this,mr)?.push([g,t,"set"]));if(d(this,Gc).call(this,f),d(this,Ph).call(this,f,u,l),d(this,Se)[f]=r,l){l.set="replace";let y=g&&L(this,Ze,ct).call(this,g)?g.__staleWhileFetching:g;y!==void 0&&(l.oldValue=y)}}else l&&(l.set="update")}if(n!==0&&!d(this,Ji)&&L(this,zg,wP).call(this),d(this,Ji)&&(c||d(this,Ug).call(this,f,n,s),l&&d(this,Zo).call(this,l,f)),!o&&d(this,yi)&&d(this,mr)){let g=d(this,mr),y;for(;y=g?.shift();)(m=d(this,ss))==null||m.call(this,...y)}return this}pop(){var t;try{for(;d(this,Jt);){let r=d(this,Se)[d(this,Yr)];if(L(this,Ih,OS).call(this,!0),L(this,Ze,ct).call(this,r)){if(r.__staleWhileFetching)return r.__staleWhileFetching}else if(r!==void 0)return r}}finally{if(d(this,yi)&&d(this,mr)){let r=d(this,mr),i;for(;i=r?.shift();)(t=d(this,ss))==null||t.call(this,...i)}}}has(t,r={}){let{updateAgeOnHas:i=this.updateAgeOnHas,status:n}=r,s=d(this,qt).get(t);if(s!==void 0){let o=d(this,Se)[s];if(L(this,Ze,ct).call(this,o)&&o.__staleWhileFetching===void 0)return!1;if(d(this,Zi).call(this,s))n&&(n.has="stale",d(this,Zo).call(this,n,s));else return i&&d(this,Wc).call(this,s),n&&(n.has="hit",d(this,Zo).call(this,n,s)),!0}else n&&(n.has="miss");return!1}peek(t,r={}){let{allowStale:i=this.allowStale}=r,n=d(this,qt).get(t);if(n===void 0||!i&&d(this,Zi).call(this,n))return;let s=d(this,Se)[n];return L(this,Ze,ct).call(this,s)?s.__staleWhileFetching:s}async fetch(t,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:m=this.allowStaleOnFetchAbort,context:g,forceRefresh:y=!1,status:_,signal:S}=r;if(!d(this,bl))return _&&(_.fetch="get"),this.get(t,{allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:s,status:_});let b={allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:m,ignoreFetchAbort:p,status:_,signal:S},v=d(this,qt).get(t);if(v===void 0){_&&(_.fetch="miss");let O=L(this,Nh,AS).call(this,t,v,b,g);return O.__returned=O}else{let O=d(this,Se)[v];if(L(this,Ze,ct).call(this,O)){let T=i&&O.__staleWhileFetching!==void 0;return _&&(_.fetch="inflight",T&&(_.returnedStale=!0)),T?O.__staleWhileFetching:O.__returned=O}let j=d(this,Zi).call(this,v);if(!y&&!j)return _&&(_.fetch="hit"),L(this,Yc,Mg).call(this,v),n&&d(this,Wc).call(this,v),_&&d(this,Zo).call(this,_,v),O;let R=L(this,Nh,AS).call(this,t,v,b,g),F=R.__staleWhileFetching!==void 0&&i;return _&&(_.fetch=j?"stale":"refresh",F&&j&&(_.returnedStale=!0)),F?R.__staleWhileFetching:R.__returned=R}}async forceFetch(t,r={}){let i=await this.fetch(t,r);if(i===void 0)throw new Error("fetch() returned undefined");return i}memo(t,r={}){let i=d(this,Ch);if(!i)throw new Error("no memoMethod provided to constructor");let{context:n,forceRefresh:s,...o}=r,a=this.get(t,o);if(!s&&a!==void 0)return a;let l=i(t,a,{options:o,context:n});return this.set(t,l,o),l}get(t,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r,a=d(this,qt).get(t);if(a!==void 0){let l=d(this,Se)[a],c=L(this,Ze,ct).call(this,l);return o&&d(this,Zo).call(this,o,a),d(this,Zi).call(this,a)?(o&&(o.get="stale"),c?(o&&i&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),i?l.__staleWhileFetching:void 0):(s||L(this,eo,_l).call(this,t,"expire"),o&&i&&(o.returnedStale=!0),i?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(L(this,Yc,Mg).call(this,a),n&&d(this,Wc).call(this,a),l))}else o&&(o.get="miss")}delete(t){return L(this,eo,_l).call(this,t,"delete")}clear(){return L(this,Wg,EP).call(this,"delete")}};AIe=Symbol.toStringTag,is=new WeakMap,Yi=new WeakMap,ns=new WeakMap,ss=new WeakMap,Ah=new WeakMap,Ch=new WeakMap,Jt=new WeakMap,os=new WeakMap,qt=new WeakMap,ut=new WeakMap,Se=new WeakMap,gi=new WeakMap,Ki=new WeakMap,Yr=new WeakMap,pr=new WeakMap,as=new WeakMap,mr=new WeakMap,ls=new WeakMap,cs=new WeakMap,Ji=new WeakMap,us=new WeakMap,bl=new WeakMap,yi=new WeakMap,zg=new WeakSet,wP=function(){let t=new Th(d(this,is)),r=new Th(d(this,is));A(this,Ji,t),A(this,cs,r),A(this,Ug,(s,o,a=Rh.now())=>{if(r[s]=o!==0?a:0,t[s]=o,o!==0&&this.ttlAutopurge){let l=setTimeout(()=>{d(this,Zi).call(this,s)&&L(this,eo,_l).call(this,d(this,ut)[s],"expire")},o+1);l.unref&&l.unref()}}),A(this,Wc,s=>{r[s]=t[s]!==0?Rh.now():0}),A(this,Zo,(s,o)=>{if(t[o]){let a=t[o],l=r[o];if(!a||!l)return;s.ttl=a,s.start=l,s.now=i||n();let c=s.now-l;s.remainingTTL=a-c}});let i=0,n=()=>{let s=Rh.now();if(this.ttlResolution>0){i=s;let o=setTimeout(()=>i=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{let o=d(this,qt).get(s);if(o===void 0)return 0;let a=t[o],l=r[o];if(!a||!l)return 1/0;let c=(i||n())-l;return a-c},A(this,Zi,s=>{let o=r[s],a=t[s];return!!a&&!!o&&(i||n())-o>a})},Wc=new WeakMap,Zo=new WeakMap,Ug=new WeakMap,Zi=new WeakMap,PS=new WeakSet,ZG=function(){let t=new Th(d(this,is));A(this,os,0),A(this,ls,t),A(this,Gc,r=>{A(this,os,d(this,os)-t[r]),t[r]=0}),A(this,Bg,(r,i,n,s)=>{if(L(this,Ze,ct).call(this,i))return 0;if(!gl(n))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(n=s(i,r),!gl(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n}),A(this,Ph,(r,i,n)=>{if(t[r]=i,d(this,Yi)){let s=d(this,Yi)-t[r];for(;d(this,os)>s;)L(this,Ih,OS).call(this,!0)}A(this,os,d(this,os)+t[r]),n&&(n.entrySize=i,n.totalCalculatedSize=d(this,os))})},Gc=new WeakMap,Ph=new WeakMap,Bg=new WeakMap,Xs=new WeakSet,yl=function*({allowStale:t=this.allowStale}={}){if(d(this,Jt))for(let r=d(this,pr);!(!L(this,Hg,SP).call(this,r)||((t||!d(this,Zi).call(this,r))&&(yield r),r===d(this,Yr)));)r=d(this,Ki)[r]},Qs=new WeakSet,vl=function*({allowStale:t=this.allowStale}={}){if(d(this,Jt))for(let r=d(this,Yr);!(!L(this,Hg,SP).call(this,r)||((t||!d(this,Zi).call(this,r))&&(yield r),r===d(this,pr)));)r=d(this,gi)[r]},Hg=new WeakSet,SP=function(t){return t!==void 0&&d(this,qt).get(d(this,ut)[t])===t},Ih=new WeakSet,OS=function(t){var s;let r=d(this,Yr),i=d(this,ut)[r],n=d(this,Se)[r];return d(this,bl)&&L(this,Ze,ct).call(this,n)?n.__abortController.abort(new Error("evicted")):(d(this,us)||d(this,yi))&&(d(this,us)&&((s=d(this,ns))==null||s.call(this,n,i,"evict")),d(this,yi)&&d(this,mr)?.push([n,i,"evict"])),d(this,Gc).call(this,r),t&&(d(this,ut)[r]=void 0,d(this,Se)[r]=void 0,d(this,as).push(r)),d(this,Jt)===1?(A(this,Yr,A(this,pr,0)),d(this,as).length=0):A(this,Yr,d(this,gi)[r]),d(this,qt).delete(i),va(this,Jt)._--,r},Nh=new WeakSet,AS=function(t,r,i,n){let s=r===void 0?void 0:d(this,Se)[r];if(L(this,Ze,ct).call(this,s))return s;let o=new CS,{signal:a}=i;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let l={signal:o.signal,options:i,context:n},c=(g,y=!1)=>{let{aborted:_}=o.signal,S=i.ignoreFetchAbort&&g!==void 0;if(i.status&&(_&&!y?(i.status.fetchAborted=!0,i.status.fetchError=o.signal.reason,S&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),_&&!S&&!y)return f(o.signal.reason);let b=p;return d(this,Se)[r]===p&&(g===void 0?b.__staleWhileFetching?d(this,Se)[r]=b.__staleWhileFetching:L(this,eo,_l).call(this,t,"fetch"):(i.status&&(i.status.fetchUpdated=!0),this.set(t,g,l.options))),g},u=g=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=g),f(g)),f=g=>{let{aborted:y}=o.signal,_=y&&i.allowStaleOnFetchAbort,S=_||i.allowStaleOnFetchRejection,b=S||i.noDeleteOnFetchRejection,v=p;if(d(this,Se)[r]===p&&(!b||v.__staleWhileFetching===void 0?L(this,eo,_l).call(this,t,"fetch"):_||(d(this,Se)[r]=v.__staleWhileFetching)),S)return i.status&&v.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),v.__staleWhileFetching;if(v.__returned===v)throw g},h=(g,y)=>{var S;let _=(S=d(this,Ah))==null?void 0:S.call(this,t,s,l);_&&_ instanceof Promise&&_.then(b=>g(b===void 0?void 0:b),y),o.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(g(void 0),i.allowStaleOnFetchAbort&&(g=b=>c(b,!0)))})};i.status&&(i.status.fetchDispatched=!0);let p=new Promise(h).then(c,u),m=Object.assign(p,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(t,m,{...l.options,status:void 0}),r=d(this,qt).get(t)):d(this,Se)[r]=m,m},Ze=new WeakSet,ct=function(t){if(!d(this,bl))return!1;let r=t;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof CS},Vg=new WeakSet,xP=function(t,r){d(this,Ki)[r]=t,d(this,gi)[t]=r},Yc=new WeakSet,Mg=function(t){t!==d(this,pr)&&(t===d(this,Yr)?A(this,Yr,d(this,gi)[t]):L(this,Vg,xP).call(this,d(this,Ki)[t],d(this,gi)[t]),L(this,Vg,xP).call(this,d(this,pr),t),A(this,pr,t))},eo=new WeakSet,_l=function(t,r){var n,s;let i=!1;if(d(this,Jt)!==0){let o=d(this,qt).get(t);if(o!==void 0)if(i=!0,d(this,Jt)===1)L(this,Wg,EP).call(this,r);else{d(this,Gc).call(this,o);let a=d(this,Se)[o];if(L(this,Ze,ct).call(this,a)?a.__abortController.abort(new Error("deleted")):(d(this,us)||d(this,yi))&&(d(this,us)&&((n=d(this,ns))==null||n.call(this,a,t,r)),d(this,yi)&&d(this,mr)?.push([a,t,r])),d(this,qt).delete(t),d(this,ut)[o]=void 0,d(this,Se)[o]=void 0,o===d(this,pr))A(this,pr,d(this,Ki)[o]);else if(o===d(this,Yr))A(this,Yr,d(this,gi)[o]);else{let l=d(this,Ki)[o];d(this,gi)[l]=d(this,gi)[o];let c=d(this,gi)[o];d(this,Ki)[c]=d(this,Ki)[o]}va(this,Jt)._--,d(this,as).push(o)}}if(d(this,yi)&&d(this,mr)?.length){let o=d(this,mr),a;for(;a=o?.shift();)(s=d(this,ss))==null||s.call(this,...a)}return i},Wg=new WeakSet,EP=function(t){var r,i;for(let n of L(this,Qs,vl).call(this,{allowStale:!0})){let s=d(this,Se)[n];if(L(this,Ze,ct).call(this,s))s.__abortController.abort(new Error("deleted"));else{let o=d(this,ut)[n];d(this,us)&&((r=d(this,ns))==null||r.call(this,s,o,t)),d(this,yi)&&d(this,mr)?.push([s,o,t])}}if(d(this,qt).clear(),d(this,Se).fill(void 0),d(this,ut).fill(void 0),d(this,Ji)&&d(this,cs)&&(d(this,Ji).fill(0),d(this,cs).fill(0)),d(this,ls)&&d(this,ls).fill(0),A(this,Yr,0),A(this,pr,0),d(this,as).length=0,A(this,os,0),A(this,Jt,0),d(this,yi)&&d(this,mr)){let n=d(this,mr),s;for(;s=n?.shift();)(i=d(this,ss))==null||i.call(this,...s)}};var bP=kP;IS.LRUCache=bP});var NP=w(_i=>{"use strict";var CIe=_i&&_i.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_i,"__esModule",{value:!0});_i.Minipass=_i.isWritable=_i.isReadable=_i.isStream=void 0;var QG=typeof process=="object"&&process?process:{stdout:null,stderr:null},IP=require("events"),i7=CIe(require("stream")),PIe=require("string_decoder"),IIe=e=>!!e&&typeof e=="object"&&(e instanceof qS||e instanceof i7.default||(0,_i.isReadable)(e)||(0,_i.isWritable)(e));_i.isStream=IIe;var NIe=e=>!!e&&typeof e=="object"&&e instanceof IP.EventEmitter&&typeof e.pipe=="function"&&e.pipe!==i7.default.Writable.prototype.pipe;_i.isReadable=NIe;var $Ie=e=>!!e&&typeof e=="object"&&e instanceof IP.EventEmitter&&typeof e.write=="function"&&typeof e.end=="function";_i.isWritable=$Ie;var Xo=Symbol("EOF"),Qo=Symbol("maybeEmitEnd"),wl=Symbol("emittedEnd"),NS=Symbol("emittingEnd"),Gg=Symbol("emittedError"),$S=Symbol("closed"),e7=Symbol("read"),FS=Symbol("flush"),t7=Symbol("flushChunk"),fs=Symbol("encoding"),$h=Symbol("decoder"),gr=Symbol("flowing"),Yg=Symbol("paused"),Fh=Symbol("resume"),yr=Symbol("buffer"),vi=Symbol("pipes"),vr=Symbol("bufferLength"),RP=Symbol("bufferPush"),DS=Symbol("bufferShift"),Kr=Symbol("objectMode"),It=Symbol("destroyed"),TP=Symbol("error"),OP=Symbol("emitData"),r7=Symbol("emitEnd"),AP=Symbol("emitEnd2"),to=Symbol("async"),CP=Symbol("abort"),LS=Symbol("aborted"),Kg=Symbol("signal"),Kc=Symbol("dataListeners"),Xi=Symbol("discarded"),Jg=e=>Promise.resolve().then(e),FIe=e=>e(),DIe=e=>e==="end"||e==="finish"||e==="prefinish",LIe=e=>e instanceof ArrayBuffer||!!e&&typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,jIe=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e),jS=class{constructor(t,r,i){C(this,"src");C(this,"dest");C(this,"opts");C(this,"ondrain");this.src=t,this.dest=r,this.opts=i,this.ondrain=()=>t[Fh](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},PP=class extends jS{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,r,i){super(t,r,i),this.proxyErrors=n=>r.emit("error",n),t.on("error",this.proxyErrors)}},qIe=e=>!!e.objectMode,MIe=e=>!e.objectMode&&!!e.encoding&&e.encoding!=="buffer",zIe,UIe,BIe,HIe,VIe,WIe,GIe,YIe,KIe,JIe,ZIe,XIe,QIe,e2e,t2e,r2e,i2e,n2e,s2e,qS=class extends IP.EventEmitter{constructor(...r){let i=r[0]||{};super();C(this,zIe,!1);C(this,UIe,!1);C(this,BIe,[]);C(this,HIe,[]);C(this,VIe);C(this,WIe);C(this,GIe);C(this,YIe);C(this,KIe,!1);C(this,JIe,!1);C(this,ZIe,!1);C(this,XIe,!1);C(this,QIe,null);C(this,e2e,0);C(this,t2e,!1);C(this,r2e);C(this,i2e,!1);C(this,n2e,0);C(this,s2e,!1);C(this,"writable",!0);C(this,"readable",!0);if(i.objectMode&&typeof i.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");qIe(i)?(this[Kr]=!0,this[fs]=null):MIe(i)?(this[fs]=i.encoding,this[Kr]=!1):(this[Kr]=!1,this[fs]=null),this[to]=!!i.async,this[$h]=this[fs]?new PIe.StringDecoder(this[fs]):null,i&&i.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[yr]}),i&&i.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[vi]});let{signal:n}=i;n&&(this[Kg]=n,n.aborted?this[CP]():n.addEventListener("abort",()=>this[CP]()))}get bufferLength(){return this[vr]}get encoding(){return this[fs]}set encoding(r){throw new Error("Encoding must be set at instantiation time")}setEncoding(r){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[Kr]}set objectMode(r){throw new Error("objectMode must be set at instantiation time")}get async(){return this[to]}set async(r){this[to]=this[to]||!!r}[(zIe=gr,UIe=Yg,BIe=vi,HIe=yr,VIe=Kr,WIe=fs,GIe=to,YIe=$h,KIe=Xo,JIe=wl,ZIe=NS,XIe=$S,QIe=Gg,e2e=vr,t2e=It,r2e=Kg,i2e=LS,n2e=Kc,s2e=Xi,CP)](){this[LS]=!0,this.emit("abort",this[Kg]?.reason),this.destroy(this[Kg]?.reason)}get aborted(){return this[LS]}set aborted(r){}write(r,i,n){if(this[LS])return!1;if(this[Xo])throw new Error("write after end");if(this[It])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof i=="function"&&(n=i,i="utf8"),i||(i="utf8");let s=this[to]?Jg:FIe;if(!this[Kr]&&!Buffer.isBuffer(r)){if(jIe(r))r=Buffer.from(r.buffer,r.byteOffset,r.byteLength);else if(LIe(r))r=Buffer.from(r);else if(typeof r!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[Kr]?(this[gr]&&this[vr]!==0&&this[FS](!0),this[gr]?this.emit("data",r):this[RP](r),this[vr]!==0&&this.emit("readable"),n&&s(n),this[gr]):r.length?(typeof r=="string"&&!(i===this[fs]&&!this[$h]?.lastNeed)&&(r=Buffer.from(r,i)),Buffer.isBuffer(r)&&this[fs]&&(r=this[$h].write(r)),this[gr]&&this[vr]!==0&&this[FS](!0),this[gr]?this.emit("data",r):this[RP](r),this[vr]!==0&&this.emit("readable"),n&&s(n),this[gr]):(this[vr]!==0&&this.emit("readable"),n&&s(n),this[gr])}read(r){if(this[It])return null;if(this[Xi]=!1,this[vr]===0||r===0||r&&r>this[vr])return this[Qo](),null;this[Kr]&&(r=null),this[yr].length>1&&!this[Kr]&&(this[yr]=[this[fs]?this[yr].join(""):Buffer.concat(this[yr],this[vr])]);let i=this[e7](r||null,this[yr][0]);return this[Qo](),i}[e7](r,i){if(this[Kr])this[DS]();else{let n=i;r===n.length||r===null?this[DS]():typeof n=="string"?(this[yr][0]=n.slice(r),i=n.slice(0,r),this[vr]-=r):(this[yr][0]=n.subarray(r),i=n.subarray(0,r),this[vr]-=r)}return this.emit("data",i),!this[yr].length&&!this[Xo]&&this.emit("drain"),i}end(r,i,n){return typeof r=="function"&&(n=r,r=void 0),typeof i=="function"&&(n=i,i="utf8"),r!==void 0&&this.write(r,i),n&&this.once("end",n),this[Xo]=!0,this.writable=!1,(this[gr]||!this[Yg])&&this[Qo](),this}[Fh](){this[It]||(!this[Kc]&&!this[vi].length&&(this[Xi]=!0),this[Yg]=!1,this[gr]=!0,this.emit("resume"),this[yr].length?this[FS]():this[Xo]?this[Qo]():this.emit("drain"))}resume(){return this[Fh]()}pause(){this[gr]=!1,this[Yg]=!0,this[Xi]=!1}get destroyed(){return this[It]}get flowing(){return this[gr]}get paused(){return this[Yg]}[RP](r){this[Kr]?this[vr]+=1:this[vr]+=r.length,this[yr].push(r)}[DS](){return this[Kr]?this[vr]-=1:this[vr]-=this[yr][0].length,this[yr].shift()}[FS](r=!1){do;while(this[t7](this[DS]())&&this[yr].length);!r&&!this[yr].length&&!this[Xo]&&this.emit("drain")}[t7](r){return this.emit("data",r),this[gr]}pipe(r,i){if(this[It])return r;this[Xi]=!1;let n=this[wl];return i=i||{},r===QG.stdout||r===QG.stderr?i.end=!1:i.end=i.end!==!1,i.proxyErrors=!!i.proxyErrors,n?i.end&&r.end():(this[vi].push(i.proxyErrors?new PP(this,r,i):new jS(this,r,i)),this[to]?Jg(()=>this[Fh]()):this[Fh]()),r}unpipe(r){let i=this[vi].find(n=>n.dest===r);i&&(this[vi].length===1?(this[gr]&&this[Kc]===0&&(this[gr]=!1),this[vi]=[]):this[vi].splice(this[vi].indexOf(i),1),i.unpipe())}addListener(r,i){return this.on(r,i)}on(r,i){let n=super.on(r,i);if(r==="data")this[Xi]=!1,this[Kc]++,!this[vi].length&&!this[gr]&&this[Fh]();else if(r==="readable"&&this[vr]!==0)super.emit("readable");else if(DIe(r)&&this[wl])super.emit(r),this.removeAllListeners(r);else if(r==="error"&&this[Gg]){let s=i;this[to]?Jg(()=>s.call(this,this[Gg])):s.call(this,this[Gg])}return n}removeListener(r,i){return this.off(r,i)}off(r,i){let n=super.off(r,i);return r==="data"&&(this[Kc]=this.listeners("data").length,this[Kc]===0&&!this[Xi]&&!this[vi].length&&(this[gr]=!1)),n}removeAllListeners(r){let i=super.removeAllListeners(r);return(r==="data"||r===void 0)&&(this[Kc]=0,!this[Xi]&&!this[vi].length&&(this[gr]=!1)),i}get emittedEnd(){return this[wl]}[Qo](){!this[NS]&&!this[wl]&&!this[It]&&this[yr].length===0&&this[Xo]&&(this[NS]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[$S]&&this.emit("close"),this[NS]=!1)}emit(r,...i){let n=i[0];if(r!=="error"&&r!=="close"&&r!==It&&this[It])return!1;if(r==="data")return!this[Kr]&&!n?!1:this[to]?(Jg(()=>this[OP](n)),!0):this[OP](n);if(r==="end")return this[r7]();if(r==="close"){if(this[$S]=!0,!this[wl]&&!this[It])return!1;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(r==="error"){this[Gg]=n,super.emit(TP,n);let o=!this[Kg]||this.listeners("error").length?super.emit("error",n):!1;return this[Qo](),o}else if(r==="resume"){let o=super.emit("resume");return this[Qo](),o}else if(r==="finish"||r==="prefinish"){let o=super.emit(r);return this.removeAllListeners(r),o}let s=super.emit(r,...i);return this[Qo](),s}[OP](r){for(let n of this[vi])n.dest.write(r)===!1&&this.pause();let i=this[Xi]?!1:super.emit("data",r);return this[Qo](),i}[r7](){return this[wl]?!1:(this[wl]=!0,this.readable=!1,this[to]?(Jg(()=>this[AP]()),!0):this[AP]())}[AP](){if(this[$h]){let i=this[$h].end();if(i){for(let n of this[vi])n.dest.write(i);this[Xi]||super.emit("data",i)}}for(let i of this[vi])i.end();let r=super.emit("end");return this.removeAllListeners("end"),r}async collect(){let r=Object.assign([],{dataLength:0});this[Kr]||(r.dataLength=0);let i=this.promise();return this.on("data",n=>{r.push(n),this[Kr]||(r.dataLength+=n.length)}),await i,r}async concat(){if(this[Kr])throw new Error("cannot concat in objectMode");let r=await this.collect();return this[fs]?r.join(""):Buffer.concat(r,r.dataLength)}async promise(){return new Promise((r,i)=>{this.on(It,()=>i(new Error("stream destroyed"))),this.on("error",n=>i(n)),this.on("end",()=>r())})}[Symbol.asyncIterator](){this[Xi]=!1;let r=!1,i=async()=>(this.pause(),r=!0,{value:void 0,done:!0});return{next:()=>{if(r)return i();let s=this.read();if(s!==null)return Promise.resolve({done:!1,value:s});if(this[Xo])return i();let o,a,l=h=>{this.off("data",c),this.off("end",u),this.off(It,f),i(),a(h)},c=h=>{this.off("error",l),this.off("end",u),this.off(It,f),this.pause(),o({value:h,done:!!this[Xo]})},u=()=>{this.off("error",l),this.off("data",c),this.off(It,f),i(),o({done:!0,value:void 0})},f=()=>l(new Error("stream destroyed"));return new Promise((h,p)=>{a=p,o=h,this.once(It,f),this.once("error",l),this.once("end",u),this.once("data",c)})},throw:i,return:i,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[Xi]=!1;let r=!1,i=()=>(this.pause(),this.off(TP,i),this.off(It,i),this.off("end",i),r=!0,{done:!0,value:void 0}),n=()=>{if(r)return i();let s=this.read();return s===null?i():{done:!1,value:s}};return this.once("end",i),this.once(TP,i),this.once(It,i),{next:n,throw:i,return:i,[Symbol.iterator](){return this}}}destroy(r){if(this[It])return r?this.emit("error",r):this.emit(It),this;this[It]=!0,this[Xi]=!0,this[yr].length=0,this[vr]=0;let i=this;return typeof i.close=="function"&&!this[$S]&&i.close(),r?this.emit("error",r):this.emit(It),this}static get isStream(){return _i.isStream}};_i.Minipass=qS});var S7=w(Ve=>{"use strict";var o2e=Ve&&Ve.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),a2e=Ve&&Ve.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l2e=Ve&&Ve.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&o2e(t,e,r);return a2e(t,e),t};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.PathScurry=Ve.Path=Ve.PathScurryDarwin=Ve.PathScurryPosix=Ve.PathScurryWin32=Ve.PathScurryBase=Ve.PathPosix=Ve.PathWin32=Ve.PathBase=Ve.ChildrenCache=Ve.ResolveCache=void 0;var c7=XG(),GS=require("path"),c2e=require("url"),Xg=require("fs"),u2e=l2e(require("fs")),f2e=Xg.realpathSync.native,MS=require("fs/promises"),n7=NP(),Qg={lstatSync:Xg.lstatSync,readdir:Xg.readdir,readdirSync:Xg.readdirSync,readlinkSync:Xg.readlinkSync,realpathSync:f2e,promises:{lstat:MS.lstat,readdir:MS.readdir,readlink:MS.readlink,realpath:MS.realpath}},u7=e=>!e||e===Qg||e===u2e?Qg:{...Qg,...e,promises:{...Qg.promises,...e.promises||{}}},f7=/^\\\\\?\\([a-z]:)\\?$/i,h2e=e=>e.replace(/\//g,"\\").replace(f7,"$1\\"),d2e=/[\\\/]/,En=0,h7=1,d7=2,ro=4,p7=6,m7=8,Jc=10,g7=12,xn=15,Zg=~xn,$P=16,s7=32,e0=64,hs=128,zS=256,BS=512,o7=e0|hs|BS,p2e=1023,FP=e=>e.isFile()?m7:e.isDirectory()?ro:e.isSymbolicLink()?Jc:e.isCharacterDevice()?d7:e.isBlockDevice()?p7:e.isSocket()?g7:e.isFIFO()?h7:En,a7=new Map,t0=e=>{let t=a7.get(e);if(t)return t;let r=e.normalize("NFKD");return a7.set(e,r),r},l7=new Map,US=e=>{let t=l7.get(e);if(t)return t;let r=t0(e.toLowerCase());return l7.set(e,r),r},n0=class extends c7.LRUCache{constructor(){super({max:256})}};Ve.ResolveCache=n0;var YS=class extends c7.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:r=>r.length+1})}};Ve.ChildrenCache=YS;var y7=Symbol("PathScurry setAsCwd"),bi,u0,f0,h0,d0,p0,m0,g0,y0,v0,_0,b0,w0,S0,x0,E0,k0,R0,T0,Sl,Zc,io,ea,ta,ra,be,Xc,ia,no,O0,DP,Dh,HS,Qc,r0,A0,LP,C0,jP,eu,i0,Lh,VS,P0,qP,I0,MP,jh,WS,JS,v7,ZS,_7,XS,b7,N0,zP,qh,Mh,QS,w7,tu,Or=class{constructor(t,r=En,i,n,s,o,a){N(this,O0);N(this,Dh);N(this,Qc);N(this,A0);N(this,C0);N(this,eu);N(this,Lh);N(this,P0);N(this,I0);N(this,jh);N(this,JS);N(this,ZS);N(this,XS);N(this,N0);N(this,QS);C(this,"name");C(this,"root");C(this,"roots");C(this,"parent");C(this,"nocase");C(this,"isCWD",!1);N(this,bi,void 0);N(this,u0,void 0);N(this,f0,void 0);N(this,h0,void 0);N(this,d0,void 0);N(this,p0,void 0);N(this,m0,void 0);N(this,g0,void 0);N(this,y0,void 0);N(this,v0,void 0);N(this,_0,void 0);N(this,b0,void 0);N(this,w0,void 0);N(this,S0,void 0);N(this,x0,void 0);N(this,E0,void 0);N(this,k0,void 0);N(this,R0,void 0);N(this,T0,void 0);N(this,Sl,void 0);N(this,Zc,void 0);N(this,io,void 0);N(this,ea,void 0);N(this,ta,void 0);N(this,ra,void 0);N(this,be,void 0);N(this,Xc,void 0);N(this,ia,void 0);N(this,no,void 0);N(this,qh,[]);N(this,Mh,!1);N(this,tu,void 0);this.name=t,A(this,Sl,s?US(t):t0(t)),A(this,be,r&p2e),this.nocase=s,this.roots=n,this.root=i||this,A(this,Xc,o),A(this,io,a.fullpath),A(this,ta,a.relative),A(this,ra,a.relativePosix),this.parent=a.parent,this.parent?A(this,bi,d(this.parent,bi)):A(this,bi,u7(a.fs))}get dev(){return d(this,u0)}get mode(){return d(this,f0)}get nlink(){return d(this,h0)}get uid(){return d(this,d0)}get gid(){return d(this,p0)}get rdev(){return d(this,m0)}get blksize(){return d(this,g0)}get ino(){return d(this,y0)}get size(){return d(this,v0)}get blocks(){return d(this,_0)}get atimeMs(){return d(this,b0)}get mtimeMs(){return d(this,w0)}get ctimeMs(){return d(this,S0)}get birthtimeMs(){return d(this,x0)}get atime(){return d(this,E0)}get mtime(){return d(this,k0)}get ctime(){return d(this,R0)}get birthtime(){return d(this,T0)}get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}depth(){return d(this,Zc)!==void 0?d(this,Zc):this.parent?A(this,Zc,this.parent.depth()+1):A(this,Zc,0)}childrenCache(){return d(this,Xc)}resolve(t){var o;if(!t)return this;let r=this.getRootString(t),n=t.substring(r.length).split(this.splitSep);return r?L(o=this.getRoot(r),O0,DP).call(o,n):L(this,O0,DP).call(this,n)}children(){let t=d(this,Xc).get(this);if(t)return t;let r=Object.assign([],{provisional:0});return d(this,Xc).set(this,r),A(this,be,d(this,be)&~$P),r}child(t,r){if(t===""||t===".")return this;if(t==="..")return this.parent||this;let i=this.children(),n=this.nocase?US(t):t0(t);for(let l of i)if(d(l,Sl)===n)return l;let s=this.parent?this.sep:"",o=d(this,io)?d(this,io)+s+t:void 0,a=this.newChild(t,En,{...r,parent:this,fullpath:o});return this.canReaddir()||A(a,be,d(a,be)|hs),i.push(a),a}relative(){if(this.isCWD)return"";if(d(this,ta)!==void 0)return d(this,ta);let t=this.name,r=this.parent;if(!r)return A(this,ta,this.name);let i=r.relative();return i+(!i||!r.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(d(this,ra)!==void 0)return d(this,ra);let t=this.name,r=this.parent;if(!r)return A(this,ra,this.fullpathPosix());let i=r.relativePosix();return i+(!i||!r.parent?"":"/")+t}fullpath(){if(d(this,io)!==void 0)return d(this,io);let t=this.name,r=this.parent;if(!r)return A(this,io,this.name);let n=r.fullpath()+(r.parent?this.sep:"")+t;return A(this,io,n)}fullpathPosix(){if(d(this,ea)!==void 0)return d(this,ea);if(this.sep==="/")return A(this,ea,this.fullpath());if(!this.parent){let n=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(n)?A(this,ea,`//?/${n}`):A(this,ea,n)}let t=this.parent,r=t.fullpathPosix(),i=r+(!r||!t.parent?"":"/")+this.name;return A(this,ea,i)}isUnknown(){return(d(this,be)&xn)===En}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(d(this,be)&xn)===m7}isDirectory(){return(d(this,be)&xn)===ro}isCharacterDevice(){return(d(this,be)&xn)===d7}isBlockDevice(){return(d(this,be)&xn)===p7}isFIFO(){return(d(this,be)&xn)===h7}isSocket(){return(d(this,be)&xn)===g7}isSymbolicLink(){return(d(this,be)&Jc)===Jc}lstatCached(){return d(this,be)&s7?this:void 0}readlinkCached(){return d(this,ia)}realpathCached(){return d(this,no)}readdirCached(){let t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(d(this,ia))return!0;if(!this.parent)return!1;let t=d(this,be)&xn;return!(t!==En&&t!==Jc||d(this,be)&zS||d(this,be)&hs)}calledReaddir(){return!!(d(this,be)&$P)}isENOENT(){return!!(d(this,be)&hs)}isNamed(t){return this.nocase?d(this,Sl)===US(t):d(this,Sl)===t0(t)}async readlink(){let t=d(this,ia);if(t)return t;if(this.canReadlink()&&this.parent)try{let r=await d(this,bi).promises.readlink(this.fullpath()),i=(await this.parent.realpath())?.resolve(r);if(i)return A(this,ia,i)}catch(r){L(this,I0,MP).call(this,r.code);return}}readlinkSync(){let t=d(this,ia);if(t)return t;if(this.canReadlink()&&this.parent)try{let r=d(this,bi).readlinkSync(this.fullpath()),i=this.parent.realpathSync()?.resolve(r);if(i)return A(this,ia,i)}catch(r){L(this,I0,MP).call(this,r.code);return}}async lstat(){if(!(d(this,be)&hs))try{return L(this,N0,zP).call(this,await d(this,bi).promises.lstat(this.fullpath())),this}catch(t){L(this,P0,qP).call(this,t.code)}}lstatSync(){if(!(d(this,be)&hs))try{return L(this,N0,zP).call(this,d(this,bi).lstatSync(this.fullpath())),this}catch(t){L(this,P0,qP).call(this,t.code)}}readdirCB(t,r=!1){if(!this.canReaddir()){r?t(null,[]):queueMicrotask(()=>t(null,[]));return}let i=this.children();if(this.calledReaddir()){let s=i.slice(0,i.provisional);r?t(null,s):queueMicrotask(()=>t(null,s));return}if(d(this,qh).push(t),d(this,Mh))return;A(this,Mh,!0);let n=this.fullpath();d(this,bi).readdir(n,{withFileTypes:!0},(s,o)=>{if(s)L(this,Lh,VS).call(this,s.code),i.provisional=0;else{for(let a of o)L(this,jh,WS).call(this,a,i);L(this,Dh,HS).call(this,i)}L(this,QS,w7).call(this,i.slice(0,i.provisional))})}async readdir(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let r=this.fullpath();if(d(this,tu))await d(this,tu);else{let i=()=>{};A(this,tu,new Promise(n=>i=n));try{for(let n of await d(this,bi).promises.readdir(r,{withFileTypes:!0}))L(this,jh,WS).call(this,n,t);L(this,Dh,HS).call(this,t)}catch(n){L(this,Lh,VS).call(this,n.code),t.provisional=0}A(this,tu,void 0),i()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let r=this.fullpath();try{for(let i of d(this,bi).readdirSync(r,{withFileTypes:!0}))L(this,jh,WS).call(this,i,t);L(this,Dh,HS).call(this,t)}catch(i){L(this,Lh,VS).call(this,i.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(d(this,be)&o7)return!1;let t=xn&d(this,be);return t===En||t===ro||t===Jc}shouldWalk(t,r){return(d(this,be)&ro)===ro&&!(d(this,be)&o7)&&!t.has(this)&&(!r||r(this))}async realpath(){if(d(this,no))return d(this,no);if(!((BS|zS|hs)&d(this,be)))try{let t=await d(this,bi).promises.realpath(this.fullpath());return A(this,no,this.resolve(t))}catch{L(this,C0,jP).call(this)}}realpathSync(){if(d(this,no))return d(this,no);if(!((BS|zS|hs)&d(this,be)))try{let t=d(this,bi).realpathSync(this.fullpath());return A(this,no,this.resolve(t))}catch{L(this,C0,jP).call(this)}}[y7](t){if(t===this)return;t.isCWD=!1,this.isCWD=!0;let r=new Set([]),i=[],n=this;for(;n&&n.parent;)r.add(n),A(n,ta,i.join(this.sep)),A(n,ra,i.join("/")),n=n.parent,i.push("..");for(n=t;n&&n.parent&&!r.has(n);)A(n,ta,void 0),A(n,ra,void 0),n=n.parent}};bi=new WeakMap,u0=new WeakMap,f0=new WeakMap,h0=new WeakMap,d0=new WeakMap,p0=new WeakMap,m0=new WeakMap,g0=new WeakMap,y0=new WeakMap,v0=new WeakMap,_0=new WeakMap,b0=new WeakMap,w0=new WeakMap,S0=new WeakMap,x0=new WeakMap,E0=new WeakMap,k0=new WeakMap,R0=new WeakMap,T0=new WeakMap,Sl=new WeakMap,Zc=new WeakMap,io=new WeakMap,ea=new WeakMap,ta=new WeakMap,ra=new WeakMap,be=new WeakMap,Xc=new WeakMap,ia=new WeakMap,no=new WeakMap,O0=new WeakSet,DP=function(t){let r=this;for(let i of t)r=r.child(i);return r},Dh=new WeakSet,HS=function(t){var r;A(this,be,d(this,be)|$P);for(let i=t.provisional;i<t.length;i++){let n=t[i];n&&L(r=n,Qc,r0).call(r)}},Qc=new WeakSet,r0=function(){d(this,be)&hs||(A(this,be,(d(this,be)|hs)&Zg),L(this,A0,LP).call(this))},A0=new WeakSet,LP=function(){var r;let t=this.children();t.provisional=0;for(let i of t)L(r=i,Qc,r0).call(r)},C0=new WeakSet,jP=function(){A(this,be,d(this,be)|BS),L(this,eu,i0).call(this)},eu=new WeakSet,i0=function(){if(d(this,be)&e0)return;let t=d(this,be);(t&xn)===ro&&(t&=Zg),A(this,be,t|e0),L(this,A0,LP).call(this)},Lh=new WeakSet,VS=function(t=""){t==="ENOTDIR"||t==="EPERM"?L(this,eu,i0).call(this):t==="ENOENT"?L(this,Qc,r0).call(this):this.children().provisional=0},P0=new WeakSet,qP=function(t=""){var r;if(t==="ENOTDIR"){let i=this.parent;L(r=i,eu,i0).call(r)}else t==="ENOENT"&&L(this,Qc,r0).call(this)},I0=new WeakSet,MP=function(t=""){var i;let r=d(this,be);r|=zS,t==="ENOENT"&&(r|=hs),(t==="EINVAL"||t==="UNKNOWN")&&(r&=Zg),A(this,be,r),t==="ENOTDIR"&&this.parent&&L(i=this.parent,eu,i0).call(i)},jh=new WeakSet,WS=function(t,r){return L(this,ZS,_7).call(this,t,r)||L(this,JS,v7).call(this,t,r)},JS=new WeakSet,v7=function(t,r){let i=FP(t),n=this.newChild(t.name,i,{parent:this}),s=d(n,be)&xn;return s!==ro&&s!==Jc&&s!==En&&A(n,be,d(n,be)|e0),r.unshift(n),r.provisional++,n},ZS=new WeakSet,_7=function(t,r){for(let i=r.provisional;i<r.length;i++){let n=r[i];if((this.nocase?US(t.name):t0(t.name))===d(n,Sl))return L(this,XS,b7).call(this,t,n,i,r)}},XS=new WeakSet,b7=function(t,r,i,n){let s=r.name;return A(r,be,d(r,be)&Zg|FP(t)),s!==t.name&&(r.name=t.name),i!==n.provisional&&(i===n.length-1?n.pop():n.splice(i,1),n.unshift(r)),n.provisional++,r},N0=new WeakSet,zP=function(t){let{atime:r,atimeMs:i,birthtime:n,birthtimeMs:s,blksize:o,blocks:a,ctime:l,ctimeMs:c,dev:u,gid:f,ino:h,mode:p,mtime:m,mtimeMs:g,nlink:y,rdev:_,size:S,uid:b}=t;A(this,E0,r),A(this,b0,i),A(this,T0,n),A(this,x0,s),A(this,g0,o),A(this,_0,a),A(this,R0,l),A(this,S0,c),A(this,u0,u),A(this,p0,f),A(this,y0,h),A(this,f0,p),A(this,k0,m),A(this,w0,g),A(this,h0,y),A(this,m0,_),A(this,v0,S),A(this,d0,b);let v=FP(t);A(this,be,d(this,be)&Zg|v|s7),v!==En&&v!==ro&&v!==Jc&&A(this,be,d(this,be)|e0)},qh=new WeakMap,Mh=new WeakMap,QS=new WeakSet,w7=function(t){A(this,Mh,!1);let r=d(this,qh).slice();d(this,qh).length=0,r.forEach(i=>i(null,t))},tu=new WeakMap;Ve.PathBase=Or;var s0=class e extends Or{constructor(r,i=En,n,s,o,a,l){super(r,i,n,s,o,a,l);C(this,"sep","\\");C(this,"splitSep",d2e)}newChild(r,i=En,n={}){return new e(r,i,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(r){return GS.win32.parse(r).root}getRoot(r){if(r=h2e(r.toUpperCase()),r===this.root.name)return this.root;for(let[i,n]of Object.entries(this.roots))if(this.sameRoot(r,i))return this.roots[r]=n;return this.roots[r]=new l0(r,this).root}sameRoot(r,i=this.root.name){return r=r.toUpperCase().replace(/\//g,"\\").replace(f7,"$1\\"),r===i}};Ve.PathWin32=s0;var o0=class e extends Or{constructor(r,i=En,n,s,o,a,l){super(r,i,n,s,o,a,l);C(this,"splitSep","/");C(this,"sep","/")}getRootString(r){return r.startsWith("/")?"/":""}getRoot(r){return this.root}newChild(r,i=En,n={}){return new e(r,i,this.root,this.roots,this.nocase,this.childrenCache(),n)}};Ve.PathPosix=o0;var zh,Uh,$0,F0,a0=class{constructor(t=process.cwd(),r,i,{nocase:n,childrenCacheSize:s=16*1024,fs:o=Qg}={}){C(this,"root");C(this,"rootPath");C(this,"roots");C(this,"cwd");N(this,zh,void 0);N(this,Uh,void 0);N(this,$0,void 0);C(this,"nocase");N(this,F0,void 0);A(this,F0,u7(o)),(t instanceof URL||t.startsWith("file://"))&&(t=(0,c2e.fileURLToPath)(t));let a=r.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),A(this,zh,new n0),A(this,Uh,new n0),A(this,$0,new YS(s));let l=a.substring(this.rootPath.length).split(i);if(l.length===1&&!l[0]&&l.pop(),n===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(d(this,F0)),this.roots[this.rootPath]=this.root;let c=this.root,u=l.length-1,f=r.sep,h=this.rootPath,p=!1;for(let m of l){let g=u--;c=c.child(m,{relative:new Array(g).fill("..").join(f),relativePosix:new Array(g).fill("..").join("/"),fullpath:h+=(p?"":f)+m}),p=!0}this.cwd=c}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return d(this,$0)}resolve(...t){let r="";for(let s=t.length-1;s>=0;s--){let o=t[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let i=d(this,zh).get(r);if(i!==void 0)return i;let n=this.cwd.resolve(r).fullpath();return d(this,zh).set(r,n),n}resolvePosix(...t){let r="";for(let s=t.length-1;s>=0;s--){let o=t[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let i=d(this,Uh).get(r);if(i!==void 0)return i;let n=this.cwd.resolve(r).fullpathPosix();return d(this,Uh).set(r,n),n}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,r={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Or||(r=t,t=this.cwd);let{withFileTypes:i}=r;if(t.canReaddir()){let n=await t.readdir();return i?n:n.map(s=>s.name)}else return[]}readdirSync(t=this.cwd,r={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Or||(r=t,t=this.cwd);let{withFileTypes:i=!0}=r;return t.canReaddir()?i?t.readdirSync():t.readdirSync().map(n=>n.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Or||(r=t.withFileTypes,t=this.cwd);let i=await t.readlink();return r?i:i?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Or||(r=t.withFileTypes,t=this.cwd);let i=t.readlinkSync();return r?i:i?.fullpath()}async realpath(t=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Or||(r=t.withFileTypes,t=this.cwd);let i=await t.realpath();return r?i:i?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Or||(r=t.withFileTypes,t=this.cwd);let i=t.realpathSync();return r?i:i?.fullpath()}async walk(t=this.cwd,r={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Or||(r=t,t=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(t))&&a.push(i?t:t.fullpath());let l=new Set,c=(f,h)=>{l.add(f),f.readdirCB((p,m)=>{if(p)return h(p);let g=m.length;if(!g)return h();let y=()=>{--g===0&&h()};for(let _ of m)(!s||s(_))&&a.push(i?_:_.fullpath()),n&&_.isSymbolicLink()?_.realpath().then(S=>S?.isUnknown()?S.lstat():S).then(S=>S?.shouldWalk(l,o)?c(S,y):y()):_.shouldWalk(l,o)?c(_,y):y()},!0)},u=t;return new Promise((f,h)=>{c(u,p=>{if(p)return h(p);f(a)})})}walkSync(t=this.cwd,r={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Or||(r=t,t=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(t))&&a.push(i?t:t.fullpath());let l=new Set([t]);for(let c of l){let u=c.readdirSync();for(let f of u){(!s||s(f))&&a.push(i?f:f.fullpath());let h=f;if(f.isSymbolicLink()){if(!(n&&(h=f.realpathSync())))continue;h.isUnknown()&&h.lstatSync()}h.shouldWalk(l,o)&&l.add(h)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,r={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof Or||(r=t,t=this.cwd),this.stream(t,r)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,r={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Or||(r=t,t=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:s,walkFilter:o}=r;(!s||s(t))&&(yield i?t:t.fullpath());let a=new Set([t]);for(let l of a){let c=l.readdirSync();for(let u of c){(!s||s(u))&&(yield i?u:u.fullpath());let f=u;if(u.isSymbolicLink()){if(!(n&&(f=u.realpathSync())))continue;f.isUnknown()&&f.lstatSync()}f.shouldWalk(a,o)&&a.add(f)}}}stream(t=this.cwd,r={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Or||(r=t,t=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:s,walkFilter:o}=r,a=new n7.Minipass({objectMode:!0});(!s||s(t))&&a.write(i?t:t.fullpath());let l=new Set,c=[t],u=0,f=()=>{let h=!1;for(;!h;){let p=c.shift();if(!p){u===0&&a.end();return}u++,l.add(p);let m=(y,_,S=!1)=>{if(y)return a.emit("error",y);if(n&&!S){let b=[];for(let v of _)v.isSymbolicLink()&&b.push(v.realpath().then(O=>O?.isUnknown()?O.lstat():O));if(b.length){Promise.all(b).then(()=>m(null,_,!0));return}}for(let b of _)b&&(!s||s(b))&&(a.write(i?b:b.fullpath())||(h=!0));u--;for(let b of _){let v=b.realpathCached()||b;v.shouldWalk(l,o)&&c.push(v)}h&&!a.flowing?a.once("drain",f):g||f()},g=!0;p.readdirCB(m,!0),g=!1}};return f(),a}streamSync(t=this.cwd,r={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Or||(r=t,t=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:s,walkFilter:o}=r,a=new n7.Minipass({objectMode:!0}),l=new Set;(!s||s(t))&&a.write(i?t:t.fullpath());let c=[t],u=0,f=()=>{let h=!1;for(;!h;){let p=c.shift();if(!p){u===0&&a.end();return}u++,l.add(p);let m=p.readdirSync();for(let g of m)(!s||s(g))&&(a.write(i?g:g.fullpath())||(h=!0));u--;for(let g of m){let y=g;if(g.isSymbolicLink()){if(!(n&&(y=g.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(l,o)&&c.push(y)}}h&&!a.flowing&&a.once("drain",f)};return f(),a}chdir(t=this.cwd){let r=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[y7](r)}};zh=new WeakMap,Uh=new WeakMap,$0=new WeakMap,F0=new WeakMap;Ve.PathScurryBase=a0;var l0=class extends a0{constructor(r=process.cwd(),i={}){let{nocase:n=!0}=i;super(r,GS.win32,"\\",{...i,nocase:n});C(this,"sep","\\");this.nocase=n;for(let s=this.cwd;s;s=s.parent)s.nocase=this.nocase}parseRootPath(r){return GS.win32.parse(r).root.toUpperCase()}newRoot(r){return new s0(this.rootPath,ro,void 0,this.roots,this.nocase,this.childrenCache(),{fs:r})}isAbsolute(r){return r.startsWith("/")||r.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(r)}};Ve.PathScurryWin32=l0;var c0=class extends a0{constructor(r=process.cwd(),i={}){let{nocase:n=!1}=i;super(r,GS.posix,"/",{...i,nocase:n});C(this,"sep","/");this.nocase=n}parseRootPath(r){return"/"}newRoot(r){return new o0(this.rootPath,ro,void 0,this.roots,this.nocase,this.childrenCache(),{fs:r})}isAbsolute(r){return r.startsWith("/")}};Ve.PathScurryPosix=c0;var KS=class extends c0{constructor(t=process.cwd(),r={}){let{nocase:i=!0}=r;super(t,{...r,nocase:i})}};Ve.PathScurryDarwin=KS;Ve.Path=process.platform==="win32"?s0:o0;Ve.PathScurry=process.platform==="win32"?l0:process.platform==="darwin"?KS:c0});var HP=w(ex=>{"use strict";Object.defineProperty(ex,"__esModule",{value:!0});ex.Pattern=void 0;var m2e=ml(),g2e=e=>e.length>=1,y2e=e=>e.length>=1,Zt,Qi,_r,ru,ds,D0,xl,El,kl,Bh,BP=class BP{constructor(t,r,i,n){N(this,Zt,void 0);N(this,Qi,void 0);N(this,_r,void 0);C(this,"length");N(this,ru,void 0);N(this,ds,void 0);N(this,D0,void 0);N(this,xl,void 0);N(this,El,void 0);N(this,kl,void 0);N(this,Bh,!0);if(!g2e(t))throw new TypeError("empty pattern list");if(!y2e(r))throw new TypeError("empty glob list");if(r.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,i<0||i>=this.length)throw new TypeError("index out of range");if(A(this,Zt,t),A(this,Qi,r),A(this,_r,i),A(this,ru,n),d(this,_r)===0){if(this.isUNC()){let[s,o,a,l,...c]=d(this,Zt),[u,f,h,p,...m]=d(this,Qi);c[0]===""&&(c.shift(),m.shift());let g=[s,o,a,l,""].join("/"),y=[u,f,h,p,""].join("/");A(this,Zt,[g,...c]),A(this,Qi,[y,...m]),this.length=d(this,Zt).length}else if(this.isDrive()||this.isAbsolute()){let[s,...o]=d(this,Zt),[a,...l]=d(this,Qi);o[0]===""&&(o.shift(),l.shift());let c=s+"/",u=a+"/";A(this,Zt,[c,...o]),A(this,Qi,[u,...l]),this.length=d(this,Zt).length}}}pattern(){return d(this,Zt)[d(this,_r)]}isString(){return typeof d(this,Zt)[d(this,_r)]=="string"}isGlobstar(){return d(this,Zt)[d(this,_r)]===m2e.GLOBSTAR}isRegExp(){return d(this,Zt)[d(this,_r)]instanceof RegExp}globString(){return A(this,D0,d(this,D0)||(d(this,_r)===0?this.isAbsolute()?d(this,Qi)[0]+d(this,Qi).slice(1).join("/"):d(this,Qi).join("/"):d(this,Qi).slice(d(this,_r)).join("/")))}hasMore(){return this.length>d(this,_r)+1}rest(){return d(this,ds)!==void 0?d(this,ds):this.hasMore()?(A(this,ds,new BP(d(this,Zt),d(this,Qi),d(this,_r)+1,d(this,ru))),A(d(this,ds),kl,d(this,kl)),A(d(this,ds),El,d(this,El)),A(d(this,ds),xl,d(this,xl)),d(this,ds)):A(this,ds,null)}isUNC(){let t=d(this,Zt);return d(this,El)!==void 0?d(this,El):A(this,El,d(this,ru)==="win32"&&d(this,_r)===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3])}isDrive(){let t=d(this,Zt);return d(this,xl)!==void 0?d(this,xl):A(this,xl,d(this,ru)==="win32"&&d(this,_r)===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]))}isAbsolute(){let t=d(this,Zt);return d(this,kl)!==void 0?d(this,kl):A(this,kl,t[0]===""&&t.length>1||this.isDrive()||this.isUNC())}root(){let t=d(this,Zt)[0];return typeof t=="string"&&this.isAbsolute()&&d(this,_r)===0?t:""}checkFollowGlobstar(){return!(d(this,_r)===0||!this.isGlobstar()||!d(this,Bh))}markFollowGlobstar(){return d(this,_r)===0||!this.isGlobstar()||!d(this,Bh)?!1:(A(this,Bh,!1),!0)}};Zt=new WeakMap,Qi=new WeakMap,_r=new WeakMap,ru=new WeakMap,ds=new WeakMap,D0=new WeakMap,xl=new WeakMap,El=new WeakMap,kl=new WeakMap,Bh=new WeakMap;var UP=BP;ex.Pattern=UP});var WP=w(tx=>{"use strict";Object.defineProperty(tx,"__esModule",{value:!0});tx.Ignore=void 0;var x7=ml(),v2e=HP(),_2e=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",VP=class{constructor(t,{nobrace:r,nocase:i,noext:n,noglobstar:s,platform:o=_2e}){C(this,"relative");C(this,"relativeChildren");C(this,"absolute");C(this,"absoluteChildren");C(this,"platform");C(this,"mmopts");this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=o,this.mmopts={dot:!0,nobrace:r,nocase:i,noext:n,noglobstar:s,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let a of t)this.add(a)}add(t){let r=new x7.Minimatch(t,this.mmopts);for(let i=0;i<r.set.length;i++){let n=r.set[i],s=r.globParts[i];if(!n||!s)throw new Error("invalid pattern object");for(;n[0]==="."&&s[0]===".";)n.shift(),s.shift();let o=new v2e.Pattern(n,s,0,this.platform),a=new x7.Minimatch(o.globString(),this.mmopts),l=s[s.length-1]==="**",c=o.isAbsolute();c?this.absolute.push(a):this.relative.push(a),l&&(c?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}ignored(t){let r=t.fullpath(),i=`${r}/`,n=t.relative()||".",s=`${n}/`;for(let o of this.relative)if(o.match(n)||o.match(s))return!0;for(let o of this.absolute)if(o.match(r)||o.match(i))return!0;return!1}childrenIgnored(t){let r=t.fullpath()+"/",i=(t.relative()||".")+"/";for(let n of this.relativeChildren)if(n.match(i))return!0;for(let n of this.absoluteChildren)if(n.match(r))return!0;return!1}};tx.Ignore=VP});var k7=w(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.Processor=so.SubWalks=so.MatchRecord=so.HasWalkedCache=void 0;var E7=ml(),rx=class e{constructor(t=new Map){C(this,"store");this.store=t}copy(){return new e(new Map(this.store))}hasWalked(t,r){return this.store.get(t.fullpath())?.has(r.globString())}storeWalked(t,r){let i=t.fullpath(),n=this.store.get(i);n?n.add(r.globString()):this.store.set(i,new Set([r.globString()]))}};so.HasWalkedCache=rx;var ix=class{constructor(){C(this,"store",new Map)}add(t,r,i){let n=(r?2:0)|(i?1:0),s=this.store.get(t);this.store.set(t,s===void 0?n:n&s)}entries(){return[...this.store.entries()].map(([t,r])=>[t,!!(r&2),!!(r&1)])}};so.MatchRecord=ix;var nx=class{constructor(){C(this,"store",new Map)}add(t,r){if(!t.canReaddir())return;let i=this.store.get(t);i?i.find(n=>n.globString()===r.globString())||i.push(r):this.store.set(t,[r])}get(t){let r=this.store.get(t);if(!r)throw new Error("attempting to walk unknown path");return r}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}};so.SubWalks=nx;var GP=class e{constructor(t,r){C(this,"hasWalkedCache");C(this,"matches",new ix);C(this,"subwalks",new nx);C(this,"patterns");C(this,"follow");C(this,"dot");C(this,"opts");this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=r?r.copy():new rx}processPatterns(t,r){this.patterns=r;let i=r.map(n=>[t,n]);for(let[n,s]of i){this.hasWalkedCache.storeWalked(n,s);let o=s.root(),a=s.isAbsolute()&&this.opts.absolute!==!1;if(o){n=n.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let f=s.rest();if(f)s=f;else{this.matches.add(n,!0,!1);continue}}if(n.isENOENT())continue;let l,c,u=!1;for(;typeof(l=s.pattern())=="string"&&(c=s.rest());)n=n.resolve(l),s=c,u=!0;if(l=s.pattern(),c=s.rest(),u){if(this.hasWalkedCache.hasWalked(n,s))continue;this.hasWalkedCache.storeWalked(n,s)}if(typeof l=="string"){let f=l===".."||l===""||l===".";this.matches.add(n.resolve(l),a,f);continue}else if(l===E7.GLOBSTAR){(!n.isSymbolicLink()||this.follow||s.checkFollowGlobstar())&&this.subwalks.add(n,s);let f=c?.pattern(),h=c?.rest();if(!c||(f===""||f===".")&&!h)this.matches.add(n,a,f===""||f===".");else if(f===".."){let p=n.parent||n;h?this.hasWalkedCache.hasWalked(p,h)||this.subwalks.add(p,h):this.matches.add(p,a,!0)}}else l instanceof RegExp&&this.subwalks.add(n,s)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new e(this.opts,this.hasWalkedCache)}filterEntries(t,r){let i=this.subwalks.get(t),n=this.child();for(let s of r)for(let o of i){let a=o.isAbsolute(),l=o.pattern(),c=o.rest();l===E7.GLOBSTAR?n.testGlobstar(s,o,c,a):l instanceof RegExp?n.testRegExp(s,l,c,a):n.testString(s,l,c,a)}return n}testGlobstar(t,r,i,n){if((this.dot||!t.name.startsWith("."))&&(r.hasMore()||this.matches.add(t,n,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,r):t.isSymbolicLink()&&(i&&r.checkFollowGlobstar()?this.subwalks.add(t,i):r.markFollowGlobstar()&&this.subwalks.add(t,r)))),i){let s=i.pattern();if(typeof s=="string"&&s!==".."&&s!==""&&s!==".")this.testString(t,s,i.rest(),n);else if(s===".."){let o=t.parent||t;this.subwalks.add(o,i)}else s instanceof RegExp&&this.testRegExp(t,s,i.rest(),n)}}testRegExp(t,r,i,n){r.test(t.name)&&(i?this.subwalks.add(t,i):this.matches.add(t,n,!1))}testString(t,r,i,n){t.isNamed(r)&&(i?this.subwalks.add(t,i):this.matches.add(t,n,!1))}};so.Processor=GP});var O7=w(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.GlobStream=Rl.GlobWalker=Rl.GlobUtil=void 0;var b2e=NP(),R7=WP(),T7=k7(),w2e=(e,t)=>typeof e=="string"?new R7.Ignore([e],t):Array.isArray(e)?new R7.Ignore(e,t):e,Hh,na,nu,sa,iu,j0,YP,L0=class{constructor(t,r,i){N(this,sa);N(this,j0);C(this,"path");C(this,"patterns");C(this,"opts");C(this,"seen",new Set);C(this,"paused",!1);C(this,"aborted",!1);N(this,Hh,[]);N(this,na,void 0);N(this,nu,void 0);C(this,"signal");C(this,"maxDepth");C(this,"includeChildMatches");if(this.patterns=t,this.path=r,this.opts=i,A(this,nu,!i.posix&&i.platform==="win32"?"\\":"/"),this.includeChildMatches=i.includeChildMatches!==!1,(i.ignore||!this.includeChildMatches)&&(A(this,na,w2e(i.ignore??[],i)),!this.includeChildMatches&&typeof d(this,na).add!="function")){let n="cannot ignore child matches, ignore lacks add() method.";throw new Error(n)}this.maxDepth=i.maxDepth||1/0,i.signal&&(this.signal=i.signal,this.signal.addEventListener("abort",()=>{d(this,Hh).length=0}))}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=d(this,Hh).shift());)t()}onResume(t){this.signal?.aborted||(this.paused?d(this,Hh).push(t):t())}async matchCheck(t,r){if(r&&this.opts.nodir)return;let i;if(this.opts.realpath){if(i=t.realpathCached()||await t.realpath(),!i)return;t=i}let s=t.isUnknown()||this.opts.stat?await t.lstat():t;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=await s.realpath();o&&(o.isUnknown()||this.opts.stat)&&await o.lstat()}return this.matchCheckTest(s,r)}matchCheckTest(t,r){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!r||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!t.isSymbolicLink()||!t.realpathCached()?.isDirectory())&&!L(this,sa,iu).call(this,t)?t:void 0}matchCheckSync(t,r){if(r&&this.opts.nodir)return;let i;if(this.opts.realpath){if(i=t.realpathCached()||t.realpathSync(),!i)return;t=i}let s=t.isUnknown()||this.opts.stat?t.lstatSync():t;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=s.realpathSync();o&&(o?.isUnknown()||this.opts.stat)&&o.lstatSync()}return this.matchCheckTest(s,r)}matchFinish(t,r){if(L(this,sa,iu).call(this,t))return;if(!this.includeChildMatches&&d(this,na)?.add){let s=`${t.relativePosix()}/**`;d(this,na).add(s)}let i=this.opts.absolute===void 0?r:this.opts.absolute;this.seen.add(t);let n=this.opts.mark&&t.isDirectory()?d(this,nu):"";if(this.opts.withFileTypes)this.matchEmit(t);else if(i){let s=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(s+n)}else{let s=this.opts.posix?t.relativePosix():t.relative(),o=this.opts.dotRelative&&!s.startsWith(".."+d(this,nu))?"."+d(this,nu):"";this.matchEmit(s?o+s+n:"."+n)}}async match(t,r,i){let n=await this.matchCheck(t,i);n&&this.matchFinish(n,r)}matchSync(t,r,i){let n=this.matchCheckSync(t,i);n&&this.matchFinish(n,r)}walkCB(t,r,i){this.signal?.aborted&&i(),this.walkCB2(t,r,new T7.Processor(this.opts),i)}walkCB2(t,r,i,n){if(L(this,j0,YP).call(this,t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2(t,r,i,n));return}i.processPatterns(t,r);let s=1,o=()=>{--s===0&&n()};for(let[a,l,c]of i.matches.entries())L(this,sa,iu).call(this,a)||(s++,this.match(a,l,c).then(()=>o()));for(let a of i.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirCached();a.calledReaddir()?this.walkCB3(a,l,i,o):a.readdirCB((c,u)=>this.walkCB3(a,u,i,o),!0)}o()}walkCB3(t,r,i,n){i=i.filterEntries(t,r);let s=1,o=()=>{--s===0&&n()};for(let[a,l,c]of i.matches.entries())L(this,sa,iu).call(this,a)||(s++,this.match(a,l,c).then(()=>o()));for(let[a,l]of i.subwalks.entries())s++,this.walkCB2(a,l,i.child(),o);o()}walkCBSync(t,r,i){this.signal?.aborted&&i(),this.walkCB2Sync(t,r,new T7.Processor(this.opts),i)}walkCB2Sync(t,r,i,n){if(L(this,j0,YP).call(this,t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2Sync(t,r,i,n));return}i.processPatterns(t,r);let s=1,o=()=>{--s===0&&n()};for(let[a,l,c]of i.matches.entries())L(this,sa,iu).call(this,a)||this.matchSync(a,l,c);for(let a of i.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirSync();this.walkCB3Sync(a,l,i,o)}o()}walkCB3Sync(t,r,i,n){i=i.filterEntries(t,r);let s=1,o=()=>{--s===0&&n()};for(let[a,l,c]of i.matches.entries())L(this,sa,iu).call(this,a)||this.matchSync(a,l,c);for(let[a,l]of i.subwalks.entries())s++,this.walkCB2Sync(a,l,i.child(),o);o()}};Hh=new WeakMap,na=new WeakMap,nu=new WeakMap,sa=new WeakSet,iu=function(t){return this.seen.has(t)||!!d(this,na)?.ignored?.(t)},j0=new WeakSet,YP=function(t){return!!d(this,na)?.childrenIgnored?.(t)};Rl.GlobUtil=L0;var KP=class extends L0{constructor(r,i,n){super(r,i,n);C(this,"matches",new Set)}matchEmit(r){this.matches.add(r)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((r,i)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?i(this.signal.reason):r(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}};Rl.GlobWalker=KP;var JP=class extends L0{constructor(r,i,n){super(r,i,n);C(this,"results");this.results=new b2e.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(r){this.results.write(r),this.results.flowing||this.pause()}stream(){let r=this.path;return r.isUnknown()?r.lstat().then(()=>{this.walkCB(r,this.patterns,()=>this.results.end())}):this.walkCB(r,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};Rl.GlobStream=JP});var XP=w(ax=>{"use strict";Object.defineProperty(ax,"__esModule",{value:!0});ax.Glob=void 0;var S2e=ml(),x2e=require("url"),sx=S7(),E2e=HP(),ox=O7(),k2e=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",ZP=class{constructor(t,r){C(this,"absolute");C(this,"cwd");C(this,"root");C(this,"dot");C(this,"dotRelative");C(this,"follow");C(this,"ignore");C(this,"magicalBraces");C(this,"mark");C(this,"matchBase");C(this,"maxDepth");C(this,"nobrace");C(this,"nocase");C(this,"nodir");C(this,"noext");C(this,"noglobstar");C(this,"pattern");C(this,"platform");C(this,"realpath");C(this,"scurry");C(this,"stat");C(this,"signal");C(this,"windowsPathsNoEscape");C(this,"withFileTypes");C(this,"includeChildMatches");C(this,"opts");C(this,"patterns");if(!r)throw new TypeError("glob options required");if(this.withFileTypes=!!r.withFileTypes,this.signal=r.signal,this.follow=!!r.follow,this.dot=!!r.dot,this.dotRelative=!!r.dotRelative,this.nodir=!!r.nodir,this.mark=!!r.mark,r.cwd?(r.cwd instanceof URL||r.cwd.startsWith("file://"))&&(r.cwd=(0,x2e.fileURLToPath)(r.cwd)):this.cwd="",this.cwd=r.cwd||"",this.root=r.root,this.magicalBraces=!!r.magicalBraces,this.nobrace=!!r.nobrace,this.noext=!!r.noext,this.realpath=!!r.realpath,this.absolute=r.absolute,this.includeChildMatches=r.includeChildMatches!==!1,this.noglobstar=!!r.noglobstar,this.matchBase=!!r.matchBase,this.maxDepth=typeof r.maxDepth=="number"?r.maxDepth:1/0,this.stat=!!r.stat,this.ignore=r.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(r.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=t,this.platform=r.platform||k2e,this.opts={...r,platform:this.platform},r.scurry){if(this.scurry=r.scurry,r.nocase!==void 0&&r.nocase!==r.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let l=r.platform==="win32"?sx.PathScurryWin32:r.platform==="darwin"?sx.PathScurryDarwin:r.platform?sx.PathScurryPosix:sx.PathScurry;this.scurry=new l(this.cwd,{nocase:r.nocase,fs:r.fs})}this.nocase=this.scurry.nocase;let i=this.platform==="darwin"||this.platform==="win32",n={...r,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:i,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},s=this.pattern.map(l=>new S2e.Minimatch(l,n)),[o,a]=s.reduce((l,c)=>(l[0].push(...c.set),l[1].push(...c.globParts),l),[[],[]]);this.patterns=o.map((l,c)=>{let u=a[c];if(!u)throw new Error("invalid pattern object");return new E2e.Pattern(l,u,0,this.platform)})}async walk(){return[...await new ox.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new ox.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new ox.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new ox.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};ax.Glob=ZP});var QP=w(lx=>{"use strict";Object.defineProperty(lx,"__esModule",{value:!0});lx.hasMagic=void 0;var R2e=ml(),T2e=(e,t={})=>{Array.isArray(e)||(e=[e]);for(let r of e)if(new R2e.Minimatch(r,t).hasMagic())return!0;return!1};lx.hasMagic=T2e});var I7=w(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.glob=Ne.sync=Ne.iterate=Ne.iterateSync=Ne.stream=Ne.streamSync=Ne.Ignore=Ne.hasMagic=Ne.Glob=Ne.unescape=Ne.escape=void 0;Ne.globStreamSync=q0;Ne.globStream=eI;Ne.globSync=tI;Ne.globIterateSync=M0;Ne.globIterate=rI;var A7=ml(),su=XP(),O2e=QP(),P7=ml();Object.defineProperty(Ne,"escape",{enumerable:!0,get:function(){return P7.escape}});Object.defineProperty(Ne,"unescape",{enumerable:!0,get:function(){return P7.unescape}});var A2e=XP();Object.defineProperty(Ne,"Glob",{enumerable:!0,get:function(){return A2e.Glob}});var C2e=QP();Object.defineProperty(Ne,"hasMagic",{enumerable:!0,get:function(){return C2e.hasMagic}});var P2e=WP();Object.defineProperty(Ne,"Ignore",{enumerable:!0,get:function(){return P2e.Ignore}});function q0(e,t={}){return new su.Glob(e,t).streamSync()}function eI(e,t={}){return new su.Glob(e,t).stream()}function tI(e,t={}){return new su.Glob(e,t).walkSync()}async function C7(e,t={}){return new su.Glob(e,t).walk()}function M0(e,t={}){return new su.Glob(e,t).iterateSync()}function rI(e,t={}){return new su.Glob(e,t).iterate()}Ne.streamSync=q0;Ne.stream=Object.assign(eI,{sync:q0});Ne.iterateSync=M0;Ne.iterate=Object.assign(rI,{sync:M0});Ne.sync=Object.assign(tI,{stream:q0,iterate:M0});Ne.glob=Object.assign(C7,{glob:C7,globSync:tI,sync:Ne.sync,globStream:eI,stream:Ne.stream,globStreamSync:q0,streamSync:Ne.streamSync,globIterate:rI,iterate:Ne.iterate,globIterateSync:M0,iterateSync:Ne.iterateSync,Glob:su.Glob,hasMagic:O2e.hasMagic,escape:A7.escape,unescape:A7.unescape});Ne.glob.glob=Ne.glob});var $7=w((XVe,iI)=>{"use strict";var I2e=/at\s{1}(?:.*\.)?plugin\s{1}.*\n\s*(.*)/,N2e=/(\w*(\.\w*)*)\..*/;iI.exports=function(t){if(t.name.length>0)return t.name;let r=Error.stackTraceLimit;Error.stackTraceLimit=10;try{throw new Error("anonymous function")}catch(i){return Error.stackTraceLimit=r,N7(i.stack)}};function N7(e){let t=e.match(I2e);return t?t[1].split(/[/\\]/).slice(-1)[0].match(N2e)[1]:"anonymous"}iI.exports.extractPluginName=N7});var D7=w((QVe,F7)=>{"use strict";F7.exports=function(t){return t[0]==="@"&&(t=t.slice(1).replace("/","-")),t.replace(/-(.)/g,function(i,n){return n.toUpperCase()})}});var L7=w((eWe,cx)=>{"use strict";var $2e=$7(),F2e=D7(),D2e=0;function nI(e,t={}){let r=!1;if(typeof e.default<"u"&&(e=e.default),typeof e!="function")throw new TypeError(`fastify-plugin expects a function, instead got a '${typeof e}'`);if(typeof t=="string"&&(t={fastify:t}),typeof t!="object"||Array.isArray(t)||t===null)throw new TypeError("The options object should be an object");if(t.fastify!==void 0&&typeof t.fastify!="string")throw new TypeError(`fastify-plugin expects a version string, instead got '${typeof t.fastify}'`);t.name||(r=!0,t.name=$2e(e)+"-auto-"+D2e++),e[Symbol.for("skip-override")]=t.encapsulate!==!0,e[Symbol.for("fastify.display-name")]=t.name,e[Symbol.for("plugin-meta")]=t,e.default||(e.default=e);let i=F2e(t.name);return!r&&!e[i]&&(e[i]=e),e}cx.exports=nI;cx.exports.default=nI;cx.exports.fastifyPlugin=nI});var sI=w((tWe,j7)=>{"use strict";function L2e(e){let t=e.length;return t>21&&e.indexOf("application/javascript")===0||t>14&&e.indexOf("application/json")===0||t>5&&e.indexOf("text/")===0}j7.exports.isUtf8MimeType=L2e});var M7=w((rWe,q7)=>{"use strict";function ux(){this._types=Object.create(null),this._extensions=Object.create(null);for(let e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}ux.prototype.define=function(e,t){for(let r in e){let i=e[r].map(function(n){return n.toLowerCase()});r=r.toLowerCase();for(let n=0;n<i.length;n++){let s=i[n];if(s[0]!=="*"){if(!t&&s in this._types)throw new Error('Attempt to change mapping for "'+s+'" extension from "'+this._types[s]+'" to "'+r+'". Pass `force=true` to allow this, otherwise remove "'+s+'" from the list of extensions for "'+r+'".');this._types[s]=r}}if(t||!this._extensions[r]){let n=i[0];this._extensions[r]=n[0]!=="*"?n:n.substr(1)}}};ux.prototype.getType=function(e){e=String(e);let t=e.replace(/^.*[/\\]/,"").toLowerCase(),r=t.replace(/^.*\./,"").toLowerCase(),i=t.length<e.length;return(r.length<t.length-1||!i)&&this._types[r]||null};ux.prototype.getExtension=function(e){return e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1,e&&this._extensions[e.toLowerCase()]||null};q7.exports=ux});var U7=w((iWe,z7)=>{z7.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}});var H7=w((nWe,B7)=>{B7.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}});var oI=w((sWe,V7)=>{"use strict";var j2e=M7();V7.exports=new j2e(U7(),H7())});var G7=w((oWe,W7)=>{"use strict";var q2e=/["'&<>]/;W7.exports=M2e;function M2e(e){var t=""+e,r=q2e.exec(t);if(!r)return t;var i,n="",s=0,o=0;for(s=r.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}o!==s&&(n+=t.substring(o,s)),o=s+1,n+=i}return o!==s?n+t.substring(o,s):n}});var Y7=w(lI=>{var z2e=/^(-?(?:\d+)?\.?\d+) *(m(?:illiseconds?|s(?:ecs?)?))?(s(?:ec(?:onds?|s)?)?)?(m(?:in(?:utes?|s)?)?)?(h(?:ours?|rs?)?)?(d(?:ays?)?)?(w(?:eeks?|ks?)?)?(y(?:ears?|rs?)?)?$/,fx=1e3,hx=fx*60,dx=hx*60,U0=dx*24,aI=U0*365.25;function U2e(e){var t,r=e.toLowerCase().match(z2e);if(r!=null&&(t=parseFloat(r[1])))return r[3]!=null?t*fx:r[4]!=null?t*hx:r[5]!=null?t*dx:r[6]!=null?t*U0:r[7]!=null?t*U0*7:r[8]!=null?t*aI:t}function z0(e,t,r,i){var n=(e|0)===e?e:~~(e+.5);return t+n+(i?" "+r+(n!=1?"s":""):r[0])}function B2e(e,t){var r=e<0?"-":"",i=e<0?-e:e;return i<fx?e+(t?" ms":"ms"):i<hx?z0(i/fx,r,"second",t):i<dx?z0(i/hx,r,"minute",t):i<U0?z0(i/dx,r,"hour",t):i<aI?z0(i/U0,r,"day",t):z0(i/aI,r,"year",t)}lI.format=B2e;lI.parse=U2e});var J7=w(K7=>{"use strict";function H2e(e){let t=e.getHeaderNames();for(let r=0;r<t.length;r++)e.removeHeader(t[r])}K7.clearHeaders=H2e});var X7=w((cWe,Z7)=>{"use strict";function V2e(e){if(e[0]!=="/"||e[1]!=="/")return e;for(let t=2,r=e.length;t<r;++t)if(e[t]!=="/")return e.slice(t-1)}Z7.exports.collapseLeadingSlashes=V2e});var eY=w((uWe,Q7)=>{"use strict";function W2e(e){for(let t=0,r=e.length;t<r;++t)if(e[t].length!==1&&e[t][0]===".")return!0;return!1}Q7.exports.containsDotFile=W2e});var rY=w(tY=>{"use strict";function G2e(e,t,r){return e+" "+(r?r.start+"-"+r.end:"*")+"/"+t}tY.contentRange=G2e});var nY=w(iY=>{"use strict";function Y2e(e,t){let r=`<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>`+e+`</title>
</head>
<body>
<pre>`+t+`</pre>
</body>
</html>
`;return[r,Buffer.byteLength(r)]}iY.createHtmlDocument=Y2e});var cY=w((dWe,lY)=>{var K2e=require("path").relative;lY.exports=eNe;var J2e=process.cwd();function oY(e,t){for(var r=e.split(/[ ,]+/),i=String(t).toLowerCase(),n=0;n<r.length;n++){var s=r[n];if(s&&(s==="*"||s.toLowerCase()===i))return!0}return!1}function Z2e(e,t,r){var i=Object.getOwnPropertyDescriptor(e,t),n=i.value;return i.get=function(){return n},i.writable&&(i.set=function(o){return n=o}),delete i.value,delete i.writable,Object.defineProperty(e,t,i),i}function X2e(e){for(var t="",r=0;r<e;r++)t+=", arg"+r;return t.substr(2)}function Q2e(e){var t=this.name+": "+this.namespace;this.message&&(t+=" deprecated "+this.message);for(var r=0;r<e.length;r++)t+=`
    at `+e[r].toString();return t}function eNe(e){if(!e)throw new TypeError("argument namespace is required");var t=mx(),r=Vh(t[1]),i=r[0];function n(s){px.call(n,s)}return n._file=i,n._ignored=rNe(e),n._namespace=e,n._traced=iNe(e),n._warned=Object.create(null),n.function=aNe,n.property=lNe,n}function tNe(e,t){var r=typeof e.listenerCount!="function"?e.listeners(t).length:e.listenerCount(t);return r>0}function rNe(e){if(process.noDeprecation)return!0;var t=process.env.NO_DEPRECATION||"";return oY(t,e)}function iNe(e){if(process.traceDeprecation)return!0;var t=process.env.TRACE_DEPRECATION||"";return oY(t,e)}function px(e,t){var r=tNe(process,"deprecation");if(!(!r&&this._ignored)){var i,n,s,o,a=0,l=!1,c=mx(),u=this._file;for(t?(o=t,s=Vh(c[1]),s.name=o.name,u=s[0]):(a=2,o=Vh(c[a]),s=o);a<c.length;a++)if(i=Vh(c[a]),n=i[0],n===u)l=!0;else if(n===this._file)u=this._file;else if(l)break;var f=i?o.join(":")+"__"+i.join(":"):void 0;if(!(f!==void 0&&f in this._warned)){this._warned[f]=!0;var h=e;if(h||(h=s===o||!s.name?sY(o):sY(s)),r){var p=aY(this._namespace,h,c.slice(a));process.emit("deprecation",p);return}var m=process.stderr.isTTY?sNe:nNe,g=m.call(this,h,i,c.slice(a));process.stderr.write(g+`
`,"utf8")}}}function Vh(e){var t=e.getFileName()||"<anonymous>",r=e.getLineNumber(),i=e.getColumnNumber();e.isEval()&&(t=e.getEvalOrigin()+", "+t);var n=[t,r,i];return n.callSite=e,n.name=e.getFunctionName(),n}function sY(e){var t=e.callSite,r=e.name;r||(r="<anonymous@"+cI(e)+">");var i=t.getThis(),n=i&&t.getTypeName();return n==="Object"&&(n=void 0),n==="Function"&&(n=i.name||n),n&&t.getMethodName()?n+"."+r:r}function nNe(e,t,r){var i=new Date().toUTCString(),n=i+" "+this._namespace+" deprecated "+e;if(this._traced){for(var s=0;s<r.length;s++)n+=`
    at `+r[s].toString();return n}return t&&(n+=" at "+cI(t)),n}function sNe(e,t,r){var i="\x1B[36;1m"+this._namespace+"\x1B[22;39m \x1B[33;1mdeprecated\x1B[22;39m \x1B[0m"+e+"\x1B[39m";if(this._traced){for(var n=0;n<r.length;n++)i+=`
    \x1B[36mat `+r[n].toString()+"\x1B[39m";return i}return t&&(i+=" \x1B[36m"+cI(t)+"\x1B[39m"),i}function cI(e){return K2e(J2e,e[0])+":"+e[1]+":"+e[2]}function mx(){var e=Error.stackTraceLimit,t={},r=Error.prepareStackTrace;Error.prepareStackTrace=oNe,Error.stackTraceLimit=Math.max(10,e),Error.captureStackTrace(t);var i=t.stack.slice(1);return Error.prepareStackTrace=r,Error.stackTraceLimit=e,i}function oNe(e,t){return t}function aNe(e,t){if(typeof e!="function")throw new TypeError("argument fn must be a function");var r=X2e(e.length),i=mx(),n=Vh(i[1]);n.name=e.name;var s=new Function("fn","log","deprecate","message","site",`"use strict"
return function (`+r+`) {log.call(deprecate, message, site)
return fn.apply(this, arguments)
}`)(e,px,this,t,n);return s}function lNe(e,t,r){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("argument obj must be object");var i=Object.getOwnPropertyDescriptor(e,t);if(!i)throw new TypeError("must call property on owner object");if(!i.configurable)throw new TypeError("property must be configurable");var n=this,s=mx(),o=Vh(s[1]);o.name=t,"value"in i&&(i=Z2e(e,t,r));var a=i.get,l=i.set;typeof a=="function"&&(i.get=function(){return px.call(n,r,o),a.apply(this,arguments)}),typeof l=="function"&&(i.set=function(){return px.call(n,r,o),l.apply(this,arguments)}),Object.defineProperty(e,t,i)}function aY(e,t,r){var i=new Error,n;return Object.defineProperty(i,"constructor",{value:aY}),Object.defineProperty(i,"message",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(i,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(i,"namespace",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(i,"stack",{configurable:!0,enumerable:!1,get:function(){return n!==void 0?n:n=Q2e.call(this,r)},set:function(o){n=o}}),i}});var fY=w((pWe,uY)=>{"use strict";uY.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?cNe:uNe);function cNe(e,t){return e.__proto__=t,e}function uNe(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=t[r]);return e}});var hY=w((mWe,fNe)=>{fNe.exports={"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}});var mY=w((gWe,pY)=>{"use strict";var uI=hY();pY.exports=ps;ps.message=uI;ps.code=hNe(uI);ps.codes=dNe(uI);ps.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0};ps.empty={204:!0,205:!0,304:!0};ps.retry={502:!0,503:!0,504:!0};function hNe(e){var t={};return Object.keys(e).forEach(function(i){var n=e[i],s=Number(i);t[n.toLowerCase()]=s}),t}function dNe(e){return Object.keys(e).map(function(r){return Number(r)})}function pNe(e){var t=e.toLowerCase();if(!Object.prototype.hasOwnProperty.call(ps.code,t))throw new Error('invalid status message: "'+e+'"');return ps.code[t]}function dY(e){if(!Object.prototype.hasOwnProperty.call(ps.message,e))throw new Error("invalid status code: "+e);return ps.message[e]}function ps(e){if(typeof e=="number")return dY(e);if(typeof e!="string")throw new TypeError("code must be a number or string");var t=parseInt(e,10);return isNaN(t)?pNe(e):dY(t)}});var gY=w((yWe,fI)=>{typeof Object.create=="function"?fI.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:fI.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}});var ou=w((vWe,dI)=>{try{if(hI=require("util"),typeof hI.inherits!="function")throw"";dI.exports=hI.inherits}catch{dI.exports=gY()}var hI});var vY=w((_We,yY)=>{"use strict";yY.exports=mNe;function mNe(e){return e.split(" ").map(function(t){return t.slice(0,1).toUpperCase()+t.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}});var xY=w((bWe,au)=>{"use strict";var gNe=cY()("http-errors"),_Y=fY(),Wh=mY(),pI=ou(),yNe=vY();au.exports=gx;au.exports.HttpError=vNe();au.exports.isHttpError=bNe(au.exports.HttpError);SNe(au.exports,Wh.codes,au.exports.HttpError);function bY(e){return+(String(e).charAt(0)+"00")}function gx(){for(var e,t,r=500,i={},n=0;n<arguments.length;n++){var s=arguments[n],o=typeof s;if(o==="object"&&s instanceof Error)e=s,r=e.status||e.statusCode||r;else if(o==="number"&&n===0)r=s;else if(o==="string")t=s;else if(o==="object")i=s;else throw new TypeError("argument #"+(n+1)+" unsupported type "+o)}typeof r=="number"&&(r<400||r>=600)&&gNe("non-error status code; use only 4xx or 5xx status codes"),(typeof r!="number"||!Wh.message[r]&&(r<400||r>=600))&&(r=500);var a=gx[r]||gx[bY(r)];e||(e=a?new a(t):new Error(t||Wh.message[r]),Error.captureStackTrace(e,gx)),(!a||!(e instanceof a)||e.status!==r)&&(e.expose=r<500,e.status=e.statusCode=r);for(var l in i)l!=="status"&&l!=="statusCode"&&(e[l]=i[l]);return e}function vNe(){function e(){throw new TypeError("cannot construct abstract class")}return pI(e,Error),e}function _Ne(e,t,r){var i=SY(t);function n(s){var o=s??Wh.message[r],a=new Error(o);return Error.captureStackTrace(a,n),_Y(a,n.prototype),Object.defineProperty(a,"message",{enumerable:!0,configurable:!0,value:o,writable:!0}),Object.defineProperty(a,"name",{enumerable:!1,configurable:!0,value:i,writable:!0}),a}return pI(n,e),wY(n,i),n.prototype.status=r,n.prototype.statusCode=r,n.prototype.expose=!0,n}function bNe(e){return function(r){return!r||typeof r!="object"?!1:r instanceof e?!0:r instanceof Error&&typeof r.expose=="boolean"&&typeof r.statusCode=="number"&&r.status===r.statusCode}}function wNe(e,t,r){var i=SY(t);function n(s){var o=s??Wh.message[r],a=new Error(o);return Error.captureStackTrace(a,n),_Y(a,n.prototype),Object.defineProperty(a,"message",{enumerable:!0,configurable:!0,value:o,writable:!0}),Object.defineProperty(a,"name",{enumerable:!1,configurable:!0,value:i,writable:!0}),a}return pI(n,e),wY(n,i),n.prototype.status=r,n.prototype.statusCode=r,n.prototype.expose=!1,n}function wY(e,t){var r=Object.getOwnPropertyDescriptor(e,"name");r&&r.configurable&&(r.value=t,Object.defineProperty(e,"name",r))}function SNe(e,t,r){t.forEach(function(n){var s,o=yNe(Wh.message[n]);switch(bY(n)){case 400:s=_Ne(r,o,n);break;case 500:s=wNe(r,o,n);break}s&&(e[n]=s,e[o]=s)})}function SY(e){return e.substr(-5)!=="Error"?e+"Error":e}});var kY=w((wWe,EY)=>{"use strict";var mI=xY();function xNe(e,t){return t?t instanceof Error?mI(e,t,{expose:!1}):mI(e,t):mI(e)}EY.exports.createHttpError=xNe});var TY=w((SWe,RY)=>{"use strict";function ENe(e,t){if(typeof e=="string")return[e];if(e===!1)return[];if(Array.isArray(e)){for(let r=0,i=e.length;r<i;++r)if(typeof e[r]!="string")throw new TypeError(t+" must be array of strings or false");return e}else throw new TypeError(t+" must be array of strings or false")}RY.exports.normalizeList=ENe});var AY=w((xWe,OY)=>{"use strict";function kNe(e,t){let r=t.slice(t.indexOf("=")+1),i=[],n=r.length,s=0,o=0,a=0,l,c,u=r.indexOf(","),f=r.indexOf("-"),h=-1;for(;u===-1&&(u=n),l=parseInt(r.slice(h+1,f),10),c=parseInt(r.slice(f+1,u),10),l!==l?(l=e-c,c=e-1):(c!==c||c>e-1)&&(c=e-1),l===l&&c===c&&l>-1&&l<=c&&i.push({start:l,end:c,index:a++}),u!==n;)h=u++,f=r.indexOf("-",u),u=r.indexOf(",",u);if(a<2)return i;for(i.sort(TNe),o=a,a=0,s=1;s<o;){let p=i[s++],m=i[a];p.start>m.end+1?i[++a]=p:p.end>m.end&&(m.end=p.end,m.index>p.index&&(m.index=p.index))}return i.length=a+1,i.sort(RNe),i}function RNe(e,t){return e.index-t.index}function TNe(e,t){return e.start-t.start}OY.exports.parseBytesRange=kNe});var IY=w((EWe,PY)=>{"use strict";var CY=String.prototype.slice;function ONe(e,t){let r=0,i=0,n;for(let s=0,o=e.length;s<o;s++)switch(e.charCodeAt(s)){case 32:i===r&&(i=r=s+1);break;case 44:if(i!==r&&(n=t(CY.call(e,i,r)),n!==void 0))return n;i=r=s+1;break;default:r=s+1;break}if(i!==r)return t(CY.call(e,i,r))}PY.exports.parseTokenList=ONe});var $Y=w((kWe,NY)=>{"use strict";function ANe(e,t){let r=Object.keys(t);for(let i=0;i<r.length;i++){let n=r[i];e.setHeader(n,t[n])}}NY.exports.setHeaders=ANe});var HY=w((RWe,BY)=>{"use strict";var vx=require("fs"),B0=require("path"),MY=require("stream"),CNe=require("util"),Et=require("util").debuglog("send"),PNe=iA(),FY=G7(),DY=oI(),INe=Y7(),{clearHeaders:NNe}=J7(),{collapseLeadingSlashes:$Ne}=X7(),{containsDotFile:FNe}=eY(),{contentRange:LY}=rY(),{createHtmlDocument:lu}=nY(),{createHttpError:DNe}=kY(),{isUtf8MimeType:LNe}=sI(),{normalizeList:jY}=TY(),{parseBytesRange:jNe}=AY(),{parseTokenList:zY}=IY(),{setHeaders:qNe}=$Y(),MNe=B0.extname,UY=B0.join,gI=B0.normalize,yI=B0.resolve,yx=B0.sep,zNe=/^ *bytes=/,UNe=60*60*24*365*1e3,qY=/(?:^|[\\/])\.\.(?:[\\/]|$)/,BNe={400:lu("Error","Bad Request"),403:lu("Error","Forbidden"),404:lu("Error","Not Found"),412:lu("Error","Precondition Failed"),416:lu("Error","Range Not Satisfiable"),500:lu("Error","Internal Server Error")},HNe=["allow","ignore","deny"];function vt(e,t,r){if(!new.target)return new vt(e,t,r);MY.call(this);let i=r||{};if(this.options=i,this.path=t,this.req=e,this._acceptRanges=i.acceptRanges!==void 0?!!i.acceptRanges:!0,this._cacheControl=i.cacheControl!==void 0?!!i.cacheControl:!0,this._etag=i.etag!==void 0?!!i.etag:!0,this._dotfiles=i.dotfiles!==void 0?HNe.indexOf(i.dotfiles):1,this._dotfiles===-1)throw new TypeError('dotfiles option must be "allow", "deny", or "ignore"');this._extensions=i.extensions!==void 0?jY(i.extensions,"extensions option"):[],this._immutable=i.immutable!==void 0?!!i.immutable:!1,this._index=i.index!==void 0?jY(i.index,"index option"):["index.html"],this._lastModified=i.lastModified!==void 0?!!i.lastModified:!0,this._maxage=i.maxAge||i.maxage,this._maxage=typeof this._maxage=="string"?INe.parse(this._maxage):Number(this._maxage),this._maxage=this._maxage===this._maxage?Math.min(Math.max(0,this._maxage),UNe):0,this._root=i.root?yI(i.root):null}CNe.inherits(vt,MY);vt.prototype.root=function(t){return this._root=yI(String(t)),Et("root %s",this._root),this};vt.prototype.error=function(t,r){if(this.listenerCount("error")>0)return this.emit("error",DNe(t,r));let i=this.res;NNe(i),r&&r.headers&&qNe(i,r.headers);let n=BNe[t];i.statusCode=t,i.setHeader("Content-Type","text/html; charset=UTF-8"),i.setHeader("Content-Length",n[1]),i.setHeader("Content-Security-Policy","default-src 'none'"),i.setHeader("X-Content-Type-Options","nosniff"),i.end(n[0])};vt.prototype.hasTrailingSlash=function(){return this.path[this.path.length-1]==="/"};vt.prototype.isConditionalGET=function(){return this.req.headers["if-match"]||this.req.headers["if-unmodified-since"]||this.req.headers["if-none-match"]||this.req.headers["if-modified-since"]};vt.prototype.isNotModifiedFailure=function(){let t=this.req,r=this.res;if("cache-control"in t.headers&&t.headers["cache-control"].indexOf("no-cache")!==-1)return!1;if("if-none-match"in t.headers){let i=t.headers["if-none-match"];if(i==="*")return!0;let n=r.getHeader("etag");if(typeof n!="string")return!1;let s=n.length;return!!zY(i,function(a){let l=a.length;if(s===l&&a===n||s>l&&"W/"+a===n)return!0})}if("if-modified-since"in t.headers){let i=t.headers["if-modified-since"],n=r.getHeader("last-modified");if(!n||Date.parse(n)<=Date.parse(i))return!0}return!1};vt.prototype.isPreconditionFailure=function(){let t=this.req,r=this.res,i=t.headers["if-match"];if(i){let n=r.getHeader("ETag");if(i!=="*"&&(zY(i,function(o){if(o===n||"W/"+o===n)return!0})||!1)!==!0)return!0}if("if-unmodified-since"in t.headers){let n=t.headers["if-unmodified-since"],s=Date.parse(n);if(s===s){let o=Date.parse(r.getHeader("Last-Modified"));if(o!==o||o>s)return!0}}return!1};vt.prototype.removeContentHeaderFields=function(){let t=this.res;t.removeHeader("Content-Encoding"),t.removeHeader("Content-Language"),t.removeHeader("Content-Length"),t.removeHeader("Content-Range"),t.removeHeader("Content-Type")};vt.prototype.notModified=function(){let t=this.res;Et("not modified"),this.removeContentHeaderFields(),t.statusCode=304,t.end()};vt.prototype.headersAlreadySent=function(){let t=new Error("Can't set headers after they are sent.");Et("headers already sent"),this.error(500,t)};vt.prototype.isCachable=function(){let t=this.res.statusCode;return t>=200&&t<300||t===304};vt.prototype.onStatError=function(t){switch(t.code){case"ENAMETOOLONG":case"ENOTDIR":case"ENOENT":this.error(404,t);break;default:this.error(500,t);break}};vt.prototype.isRangeFresh=function(){if(!("if-range"in this.req.headers))return!0;let t=this.req.headers["if-range"];if(t.indexOf('"')!==-1){let n=this.res.getHeader("ETag");return n&&t.indexOf(n)!==-1||!1}let r=Date.parse(t);if(r!==r)return!1;let i=Date.parse(this.res.getHeader("Last-Modified"));return i!==i||i<=r};vt.prototype.redirect=function(t){let r=this.res;if(this.listenerCount("directory")>0){this.emit("directory",r,t);return}if(this.hasTrailingSlash()){this.error(403);return}let i=encodeURI($Ne(this.path+"/")),n=lu("Redirecting",'Redirecting to <a href="'+FY(i)+'">'+FY(i)+"</a>");r.statusCode=301,r.setHeader("Content-Type","text/html; charset=UTF-8"),r.setHeader("Content-Length",n[1]),r.setHeader("Content-Security-Policy","default-src 'none'"),r.setHeader("X-Content-Type-Options","nosniff"),r.setHeader("Location",i),r.end(n[0])};vt.prototype.pipe=function(t){let r=this._root;this.res=t;let i=PNe(this.path);if(i===null)return this.error(400),t;if(~i.indexOf("\0"))return this.error(400),t;let n;if(r!==null){if(i&&(i=gI("."+yx+i)),qY.test(i))return Et('malicious path "%s"',i),this.error(403),t;n=i.split(yx),i=gI(UY(r,i))}else{if(qY.test(i))return Et('malicious path "%s"',i),this.error(403),t;n=gI(i).split(yx),i=yI(i)}if((Et.enabled||this._dotfiles!==0)&&FNe(n))switch(this._dotfiles){case 0:Et('allow dotfile "%s"',i);break;case 2:return Et('deny dotfile "%s"',i),this.error(403),t;case 1:default:return Et('ignore dotfile "%s"',i),this.error(404),t}return this._index.length&&this.hasTrailingSlash()?(this.sendIndex(i),t):(this.sendFile(i),t)};vt.prototype.send=function(t,r){let i=r.size,n=this.options,s={},o=this.res,a=this.req,l=n.start||0;if(o.headersSent){this.headersAlreadySent();return}if(Et('pipe "%s"',t),this.setHeader(t,r),this.type(t),this.isConditionalGET()){if(this.isPreconditionFailure()){this.error(412);return}if(this.isCachable()&&this.isNotModifiedFailure()){this.notModified();return}}if(i=Math.max(0,i-l),n.end!==void 0){let c=n.end-l+1;i>c&&(i=c)}if(this._acceptRanges){let c=a.headers.range;if(c!==void 0&&zNe.test(c))if(this.isRangeFresh()){let u=jNe(i,c);if(u.length===0)return Et("range unsatisfiable"),o.setHeader("Content-Range",LY("bytes",i)),this.error(416,{headers:{"Content-Range":o.getHeader("Content-Range")}});u.length===1&&(Et("range %j",u),o.statusCode=206,o.setHeader("Content-Range",LY("bytes",i,u[0])),l+=u[0].start,i=u[0].end-u[0].start+1)}else Et("range stale")}for(let c in n)s[c]=n[c];if(s.start=l,s.end=Math.max(l,l+i-1),o.setHeader("Content-Length",i),a.method==="HEAD"){o.end();return}this.stream(t,s)};vt.prototype.sendFile=function(t){let r=0,i=this;Et('stat "%s"',t),vx.stat(t,function(o,a){if(o&&o.code==="ENOENT"&&!MNe(t)&&t[t.length-1]!==yx)return n(o);if(o)return i.onStatError(o);if(a.isDirectory())return i.redirect(t);i.emit("file",t,a),i.send(t,a)});function n(s){if(i._extensions.length<=r)return s?i.onStatError(s):i.error(404);let o=t+"."+i._extensions[r++];Et('stat "%s"',o),vx.stat(o,function(a,l){if(a)return n(a);if(l.isDirectory())return n();i.emit("file",o,l),i.send(o,l)})}};vt.prototype.sendIndex=function(t){let r=-1,i=this;function n(s){if(++r>=i._index.length)return s?i.onStatError(s):i.error(404);let o=UY(t,i._index[r]);Et('stat "%s"',o),vx.stat(o,function(a,l){if(a)return n(a);if(l.isDirectory())return n();i.emit("file",o,l),i.send(o,l)})}n()};vt.prototype.stream=function(t,r){let i=this,n=this.res,s=vx.createReadStream(t,r);this.emit("stream",s),s.pipe(n);let o=!1;function a(){o||(o=!0,s.destroy())}n.once("finish",a),s.on("error",function(c){a(),i.onStatError(c)}),s.on("end",function(){i.emit("end")})};vt.prototype.type=function(t){let r=this.res;if(r.getHeader("Content-Type"))return;let i=DY.getType(t)||DY.default_type;if(!i){Et("no content-type");return}Et("content-type %s",i),LNe(i)?r.setHeader("Content-Type",i+"; charset=UTF-8"):r.setHeader("Content-Type",i)};vt.prototype.setHeader=function(t,r){let i=this.res;if(this.emit("headers",i,t,r),this._acceptRanges&&!i.getHeader("Accept-Ranges")&&(Et("accept ranges"),i.setHeader("Accept-Ranges","bytes")),this._cacheControl&&!i.getHeader("Cache-Control")){let n="public, max-age="+Math.floor(this._maxage/1e3);this._immutable&&(n+=", immutable"),Et("cache-control %s",n),i.setHeader("Cache-Control",n)}if(this._lastModified&&!i.getHeader("Last-Modified")){let n=r.mtime.toUTCString();Et("modified %s",n),i.setHeader("Last-Modified",n)}if(this._etag&&!i.getHeader("ETag")){let n='W/"'+r.size.toString(16)+"-"+r.mtime.getTime().toString(16)+'"';Et("etag %s",n),i.setHeader("ETag",n)}};BY.exports=vt});var WY=w((TWe,cu)=>{"use strict";var VNe=sI().isUtf8MimeType,WNe=oI(),VY=HY();function vI(e,t,r){return new VY(e,t,r)}cu.exports=vI;cu.exports.default=vI;cu.exports.send=vI;cu.exports.SendStream=VY;cu.exports.isUtf8MimeType=VNe;cu.exports.mime=WNe});var GY=w((OWe,G0)=>{"use strict";function bI(e){if(!new.target)return new bI(e);let{supportedValues:t=[],cache:r}=e&&typeof e=="object"&&e||{};this.supportedValues=t,this.cache=r}bI.prototype.negotiate=function(e){return typeof e!="string"?null:this.cache?(this.cache.has(e)||this.cache.set(e,W0(e,this.supportedValues)),this.cache.get(e)):W0(e,this.supportedValues)};function W0(e,t){if(!e||!Array.isArray(t)||t.length===0)return null;if(e==="*")return t[0];let r=null,i=1/0,n=0;function s(o,a){if(a===0||n>a)return!1;let l=o==="*"&&t[0]||o,c=t.indexOf(l);return c===-1?!1:c===0&&a===1?(r=l,!0):((n<a||i>c)&&(r=l,i=c,n=a),!1)}return GNe(e,s),r}var H0=0,V0=1,_x=2,_I=3;function GNe(e,t){let r="",i,n=H0;for(let s=0,o=e.length;s<o;++s){let a=e[s];if(!(a===" "||a==="	")){if(a===";"){n===V0&&(n=_x,i="");continue}else if(a===","){if(n===V0){if(t(r,1)){n=_I;break}n=H0,r=""}else if(n===_x){if(t(r,parseFloat(i)||0)){n=_I;break}n=H0,r="",i=""}continue}else if(n===_x){if(a==="q"||a==="=")continue;if(a==="."||a==="1"||a==="0"||a==="2"||a==="3"||a==="4"||a==="5"||a==="6"||a==="7"||a==="8"||a==="9"){i+=a;continue}}else if(n===H0){n=V0,r+=a;continue}if(n===V0){let l=e[s-1];(l===" "||l==="	")&&(r=""),r+=a;continue}if(t(r,parseFloat(i)||0)){n=_I;break}n=H0,r=a,i=""}}n===V0?t(r,1):n===_x&&t(r,parseFloat(i)||0)}G0.exports=W0;G0.exports.default=W0;G0.exports.negotiate=W0;G0.exports.Negotiator=bI});var JY=w((wI,KY)=>{var bx=require("buffer"),oo=bx.Buffer;function YY(e,t){for(var r in e)t[r]=e[r]}oo.from&&oo.alloc&&oo.allocUnsafe&&oo.allocUnsafeSlow?KY.exports=bx:(YY(bx,wI),wI.Buffer=uu);function uu(e,t,r){return oo(e,t,r)}uu.prototype=Object.create(oo.prototype);YY(oo,uu);uu.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return oo(e,t,r)};uu.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var i=oo(e);return t!==void 0?typeof r=="string"?i.fill(t,r):i.fill(t):i.fill(0),i};uu.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return oo(e)};uu.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return bx.SlowBuffer(e)}});var rK=w((AWe,SI)=>{"use strict";SI.exports=n$e;SI.exports.parse=l$e;var ZY=require("path").basename,YNe=JY().Buffer,KNe=/[\x00-\x20"'()*,/:;<=>?@[\\\]{}\x7f]/g,JNe=/%[0-9A-Fa-f]{2}/,ZNe=/%([0-9A-Fa-f]{2})/g,QY=/[^\x20-\x7e\xa0-\xff]/g,XNe=/\\([\u0000-\u007f])/g,QNe=/([\\"])/g,XY=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g,e$e=/^[\x20-\x7e\x80-\xff]+$/,t$e=/^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/,r$e=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/,i$e=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/;function n$e(e,t){var r=t||{},i=r.type||"attachment",n=s$e(e,r.fallback);return o$e(new tK(i,n))}function s$e(e,t){if(e!==void 0){var r={};if(typeof e!="string")throw new TypeError("filename must be a string");if(t===void 0&&(t=!0),typeof t!="string"&&typeof t!="boolean")throw new TypeError("fallback must be a string or boolean");if(typeof t=="string"&&QY.test(t))throw new TypeError("fallback must be ISO-8859-1 string");var i=ZY(e),n=e$e.test(i),s=typeof t!="string"?t&&eK(i):ZY(t),o=typeof s=="string"&&s!==i;return(o||!n||JNe.test(i))&&(r["filename*"]=i),(n||o)&&(r.filename=o?s:i),r}}function o$e(e){var t=e.parameters,r=e.type;if(!r||typeof r!="string"||!t$e.test(r))throw new TypeError("invalid type");var i=String(r).toLowerCase();if(t&&typeof t=="object")for(var n,s=Object.keys(t).sort(),o=0;o<s.length;o++){n=s[o];var a=n.substr(-1)==="*"?h$e(t[n]):f$e(t[n]);i+="; "+n+"="+a}return i}function a$e(e){var t=r$e.exec(e);if(!t)throw new TypeError("invalid extended field value");var r=t[1].toLowerCase(),i=t[2],n,s=i.replace(ZNe,c$e);switch(r){case"iso-8859-1":n=eK(s);break;case"utf-8":n=YNe.from(s,"binary").toString("utf8");break;default:throw new TypeError("unsupported charset in extended field")}return n}function eK(e){return String(e).replace(QY,"?")}function l$e(e){if(!e||typeof e!="string")throw new TypeError("argument string is required");var t=i$e.exec(e);if(!t)throw new TypeError("invalid type format");var r=t[0].length,i=t[1].toLowerCase(),n,s=[],o={},a;for(r=XY.lastIndex=t[0].substr(-1)===";"?r-1:r;t=XY.exec(e);){if(t.index!==r)throw new TypeError("invalid parameter format");if(r+=t[0].length,n=t[1].toLowerCase(),a=t[2],s.indexOf(n)!==-1)throw new TypeError("invalid duplicate parameter");if(s.push(n),n.indexOf("*")+1===n.length){n=n.slice(0,-1),a=a$e(a),o[n]=a;continue}typeof o[n]!="string"&&(a[0]==='"'&&(a=a.substr(1,a.length-2).replace(XNe,"$1")),o[n]=a)}if(r!==-1&&r!==e.length)throw new TypeError("invalid parameter format");return new tK(i,o)}function c$e(e,t){return String.fromCharCode(parseInt(t,16))}function u$e(e){return"%"+String(e).charCodeAt(0).toString(16).toUpperCase()}function f$e(e){var t=String(e);return'"'+t.replace(QNe,"\\$1")+'"'}function h$e(e){var t=String(e),r=encodeURIComponent(t).replace(KNe,u$e);return"UTF-8''"+r}function tK(e,t){this.type=e,this.parameters=t}});var oK=w((CWe,sK)=>{"use strict";var d$e=require("os"),en=require("path"),wx=require("fs/promises"),iK=P1(),nK=Math.max(1,d$e.cpus().length-1),fu={_getExtendedInfo:async function(e,t){let r=e.split(en.sep).length,i=await wx.readdir(e),n=async o=>{let a=en.join(e,o),l;try{l=await wx.stat(a)}catch{return}l.isDirectory()?(t.totalFolderCount++,a.split(en.sep).length===r+1&&t.folderCount++,await fu._getExtendedInfo(a,t)):(t.totalSize+=l.size,t.totalFileCount++,a.split(en.sep).length===r+1&&t.fileCount++,t.lastModified=Math.max(t.lastModified,l.mtimeMs))},s=iK.promise(n,nK);await Promise.all(i.map(o=>s.push(o)))},getExtendedInfo:async function(e){let t={totalSize:0,fileCount:0,totalFileCount:0,folderCount:0,totalFolderCount:0,lastModified:0};return await fu._getExtendedInfo(e,t),t},list:async function(e,t,r){let i={dirs:[],files:[]},n=await wx.readdir(e);if((r==="deny"||r==="ignore")&&(n=n.filter(a=>a.charAt(0)!==".")),n.length<1)return i;let s=async a=>{let l;try{l=await wx.stat(en.join(e,a))}catch{return}let c={name:a,stats:l};l.isDirectory()?(t.extendedFolderInfo&&(c.extendedInfo=await fu.getExtendedInfo(en.join(e,a))),i.dirs.push(c)):i.files.push(c)},o=iK.promise(s,nK);return await Promise.all(n.map(a=>o.push(a))),i.dirs.sort((a,l)=>a.name.localeCompare(l.name)),i.files.sort((a,l)=>a.name.localeCompare(l.name)),i},send:async function({reply:e,dir:t,options:r,route:i,prefix:n,dotfiles:s}){if(e.request.query.format==="html"&&typeof r.render!="function")throw new Error("The `list.render` option must be a function and is required with the URL parameter `format=html`");let o;try{o=await fu.list(t,r,s)}catch{return e.callNotFound()}if((e.request.query.format||r.format)!=="html"){if(r.jsonFormat!=="extended"){let c={dirs:[],files:[]};o.dirs.forEach(u=>c.dirs.push(u.name)),o.files.forEach(u=>c.files.push(u.name)),e.send(c)}else e.send(o);return}let l=r.render(o.dirs.map(c=>fu.htmlInfo(c,i,n,r)),o.files.map(c=>fu.htmlInfo(c,i,n,r)));e.type("text/html").send(l)},htmlInfo:function(e,t,r,i){return i.names?.includes(en.basename(t))&&(t=en.normalize(en.join(t,".."))),{href:encodeURI(en.join(r,t,e.name).replace(/\\/gu,"/")),name:e.name,stats:e.stats,extendedInfo:e.extendedInfo}},handle:function(e,t){return t.names?.includes(en.basename(e))||((t.names?.includes("/")&&e[e.length-1]==="/")??!1)},path:function(e,t){let r=t[t.length-1]==="/"?t+"none":t;return en.dirname(en.join(e,r))},validateOptions:function(e){if(e.list){if(Array.isArray(e.root))return new TypeError("multi-root with list option is not supported");if(e.list.format&&e.list.format!=="json"&&e.list.format!=="html")return new TypeError("The `list.format` option must be json or html");if(e.list.names&&!Array.isArray(e.list.names))return new TypeError("The `list.names` option must be an array");if(e.list.jsonFormat!=null&&e.list.jsonFormat!=="names"&&e.list.jsonFormat!=="extended")return new TypeError("The `list.jsonFormat` option must be name or extended");if(e.list.format==="html"&&typeof e.list.render!="function")return new TypeError("The `list.render` option must be a function and is required with html format")}}};sK.exports=fu});var dK=w((PWe,Sx)=>{"use strict";var{PassThrough:p$e}=require("stream"),Tl=require("path"),{fileURLToPath:aK}=require("url"),{statSync:hK}=require("fs"),{glob:m$e}=I7(),g$e=L7(),K0=WY(),y$e=GY(),v$e=rK(),Y0=oK(),lK=/\/$/u,_$e=/\*/gu,b$e=["br","gzip","deflate"];K0.mime.default_type="application/octet-stream";async function EI(e,t){t.root=w$e(t.root),S$e(e,t.root);let r=t.setHeaders;if(r!==void 0&&typeof r!="function")throw new TypeError("The `setHeaders` option must be a function");let i=Y0.validateOptions(t);if(i)throw i;t.dotfiles===void 0&&(t.dotfiles="allow");let n={root:t.root,acceptRanges:t.acceptRanges,cacheControl:t.cacheControl,dotfiles:t.dotfiles,etag:t.etag,extensions:t.extensions,immutable:t.immutable,index:t.index,lastModified:t.lastModified,maxAge:t.maxAge},s=t.prefix??(t.prefix="/");t.prefixAvoidTrailingSlash||(s=s[s.length-1]==="/"?s:s+"/");let o={constraints:t.constraints,schema:{hide:t.schemaHide!==void 0?t.schemaHide:!0},errorHandler(f,h,p){if(f?.code==="ERR_STREAM_PREMATURE_CLOSE"){p.request.raw.destroy();return}e.errorHandler(f,h,p)}};if(t.decorateReply!==!1&&(e.decorateReply("sendFile",function(f,h,p){let m=typeof h=="object"?h:p,g=typeof h=="string"?h:m&&m.root;return l(this.request,this,f,g||n.root,0,m),this}),e.decorateReply("download",function(f,h,p={}){let{root:m,...g}=typeof h=="object"?h:p;return h=typeof h=="string"?h:f,this.header("content-disposition",v$e(h)),l(this.request,this,f,m,0,g),this})),t.serve!==!1){if(t.wildcard&&typeof t.wildcard!="boolean")throw new Error('"wildcard" option must be a boolean');if(t.wildcard===void 0||t.wildcard===!0)e.route({...o,method:["HEAD","GET"],path:s+"*",handler(f,h){l(f,h,"/"+f.params["*"],n.root)}}),t.redirect===!0&&s!==t.prefix&&e.get(t.prefix,o,(f,h)=>{h.redirect(301,fK(f.raw.url))});else{let f=t.index===void 0?["index.html"]:[].concat(t.index),h=new Map,p=new Set,m=Array.isArray(n.root)?n.root:[n.root];for(let g of m){g=g.split(Tl.win32.sep).join(Tl.posix.sep),!g.endsWith("/")&&(g+="/");let y=await m$e("**/**",{cwd:g,absolute:!1,follow:!0,nodir:!0,dot:t.serveDotFiles});for(let _ of y){_=_.split(Tl.win32.sep).join(Tl.posix.sep);let S=s+_;if(p.has(S))continue;p.add(S),c(o,S,`/${_}`,g);let b=Tl.posix.basename(S);f.includes(b)&&!h.has(b)&&h.set(Tl.posix.dirname(S),g)}}for(let[g,y]of h.entries()){let _=g+(g.endsWith("/")?"":"/"),S="/"+_.replace(s,"");c(o,_,S,y),t.redirect===!0&&c(o,_.replace(lK,""),S.replace(lK,""),y)}}}let a=t.allowedPath;function l(f,h,p,m,g=0,y,_){let S=p,b=Object.assign({},n,y);if(m&&(Array.isArray(m)?b.root=m[g]:b.root=m),a&&!a(p,b.root,f))return h.callNotFound();let v,O=p;if(t.preCompressed&&(_||(_=new Set),v=E$e(f.headers,_),v))if(p.endsWith("/")){if(p=xI(p,b.root,b.index),!p)return h.callNotFound();O=O+p+"."+uK(v)}else O=p+"."+uK(v);let j=K0(f.raw,encodeURI(O),b),R;j.on("file",function(F){R=F});let I=new p$e({flush(F){this.finished=!0,h.raw.statusCode===304&&h.send(""),F()}});I.getHeader=h.getHeader.bind(h),I.setHeader=h.header.bind(h),I.removeHeader=()=>{},I.finished=!1,Object.defineProperty(I,"filename",{get(){return R}}),Object.defineProperty(I,"statusCode",{get(){return h.raw.statusCode},set(F){h.code(F)}}),f.method==="HEAD"?I.on("finish",h.send.bind(h)):I.on("pipe",function(){v&&(h.header("content-type",x$e(p)),h.header("content-encoding",v)),h.send(I)}),r!==void 0&&j.on("headers",r),j.on("directory",function(F,T){if(t.list){Y0.send({reply:h,dir:T,options:t.list,route:p,prefix:s,dotfiles:t.dotfiles}).catch($=>h.send($));return}if(t.redirect===!0)try{h.redirect(301,fK(f.raw.url))}catch($){h.send($)}else{if(!p.endsWith("/")&&xI(p,b.root,b.index))return l(f,h,p+"/",m,void 0,void 0,_);h.callNotFound()}}),j.on("error",function(F){if(F.code==="ENOENT"){if(t.preCompressed&&v&&xI(p,b.root,b.index))return l(f,h,p+"/",m,void 0,void 0,_);if(t.list&&Y0.handle(p,t.list)){Y0.send({reply:h,dir:Y0.path(t.root,p),options:t.list,route:p,prefix:s,dotfiles:t.dotfiles}).catch(T=>h.send(T));return}return Array.isArray(m)&&g<m.length-1?l(f,h,p,m,g+1):t.preCompressed&&!_.has(v)?(_.add(v),l(f,h,S,m,g,void 0,_)):h.callNotFound()}if(F.status===404)return h.callNotFound();h.send(F)}),j.pipe(I)}function c(f,h,p,m){let g=Object.assign({},f,{method:["HEAD","GET"],url:h,handler:u});g.config=g.config||{},g.config.file=p,g.config.rootPath=m,e.route(g)}function u(f,h){let p=f.routeOptions?.config||f.routeConfig;l(f,h,p.file,p.rootPath)}}function w$e(e){if(e===void 0)return e;if(e instanceof URL&&e.protocol==="file:")return aK(e);if(Array.isArray(e)){let t=[];for(let r=0,i=e.length;r<i;++r)e[r]instanceof URL&&e[r].protocol==="file:"?t.push(aK(e[r])):t.push(e[r]);return t}return e}function S$e(e,t){if(t===void 0)throw new Error('"root" option is required');if(Array.isArray(t)){if(!t.length)throw new Error('"root" option array requires one or more paths');if(new Set(t).size!==t.length)throw new Error('"root" option array contains one or more duplicate paths');t.map(r=>cK(e,r));return}if(typeof t=="string")return cK(e,t);throw new Error('"root" option must be a string or array of strings')}function cK(e,t){if(typeof t!="string")throw new Error('"root" option must be a string');if(Tl.isAbsolute(t)===!1)throw new Error('"root" option must be an absolute path');let r;try{r=hK(t)}catch(i){if(i.code==="ENOENT"){e.log.warn(`"root" path "${t}" must exist`);return}throw i}if(r.isDirectory()===!1)throw new Error('"root" option must point to a directory')}function x$e(e){let t=K0.mime.getType(e)||K0.mime.default_type;return K0.isUtf8MimeType(t)?`${t}; charset=UTF-8`:t}function xI(e,t,r=["index.html"]){return Array.isArray(r)?r.find(i=>{let n=Tl.join(t,e,i);try{return!hK(n).isDirectory()}catch{return!1}}):!1}function E$e(e,t){if(!("accept-encoding"in e))return;let r=e["accept-encoding"].toLowerCase().replace(_$e,"gzip");return y$e.negotiate(r,b$e.filter(i=>!t.has(i)))}function uK(e){switch(e){case"br":return"br";case"gzip":return"gz"}}function fK(e){let t=0;for(;t<e.length&&!(e[t]!=="/"&&e[t]!=="\\");++t);e="/"+e.substr(t);try{let r=new URL(e,"http://localhost.com/"),i=r.pathname;return i+(i[i.length-1]!=="/"?"/":"")+(r.search||"")}catch{let r=new Error(`Invalid redirect URL: ${e}`);throw r.statusCode=400,r}}Sx.exports=g$e(EI,{fastify:"4.x",name:"@fastify/static"});Sx.exports.default=EI;Sx.exports.fastifyStatic=EI});var AI=w((KWe,wK)=>{"use strict";var TI=Object.defineProperty,T$e=Object.getOwnPropertyDescriptor,O$e=Object.getOwnPropertyNames,A$e=Object.prototype.hasOwnProperty,C$e=(e,t)=>{for(var r in t)TI(e,r,{get:t[r],enumerable:!0})},P$e=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of O$e(t))!A$e.call(e,n)&&n!==r&&TI(e,n,{get:()=>t[n],enumerable:!(i=T$e(t,n))||i.enumerable});return e},I$e=e=>P$e(TI({},"__esModule",{value:!0}),e),bK={};C$e(bK,{FileInputSuggest:()=>$$e,FolderInputSuggest:()=>N$e,FuzzyInputSuggest:()=>OI,setNodeIcon:()=>L$e});wK.exports=I$e(bK);var RI=require("obsidian"),OI=class extends RI.AbstractInputSuggest{constructor(e,t,r){super(e,t.inputEl),this.items=r}getSuggestions(e){let t=(0,RI.prepareSimpleSearch)(e),r=[];for(let i of this.items){let n=t(this.getItemText(i));n&&r.push({item:i,match:n})}return r}renderSuggestion(e,t){t.addClass("mod-complex");let r=t.createDiv({cls:"suggestion-content"});if(!e?.item){r.setText("No match found"),r.parentElement?.addClass("is-selected");return}let i=r.createDiv("suggestion-title");this.renderTitle(i,e);let n=r.createDiv("suggestion-note");this.renderNote(n,e)}renderMatches(e,t,r,i){(0,RI.renderMatches)(e,t,r,i)}},vK=require("obsidian"),N$e=class extends OI{getItemText(e){return e.path}renderNote(e,t){let{item:r,match:i}=t;(0,vK.renderMatches)(e,r.path,i.matches)}renderTitle(e,t){let{item:r,match:i}=t;(0,vK.renderMatches)(e,r.name,i.matches,r.path.length-r.name.length)}},_K=require("obsidian"),$$e=class extends OI{getItemText(e){return e.path}renderNote(e,t){let{item:r,match:i}=t;(0,_K.renderMatches)(e,r.path,i.matches)}renderTitle(e,t){let{item:r,match:i}=t;(0,_K.renderMatches)(e,r.name,i.matches,r.path.length-r.name.length)}},F$e=require("obsidian"),D$e={"has-node-icon":"helpers_has-node-icon","x-small":"helpers_x-small",small:"helpers_small",medium:"helpers_medium",large:"helpers_large","x-large":"helpers_x-large"};function L$e(e,t){e.addClass(D$e["has-node-icon"]),(0,F$e.setIcon)(e,t)}});var ny=w((hGe,VI)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?VI.exports={nextTick:lLe}:VI.exports=process;function lLe(e,t,r,i){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,s,o;switch(n){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,r)});case 4:return process.nextTick(function(){e.call(null,t,r,i)});default:for(s=new Array(n-1),o=0;o<s.length;)s[o++]=arguments[o];return process.nextTick(function(){e.apply(null,s)})}}});var pJ=w((dGe,dJ)=>{var cLe={}.toString;dJ.exports=Array.isArray||function(e){return cLe.call(e)=="[object Array]"}});var WI=w((pGe,mJ)=>{mJ.exports=require("stream")});var Fx=w((GI,yJ)=>{var $x=require("buffer"),aa=$x.Buffer;function gJ(e,t){for(var r in e)t[r]=e[r]}aa.from&&aa.alloc&&aa.allocUnsafe&&aa.allocUnsafeSlow?yJ.exports=$x:(gJ($x,GI),GI.Buffer=Xh);function Xh(e,t,r){return aa(e,t,r)}gJ(aa,Xh);Xh.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return aa(e,t,r)};Xh.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var i=aa(e);return t!==void 0?typeof r=="string"?i.fill(t,r):i.fill(t):i.fill(0),i};Xh.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return aa(e)};Xh.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return $x.SlowBuffer(e)}});var Qh=w(Xr=>{function uLe(e){return Array.isArray?Array.isArray(e):Dx(e)==="[object Array]"}Xr.isArray=uLe;function fLe(e){return typeof e=="boolean"}Xr.isBoolean=fLe;function hLe(e){return e===null}Xr.isNull=hLe;function dLe(e){return e==null}Xr.isNullOrUndefined=dLe;function pLe(e){return typeof e=="number"}Xr.isNumber=pLe;function mLe(e){return typeof e=="string"}Xr.isString=mLe;function gLe(e){return typeof e=="symbol"}Xr.isSymbol=gLe;function yLe(e){return e===void 0}Xr.isUndefined=yLe;function vLe(e){return Dx(e)==="[object RegExp]"}Xr.isRegExp=vLe;function _Le(e){return typeof e=="object"&&e!==null}Xr.isObject=_Le;function bLe(e){return Dx(e)==="[object Date]"}Xr.isDate=bLe;function wLe(e){return Dx(e)==="[object Error]"||e instanceof Error}Xr.isError=wLe;function SLe(e){return typeof e=="function"}Xr.isFunction=SLe;function xLe(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}Xr.isPrimitive=xLe;Xr.isBuffer=require("buffer").Buffer.isBuffer;function Dx(e){return Object.prototype.toString.call(e)}});var _J=w((gGe,YI)=>{"use strict";function ELe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var vJ=Fx().Buffer,sy=require("util");function kLe(e,t,r){e.copy(t,r)}YI.exports=function(){function e(){ELe(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length},e.prototype.unshift=function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n},e.prototype.concat=function(r){if(this.length===0)return vJ.alloc(0);for(var i=vJ.allocUnsafe(r>>>0),n=this.head,s=0;n;)kLe(n.data,i,s),s+=n.data.length,n=n.next;return i},e}();sy&&sy.inspect&&sy.inspect.custom&&(YI.exports.prototype[sy.inspect.custom]=function(){var e=sy.inspect({length:this.length});return this.constructor.name+" "+e})});var KI=w((yGe,bJ)=>{"use strict";var Lx=ny();function RLe(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Lx.nextTick(jx,this,e)):Lx.nextTick(jx,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(s){!t&&s?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,Lx.nextTick(jx,r,s)):Lx.nextTick(jx,r,s):t&&t(s)}),this)}function TLe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function jx(e,t){e.emit("error",t)}bJ.exports={destroy:RLe,undestroy:TLe}});var SJ=w((vGe,wJ)=>{wJ.exports=require("util").deprecate});var ZI=w((_Ge,CJ)=>{"use strict";var pu=ny();CJ.exports=zt;function EJ(e){var t=this;this.next=null,this.entry=null,this.finish=function(){VLe(t,e)}}var OLe=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:pu.nextTick,ed;zt.WritableState=ay;var kJ=Object.create(Qh());kJ.inherits=ou();var ALe={deprecate:SJ()},RJ=WI(),Mx=Fx().Buffer,CLe=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function PLe(e){return Mx.from(e)}function ILe(e){return Mx.isBuffer(e)||e instanceof CLe}var TJ=KI();kJ.inherits(zt,RJ);function NLe(){}function ay(e,t){ed=ed||mu(),e=e||{};var r=t instanceof ed;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,n=e.writableHighWaterMark,s=this.objectMode?16:16*1024;i||i===0?this.highWaterMark=i:r&&(n||n===0)?this.highWaterMark=n:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){MLe(t,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new EJ(this)}ay.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(ay.prototype,"buffer",{get:ALe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var qx;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(qx=Function.prototype[Symbol.hasInstance],Object.defineProperty(zt,Symbol.hasInstance,{value:function(e){return qx.call(this,e)?!0:this!==zt?!1:e&&e._writableState instanceof ay}})):qx=function(e){return e instanceof this};function zt(e){if(ed=ed||mu(),!qx.call(zt,this)&&!(this instanceof ed))return new zt(e);this._writableState=new ay(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),RJ.call(this)}zt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function $Le(e,t){var r=new Error("write after end");e.emit("error",r),pu.nextTick(t,r)}function FLe(e,t,r,i){var n=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),pu.nextTick(i,s),n=!1),n}zt.prototype.write=function(e,t,r){var i=this._writableState,n=!1,s=!i.objectMode&&ILe(e);return s&&!Mx.isBuffer(e)&&(e=PLe(e)),typeof t=="function"&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),typeof r!="function"&&(r=NLe),i.ended?$Le(this,r):(s||FLe(this,i,e,r))&&(i.pendingcb++,n=LLe(this,i,s,e,t,r)),n};zt.prototype.cork=function(){var e=this._writableState;e.corked++};zt.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&OJ(this,e))};zt.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function DLe(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Mx.from(t,r)),t}Object.defineProperty(zt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function LLe(e,t,r,i,n,s){if(!r){var o=DLe(t,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=t.objectMode?1:i.length;t.length+=a;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else JI(e,t,!1,a,i,n,s);return l}function JI(e,t,r,i,n,s,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(n,t.onwrite):e._write(n,s,t.onwrite),t.sync=!1}function jLe(e,t,r,i,n){--t.pendingcb,r?(pu.nextTick(n,i),pu.nextTick(oy,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(n(i),e._writableState.errorEmitted=!0,e.emit("error",i),oy(e,t))}function qLe(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function MLe(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if(qLe(r),t)jLe(e,r,i,t,n);else{var s=AJ(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&OJ(e,r),i?OLe(xJ,e,r,s,n):xJ(e,r,s,n)}}function xJ(e,t,r,i){r||zLe(e,t),t.pendingcb--,i(),oy(e,t)}function zLe(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function OJ(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)n[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;n.allBuffers=a,JI(e,t,!0,t.length,n,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new EJ(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,u=r.callback,f=t.objectMode?1:l.length;if(JI(e,t,!1,f,l,c,u),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}zt.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};zt.prototype._writev=null;zt.prototype.end=function(e,t,r){var i=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||HLe(this,i,r)};function AJ(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function ULe(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),oy(e,t)})}function BLe(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,pu.nextTick(ULe,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function oy(e,t){var r=AJ(t);return r&&(BLe(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function HLe(e,t,r){t.ending=!0,oy(e,t),r&&(t.finished?pu.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function VLe(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(r),i=i.next}t.corkedRequestsFree.next=e}Object.defineProperty(zt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});zt.prototype.destroy=TJ.destroy;zt.prototype._undestroy=TJ.undestroy;zt.prototype._destroy=function(e,t){this.end(),t(e)}});var mu=w((bGe,$J)=>{"use strict";var PJ=ny(),WLe=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};$J.exports=la;var IJ=Object.create(Qh());IJ.inherits=ou();var NJ=e2(),QI=ZI();IJ.inherits(la,NJ);for(XI=WLe(QI.prototype),zx=0;zx<XI.length;zx++)Ux=XI[zx],la.prototype[Ux]||(la.prototype[Ux]=QI.prototype[Ux]);var XI,Ux,zx;function la(e){if(!(this instanceof la))return new la(e);NJ.call(this,e),QI.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",GLe)}Object.defineProperty(la.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function GLe(){this.allowHalfOpen||this._writableState.ended||PJ.nextTick(YLe,this)}function YLe(e){e.end()}Object.defineProperty(la.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});la.prototype._destroy=function(e,t){this.push(null),this.end(),PJ.nextTick(t,e)}});var e2=w((SGe,WJ)=>{"use strict";var rd=ny();WJ.exports=ft;var KLe=pJ(),ly;ft.ReadableState=zJ;var wGe=require("events").EventEmitter,jJ=function(e,t){return e.listeners(t).length},s2=WI(),cy=Fx().Buffer,JLe=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ZLe(e){return cy.from(e)}function XLe(e){return cy.isBuffer(e)||e instanceof JLe}var qJ=Object.create(Qh());qJ.inherits=ou();var t2=require("util"),Be=void 0;t2&&t2.debuglog?Be=t2.debuglog("stream"):Be=function(){};var QLe=_J(),MJ=KI(),td;qJ.inherits(ft,s2);var r2=["error","close","destroy","pause","resume"];function eje(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):KLe(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function zJ(e,t){ly=ly||mu(),e=e||{};var r=t instanceof ly;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,n=e.readableHighWaterMark,s=this.objectMode?16:16*1024;i||i===0?this.highWaterMark=i:r&&(n||n===0)?this.highWaterMark=n:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new QLe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(td||(td=require("string_decoder/").StringDecoder),this.decoder=new td(e.encoding),this.encoding=e.encoding)}function ft(e){if(ly=ly||mu(),!(this instanceof ft))return new ft(e);this._readableState=new zJ(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),s2.call(this)}Object.defineProperty(ft.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});ft.prototype.destroy=MJ.destroy;ft.prototype._undestroy=MJ.undestroy;ft.prototype._destroy=function(e,t){this.push(null),t(e)};ft.prototype.push=function(e,t){var r=this._readableState,i;return r.objectMode?i=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=cy.from(e,t),t=""),i=!0),UJ(this,e,t,!1,i)};ft.prototype.unshift=function(e){return UJ(this,e,null,!0,!1)};function UJ(e,t,r,i,n){var s=e._readableState;if(t===null)s.reading=!1,nje(e,s);else{var o;n||(o=tje(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?(typeof t!="string"&&!s.objectMode&&Object.getPrototypeOf(t)!==cy.prototype&&(t=ZLe(t)),i?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):i2(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||t.length!==0?i2(e,s,t,!1):BJ(e,s)):i2(e,s,t,!1))):i||(s.reading=!1)}return rje(s)}function i2(e,t,r,i){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Bx(e)),BJ(e,t)}function tje(e,t){var r;return!XLe(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function rje(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}ft.prototype.isPaused=function(){return this._readableState.flowing===!1};ft.prototype.setEncoding=function(e){return td||(td=require("string_decoder/").StringDecoder),this._readableState.decoder=new td(e),this._readableState.encoding=e,this};var FJ=8388608;function ije(e){return e>=FJ?e=FJ:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function DJ(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=ije(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}ft.prototype.read=function(e){Be("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Be("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?n2(this):Bx(this),null;if(e=DJ(e,t),e===0&&t.ended)return t.length===0&&n2(this),null;var i=t.needReadable;Be("need readable",i),(t.length===0||t.length-e<t.highWaterMark)&&(i=!0,Be("length less than watermark",i)),t.ended||t.reading?(i=!1,Be("reading or ended",i)):i&&(Be("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=DJ(r,t)));var n;return e>0?n=HJ(e,t):n=null,n===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&n2(this)),n!==null&&this.emit("data",n),n};function nje(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,Bx(e)}}function Bx(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Be("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?rd.nextTick(LJ,e):LJ(e))}function LJ(e){Be("emit readable"),e.emit("readable"),o2(e)}function BJ(e,t){t.readingMore||(t.readingMore=!0,rd.nextTick(sje,e,t))}function sje(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Be("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}ft.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};ft.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e);break}i.pipesCount+=1,Be("pipe count=%d opts=%j",i.pipesCount,t);var n=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,s=n?a:y;i.endEmitted?rd.nextTick(s):r.once("end",s),e.on("unpipe",o);function o(_,S){Be("onunpipe"),_===r&&S&&S.hasUnpiped===!1&&(S.hasUnpiped=!0,u())}function a(){Be("onend"),e.end()}var l=oje(r);e.on("drain",l);var c=!1;function u(){Be("cleanup"),e.removeListener("close",m),e.removeListener("finish",g),e.removeListener("drain",l),e.removeListener("error",p),e.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",y),r.removeListener("data",h),c=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l()}var f=!1;r.on("data",h);function h(_){Be("ondata"),f=!1;var S=e.write(_);S===!1&&!f&&((i.pipesCount===1&&i.pipes===e||i.pipesCount>1&&VJ(i.pipes,e)!==-1)&&!c&&(Be("false write response, pause",i.awaitDrain),i.awaitDrain++,f=!0),r.pause())}function p(_){Be("onerror",_),y(),e.removeListener("error",p),jJ(e,"error")===0&&e.emit("error",_)}eje(e,"error",p);function m(){e.removeListener("finish",g),y()}e.once("close",m);function g(){Be("onfinish"),e.removeListener("close",m),y()}e.once("finish",g);function y(){Be("unpipe"),r.unpipe(e)}return e.emit("pipe",r),i.flowing||(Be("pipe resume"),r.resume()),e};function oje(e){return function(){var t=e._readableState;Be("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&jJ(e,"data")&&(t.flowing=!0,o2(e))}}ft.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=VJ(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};ft.prototype.on=function(e,t){var r=s2.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var i=this._readableState;!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&Bx(this):rd.nextTick(aje,this))}return r};ft.prototype.addListener=ft.prototype.on;function aje(e){Be("readable nexttick read 0"),e.read(0)}ft.prototype.resume=function(){var e=this._readableState;return e.flowing||(Be("resume"),e.flowing=!0,lje(this,e)),this};function lje(e,t){t.resumeScheduled||(t.resumeScheduled=!0,rd.nextTick(cje,e,t))}function cje(e,t){t.reading||(Be("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),o2(e),t.flowing&&!t.reading&&e.read(0)}ft.prototype.pause=function(){return Be("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Be("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function o2(e){var t=e._readableState;for(Be("flow",t.flowing);t.flowing&&e.read()!==null;);}ft.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;e.on("end",function(){if(Be("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&t.push(o)}t.push(null)}),e.on("data",function(o){if(Be("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=t.push(o);a||(i=!0,e.pause())}});for(var n in e)this[n]===void 0&&typeof e[n]=="function"&&(this[n]=function(o){return function(){return e[o].apply(e,arguments)}}(n));for(var s=0;s<r2.length;s++)e.on(r2[s],this.emit.bind(this,r2[s]));return this._read=function(o){Be("wrapped _read",o),i&&(i=!1,e.resume())},this};Object.defineProperty(ft.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});ft._fromList=HJ;function HJ(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=uje(e,t.buffer,t.decoder),r}function uje(e,t,r){var i;return e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?i=t.shift():i=r?fje(e,t):hje(e,t),i}function fje(e,t){var r=t.head,i=1,n=r.data;for(e-=n.length;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?n+=s:n+=s.slice(0,e),e-=o,e===0){o===s.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++i}return t.length-=i,n}function hje(e,t){var r=cy.allocUnsafe(e),i=t.head,n=1;for(i.data.copy(r),e-=i.data.length;i=i.next;){var s=i.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),e-=o,e===0){o===s.length?(++n,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=s.slice(o));break}++n}return t.length-=n,r}function n2(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,rd.nextTick(dje,t,e))}function dje(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function VJ(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}});var a2=w((xGe,KJ)=>{"use strict";KJ.exports=ca;var Hx=mu(),YJ=Object.create(Qh());YJ.inherits=ou();YJ.inherits(ca,Hx);function pje(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function ca(e){if(!(this instanceof ca))return new ca(e);Hx.call(this,e),this._transformState={afterTransform:pje.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",mje)}function mje(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){GJ(e,t,r)}):GJ(this,null,null)}ca.prototype.push=function(e,t){return this._transformState.needTransform=!1,Hx.prototype.push.call(this,e,t)};ca.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};ca.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};ca.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};ca.prototype._destroy=function(e,t){var r=this;Hx.prototype._destroy.call(this,e,function(i){t(i),r.emit("close")})};function GJ(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var QJ=w((EGe,XJ)=>{"use strict";XJ.exports=uy;var JJ=a2(),ZJ=Object.create(Qh());ZJ.inherits=ou();ZJ.inherits(uy,JJ);function uy(e){if(!(this instanceof uy))return new uy(e);JJ.call(this,e)}uy.prototype._transform=function(e,t,r){r(null,e)}});var l2=w((Ar,Vx)=>{var co=require("stream");process.env.READABLE_STREAM==="disable"&&co?(Vx.exports=co,Ar=Vx.exports=co.Readable,Ar.Readable=co.Readable,Ar.Writable=co.Writable,Ar.Duplex=co.Duplex,Ar.Transform=co.Transform,Ar.PassThrough=co.PassThrough,Ar.Stream=co):(Ar=Vx.exports=e2(),Ar.Stream=co||Ar,Ar.Readable=Ar,Ar.Writable=ZI(),Ar.Duplex=mu(),Ar.Transform=a2(),Ar.PassThrough=QJ())});var ua=w(tn=>{"use strict";tn.base64=!0;tn.array=!0;tn.string=!0;tn.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u";tn.nodebuffer=typeof Buffer<"u";tn.uint8array=typeof Uint8Array<"u";if(typeof ArrayBuffer>"u")tn.blob=!1;else{c2=new ArrayBuffer(0);try{tn.blob=new Blob([c2],{type:"application/zip"}).size===0}catch{try{eZ=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,u2=new eZ,u2.append(c2),tn.blob=u2.getBlob("application/zip").size===0}catch{tn.blob=!1}}}var c2,eZ,u2;try{tn.nodestream=!!l2().Readable}catch{tn.nodestream=!1}});var h2=w(f2=>{"use strict";var gje=_t(),yje=ua(),uo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";f2.encode=function(e){for(var t=[],r,i,n,s,o,a,l,c=0,u=e.length,f=u,h=gje.getTypeOf(e)!=="string";c<e.length;)f=u-c,h?(r=e[c++],i=c<u?e[c++]:0,n=c<u?e[c++]:0):(r=e.charCodeAt(c++),i=c<u?e.charCodeAt(c++):0,n=c<u?e.charCodeAt(c++):0),s=r>>2,o=(r&3)<<4|i>>4,a=f>1?(i&15)<<2|n>>6:64,l=f>2?n&63:64,t.push(uo.charAt(s)+uo.charAt(o)+uo.charAt(a)+uo.charAt(l));return t.join("")};f2.decode=function(e){var t,r,i,n,s,o,a,l=0,c=0,u="data:";if(e.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");e=e.replace(/[^A-Za-z0-9+/=]/g,"");var f=e.length*3/4;if(e.charAt(e.length-1)===uo.charAt(64)&&f--,e.charAt(e.length-2)===uo.charAt(64)&&f--,f%1!==0)throw new Error("Invalid base64 input, bad content length.");var h;for(yje.uint8array?h=new Uint8Array(f|0):h=new Array(f|0);l<e.length;)n=uo.indexOf(e.charAt(l++)),s=uo.indexOf(e.charAt(l++)),o=uo.indexOf(e.charAt(l++)),a=uo.indexOf(e.charAt(l++)),t=n<<2|s>>4,r=(s&15)<<4|o>>2,i=(o&3)<<6|a,h[c++]=t,o!==64&&(h[c++]=r),a!==64&&(h[c++]=i);return h}});var fy=w((TGe,tZ)=>{"use strict";tZ.exports={isNode:typeof Buffer<"u",newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if(typeof e=="number")throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&typeof e.on=="function"&&typeof e.pause=="function"&&typeof e.resume=="function"}}});var sZ=w((OGe,nZ)=>{"use strict";var rZ=global.MutationObserver||global.WebKitMutationObserver,id;process.browser?rZ?(d2=0,iZ=new rZ(hy),p2=global.document.createTextNode(""),iZ.observe(p2,{characterData:!0}),id=function(){p2.data=d2=++d2%2}):!global.setImmediate&&typeof global.MessageChannel<"u"?(m2=new global.MessageChannel,m2.port1.onmessage=hy,id=function(){m2.port2.postMessage(0)}):"document"in global&&"onreadystatechange"in global.document.createElement("script")?id=function(){var e=global.document.createElement("script");e.onreadystatechange=function(){hy(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},global.document.documentElement.appendChild(e)}:id=function(){setTimeout(hy,0)}:id=function(){process.nextTick(hy)};var d2,iZ,p2,m2,g2,dy=[];function hy(){g2=!0;for(var e,t,r=dy.length;r;){for(t=dy,dy=[],e=-1;++e<r;)t[e]();r=dy.length}g2=!1}nZ.exports=vje;function vje(e){dy.push(e)===1&&!g2&&id()}});var hZ=w((AGe,fZ)=>{"use strict";var oZ=sZ();function nd(){}var Qr={},aZ=["REJECTED"],y2=["FULFILLED"],lZ=["PENDING"];process.browser||(py=["UNHANDLED"]);var py;fZ.exports=Cl;function Cl(e){if(typeof e!="function")throw new TypeError("resolver must be a function");this.state=lZ,this.queue=[],this.outcome=void 0,process.browser||(this.handled=py),e!==nd&&cZ(this,e)}Cl.prototype.finally=function(e){if(typeof e!="function")return this;var t=this.constructor;return this.then(r,i);function r(n){function s(){return n}return t.resolve(e()).then(s)}function i(n){function s(){throw n}return t.resolve(e()).then(s)}};Cl.prototype.catch=function(e){return this.then(null,e)};Cl.prototype.then=function(e,t){if(typeof e!="function"&&this.state===y2||typeof t!="function"&&this.state===aZ)return this;var r=new this.constructor(nd);if(process.browser||this.handled===py&&(this.handled=null),this.state!==lZ){var i=this.state===y2?e:t;v2(r,i,this.outcome)}else this.queue.push(new my(r,e,t));return r};function my(e,t,r){this.promise=e,typeof t=="function"&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),typeof r=="function"&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}my.prototype.callFulfilled=function(e){Qr.resolve(this.promise,e)};my.prototype.otherCallFulfilled=function(e){v2(this.promise,this.onFulfilled,e)};my.prototype.callRejected=function(e){Qr.reject(this.promise,e)};my.prototype.otherCallRejected=function(e){v2(this.promise,this.onRejected,e)};function v2(e,t,r){oZ(function(){var i;try{i=t(r)}catch(n){return Qr.reject(e,n)}i===e?Qr.reject(e,new TypeError("Cannot resolve promise with itself")):Qr.resolve(e,i)})}Qr.resolve=function(e,t){var r=uZ(_je,t);if(r.status==="error")return Qr.reject(e,r.value);var i=r.value;if(i)cZ(e,i);else{e.state=y2,e.outcome=t;for(var n=-1,s=e.queue.length;++n<s;)e.queue[n].callFulfilled(t)}return e};Qr.reject=function(e,t){e.state=aZ,e.outcome=t,process.browser||e.handled===py&&oZ(function(){e.handled===py&&process.emit("unhandledRejection",t,e)});for(var r=-1,i=e.queue.length;++r<i;)e.queue[r].callRejected(t);return e};function _je(e){var t=e&&e.then;if(e&&(typeof e=="object"||typeof e=="function")&&typeof t=="function")return function(){t.apply(e,arguments)}}function cZ(e,t){var r=!1;function i(a){r||(r=!0,Qr.reject(e,a))}function n(a){r||(r=!0,Qr.resolve(e,a))}function s(){t(n,i)}var o=uZ(s);o.status==="error"&&i(o.value)}function uZ(e,t){var r={};try{r.value=e(t),r.status="success"}catch(i){r.status="error",r.value=i}return r}Cl.resolve=bje;function bje(e){return e instanceof this?e:Qr.resolve(new this(nd),e)}Cl.reject=wje;function wje(e){var t=new this(nd);return Qr.reject(t,e)}Cl.all=Sje;function Sje(e){var t=this;if(Object.prototype.toString.call(e)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r=e.length,i=!1;if(!r)return this.resolve([]);for(var n=new Array(r),s=0,o=-1,a=new this(nd);++o<r;)l(e[o],o);return a;function l(c,u){t.resolve(c).then(f,function(h){i||(i=!0,Qr.reject(a,h))});function f(h){n[u]=h,++s===r&&!i&&(i=!0,Qr.resolve(a,n))}}}Cl.race=xje;function xje(e){var t=this;if(Object.prototype.toString.call(e)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r=e.length,i=!1;if(!r)return this.resolve([]);for(var n=-1,s=new this(nd);++n<r;)o(e[n]);return s;function o(a){t.resolve(a).then(function(l){i||(i=!0,Qr.resolve(s,l))},function(l){i||(i=!0,Qr.reject(s,l))})}}});var sd=w((CGe,dZ)=>{"use strict";var _2=null;typeof Promise<"u"?_2=Promise:_2=hZ();dZ.exports={Promise:_2}});var mZ=w(pZ=>{(function(e,t){"use strict";if(e.setImmediate)return;var r=1,i={},n=!1,s=e.document,o;function a(S){typeof S!="function"&&(S=new Function(""+S));for(var b=new Array(arguments.length-1),v=0;v<b.length;v++)b[v]=arguments[v+1];var O={callback:S,args:b};return i[r]=O,o(r),r++}function l(S){delete i[S]}function c(S){var b=S.callback,v=S.args;switch(v.length){case 0:b();break;case 1:b(v[0]);break;case 2:b(v[0],v[1]);break;case 3:b(v[0],v[1],v[2]);break;default:b.apply(t,v);break}}function u(S){if(n)setTimeout(u,0,S);else{var b=i[S];if(b){n=!0;try{c(b)}finally{l(S),n=!1}}}}function f(){o=function(S){process.nextTick(function(){u(S)})}}function h(){if(e.postMessage&&!e.importScripts){var S=!0,b=e.onmessage;return e.onmessage=function(){S=!1},e.postMessage("","*"),e.onmessage=b,S}}function p(){var S="setImmediate$"+Math.random()+"$",b=function(v){v.source===e&&typeof v.data=="string"&&v.data.indexOf(S)===0&&u(+v.data.slice(S.length))};e.addEventListener?e.addEventListener("message",b,!1):e.attachEvent("onmessage",b),o=function(v){e.postMessage(S+v,"*")}}function m(){var S=new MessageChannel;S.port1.onmessage=function(b){var v=b.data;u(v)},o=function(b){S.port2.postMessage(b)}}function g(){var S=s.documentElement;o=function(b){var v=s.createElement("script");v.onreadystatechange=function(){u(b),v.onreadystatechange=null,S.removeChild(v),v=null},S.appendChild(v)}}function y(){o=function(S){setTimeout(u,0,S)}}var _=Object.getPrototypeOf&&Object.getPrototypeOf(e);_=_&&_.setTimeout?_:e,{}.toString.call(e.process)==="[object process]"?f():h()?p():e.MessageChannel?m():s&&"onreadystatechange"in s.createElement("script")?g():y(),_.setImmediate=a,_.clearImmediate=l})(typeof self>"u"?typeof global>"u"?pZ:global:self)});var _t=w(Ut=>{"use strict";var Pl=ua(),Eje=h2(),od=fy(),b2=sd();mZ();function kje(e){var t=null;return Pl.uint8array?t=new Uint8Array(e.length):t=new Array(e.length),Gx(e,t)}Ut.newBlob=function(e,t){Ut.checkSupport("blob");try{return new Blob([e],{type:t})}catch{try{var r=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,i=new r;return i.append(e),i.getBlob(t)}catch{throw new Error("Bug : can't construct the Blob.")}}};function gy(e){return e}function Gx(e,t){for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)&255;return t}var Wx={stringifyByChunk:function(e,t,r){var i=[],n=0,s=e.length;if(s<=r)return String.fromCharCode.apply(null,e);for(;n<s;)t==="array"||t==="nodebuffer"?i.push(String.fromCharCode.apply(null,e.slice(n,Math.min(n+r,s)))):i.push(String.fromCharCode.apply(null,e.subarray(n,Math.min(n+r,s)))),n+=r;return i.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return Pl.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return Pl.nodebuffer&&String.fromCharCode.apply(null,od.allocBuffer(1)).length===1}catch{return!1}}()}};function yy(e){var t=65536,r=Ut.getTypeOf(e),i=!0;if(r==="uint8array"?i=Wx.applyCanBeUsed.uint8array:r==="nodebuffer"&&(i=Wx.applyCanBeUsed.nodebuffer),i)for(;t>1;)try{return Wx.stringifyByChunk(e,r,t)}catch{t=Math.floor(t/2)}return Wx.stringifyByChar(e)}Ut.applyFromCharCode=yy;function Yx(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}var Il={};Il.string={string:gy,array:function(e){return Gx(e,new Array(e.length))},arraybuffer:function(e){return Il.string.uint8array(e).buffer},uint8array:function(e){return Gx(e,new Uint8Array(e.length))},nodebuffer:function(e){return Gx(e,od.allocBuffer(e.length))}};Il.array={string:yy,array:gy,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return od.newBufferFrom(e)}};Il.arraybuffer={string:function(e){return yy(new Uint8Array(e))},array:function(e){return Yx(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:gy,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return od.newBufferFrom(new Uint8Array(e))}};Il.uint8array={string:yy,array:function(e){return Yx(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:gy,nodebuffer:function(e){return od.newBufferFrom(e)}};Il.nodebuffer={string:yy,array:function(e){return Yx(e,new Array(e.length))},arraybuffer:function(e){return Il.nodebuffer.uint8array(e).buffer},uint8array:function(e){return Yx(e,new Uint8Array(e.length))},nodebuffer:gy};Ut.transformTo=function(e,t){if(t||(t=""),!e)return t;Ut.checkSupport(e);var r=Ut.getTypeOf(t),i=Il[r][e](t);return i};Ut.resolve=function(e){for(var t=e.split("/"),r=[],i=0;i<t.length;i++){var n=t[i];n==="."||n===""&&i!==0&&i!==t.length-1||(n===".."?r.pop():r.push(n))}return r.join("/")};Ut.getTypeOf=function(e){if(typeof e=="string")return"string";if(Object.prototype.toString.call(e)==="[object Array]")return"array";if(Pl.nodebuffer&&od.isBuffer(e))return"nodebuffer";if(Pl.uint8array&&e instanceof Uint8Array)return"uint8array";if(Pl.arraybuffer&&e instanceof ArrayBuffer)return"arraybuffer"};Ut.checkSupport=function(e){var t=Pl[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this platform")};Ut.MAX_VALUE_16BITS=65535;Ut.MAX_VALUE_32BITS=-1;Ut.pretty=function(e){var t="",r,i;for(i=0;i<(e||"").length;i++)r=e.charCodeAt(i),t+="\\x"+(r<16?"0":"")+r.toString(16).toUpperCase();return t};Ut.delay=function(e,t,r){setImmediate(function(){e.apply(r||null,t||[])})};Ut.inherits=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r};Ut.extend=function(){var e={},t,r;for(t=0;t<arguments.length;t++)for(r in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],r)&&typeof e[r]>"u"&&(e[r]=arguments[t][r]);return e};Ut.prepareContent=function(e,t,r,i,n){var s=b2.Promise.resolve(t).then(function(o){var a=Pl.blob&&(o instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(o))!==-1);return a&&typeof FileReader<"u"?new b2.Promise(function(l,c){var u=new FileReader;u.onload=function(f){l(f.target.result)},u.onerror=function(f){c(f.target.error)},u.readAsArrayBuffer(o)}):o});return s.then(function(o){var a=Ut.getTypeOf(o);return a?(a==="arraybuffer"?o=Ut.transformTo("uint8array",o):a==="string"&&(n?o=Eje.decode(o):r&&i!==!0&&(o=kje(o))),o):b2.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}});var rn=w((NGe,yZ)=>{"use strict";function gZ(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}gZ.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return this.isFinished?!1:(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(r){t.processChunk(r)}),e.on("end",function(){t.end()}),e.on("error",function(r){t.error(r)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}};yZ.exports=gZ});var ld=w(Nl=>{"use strict";var ad=_t(),gu=ua(),Rje=fy(),Kx=rn(),vy=new Array(256);for(fa=0;fa<256;fa++)vy[fa]=fa>=252?6:fa>=248?5:fa>=240?4:fa>=224?3:fa>=192?2:1;var fa;vy[254]=vy[254]=1;var Tje=function(e){var t,r,i,n,s,o=e.length,a=0;for(n=0;n<o;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<o&&(i=e.charCodeAt(n+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),n++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(gu.uint8array?t=new Uint8Array(a):t=new Array(a),s=0,n=0;s<a;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<o&&(i=e.charCodeAt(n+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),n++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t},Oje=function(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+vy[e[r]]>t?r:t},Aje=function(e){var t,r,i,n,s=e.length,o=new Array(s*2);for(r=0,t=0;t<s;){if(i=e[t++],i<128){o[r++]=i;continue}if(n=vy[i],n>4){o[r++]=65533,t+=n-1;continue}for(i&=n===2?31:n===3?15:7;n>1&&t<s;)i=i<<6|e[t++]&63,n--;if(n>1){o[r++]=65533;continue}i<65536?o[r++]=i:(i-=65536,o[r++]=55296|i>>10&1023,o[r++]=56320|i&1023)}return o.length!==r&&(o.subarray?o=o.subarray(0,r):o.length=r),ad.applyFromCharCode(o)};Nl.utf8encode=function(t){return gu.nodebuffer?Rje.newBufferFrom(t,"utf-8"):Tje(t)};Nl.utf8decode=function(t){return gu.nodebuffer?ad.transformTo("nodebuffer",t).toString("utf-8"):(t=ad.transformTo(gu.uint8array?"uint8array":"array",t),Aje(t))};function Jx(){Kx.call(this,"utf-8 decode"),this.leftOver=null}ad.inherits(Jx,Kx);Jx.prototype.processChunk=function(e){var t=ad.transformTo(gu.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(gu.uint8array){var r=t;t=new Uint8Array(r.length+this.leftOver.length),t.set(this.leftOver,0),t.set(r,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var i=Oje(t),n=t;i!==t.length&&(gu.uint8array?(n=t.subarray(0,i),this.leftOver=t.subarray(i,t.length)):(n=t.slice(0,i),this.leftOver=t.slice(i,t.length))),this.push({data:Nl.utf8decode(n),meta:e.meta})};Jx.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:Nl.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)};Nl.Utf8DecodeWorker=Jx;function w2(){Kx.call(this,"utf-8 encode")}ad.inherits(w2,Kx);w2.prototype.processChunk=function(e){this.push({data:Nl.utf8encode(e.data),meta:e.meta})};Nl.Utf8EncodeWorker=w2});var wZ=w((FGe,bZ)=>{"use strict";var vZ=rn(),_Z=_t();function S2(e){vZ.call(this,"ConvertWorker to "+e),this.destType=e}_Z.inherits(S2,vZ);S2.prototype.processChunk=function(e){this.push({data:_Z.transformTo(this.destType,e.data),meta:e.meta})};bZ.exports=S2});var EZ=w((DGe,xZ)=>{"use strict";var SZ=l2().Readable,Cje=_t();Cje.inherits(x2,SZ);function x2(e,t,r){SZ.call(this,t),this._helper=e;var i=this;e.on("data",function(n,s){i.push(n)||i._helper.pause(),r&&r(s)}).on("error",function(n){i.emit("error",n)}).on("end",function(){i.push(null)})}x2.prototype._read=function(){this._helper.resume()};xZ.exports=x2});var E2=w((LGe,TZ)=>{"use strict";var yu=_t(),Pje=wZ(),Ije=rn(),Nje=h2(),$je=ua(),Fje=sd(),kZ=null;if($je.nodestream)try{kZ=EZ()}catch{}function Dje(e,t,r){switch(e){case"blob":return yu.newBlob(yu.transformTo("arraybuffer",t),r);case"base64":return Nje.encode(t);default:return yu.transformTo(e,t)}}function Lje(e,t){var r,i=0,n=null,s=0;for(r=0;r<t.length;r++)s+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(n=new Uint8Array(s),r=0;r<t.length;r++)n.set(t[r],i),i+=t[r].length;return n;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}function jje(e,t){return new Fje.Promise(function(r,i){var n=[],s=e._internalType,o=e._outputType,a=e._mimeType;e.on("data",function(l,c){n.push(l),t&&t(c)}).on("error",function(l){n=[],i(l)}).on("end",function(){try{var l=Dje(o,Lje(s,n),a);r(l)}catch(c){i(c)}n=[]}).resume()})}function RZ(e,t,r){var i=t;switch(t){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string";break}try{this._internalType=i,this._outputType=t,this._mimeType=r,yu.checkSupport(i),this._worker=e.pipe(new Pje(i)),e.lock()}catch(n){this._worker=new Ije("error"),this._worker.error(n)}}RZ.prototype={accumulate:function(e){return jje(this,e)},on:function(e,t){var r=this;return e==="data"?this._worker.on(e,function(i){t.call(r,i.data,i.meta)}):this._worker.on(e,function(){yu.delay(t,arguments,r)}),this},resume:function(){return yu.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(yu.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new kZ(this,{objectMode:this._outputType!=="nodebuffer"},e)}};TZ.exports=RZ});var k2=w(ms=>{"use strict";ms.base64=!1;ms.binary=!1;ms.dir=!1;ms.createFolders=!0;ms.date=null;ms.compression=null;ms.compressionOptions=null;ms.comment=null;ms.unixPermissions=null;ms.dosPermissions=null});var R2=w((qGe,OZ)=>{"use strict";var Zx=_t(),Xx=rn(),qje=16*1024;function cd(e){Xx.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(r){t.dataIsReady=!0,t.data=r,t.max=r&&r.length||0,t.type=Zx.getTypeOf(r),t.isPaused||t._tickAndRepeat()},function(r){t.error(r)})}Zx.inherits(cd,Xx);cd.prototype.cleanUp=function(){Xx.prototype.cleanUp.call(this),this.data=null};cd.prototype.resume=function(){return Xx.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,Zx.delay(this._tickAndRepeat,[],this)),!0):!1};cd.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(Zx.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))};cd.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=qje,t=null,r=Math.min(this.max,this.index+e);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,r);break;case"uint8array":t=this.data.subarray(this.index,r);break;case"array":case"nodebuffer":t=this.data.slice(this.index,r);break}return this.index=r,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})};OZ.exports=cd});var Qx=w((MGe,CZ)=>{"use strict";var Mje=_t();function zje(){for(var e,t=[],r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}var AZ=zje();function Uje(e,t,r,i){var n=AZ,s=i+r;e=e^-1;for(var o=i;o<s;o++)e=e>>>8^n[(e^t[o])&255];return e^-1}function Bje(e,t,r,i){var n=AZ,s=i+r;e=e^-1;for(var o=i;o<s;o++)e=e>>>8^n[(e^t.charCodeAt(o))&255];return e^-1}CZ.exports=function(t,r){if(typeof t>"u"||!t.length)return 0;var i=Mje.getTypeOf(t)!=="string";return i?Uje(r|0,t,t.length,0):Bje(r|0,t,t.length,0)}});var O2=w((zGe,IZ)=>{"use strict";var PZ=rn(),Hje=Qx(),Vje=_t();function T2(){PZ.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}Vje.inherits(T2,PZ);T2.prototype.processChunk=function(e){this.streamInfo.crc32=Hje(e.data,this.streamInfo.crc32||0),this.push(e)};IZ.exports=T2});var $Z=w((UGe,NZ)=>{"use strict";var Wje=_t(),A2=rn();function C2(e){A2.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}Wje.inherits(C2,A2);C2.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}A2.prototype.processChunk.call(this,e)};NZ.exports=C2});var e1=w((BGe,LZ)=>{"use strict";var FZ=sd(),DZ=R2(),Gje=O2(),P2=$Z();function I2(e,t,r,i,n){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=i,this.compressedContent=n}I2.prototype={getContentWorker:function(){var e=new DZ(FZ.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new P2("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new DZ(FZ.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}};I2.createWorkerFrom=function(e,t,r){return e.pipe(new Gje).pipe(new P2("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new P2("compressedSize")).withStreamInfo("compression",t)};LZ.exports=I2});var zZ=w((HGe,MZ)=>{"use strict";var Yje=E2(),Kje=R2(),N2=ld(),$2=e1(),jZ=rn(),F2=function(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}};F2.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");r=e.toLowerCase();var i=r==="string"||r==="text";(r==="binarystring"||r==="text")&&(r="string"),t=this._decompressWorker();var n=!this._dataBinary;n&&!i&&(t=t.pipe(new N2.Utf8EncodeWorker)),!n&&i&&(t=t.pipe(new N2.Utf8DecodeWorker))}catch(s){t=new jZ("error"),t.error(s)}return new Yje(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof $2&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new N2.Utf8EncodeWorker)),$2.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof $2?this._data.getContentWorker():this._data instanceof jZ?this._data:new Kje(this._data)}};var qZ=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],Jje=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")};for(t1=0;t1<qZ.length;t1++)F2.prototype[qZ[t1]]=Jje;var t1;MZ.exports=F2});var ha=w(wi=>{"use strict";var Zje=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function Xje(e,t){return Object.prototype.hasOwnProperty.call(e,t)}wi.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(var i in r)Xje(r,i)&&(e[i]=r[i])}}return e};wi.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var Qje={arraySet:function(e,t,r,i,n){if(t.subarray&&e.subarray){e.set(t.subarray(r,r+i),n);return}for(var s=0;s<i;s++)e[n+s]=t[r+s]},flattenChunks:function(e){var t,r,i,n,s,o;for(i=0,t=0,r=e.length;t<r;t++)i+=e[t].length;for(o=new Uint8Array(i),n=0,t=0,r=e.length;t<r;t++)s=e[t],o.set(s,n),n+=s.length;return o}},eqe={arraySet:function(e,t,r,i,n){for(var s=0;s<i;s++)e[n+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};wi.setTyped=function(e){e?(wi.Buf8=Uint8Array,wi.Buf16=Uint16Array,wi.Buf32=Int32Array,wi.assign(wi,Qje)):(wi.Buf8=Array,wi.Buf16=Array,wi.Buf32=Array,wi.assign(wi,eqe))};wi.setTyped(Zje)});var uX=w(hd=>{"use strict";var tqe=ha(),rqe=4,UZ=0,BZ=1,iqe=2;function fd(e){for(var t=e.length;--t>=0;)e[t]=0}var nqe=0,KZ=1,sqe=2,oqe=3,aqe=258,U2=29,Ey=256,by=Ey+1+U2,ud=30,B2=19,JZ=2*by+1,vu=15,D2=16,lqe=7,H2=256,ZZ=16,XZ=17,QZ=18,M2=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],r1=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],cqe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],eX=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],uqe=512,da=new Array((by+2)*2);fd(da);var _y=new Array(ud*2);fd(_y);var wy=new Array(uqe);fd(wy);var Sy=new Array(aqe-oqe+1);fd(Sy);var V2=new Array(U2);fd(V2);var i1=new Array(ud);fd(i1);function L2(e,t,r,i,n){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=e&&e.length}var tX,rX,iX;function j2(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function nX(e){return e<256?wy[e]:wy[256+(e>>>7)]}function xy(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function $i(e,t,r){e.bi_valid>D2-r?(e.bi_buf|=t<<e.bi_valid&65535,xy(e,e.bi_buf),e.bi_buf=t>>D2-e.bi_valid,e.bi_valid+=r-D2):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function fo(e,t,r){$i(e,r[t*2],r[t*2+1])}function sX(e,t){var r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1}function fqe(e){e.bi_valid===16?(xy(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function hqe(e,t){var r=t.dyn_tree,i=t.max_code,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length,c,u,f,h,p,m,g=0;for(h=0;h<=vu;h++)e.bl_count[h]=0;for(r[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<JZ;c++)u=e.heap[c],h=r[r[u*2+1]*2+1]+1,h>l&&(h=l,g++),r[u*2+1]=h,!(u>i)&&(e.bl_count[h]++,p=0,u>=a&&(p=o[u-a]),m=r[u*2],e.opt_len+=m*(h+p),s&&(e.static_len+=m*(n[u*2+1]+p)));if(g!==0){do{for(h=l-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(h=l;h!==0;h--)for(u=e.bl_count[h];u!==0;)f=e.heap[--c],!(f>i)&&(r[f*2+1]!==h&&(e.opt_len+=(h-r[f*2+1])*r[f*2],r[f*2+1]=h),u--)}}function oX(e,t,r){var i=new Array(vu+1),n=0,s,o;for(s=1;s<=vu;s++)i[s]=n=n+r[s-1]<<1;for(o=0;o<=t;o++){var a=e[o*2+1];a!==0&&(e[o*2]=sX(i[a]++,a))}}function dqe(){var e,t,r,i,n,s=new Array(vu+1);for(r=0,i=0;i<U2-1;i++)for(V2[i]=r,e=0;e<1<<M2[i];e++)Sy[r++]=i;for(Sy[r-1]=i,n=0,i=0;i<16;i++)for(i1[i]=n,e=0;e<1<<r1[i];e++)wy[n++]=i;for(n>>=7;i<ud;i++)for(i1[i]=n<<7,e=0;e<1<<r1[i]-7;e++)wy[256+n++]=i;for(t=0;t<=vu;t++)s[t]=0;for(e=0;e<=143;)da[e*2+1]=8,e++,s[8]++;for(;e<=255;)da[e*2+1]=9,e++,s[9]++;for(;e<=279;)da[e*2+1]=7,e++,s[7]++;for(;e<=287;)da[e*2+1]=8,e++,s[8]++;for(oX(da,by+1,s),e=0;e<ud;e++)_y[e*2+1]=5,_y[e*2]=sX(e,5);tX=new L2(da,M2,Ey+1,by,vu),rX=new L2(_y,r1,0,ud,vu),iX=new L2(new Array(0),cqe,0,B2,lqe)}function aX(e){var t;for(t=0;t<by;t++)e.dyn_ltree[t*2]=0;for(t=0;t<ud;t++)e.dyn_dtree[t*2]=0;for(t=0;t<B2;t++)e.bl_tree[t*2]=0;e.dyn_ltree[H2*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function lX(e){e.bi_valid>8?xy(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function pqe(e,t,r,i){lX(e),i&&(xy(e,r),xy(e,~r)),tqe.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function HZ(e,t,r,i){var n=t*2,s=r*2;return e[n]<e[s]||e[n]===e[s]&&i[t]<=i[r]}function q2(e,t,r){for(var i=e.heap[r],n=r<<1;n<=e.heap_len&&(n<e.heap_len&&HZ(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!HZ(t,i,e.heap[n],e.depth));)e.heap[r]=e.heap[n],r=n,n<<=1;e.heap[r]=i}function VZ(e,t,r){var i,n,s=0,o,a;if(e.last_lit!==0)do i=e.pending_buf[e.d_buf+s*2]<<8|e.pending_buf[e.d_buf+s*2+1],n=e.pending_buf[e.l_buf+s],s++,i===0?fo(e,n,t):(o=Sy[n],fo(e,o+Ey+1,t),a=M2[o],a!==0&&(n-=V2[o],$i(e,n,a)),i--,o=nX(i),fo(e,o,r),a=r1[o],a!==0&&(i-=i1[o],$i(e,i,a)));while(s<e.last_lit);fo(e,H2,t)}function z2(e,t){var r=t.dyn_tree,i=t.stat_desc.static_tree,n=t.stat_desc.has_stree,s=t.stat_desc.elems,o,a,l=-1,c;for(e.heap_len=0,e.heap_max=JZ,o=0;o<s;o++)r[o*2]!==0?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,r[c*2]=1,e.depth[c]=0,e.opt_len--,n&&(e.static_len-=i[c*2+1]);for(t.max_code=l,o=e.heap_len>>1;o>=1;o--)q2(e,r,o);c=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],q2(e,r,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,r[c*2]=r[o*2]+r[a*2],e.depth[c]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,r[o*2+1]=r[a*2+1]=c,e.heap[1]=c++,q2(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],hqe(e,t),oX(r,l,e.bl_count)}function WZ(e,t,r){var i,n=-1,s,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),t[(r+1)*2+1]=65535,i=0;i<=r;i++)s=o,o=t[(i+1)*2+1],!(++a<l&&s===o)&&(a<c?e.bl_tree[s*2]+=a:s!==0?(s!==n&&e.bl_tree[s*2]++,e.bl_tree[ZZ*2]++):a<=10?e.bl_tree[XZ*2]++:e.bl_tree[QZ*2]++,a=0,n=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))}function GZ(e,t,r){var i,n=-1,s,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),i=0;i<=r;i++)if(s=o,o=t[(i+1)*2+1],!(++a<l&&s===o)){if(a<c)do fo(e,s,e.bl_tree);while(--a!==0);else s!==0?(s!==n&&(fo(e,s,e.bl_tree),a--),fo(e,ZZ,e.bl_tree),$i(e,a-3,2)):a<=10?(fo(e,XZ,e.bl_tree),$i(e,a-3,3)):(fo(e,QZ,e.bl_tree),$i(e,a-11,7));a=0,n=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}}function mqe(e){var t;for(WZ(e,e.dyn_ltree,e.l_desc.max_code),WZ(e,e.dyn_dtree,e.d_desc.max_code),z2(e,e.bl_desc),t=B2-1;t>=3&&e.bl_tree[eX[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function gqe(e,t,r,i){var n;for($i(e,t-257,5),$i(e,r-1,5),$i(e,i-4,4),n=0;n<i;n++)$i(e,e.bl_tree[eX[n]*2+1],3);GZ(e,e.dyn_ltree,t-1),GZ(e,e.dyn_dtree,r-1)}function yqe(e){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return UZ;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return BZ;for(r=32;r<Ey;r++)if(e.dyn_ltree[r*2]!==0)return BZ;return UZ}var YZ=!1;function vqe(e){YZ||(dqe(),YZ=!0),e.l_desc=new j2(e.dyn_ltree,tX),e.d_desc=new j2(e.dyn_dtree,rX),e.bl_desc=new j2(e.bl_tree,iX),e.bi_buf=0,e.bi_valid=0,aX(e)}function cX(e,t,r,i){$i(e,(nqe<<1)+(i?1:0),3),pqe(e,t,r,!0)}function _qe(e){$i(e,KZ<<1,3),fo(e,H2,da),fqe(e)}function bqe(e,t,r,i){var n,s,o=0;e.level>0?(e.strm.data_type===iqe&&(e.strm.data_type=yqe(e)),z2(e,e.l_desc),z2(e,e.d_desc),o=mqe(e),n=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=n&&(n=s)):n=s=r+5,r+4<=n&&t!==-1?cX(e,t,r,i):e.strategy===rqe||s===n?($i(e,(KZ<<1)+(i?1:0),3),VZ(e,da,_y)):($i(e,(sqe<<1)+(i?1:0),3),gqe(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),VZ(e,e.dyn_ltree,e.dyn_dtree)),aX(e),i&&lX(e)}function wqe(e,t,r){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=r&255,e.last_lit++,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(Sy[r]+Ey+1)*2]++,e.dyn_dtree[nX(t)*2]++),e.last_lit===e.lit_bufsize-1}hd._tr_init=vqe;hd._tr_stored_block=cX;hd._tr_flush_block=bqe;hd._tr_tally=wqe;hd._tr_align=_qe});var W2=w((GGe,fX)=>{"use strict";function Sqe(e,t,r,i){for(var n=e&65535|0,s=e>>>16&65535|0,o=0;r!==0;){o=r>2e3?2e3:r,r-=o;do n=n+t[i++]|0,s=s+n|0;while(--o);n%=65521,s%=65521}return n|s<<16|0}fX.exports=Sqe});var G2=w((YGe,hX)=>{"use strict";function xqe(){for(var e,t=[],r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}var Eqe=xqe();function kqe(e,t,r,i){var n=Eqe,s=i+r;e^=-1;for(var o=i;o<s;o++)e=e>>>8^n[(e^t[o])&255];return e^-1}hX.exports=kqe});var n1=w((KGe,dX)=>{"use strict";dX.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var SX=w(mo=>{"use strict";var Si=ha(),kn=uX(),yX=W2(),$l=G2(),Rqe=n1(),Su=0,Tqe=1,Oqe=3,ql=4,pX=5,po=0,mX=1,Rn=-2,Aqe=-3,Y2=-5,Cqe=-1,Pqe=1,s1=2,Iqe=3,Nqe=4,$qe=0,Fqe=2,c1=8,Dqe=9,Lqe=15,jqe=8,qqe=29,Mqe=256,J2=Mqe+1+qqe,zqe=30,Uqe=19,Bqe=2*J2+1,Hqe=15,De=3,Ll=258,gs=Ll+De+1,Vqe=32,u1=42,Z2=69,o1=73,a1=91,l1=103,_u=113,Ry=666,Qt=1,Ty=2,bu=3,md=4,Wqe=3;function jl(e,t){return e.msg=Rqe[t],t}function gX(e){return(e<<1)-(e>4?9:0)}function Dl(e){for(var t=e.length;--t>=0;)e[t]=0}function Fl(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(Si.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function Cr(e,t){kn._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Fl(e.strm)}function Me(e,t){e.pending_buf[e.pending++]=t}function ky(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function Gqe(e,t,r,i){var n=e.avail_in;return n>i&&(n=i),n===0?0:(e.avail_in-=n,Si.arraySet(t,e.input,e.next_in,n,r),e.state.wrap===1?e.adler=yX(e.adler,t,n,r):e.state.wrap===2&&(e.adler=$l(e.adler,t,n,r)),e.next_in+=n,e.total_in+=n,n)}function vX(e,t){var r=e.max_chain_length,i=e.strstart,n,s,o=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-gs?e.strstart-(e.w_size-gs):0,c=e.window,u=e.w_mask,f=e.prev,h=e.strstart+Ll,p=c[i+o-1],m=c[i+o];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do if(n=t,!(c[n+o]!==m||c[n+o-1]!==p||c[n]!==c[i]||c[++n]!==c[i+1])){i+=2,n++;do;while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<h);if(s=Ll-(h-i),i=h-Ll,s>o){if(e.match_start=t,o=s,s>=a)break;p=c[i+o-1],m=c[i+o]}}while((t=f[t&u])>l&&--r!==0);return o<=e.lookahead?o:e.lookahead}function wu(e){var t=e.w_size,r,i,n,s,o;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-gs)){Si.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,i=e.hash_size,r=i;do n=e.head[--r],e.head[r]=n>=t?n-t:0;while(--i);i=t,r=i;do n=e.prev[--r],e.prev[r]=n>=t?n-t:0;while(--i);s+=t}if(e.strm.avail_in===0)break;if(i=Gqe(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=i,e.lookahead+e.insert>=De)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+De-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<De)););}while(e.lookahead<gs&&e.strm.avail_in!==0)}function Yqe(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(wu(e),e.lookahead===0&&t===Su)return Qt;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+r;if((e.strstart===0||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,Cr(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-gs&&(Cr(e,!1),e.strm.avail_out===0))return Qt}return e.insert=0,t===ql?(Cr(e,!0),e.strm.avail_out===0?bu:md):(e.strstart>e.block_start&&(Cr(e,!1),e.strm.avail_out===0),Qt)}function K2(e,t){for(var r,i;;){if(e.lookahead<gs){if(wu(e),e.lookahead<gs&&t===Su)return Qt;if(e.lookahead===0)break}if(r=0,e.lookahead>=De&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+De-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-gs&&(e.match_length=vX(e,r)),e.match_length>=De)if(i=kn._tr_tally(e,e.strstart-e.match_start,e.match_length-De),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=De){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+De-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=kn._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(Cr(e,!1),e.strm.avail_out===0))return Qt}return e.insert=e.strstart<De-1?e.strstart:De-1,t===ql?(Cr(e,!0),e.strm.avail_out===0?bu:md):e.last_lit&&(Cr(e,!1),e.strm.avail_out===0)?Qt:Ty}function dd(e,t){for(var r,i,n;;){if(e.lookahead<gs){if(wu(e),e.lookahead<gs&&t===Su)return Qt;if(e.lookahead===0)break}if(r=0,e.lookahead>=De&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+De-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=De-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-gs&&(e.match_length=vX(e,r),e.match_length<=5&&(e.strategy===Pqe||e.match_length===De&&e.strstart-e.match_start>4096)&&(e.match_length=De-1)),e.prev_length>=De&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-De,i=kn._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-De),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+De-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=De-1,e.strstart++,i&&(Cr(e,!1),e.strm.avail_out===0))return Qt}else if(e.match_available){if(i=kn._tr_tally(e,0,e.window[e.strstart-1]),i&&Cr(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Qt}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=kn._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<De-1?e.strstart:De-1,t===ql?(Cr(e,!0),e.strm.avail_out===0?bu:md):e.last_lit&&(Cr(e,!1),e.strm.avail_out===0)?Qt:Ty}function Kqe(e,t){for(var r,i,n,s,o=e.window;;){if(e.lookahead<=Ll){if(wu(e),e.lookahead<=Ll&&t===Su)return Qt;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=De&&e.strstart>0&&(n=e.strstart-1,i=o[n],i===o[++n]&&i===o[++n]&&i===o[++n])){s=e.strstart+Ll;do;while(i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&n<s);e.match_length=Ll-(s-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=De?(r=kn._tr_tally(e,1,e.match_length-De),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=kn._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Cr(e,!1),e.strm.avail_out===0))return Qt}return e.insert=0,t===ql?(Cr(e,!0),e.strm.avail_out===0?bu:md):e.last_lit&&(Cr(e,!1),e.strm.avail_out===0)?Qt:Ty}function Jqe(e,t){for(var r;;){if(e.lookahead===0&&(wu(e),e.lookahead===0)){if(t===Su)return Qt;break}if(e.match_length=0,r=kn._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Cr(e,!1),e.strm.avail_out===0))return Qt}return e.insert=0,t===ql?(Cr(e,!0),e.strm.avail_out===0?bu:md):e.last_lit&&(Cr(e,!1),e.strm.avail_out===0)?Qt:Ty}function ho(e,t,r,i,n){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=i,this.func=n}var pd;pd=[new ho(0,0,0,0,Yqe),new ho(4,4,8,4,K2),new ho(4,5,16,8,K2),new ho(4,6,32,32,K2),new ho(4,4,16,16,dd),new ho(8,16,32,32,dd),new ho(8,16,128,128,dd),new ho(8,32,128,256,dd),new ho(32,128,258,1024,dd),new ho(32,258,258,4096,dd)];function Zqe(e){e.window_size=2*e.w_size,Dl(e.head),e.max_lazy_match=pd[e.level].max_lazy,e.good_match=pd[e.level].good_length,e.nice_match=pd[e.level].nice_length,e.max_chain_length=pd[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=De-1,e.match_available=0,e.ins_h=0}function Xqe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=c1,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Si.Buf16(Bqe*2),this.dyn_dtree=new Si.Buf16((2*zqe+1)*2),this.bl_tree=new Si.Buf16((2*Uqe+1)*2),Dl(this.dyn_ltree),Dl(this.dyn_dtree),Dl(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Si.Buf16(Hqe+1),this.heap=new Si.Buf16(2*J2+1),Dl(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Si.Buf16(2*J2+1),Dl(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _X(e){var t;return!e||!e.state?jl(e,Rn):(e.total_in=e.total_out=0,e.data_type=Fqe,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?u1:_u,e.adler=t.wrap===2?0:1,t.last_flush=Su,kn._tr_init(t),po)}function bX(e){var t=_X(e);return t===po&&Zqe(e.state),t}function Qqe(e,t){return!e||!e.state||e.state.wrap!==2?Rn:(e.state.gzhead=t,po)}function wX(e,t,r,i,n,s){if(!e)return Rn;var o=1;if(t===Cqe&&(t=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),n<1||n>Dqe||r!==c1||i<8||i>15||t<0||t>9||s<0||s>Nqe)return jl(e,Rn);i===8&&(i=9);var a=new Xqe;return e.state=a,a.strm=e,a.wrap=o,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=n+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+De-1)/De),a.window=new Si.Buf8(a.w_size*2),a.head=new Si.Buf16(a.hash_size),a.prev=new Si.Buf16(a.w_size),a.lit_bufsize=1<<n+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Si.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=s,a.method=r,bX(e)}function eMe(e,t){return wX(e,t,c1,Lqe,jqe,$qe)}function tMe(e,t){var r,i,n,s;if(!e||!e.state||t>pX||t<0)return e?jl(e,Rn):Rn;if(i=e.state,!e.output||!e.input&&e.avail_in!==0||i.status===Ry&&t!==ql)return jl(e,e.avail_out===0?Y2:Rn);if(i.strm=e,r=i.last_flush,i.last_flush=t,i.status===u1)if(i.wrap===2)e.adler=0,Me(i,31),Me(i,139),Me(i,8),i.gzhead?(Me(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Me(i,i.gzhead.time&255),Me(i,i.gzhead.time>>8&255),Me(i,i.gzhead.time>>16&255),Me(i,i.gzhead.time>>24&255),Me(i,i.level===9?2:i.strategy>=s1||i.level<2?4:0),Me(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(Me(i,i.gzhead.extra.length&255),Me(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=$l(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=Z2):(Me(i,0),Me(i,0),Me(i,0),Me(i,0),Me(i,0),Me(i,i.level===9?2:i.strategy>=s1||i.level<2?4:0),Me(i,Wqe),i.status=_u);else{var o=c1+(i.w_bits-8<<4)<<8,a=-1;i.strategy>=s1||i.level<2?a=0:i.level<6?a=1:i.level===6?a=2:a=3,o|=a<<6,i.strstart!==0&&(o|=Vqe),o+=31-o%31,i.status=_u,ky(i,o),i.strstart!==0&&(ky(i,e.adler>>>16),ky(i,e.adler&65535)),e.adler=1}if(i.status===Z2)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=$l(e.adler,i.pending_buf,i.pending-n,n)),Fl(e),n=i.pending,i.pending===i.pending_buf_size));)Me(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=$l(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=o1)}else i.status=o1;if(i.status===o1)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=$l(e.adler,i.pending_buf,i.pending-n,n)),Fl(e),n=i.pending,i.pending===i.pending_buf_size)){s=1;break}i.gzindex<i.gzhead.name.length?s=i.gzhead.name.charCodeAt(i.gzindex++)&255:s=0,Me(i,s)}while(s!==0);i.gzhead.hcrc&&i.pending>n&&(e.adler=$l(e.adler,i.pending_buf,i.pending-n,n)),s===0&&(i.gzindex=0,i.status=a1)}else i.status=a1;if(i.status===a1)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=$l(e.adler,i.pending_buf,i.pending-n,n)),Fl(e),n=i.pending,i.pending===i.pending_buf_size)){s=1;break}i.gzindex<i.gzhead.comment.length?s=i.gzhead.comment.charCodeAt(i.gzindex++)&255:s=0,Me(i,s)}while(s!==0);i.gzhead.hcrc&&i.pending>n&&(e.adler=$l(e.adler,i.pending_buf,i.pending-n,n)),s===0&&(i.status=l1)}else i.status=l1;if(i.status===l1&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Fl(e),i.pending+2<=i.pending_buf_size&&(Me(i,e.adler&255),Me(i,e.adler>>8&255),e.adler=0,i.status=_u)):i.status=_u),i.pending!==0){if(Fl(e),e.avail_out===0)return i.last_flush=-1,po}else if(e.avail_in===0&&gX(t)<=gX(r)&&t!==ql)return jl(e,Y2);if(i.status===Ry&&e.avail_in!==0)return jl(e,Y2);if(e.avail_in!==0||i.lookahead!==0||t!==Su&&i.status!==Ry){var l=i.strategy===s1?Jqe(i,t):i.strategy===Iqe?Kqe(i,t):pd[i.level].func(i,t);if((l===bu||l===md)&&(i.status=Ry),l===Qt||l===bu)return e.avail_out===0&&(i.last_flush=-1),po;if(l===Ty&&(t===Tqe?kn._tr_align(i):t!==pX&&(kn._tr_stored_block(i,0,0,!1),t===Oqe&&(Dl(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),Fl(e),e.avail_out===0))return i.last_flush=-1,po}return t!==ql?po:i.wrap<=0?mX:(i.wrap===2?(Me(i,e.adler&255),Me(i,e.adler>>8&255),Me(i,e.adler>>16&255),Me(i,e.adler>>24&255),Me(i,e.total_in&255),Me(i,e.total_in>>8&255),Me(i,e.total_in>>16&255),Me(i,e.total_in>>24&255)):(ky(i,e.adler>>>16),ky(i,e.adler&65535)),Fl(e),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?po:mX)}function rMe(e){var t;return!e||!e.state?Rn:(t=e.state.status,t!==u1&&t!==Z2&&t!==o1&&t!==a1&&t!==l1&&t!==_u&&t!==Ry?jl(e,Rn):(e.state=null,t===_u?jl(e,Aqe):po))}function iMe(e,t){var r=t.length,i,n,s,o,a,l,c,u;if(!e||!e.state||(i=e.state,o=i.wrap,o===2||o===1&&i.status!==u1||i.lookahead))return Rn;for(o===1&&(e.adler=yX(e.adler,t,r,0)),i.wrap=0,r>=i.w_size&&(o===0&&(Dl(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new Si.Buf8(i.w_size),Si.arraySet(u,t,r-i.w_size,i.w_size,0),t=u,r=i.w_size),a=e.avail_in,l=e.next_in,c=e.input,e.avail_in=r,e.next_in=0,e.input=t,wu(i);i.lookahead>=De;){n=i.strstart,s=i.lookahead-(De-1);do i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+De-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++;while(--s);i.strstart=n,i.lookahead=De-1,wu(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=De-1,i.match_available=0,e.next_in=l,e.input=c,e.avail_in=a,i.wrap=o,po}mo.deflateInit=eMe;mo.deflateInit2=wX;mo.deflateReset=bX;mo.deflateResetKeep=_X;mo.deflateSetHeader=Qqe;mo.deflate=tMe;mo.deflateEnd=rMe;mo.deflateSetDictionary=iMe;mo.deflateInfo="pako deflate (from Nodeca project)"});var X2=w(gd=>{"use strict";var f1=ha(),xX=!0,EX=!0;try{String.fromCharCode.apply(null,[0])}catch{xX=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{EX=!1}var Oy=new f1.Buf8(256);for(pa=0;pa<256;pa++)Oy[pa]=pa>=252?6:pa>=248?5:pa>=240?4:pa>=224?3:pa>=192?2:1;var pa;Oy[254]=Oy[254]=1;gd.string2buf=function(e){var t,r,i,n,s,o=e.length,a=0;for(n=0;n<o;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<o&&(i=e.charCodeAt(n+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),n++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(t=new f1.Buf8(a),s=0,n=0;s<a;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<o&&(i=e.charCodeAt(n+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),n++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};function kX(e,t){if(t<65534&&(e.subarray&&EX||!e.subarray&&xX))return String.fromCharCode.apply(null,f1.shrinkBuf(e,t));for(var r="",i=0;i<t;i++)r+=String.fromCharCode(e[i]);return r}gd.buf2binstring=function(e){return kX(e,e.length)};gd.binstring2buf=function(e){for(var t=new f1.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t};gd.buf2string=function(e,t){var r,i,n,s,o=t||e.length,a=new Array(o*2);for(i=0,r=0;r<o;){if(n=e[r++],n<128){a[i++]=n;continue}if(s=Oy[n],s>4){a[i++]=65533,r+=s-1;continue}for(n&=s===2?31:s===3?15:7;s>1&&r<o;)n=n<<6|e[r++]&63,s--;if(s>1){a[i++]=65533;continue}n<65536?a[i++]=n:(n-=65536,a[i++]=55296|n>>10&1023,a[i++]=56320|n&1023)}return kX(a,i)};gd.utf8border=function(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Oy[e[r]]>t?r:t}});var Q2=w((XGe,RX)=>{"use strict";function nMe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}RX.exports=nMe});var CX=w(Py=>{"use strict";var Ay=SX(),Cy=ha(),tN=X2(),rN=n1(),sMe=Q2(),AX=Object.prototype.toString,oMe=0,eN=4,yd=0,TX=1,OX=2,aMe=-1,lMe=0,cMe=8;function xu(e){if(!(this instanceof xu))return new xu(e);this.options=Cy.assign({level:aMe,method:cMe,chunkSize:16384,windowBits:15,memLevel:8,strategy:lMe,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sMe,this.strm.avail_out=0;var r=Ay.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==yd)throw new Error(rN[r]);if(t.header&&Ay.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(typeof t.dictionary=="string"?i=tN.string2buf(t.dictionary):AX.call(t.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(t.dictionary):i=t.dictionary,r=Ay.deflateSetDictionary(this.strm,i),r!==yd)throw new Error(rN[r]);this._dict_set=!0}}xu.prototype.push=function(e,t){var r=this.strm,i=this.options.chunkSize,n,s;if(this.ended)return!1;s=t===~~t?t:t===!0?eN:oMe,typeof e=="string"?r.input=tN.string2buf(e):AX.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new Cy.Buf8(i),r.next_out=0,r.avail_out=i),n=Ay.deflate(r,s),n!==TX&&n!==yd)return this.onEnd(n),this.ended=!0,!1;(r.avail_out===0||r.avail_in===0&&(s===eN||s===OX))&&(this.options.to==="string"?this.onData(tN.buf2binstring(Cy.shrinkBuf(r.output,r.next_out))):this.onData(Cy.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||r.avail_out===0)&&n!==TX);return s===eN?(n=Ay.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===yd):(s===OX&&(this.onEnd(yd),r.avail_out=0),!0)};xu.prototype.onData=function(e){this.chunks.push(e)};xu.prototype.onEnd=function(e){e===yd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Cy.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function iN(e,t){var r=new xu(t);if(r.push(e,!0),r.err)throw r.msg||rN[r.err];return r.result}function uMe(e,t){return t=t||{},t.raw=!0,iN(e,t)}function fMe(e,t){return t=t||{},t.gzip=!0,iN(e,t)}Py.Deflate=xu;Py.deflate=iN;Py.deflateRaw=uMe;Py.gzip=fMe});var IX=w((e7e,PX)=>{"use strict";var h1=30,hMe=12;PX.exports=function(t,r){var i,n,s,o,a,l,c,u,f,h,p,m,g,y,_,S,b,v,O,j,R,I,F,T,$;i=t.state,n=t.next_in,T=t.input,s=n+(t.avail_in-5),o=t.next_out,$=t.output,a=o-(r-t.avail_out),l=o+(t.avail_out-257),c=i.dmax,u=i.wsize,f=i.whave,h=i.wnext,p=i.window,m=i.hold,g=i.bits,y=i.lencode,_=i.distcode,S=(1<<i.lenbits)-1,b=(1<<i.distbits)-1;e:do{g<15&&(m+=T[n++]<<g,g+=8,m+=T[n++]<<g,g+=8),v=y[m&S];t:for(;;){if(O=v>>>24,m>>>=O,g-=O,O=v>>>16&255,O===0)$[o++]=v&65535;else if(O&16){j=v&65535,O&=15,O&&(g<O&&(m+=T[n++]<<g,g+=8),j+=m&(1<<O)-1,m>>>=O,g-=O),g<15&&(m+=T[n++]<<g,g+=8,m+=T[n++]<<g,g+=8),v=_[m&b];r:for(;;){if(O=v>>>24,m>>>=O,g-=O,O=v>>>16&255,O&16){if(R=v&65535,O&=15,g<O&&(m+=T[n++]<<g,g+=8,g<O&&(m+=T[n++]<<g,g+=8)),R+=m&(1<<O)-1,R>c){t.msg="invalid distance too far back",i.mode=h1;break e}if(m>>>=O,g-=O,O=o-a,R>O){if(O=R-O,O>f&&i.sane){t.msg="invalid distance too far back",i.mode=h1;break e}if(I=0,F=p,h===0){if(I+=u-O,O<j){j-=O;do $[o++]=p[I++];while(--O);I=o-R,F=$}}else if(h<O){if(I+=u+h-O,O-=h,O<j){j-=O;do $[o++]=p[I++];while(--O);if(I=0,h<j){O=h,j-=O;do $[o++]=p[I++];while(--O);I=o-R,F=$}}}else if(I+=h-O,O<j){j-=O;do $[o++]=p[I++];while(--O);I=o-R,F=$}for(;j>2;)$[o++]=F[I++],$[o++]=F[I++],$[o++]=F[I++],j-=3;j&&($[o++]=F[I++],j>1&&($[o++]=F[I++]))}else{I=o-R;do $[o++]=$[I++],$[o++]=$[I++],$[o++]=$[I++],j-=3;while(j>2);j&&($[o++]=$[I++],j>1&&($[o++]=$[I++]))}}else if(O&64){t.msg="invalid distance code",i.mode=h1;break e}else{v=_[(v&65535)+(m&(1<<O)-1)];continue r}break}}else if(O&64)if(O&32){i.mode=hMe;break e}else{t.msg="invalid literal/length code",i.mode=h1;break e}else{v=y[(v&65535)+(m&(1<<O)-1)];continue t}break}}while(n<s&&o<l);j=g>>3,n-=j,g-=j<<3,m&=(1<<g)-1,t.next_in=n,t.next_out=o,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=o<l?257+(l-o):257-(o-l),i.hold=m,i.bits=g}});var qX=w((t7e,jX)=>{"use strict";var NX=ha(),vd=15,$X=852,FX=592,DX=0,nN=1,LX=2,dMe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],pMe=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],mMe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],gMe=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];jX.exports=function(t,r,i,n,s,o,a,l){var c=l.bits,u=0,f=0,h=0,p=0,m=0,g=0,y=0,_=0,S=0,b=0,v,O,j,R,I,F=null,T=0,$,z=new NX.Buf16(vd+1),H=new NX.Buf16(vd+1),X=null,ie=0,J,Z,he;for(u=0;u<=vd;u++)z[u]=0;for(f=0;f<n;f++)z[r[i+f]]++;for(m=c,p=vd;p>=1&&z[p]===0;p--);if(m>p&&(m=p),p===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<p&&z[h]===0;h++);for(m<h&&(m=h),_=1,u=1;u<=vd;u++)if(_<<=1,_-=z[u],_<0)return-1;if(_>0&&(t===DX||p!==1))return-1;for(H[1]=0,u=1;u<vd;u++)H[u+1]=H[u]+z[u];for(f=0;f<n;f++)r[i+f]!==0&&(a[H[r[i+f]]++]=f);if(t===DX?(F=X=a,$=19):t===nN?(F=dMe,T-=257,X=pMe,ie-=257,$=256):(F=mMe,X=gMe,$=-1),b=0,f=0,u=h,I=o,g=m,y=0,j=-1,S=1<<m,R=S-1,t===nN&&S>$X||t===LX&&S>FX)return 1;for(;;){J=u-y,a[f]<$?(Z=0,he=a[f]):a[f]>$?(Z=X[ie+a[f]],he=F[T+a[f]]):(Z=96,he=0),v=1<<u-y,O=1<<g,h=O;do O-=v,s[I+(b>>y)+O]=J<<24|Z<<16|he|0;while(O!==0);for(v=1<<u-1;b&v;)v>>=1;if(v!==0?(b&=v-1,b+=v):b=0,f++,--z[u]===0){if(u===p)break;u=r[i+a[f]]}if(u>m&&(b&R)!==j){for(y===0&&(y=m),I+=h,g=u-y,_=1<<g;g+y<p&&(_-=z[g+y],!(_<=0));)g++,_<<=1;if(S+=1<<g,t===nN&&S>$X||t===LX&&S>FX)return 1;j=b&R,s[j]=m<<24|g<<16|I-o|0}}return b!==0&&(s[I+b]=u-y<<24|64<<16|0),l.bits=m,0}});var bQ=w(ys=>{"use strict";var nn=ha(),uN=W2(),go=G2(),yMe=IX(),Iy=qX(),vMe=0,fQ=1,hQ=2,MX=4,_Me=5,d1=6,Eu=0,bMe=1,wMe=2,Tn=-2,dQ=-3,fN=-4,SMe=-5,zX=8,pQ=1,UX=2,BX=3,HX=4,VX=5,WX=6,GX=7,YX=8,KX=9,JX=10,g1=11,ma=12,sN=13,ZX=14,oN=15,XX=16,QX=17,eQ=18,tQ=19,p1=20,m1=21,rQ=22,iQ=23,nQ=24,sQ=25,oQ=26,aN=27,aQ=28,lQ=29,mt=30,hN=31,xMe=32,EMe=852,kMe=592,RMe=15,TMe=RMe;function cQ(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function OMe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new nn.Buf16(320),this.work=new nn.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function mQ(e){var t;return!e||!e.state?Tn:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=pQ,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new nn.Buf32(EMe),t.distcode=t.distdyn=new nn.Buf32(kMe),t.sane=1,t.back=-1,Eu)}function gQ(e){var t;return!e||!e.state?Tn:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,mQ(e))}function yQ(e,t){var r,i;return!e||!e.state||(i=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Tn:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,gQ(e))}function vQ(e,t){var r,i;return e?(i=new OMe,e.state=i,i.window=null,r=yQ(e,t),r!==Eu&&(e.state=null),r):Tn}function AMe(e){return vQ(e,TMe)}var uQ=!0,lN,cN;function CMe(e){if(uQ){var t;for(lN=new nn.Buf32(512),cN=new nn.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Iy(fQ,e.lens,0,288,lN,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Iy(hQ,e.lens,0,32,cN,0,e.work,{bits:5}),uQ=!1}e.lencode=lN,e.lenbits=9,e.distcode=cN,e.distbits=5}function _Q(e,t,r,i){var n,s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new nn.Buf8(s.wsize)),i>=s.wsize?(nn.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(n=s.wsize-s.wnext,n>i&&(n=i),nn.arraySet(s.window,t,r-i,n,s.wnext),i-=n,i?(nn.arraySet(s.window,t,r-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0}function PMe(e,t){var r,i,n,s,o,a,l,c,u,f,h,p,m,g,y=0,_,S,b,v,O,j,R,I,F=new nn.Buf8(4),T,$,z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Tn;r=e.state,r.mode===ma&&(r.mode=sN),o=e.next_out,n=e.output,l=e.avail_out,s=e.next_in,i=e.input,a=e.avail_in,c=r.hold,u=r.bits,f=a,h=l,I=Eu;e:for(;;)switch(r.mode){case pQ:if(r.wrap===0){r.mode=sN;break}for(;u<16;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(r.wrap&2&&c===35615){r.check=0,F[0]=c&255,F[1]=c>>>8&255,r.check=go(r.check,F,2,0),c=0,u=0,r.mode=UX;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=mt;break}if((c&15)!==zX){e.msg="unknown compression method",r.mode=mt;break}if(c>>>=4,u-=4,R=(c&15)+8,r.wbits===0)r.wbits=R;else if(R>r.wbits){e.msg="invalid window size",r.mode=mt;break}r.dmax=1<<R,e.adler=r.check=1,r.mode=c&512?JX:ma,c=0,u=0;break;case UX:for(;u<16;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==zX){e.msg="unknown compression method",r.mode=mt;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=mt;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&(F[0]=c&255,F[1]=c>>>8&255,r.check=go(r.check,F,2,0)),c=0,u=0,r.mode=BX;case BX:for(;u<32;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&(F[0]=c&255,F[1]=c>>>8&255,F[2]=c>>>16&255,F[3]=c>>>24&255,r.check=go(r.check,F,4,0)),c=0,u=0,r.mode=HX;case HX:for(;u<16;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&(F[0]=c&255,F[1]=c>>>8&255,r.check=go(r.check,F,2,0)),c=0,u=0,r.mode=VX;case VX:if(r.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&(F[0]=c&255,F[1]=c>>>8&255,r.check=go(r.check,F,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=WX;case WX:if(r.flags&1024&&(p=r.length,p>a&&(p=a),p&&(r.head&&(R=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),nn.arraySet(r.head.extra,i,s,p,R)),r.flags&512&&(r.check=go(r.check,i,p,s)),a-=p,s+=p,r.length-=p),r.length))break e;r.length=0,r.mode=GX;case GX:if(r.flags&2048){if(a===0)break e;p=0;do R=i[s+p++],r.head&&R&&r.length<65536&&(r.head.name+=String.fromCharCode(R));while(R&&p<a);if(r.flags&512&&(r.check=go(r.check,i,p,s)),a-=p,s+=p,R)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=YX;case YX:if(r.flags&4096){if(a===0)break e;p=0;do R=i[s+p++],r.head&&R&&r.length<65536&&(r.head.comment+=String.fromCharCode(R));while(R&&p<a);if(r.flags&512&&(r.check=go(r.check,i,p,s)),a-=p,s+=p,R)break e}else r.head&&(r.head.comment=null);r.mode=KX;case KX:if(r.flags&512){for(;u<16;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=mt;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=ma;break;case JX:for(;u<32;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}e.adler=r.check=cQ(c),c=0,u=0,r.mode=g1;case g1:if(r.havedict===0)return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,r.hold=c,r.bits=u,wMe;e.adler=r.check=1,r.mode=ma;case ma:if(t===_Me||t===d1)break e;case sN:if(r.last){c>>>=u&7,u-=u&7,r.mode=aN;break}for(;u<3;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=ZX;break;case 1:if(CMe(r),r.mode=p1,t===d1){c>>>=2,u-=2;break e}break;case 2:r.mode=QX;break;case 3:e.msg="invalid block type",r.mode=mt}c>>>=2,u-=2;break;case ZX:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=mt;break}if(r.length=c&65535,c=0,u=0,r.mode=oN,t===d1)break e;case oN:r.mode=XX;case XX:if(p=r.length,p){if(p>a&&(p=a),p>l&&(p=l),p===0)break e;nn.arraySet(n,i,s,p,o),a-=p,s+=p,l-=p,o+=p,r.length-=p;break}r.mode=ma;break;case QX:for(;u<14;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=mt;break}r.have=0,r.mode=eQ;case eQ:for(;r.have<r.ncode;){for(;u<3;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}r.lens[z[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,T={bits:r.lenbits},I=Iy(vMe,r.lens,0,19,r.lencode,0,r.work,T),r.lenbits=T.bits,I){e.msg="invalid code lengths set",r.mode=mt;break}r.have=0,r.mode=tQ;case tQ:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[c&(1<<r.lenbits)-1],_=y>>>24,S=y>>>16&255,b=y&65535,!(_<=u);){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(b<16)c>>>=_,u-=_,r.lens[r.have++]=b;else{if(b===16){for($=_+2;u<$;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(c>>>=_,u-=_,r.have===0){e.msg="invalid bit length repeat",r.mode=mt;break}R=r.lens[r.have-1],p=3+(c&3),c>>>=2,u-=2}else if(b===17){for($=_+3;u<$;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}c>>>=_,u-=_,R=0,p=3+(c&7),c>>>=3,u-=3}else{for($=_+7;u<$;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}c>>>=_,u-=_,R=0,p=11+(c&127),c>>>=7,u-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=mt;break}for(;p--;)r.lens[r.have++]=R}}if(r.mode===mt)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=mt;break}if(r.lenbits=9,T={bits:r.lenbits},I=Iy(fQ,r.lens,0,r.nlen,r.lencode,0,r.work,T),r.lenbits=T.bits,I){e.msg="invalid literal/lengths set",r.mode=mt;break}if(r.distbits=6,r.distcode=r.distdyn,T={bits:r.distbits},I=Iy(hQ,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,T),r.distbits=T.bits,I){e.msg="invalid distances set",r.mode=mt;break}if(r.mode=p1,t===d1)break e;case p1:r.mode=m1;case m1:if(a>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,r.hold=c,r.bits=u,yMe(e,h),o=e.next_out,n=e.output,l=e.avail_out,s=e.next_in,i=e.input,a=e.avail_in,c=r.hold,u=r.bits,r.mode===ma&&(r.back=-1);break}for(r.back=0;y=r.lencode[c&(1<<r.lenbits)-1],_=y>>>24,S=y>>>16&255,b=y&65535,!(_<=u);){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(S&&!(S&240)){for(v=_,O=S,j=b;y=r.lencode[j+((c&(1<<v+O)-1)>>v)],_=y>>>24,S=y>>>16&255,b=y&65535,!(v+_<=u);){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}c>>>=v,u-=v,r.back+=v}if(c>>>=_,u-=_,r.back+=_,r.length=b,S===0){r.mode=oQ;break}if(S&32){r.back=-1,r.mode=ma;break}if(S&64){e.msg="invalid literal/length code",r.mode=mt;break}r.extra=S&15,r.mode=rQ;case rQ:if(r.extra){for($=r.extra;u<$;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=iQ;case iQ:for(;y=r.distcode[c&(1<<r.distbits)-1],_=y>>>24,S=y>>>16&255,b=y&65535,!(_<=u);){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(!(S&240)){for(v=_,O=S,j=b;y=r.distcode[j+((c&(1<<v+O)-1)>>v)],_=y>>>24,S=y>>>16&255,b=y&65535,!(v+_<=u);){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}c>>>=v,u-=v,r.back+=v}if(c>>>=_,u-=_,r.back+=_,S&64){e.msg="invalid distance code",r.mode=mt;break}r.offset=b,r.extra=S&15,r.mode=nQ;case nQ:if(r.extra){for($=r.extra;u<$;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=mt;break}r.mode=sQ;case sQ:if(l===0)break e;if(p=h-l,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=mt;break}p>r.wnext?(p-=r.wnext,m=r.wsize-p):m=r.wnext-p,p>r.length&&(p=r.length),g=r.window}else g=n,m=o-r.offset,p=r.length;p>l&&(p=l),l-=p,r.length-=p;do n[o++]=g[m++];while(--p);r.length===0&&(r.mode=m1);break;case oQ:if(l===0)break e;n[o++]=r.length,l--,r.mode=m1;break;case aN:if(r.wrap){for(;u<32;){if(a===0)break e;a--,c|=i[s++]<<u,u+=8}if(h-=l,e.total_out+=h,r.total+=h,h&&(e.adler=r.check=r.flags?go(r.check,n,h,o-h):uN(r.check,n,h,o-h)),h=l,(r.flags?c:cQ(c))!==r.check){e.msg="incorrect data check",r.mode=mt;break}c=0,u=0}r.mode=aQ;case aQ:if(r.wrap&&r.flags){for(;u<32;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=mt;break}c=0,u=0}r.mode=lQ;case lQ:I=bMe;break e;case mt:I=dQ;break e;case hN:return fN;case xMe:default:return Tn}return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,r.hold=c,r.bits=u,(r.wsize||h!==e.avail_out&&r.mode<mt&&(r.mode<aN||t!==MX))&&_Q(e,e.output,e.next_out,h-e.avail_out)?(r.mode=hN,fN):(f-=e.avail_in,h-=e.avail_out,e.total_in+=f,e.total_out+=h,r.total+=h,r.wrap&&h&&(e.adler=r.check=r.flags?go(r.check,n,h,e.next_out-h):uN(r.check,n,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(r.mode===ma?128:0)+(r.mode===p1||r.mode===oN?256:0),(f===0&&h===0||t===MX)&&I===Eu&&(I=SMe),I)}function IMe(e){if(!e||!e.state)return Tn;var t=e.state;return t.window&&(t.window=null),e.state=null,Eu}function NMe(e,t){var r;return!e||!e.state||(r=e.state,!(r.wrap&2))?Tn:(r.head=t,t.done=!1,Eu)}function $Me(e,t){var r=t.length,i,n,s;return!e||!e.state||(i=e.state,i.wrap!==0&&i.mode!==g1)?Tn:i.mode===g1&&(n=1,n=uN(n,t,r,0),n!==i.check)?dQ:(s=_Q(e,t,r,r),s?(i.mode=hN,fN):(i.havedict=1,Eu))}ys.inflateReset=gQ;ys.inflateReset2=yQ;ys.inflateResetKeep=mQ;ys.inflateInit=AMe;ys.inflateInit2=vQ;ys.inflate=PMe;ys.inflateEnd=IMe;ys.inflateGetHeader=NMe;ys.inflateSetDictionary=$Me;ys.inflateInfo="pako inflate (from Nodeca project)"});var dN=w((i7e,wQ)=>{"use strict";wQ.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var xQ=w((n7e,SQ)=>{"use strict";function FMe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}SQ.exports=FMe});var kQ=w($y=>{"use strict";var _d=bQ(),Ny=ha(),y1=X2(),Nt=dN(),pN=n1(),DMe=Q2(),LMe=xQ(),EQ=Object.prototype.toString;function ku(e){if(!(this instanceof ku))return new ku(e);this.options=Ny.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new DMe,this.strm.avail_out=0;var r=_d.inflateInit2(this.strm,t.windowBits);if(r!==Nt.Z_OK)throw new Error(pN[r]);if(this.header=new LMe,_d.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=y1.string2buf(t.dictionary):EQ.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=_d.inflateSetDictionary(this.strm,t.dictionary),r!==Nt.Z_OK)))throw new Error(pN[r])}ku.prototype.push=function(e,t){var r=this.strm,i=this.options.chunkSize,n=this.options.dictionary,s,o,a,l,c,u=!1;if(this.ended)return!1;o=t===~~t?t:t===!0?Nt.Z_FINISH:Nt.Z_NO_FLUSH,typeof e=="string"?r.input=y1.binstring2buf(e):EQ.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new Ny.Buf8(i),r.next_out=0,r.avail_out=i),s=_d.inflate(r,Nt.Z_NO_FLUSH),s===Nt.Z_NEED_DICT&&n&&(s=_d.inflateSetDictionary(this.strm,n)),s===Nt.Z_BUF_ERROR&&u===!0&&(s=Nt.Z_OK,u=!1),s!==Nt.Z_STREAM_END&&s!==Nt.Z_OK)return this.onEnd(s),this.ended=!0,!1;r.next_out&&(r.avail_out===0||s===Nt.Z_STREAM_END||r.avail_in===0&&(o===Nt.Z_FINISH||o===Nt.Z_SYNC_FLUSH))&&(this.options.to==="string"?(a=y1.utf8border(r.output,r.next_out),l=r.next_out-a,c=y1.buf2string(r.output,a),r.next_out=l,r.avail_out=i-l,l&&Ny.arraySet(r.output,r.output,a,l,0),this.onData(c)):this.onData(Ny.shrinkBuf(r.output,r.next_out))),r.avail_in===0&&r.avail_out===0&&(u=!0)}while((r.avail_in>0||r.avail_out===0)&&s!==Nt.Z_STREAM_END);return s===Nt.Z_STREAM_END&&(o=Nt.Z_FINISH),o===Nt.Z_FINISH?(s=_d.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Nt.Z_OK):(o===Nt.Z_SYNC_FLUSH&&(this.onEnd(Nt.Z_OK),r.avail_out=0),!0)};ku.prototype.onData=function(e){this.chunks.push(e)};ku.prototype.onEnd=function(e){e===Nt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ny.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function mN(e,t){var r=new ku(t);if(r.push(e,!0),r.err)throw r.msg||pN[r.err];return r.result}function jMe(e,t){return t=t||{},t.raw=!0,mN(e,t)}$y.Inflate=ku;$y.inflate=mN;$y.inflateRaw=jMe;$y.ungzip=mN});var OQ=w((o7e,TQ)=>{"use strict";var qMe=ha().assign,MMe=CX(),zMe=kQ(),UMe=dN(),RQ={};qMe(RQ,MMe,zMe,UMe);TQ.exports=RQ});var CQ=w(_1=>{"use strict";var BMe=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",HMe=OQ(),AQ=_t(),v1=rn(),VMe=BMe?"uint8array":"array";_1.magic="\b\0";function Ru(e,t){v1.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}AQ.inherits(Ru,v1);Ru.prototype.processChunk=function(e){this.meta=e.meta,this._pako===null&&this._createPako(),this._pako.push(AQ.transformTo(VMe,e.data),!1)};Ru.prototype.flush=function(){v1.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)};Ru.prototype.cleanUp=function(){v1.prototype.cleanUp.call(this),this._pako=null};Ru.prototype._createPako=function(){this._pako=new HMe[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}};_1.compressWorker=function(e){return new Ru("Deflate",e)};_1.uncompressWorker=function(){return new Ru("Inflate",{})}});var yN=w(gN=>{"use strict";var PQ=rn();gN.STORE={magic:"\0\0",compressWorker:function(){return new PQ("STORE compression")},uncompressWorker:function(){return new PQ("STORE decompression")}};gN.DEFLATE=CQ()});var vN=w(Tu=>{"use strict";Tu.LOCAL_FILE_HEADER="PK";Tu.CENTRAL_FILE_HEADER="PK";Tu.CENTRAL_DIRECTORY_END="PK";Tu.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07";Tu.ZIP64_CENTRAL_DIRECTORY_END="PK";Tu.DATA_DESCRIPTOR="PK\x07\b"});var FQ=w((u7e,$Q)=>{"use strict";var bd=_t(),wd=rn(),_N=ld(),IQ=Qx(),b1=vN(),tt=function(e,t){var r="",i;for(i=0;i<t;i++)r+=String.fromCharCode(e&255),e=e>>>8;return r},WMe=function(e,t){var r=e;return e||(r=t?16893:33204),(r&65535)<<16},GMe=function(e){return(e||0)&63},NQ=function(e,t,r,i,n,s){var o=e.file,a=e.compression,l=s!==_N.utf8encode,c=bd.transformTo("string",s(o.name)),u=bd.transformTo("string",_N.utf8encode(o.name)),f=o.comment,h=bd.transformTo("string",s(f)),p=bd.transformTo("string",_N.utf8encode(f)),m=u.length!==o.name.length,g=p.length!==f.length,y,_,S="",b="",v="",O=o.dir,j=o.date,R={crc32:0,compressedSize:0,uncompressedSize:0};(!t||r)&&(R.crc32=e.crc32,R.compressedSize=e.compressedSize,R.uncompressedSize=e.uncompressedSize);var I=0;t&&(I|=8),!l&&(m||g)&&(I|=2048);var F=0,T=0;O&&(F|=16),n==="UNIX"?(T=798,F|=WMe(o.unixPermissions,O)):(T=20,F|=GMe(o.dosPermissions,O)),y=j.getUTCHours(),y=y<<6,y=y|j.getUTCMinutes(),y=y<<5,y=y|j.getUTCSeconds()/2,_=j.getUTCFullYear()-1980,_=_<<4,_=_|j.getUTCMonth()+1,_=_<<5,_=_|j.getUTCDate(),m&&(b=tt(1,1)+tt(IQ(c),4)+u,S+="up"+tt(b.length,2)+b),g&&(v=tt(1,1)+tt(IQ(h),4)+p,S+="uc"+tt(v.length,2)+v);var $="";$+=`
\0`,$+=tt(I,2),$+=a.magic,$+=tt(y,2),$+=tt(_,2),$+=tt(R.crc32,4),$+=tt(R.compressedSize,4),$+=tt(R.uncompressedSize,4),$+=tt(c.length,2),$+=tt(S.length,2);var z=b1.LOCAL_FILE_HEADER+$+c+S,H=b1.CENTRAL_FILE_HEADER+tt(T,2)+$+tt(h.length,2)+"\0\0\0\0"+tt(F,4)+tt(i,4)+c+S+h;return{fileRecord:z,dirRecord:H}},YMe=function(e,t,r,i,n){var s="",o=bd.transformTo("string",n(i));return s=b1.CENTRAL_DIRECTORY_END+"\0\0\0\0"+tt(e,2)+tt(e,2)+tt(t,4)+tt(r,4)+tt(o.length,2)+o,s},KMe=function(e){var t="";return t=b1.DATA_DESCRIPTOR+tt(e.crc32,4)+tt(e.compressedSize,4)+tt(e.uncompressedSize,4),t};function vs(e,t,r,i){wd.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}bd.inherits(vs,wd);vs.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,wd.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-i-1))/r:100}}))};vs.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=NQ(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0};vs.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=NQ(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:KMe(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null};vs.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,i=YMe(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})};vs.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()};vs.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(r){t.processChunk(r)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(r){t.error(r)}),this};vs.prototype.resume=function(){if(!wd.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0};vs.prototype.error=function(e){var t=this._sources;if(!wd.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch{}return!0};vs.prototype.lock=function(){wd.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()};$Q.exports=vs});var LQ=w(DQ=>{"use strict";var JMe=yN(),ZMe=FQ(),XMe=function(e,t){var r=e||t,i=JMe[r];if(!i)throw new Error(r+" is not a valid compression method !");return i};DQ.generateWorker=function(e,t,r){var i=new ZMe(t.streamFiles,r,t.platform,t.encodeFileName),n=0;try{e.forEach(function(s,o){n++;var a=XMe(o.options.compression,t.compression),l=o.options.compressionOptions||t.compressionOptions||{},c=o.dir,u=o.date;o._compressWorker(a,l).withStreamInfo("file",{name:s,dir:c,date:u,comment:o.comment||"",unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions}).pipe(i)}),i.entriesCount=n}catch(s){i.error(s)}return i}});var qQ=w((h7e,jQ)=>{"use strict";var QMe=_t(),w1=rn();function Fy(e,t){w1.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}QMe.inherits(Fy,w1);Fy.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(r){t.push({data:r,meta:{percent:0}})}).on("error",function(r){t.isPaused?this.generatedError=r:t.error(r)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})};Fy.prototype.pause=function(){return w1.prototype.pause.call(this)?(this._stream.pause(),!0):!1};Fy.prototype.resume=function(){return w1.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1};jQ.exports=Fy});var KQ=w((d7e,YQ)=>{"use strict";var e3e=ld(),Dy=_t(),BQ=rn(),t3e=E2(),HQ=k2(),MQ=e1(),r3e=zZ(),i3e=LQ(),zQ=fy(),n3e=qQ(),VQ=function(e,t,r){var i=Dy.getTypeOf(t),n,s=Dy.extend(r||{},HQ);s.date=s.date||new Date,s.compression!==null&&(s.compression=s.compression.toUpperCase()),typeof s.unixPermissions=="string"&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&s.unixPermissions&16384&&(s.dir=!0),s.dosPermissions&&s.dosPermissions&16&&(s.dir=!0),s.dir&&(e=WQ(e)),s.createFolders&&(n=s3e(e))&&GQ.call(this,n,!0);var o=i==="string"&&s.binary===!1&&s.base64===!1;(!r||typeof r.binary>"u")&&(s.binary=!o);var a=t instanceof MQ&&t.uncompressedSize===0;(a||s.dir||!t||t.length===0)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string");var l=null;t instanceof MQ||t instanceof BQ?l=t:zQ.isNode&&zQ.isStream(t)?l=new n3e(e,t):l=Dy.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var c=new r3e(e,l,s);this.files[e]=c},s3e=function(e){e.slice(-1)==="/"&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},WQ=function(e){return e.slice(-1)!=="/"&&(e+="/"),e},GQ=function(e,t){return t=typeof t<"u"?t:HQ.createFolders,e=WQ(e),this.files[e]||VQ.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function UQ(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var o3e={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,i;for(t in this.files)i=this.files[t],r=t.slice(this.root.length,t.length),r&&t.slice(0,this.root.length)===this.root&&e(r,i)},filter:function(e){var t=[];return this.forEach(function(r,i){e(r,i)&&t.push(i)}),t},file:function(e,t,r){if(arguments.length===1)if(UQ(e)){var i=e;return this.filter(function(s,o){return!o.dir&&i.test(s)})}else{var n=this.files[this.root+e];return n&&!n.dir?n:null}else e=this.root+e,VQ.call(this,e,t,r);return this},folder:function(e){if(!e)return this;if(UQ(e))return this.filter(function(n,s){return s.dir&&e.test(n)});var t=this.root+e,r=GQ.call(this,t),i=this.clone();return i.root=r.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||(e.slice(-1)!=="/"&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter(function(n,s){return s.name.slice(0,e.length)===e}),i=0;i<r.length;i++)delete this.files[r[i].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if(r=Dy.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:e3e.utf8encode}),r.type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),r.type==="binarystring"&&(r.type="string"),!r.type)throw new Error("No output type specified.");Dy.checkSupport(r.type),(r.platform==="darwin"||r.platform==="freebsd"||r.platform==="linux"||r.platform==="sunos")&&(r.platform="UNIX"),r.platform==="win32"&&(r.platform="DOS");var i=r.comment||this.comment||"";t=i3e.generateWorker(this,r,i)}catch(n){t=new BQ("error"),t.error(n)}return new t3e(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return e=e||{},e.type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};YQ.exports=o3e});var bN=w((p7e,ZQ)=>{"use strict";var a3e=_t();function JQ(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}JQ.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t=0,r;for(this.checkOffset(e),r=this.index+e-1;r>=this.index;r--)t=(t<<8)+this.byteAt(r);return this.index+=e,t},readString:function(e){return a3e.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(e&31)<<1))}};ZQ.exports=JQ});var wN=w((m7e,QQ)=>{"use strict";var XQ=bN(),l3e=_t();function Sd(e){XQ.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=e[t]&255}l3e.inherits(Sd,XQ);Sd.prototype.byteAt=function(e){return this.data[this.zero+e]};Sd.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),i=e.charCodeAt(2),n=e.charCodeAt(3),s=this.length-4;s>=0;--s)if(this.data[s]===t&&this.data[s+1]===r&&this.data[s+2]===i&&this.data[s+3]===n)return s-this.zero;return-1};Sd.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),i=e.charCodeAt(2),n=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&r===s[1]&&i===s[2]&&n===s[3]};Sd.prototype.readData=function(e){if(this.checkOffset(e),e===0)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};QQ.exports=Sd});var ree=w((g7e,tee)=>{"use strict";var eee=bN(),c3e=_t();function xd(e){eee.call(this,e)}c3e.inherits(xd,eee);xd.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)};xd.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero};xd.prototype.readAndCheckSignature=function(e){var t=this.readData(4);return e===t};xd.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};tee.exports=xd});var xN=w((y7e,nee)=>{"use strict";var iee=wN(),u3e=_t();function SN(e){iee.call(this,e)}u3e.inherits(SN,iee);SN.prototype.readData=function(e){if(this.checkOffset(e),e===0)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};nee.exports=SN});var aee=w((v7e,oee)=>{"use strict";var see=xN(),f3e=_t();function EN(e){see.call(this,e)}f3e.inherits(EN,see);EN.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};oee.exports=EN});var kN=w((_7e,cee)=>{"use strict";var S1=_t(),lee=ua(),h3e=wN(),d3e=ree(),p3e=aee(),m3e=xN();cee.exports=function(e){var t=S1.getTypeOf(e);return S1.checkSupport(t),t==="string"&&!lee.uint8array?new d3e(e):t==="nodebuffer"?new p3e(e):lee.uint8array?new m3e(S1.transformTo("uint8array",e)):new h3e(S1.transformTo("array",e))}});var dee=w((b7e,hee)=>{"use strict";var RN=kN(),Ml=_t(),g3e=e1(),uee=Qx(),x1=ld(),E1=yN(),y3e=ua(),v3e=0,_3e=3,b3e=function(e){for(var t in E1)if(Object.prototype.hasOwnProperty.call(E1,t)&&E1[t].magic===e)return E1[t];return null};function fee(e,t){this.options=e,this.loadOptions=t}fee.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(t=b3e(this.compressionMethod),t===null)throw new Error("Corrupted zip : compression "+Ml.pretty(this.compressionMethod)+" unknown (inner file : "+Ml.transformTo("string",this.fileName)+")");this.decompressed=new g3e(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),e===v3e&&(this.dosPermissions=this.externalFileAttributes&63),e===_3e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=RN(this.extraFields[1].value);this.uncompressedSize===Ml.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===Ml.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===Ml.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===Ml.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t=e.index+this.extraFieldsLength,r,i,n;for(this.extraFields||(this.extraFields={});e.index+4<t;)r=e.readInt(2),i=e.readInt(2),n=e.readData(i),this.extraFields[r]={id:r,length:i,value:n};e.setIndex(t)},handleUTF8:function(){var e=y3e.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=x1.utf8decode(this.fileName),this.fileCommentStr=x1.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(t!==null)this.fileNameStr=t;else{var r=Ml.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var i=this.findExtraFieldUnicodeComment();if(i!==null)this.fileCommentStr=i;else{var n=Ml.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(n)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=RN(e.value);return t.readInt(1)!==1||uee(this.fileName)!==t.readInt(4)?null:x1.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=RN(e.value);return t.readInt(1)!==1||uee(this.fileComment)!==t.readInt(4)?null:x1.utf8decode(t.readData(e.length-5))}return null}};hee.exports=fee});var gee=w((w7e,mee)=>{"use strict";var w3e=kN(),ga=_t(),_s=vN(),S3e=dee(),x3e=ua();function pee(e){this.files=[],this.loadOptions=e}pee.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+ga.pretty(t)+", expected "+ga.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4),n=i===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=x3e.uint8array?"uint8array":"array",r=ga.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e=this.zip64EndOfCentralSize-44,t=0,r,i,n;t<e;)r=this.reader.readInt(2),i=this.reader.readInt(4),n=this.reader.readData(i),this.zip64ExtensibleData[r]={id:r,length:i,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(_s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(_s.CENTRAL_FILE_HEADER);)e=new S3e({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(_s.CENTRAL_DIRECTORY_END);if(e<0){var t=!this.isSignature(0,_s.LOCAL_FILE_HEADER);throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(e);var r=e;if(this.checkSignature(_s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===ga.MAX_VALUE_16BITS||this.diskWithCentralDirStart===ga.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===ga.MAX_VALUE_16BITS||this.centralDirRecords===ga.MAX_VALUE_16BITS||this.centralDirSize===ga.MAX_VALUE_32BITS||this.centralDirOffset===ga.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(_s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),e<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(_s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,_s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(_s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(_s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var n=r-i;if(n>0)this.isSignature(r,_s.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=w3e(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};mee.exports=pee});var _ee=w((S7e,vee)=>{"use strict";var TN=_t(),k1=sd(),E3e=ld(),k3e=gee(),R3e=O2(),yee=fy();function T3e(e){return new k1.Promise(function(t,r){var i=e.decompressed.getContentWorker().pipe(new R3e);i.on("error",function(n){r(n)}).on("end",function(){i.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}vee.exports=function(e,t){var r=this;return t=TN.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:E3e.utf8decode}),yee.isNode&&yee.isStream(e)?k1.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):TN.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(i){var n=new k3e(t);return n.load(i),n}).then(function(n){var s=[k1.Promise.resolve(n)],o=n.files;if(t.checkCRC32)for(var a=0;a<o.length;a++)s.push(T3e(o[a]));return k1.Promise.all(s)}).then(function(n){for(var s=n.shift(),o=s.files,a=0;a<o.length;a++){var l=o[a],c=l.fileNameStr,u=TN.resolve(l.fileNameStr);r.file(u,l.decompressed,{binary:!0,optimizedBinaryString:!0,date:l.date,dir:l.dir,comment:l.fileCommentStr.length?l.fileCommentStr:null,unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions,createFolders:t.createFolders}),l.dir||(r.file(u).unsafeOriginalName=c)}return s.zipComment.length&&(r.comment=s.zipComment),r})}});var wee=w((x7e,bee)=>{"use strict";function On(){if(!(this instanceof On))return new On;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new On;for(var t in this)typeof this[t]!="function"&&(e[t]=this[t]);return e}}On.prototype=KQ();On.prototype.loadAsync=_ee();On.support=ua();On.defaults=k2();On.version="3.10.1";On.loadAsync=function(e,t){return new On().loadAsync(e,t)};On.external=sd();bee.exports=On});var A3e={};Iee(A3e,{default:()=>O3e});module.exports=Nee(A3e);var Ly=require("obsidian");var pK=Bt(u8());var Js=Bt(require("path"));var zEe=Object.prototype.toString,If=Array.isArray||function(t){return zEe.call(t)==="[object Array]"};function YA(e){return typeof e=="function"}function UEe(e){return If(e)?"array":typeof e}function GA(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function f8(e,t){return e!=null&&typeof e=="object"&&t in e}function BEe(e,t){return e!=null&&typeof e!="object"&&e.hasOwnProperty&&e.hasOwnProperty(t)}var HEe=RegExp.prototype.test;function VEe(e,t){return HEe.call(e,t)}var WEe=/\S/;function GEe(e){return!VEe(WEe,e)}var YEe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function KEe(e){return String(e).replace(/[&<>"'`=\/]/g,function(r){return YEe[r]})}var JEe=/\s*/,ZEe=/\s+/,h8=/\s*=/,XEe=/\s*\}/,QEe=/#|\^|\/|>|\{|&|=|!/;function eke(e,t){if(!e)return[];var r=!1,i=[],n=[],s=[],o=!1,a=!1,l="",c=0;function u(){if(o&&!a)for(;s.length;)delete n[s.pop()];else s=[];o=!1,a=!1}var f,h,p;function m(I){if(typeof I=="string"&&(I=I.split(ZEe,2)),!If(I)||I.length!==2)throw new Error("Invalid tags: "+I);f=new RegExp(GA(I[0])+"\\s*"),h=new RegExp("\\s*"+GA(I[1])),p=new RegExp("\\s*"+GA("}"+I[1]))}m(t||vn.tags);for(var g=new fm(e),y,_,S,b,v,O;!g.eos();){if(y=g.pos,S=g.scanUntil(f),S)for(var j=0,R=S.length;j<R;++j)b=S.charAt(j),GEe(b)?(s.push(n.length),l+=b):(a=!0,r=!0,l+=" "),n.push(["text",b,y,y+1]),y+=1,b===`
`&&(u(),l="",c=0,r=!1);if(!g.scan(f))break;if(o=!0,_=g.scan(QEe)||"name",g.scan(JEe),_==="="?(S=g.scanUntil(h8),g.scan(h8),g.scanUntil(h)):_==="{"?(S=g.scanUntil(p),g.scan(XEe),g.scanUntil(h),_="&"):S=g.scanUntil(h),!g.scan(h))throw new Error("Unclosed tag at "+g.pos);if(_==">"?v=[_,S,y,g.pos,l,c,r]:v=[_,S,y,g.pos],c++,n.push(v),_==="#"||_==="^")i.push(v);else if(_==="/"){if(O=i.pop(),!O)throw new Error('Unopened section "'+S+'" at '+y);if(O[1]!==S)throw new Error('Unclosed section "'+O[1]+'" at '+y)}else _==="name"||_==="{"||_==="&"?a=!0:_==="="&&m(S)}if(u(),O=i.pop(),O)throw new Error('Unclosed section "'+O[1]+'" at '+g.pos);return rke(tke(n))}function tke(e){for(var t=[],r,i,n=0,s=e.length;n<s;++n)r=e[n],r&&(r[0]==="text"&&i&&i[0]==="text"?(i[1]+=r[1],i[3]=r[3]):(t.push(r),i=r));return t}function rke(e){for(var t=[],r=t,i=[],n,s,o=0,a=e.length;o<a;++o)switch(n=e[o],n[0]){case"#":case"^":r.push(n),i.push(n),r=n[4]=[];break;case"/":s=i.pop(),s[5]=n[2],r=i.length>0?i[i.length-1][4]:t;break;default:r.push(n)}return t}function fm(e){this.string=e,this.tail=e,this.pos=0}fm.prototype.eos=function(){return this.tail===""};fm.prototype.scan=function(t){var r=this.tail.match(t);if(!r||r.index!==0)return"";var i=r[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i};fm.prototype.scanUntil=function(t){var r=this.tail.search(t),i;switch(r){case-1:i=this.tail,this.tail="";break;case 0:i="";break;default:i=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=i.length,i};function Pf(e,t){this.view=e,this.cache={".":this.view},this.parent=t}Pf.prototype.push=function(t){return new Pf(t,this)};Pf.prototype.lookup=function(t){var r=this.cache,i;if(r.hasOwnProperty(t))i=r[t];else{for(var n=this,s,o,a,l=!1;n;){if(t.indexOf(".")>0)for(s=n.view,o=t.split("."),a=0;s!=null&&a<o.length;)a===o.length-1&&(l=f8(s,o[a])||BEe(s,o[a])),s=s[o[a++]];else s=n.view[t],l=f8(n.view,t);if(l){i=s;break}n=n.parent}r[t]=i}return YA(i)&&(i=i.call(this.view)),i};function si(){this.templateCache={_cache:{},set:function(t,r){this._cache[t]=r},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}si.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};si.prototype.parse=function(t,r){var i=this.templateCache,n=t+":"+(r||vn.tags).join(":"),s=typeof i<"u",o=s?i.get(n):void 0;return o==null&&(o=eke(t,r),s&&i.set(n,o)),o};si.prototype.render=function(t,r,i,n){var s=this.getConfigTags(n),o=this.parse(t,s),a=r instanceof Pf?r:new Pf(r,void 0);return this.renderTokens(o,a,i,t,n)};si.prototype.renderTokens=function(t,r,i,n,s){for(var o="",a,l,c,u=0,f=t.length;u<f;++u)c=void 0,a=t[u],l=a[0],l==="#"?c=this.renderSection(a,r,i,n,s):l==="^"?c=this.renderInverted(a,r,i,n,s):l===">"?c=this.renderPartial(a,r,i,s):l==="&"?c=this.unescapedValue(a,r):l==="name"?c=this.escapedValue(a,r,s):l==="text"&&(c=this.rawValue(a)),c!==void 0&&(o+=c);return o};si.prototype.renderSection=function(t,r,i,n,s){var o=this,a="",l=r.lookup(t[1]);function c(h){return o.render(h,r,i,s)}if(l){if(If(l))for(var u=0,f=l.length;u<f;++u)a+=this.renderTokens(t[4],r.push(l[u]),i,n,s);else if(typeof l=="object"||typeof l=="string"||typeof l=="number")a+=this.renderTokens(t[4],r.push(l),i,n,s);else if(YA(l)){if(typeof n!="string")throw new Error("Cannot use higher-order sections without the original template");l=l.call(r.view,n.slice(t[3],t[5]),c),l!=null&&(a+=l)}else a+=this.renderTokens(t[4],r,i,n,s);return a}};si.prototype.renderInverted=function(t,r,i,n,s){var o=r.lookup(t[1]);if(!o||If(o)&&o.length===0)return this.renderTokens(t[4],r,i,n,s)};si.prototype.indentPartial=function(t,r,i){for(var n=r.replace(/[^ \t]/g,""),s=t.split(`
`),o=0;o<s.length;o++)s[o].length&&(o>0||!i)&&(s[o]=n+s[o]);return s.join(`
`)};si.prototype.renderPartial=function(t,r,i,n){if(i){var s=this.getConfigTags(n),o=YA(i)?i(t[1]):i[t[1]];if(o!=null){var a=t[6],l=t[5],c=t[4],u=o;l==0&&c&&(u=this.indentPartial(o,c,a));var f=this.parse(u,s);return this.renderTokens(f,r,i,u,n)}}};si.prototype.unescapedValue=function(t,r){var i=r.lookup(t[1]);if(i!=null)return i};si.prototype.escapedValue=function(t,r,i){var n=this.getConfigEscape(i)||vn.escape,s=r.lookup(t[1]);if(s!=null)return typeof s=="number"&&n===vn.escape?String(s):n(s)};si.prototype.rawValue=function(t){return t[1]};si.prototype.getConfigTags=function(t){return If(t)?t:t&&typeof t=="object"?t.tags:void 0};si.prototype.getConfigEscape=function(t){if(t&&typeof t=="object"&&!If(t))return t.escape};var vn={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){um.templateCache=e},get templateCache(){return um.templateCache}},um=new si;vn.clearCache=function(){return um.clearCache()};vn.parse=function(t,r){return um.parse(t,r)};vn.render=function(t,r,i,n){if(typeof t!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+UEe(t)+'" was given as the first argument for mustache#render(template, view, partials)');return um.render(t,r,i,n)};vn.escape=KEe;vn.Scanner=fm;vn.Context=Pf;vn.Writer=si;var d8=vn;var N9=Bt(jb()),Ew=require("obsidian"),qs=Bt(require("path"));var a9='<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><path fill="currentColor" stroke="currentColor" d="M100 74.242V1.516H0v72.726h45.453v15.153H31.816v9.09h36.368v-9.09H54.547V74.242Zm-90.91-9.09V10.605h81.82v54.547Zm0 0"/><path fill="currentColor" stroke="currentColor" d="M54.547 19.695h9.09V56.06h-9.09ZM72.727 25.758h9.09v30.305h-9.09ZM36.363 31.816h9.09V56.06h-9.09ZM18.184 22.727h9.09v33.335h-9.09Zm0 0"/></svg>',l9='<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><path fill="currentColor" stroke="currentColor" d="M70.691 87.988a38.342 38.342 0 0 1-3.414 1.125 1.885 1.885 0 1 0 1.012 3.633 41.67 41.67 0 0 0 3.75-1.234 1.886 1.886 0 1 0-1.348-3.524ZM80.14 82.82a41.04 41.04 0 0 1-2.984 2.008c-.89.54-1.176 1.7-.633 2.59a1.88 1.88 0 0 0 2.59.633 43.628 43.628 0 0 0 3.278-2.203 1.891 1.891 0 0 0 .39-2.637 1.884 1.884 0 0 0-2.64-.39ZM60.2 90.402c-1.184.11-2.395.164-3.595.164a1.883 1.883 0 0 0-1.886 1.887c0 1.043.84 1.887 1.886 1.887 1.313 0 2.637-.059 3.934-.176a1.89 1.89 0 0 0 1.711-2.05c-.094-1.04-1.027-1.821-2.05-1.712ZM95.73 64.96a1.884 1.884 0 0 0-2.46 1.032 38.605 38.605 0 0 1-1.52 3.262 1.893 1.893 0 0 0 .8 2.547c.278.144.579.21.872.21.68 0 1.34-.366 1.676-1.011a43.077 43.077 0 0 0 1.664-3.574 1.892 1.892 0 0 0-1.032-2.465ZM98.055 53.91c-1.016-.133-1.973.621-2.094 1.653a39.641 39.641 0 0 1-.578 3.554 1.886 1.886 0 1 0 3.691.774c.27-1.278.48-2.582.637-3.891a1.887 1.887 0 0 0-1.656-2.09ZM87.86 75.3a41.33 41.33 0 0 1-2.344 2.735 1.889 1.889 0 0 0 2.754 2.582 40.924 40.924 0 0 0 2.562-2.996 1.88 1.88 0 0 0-.328-2.644 1.88 1.88 0 0 0-2.645.324ZM98.113 50.945a1.886 1.886 0 0 0 1.887-1.89C100 25.125 80.535 5.66 56.605 5.66c-22.468 0-40.996 17.16-43.18 39.059L3.224 34.516a1.884 1.884 0 0 0-2.668 0 1.884 1.884 0 0 0 0 2.668L13.758 50.39c.176.172.383.312.617.406a1.836 1.836 0 0 0 1.441 0c.23-.094.442-.234.614-.406l13.207-13.207a1.884 1.884 0 0 0 0-2.668 1.884 1.884 0 0 0-2.668 0l-9.653 9.652c2.418-19.547 19.098-34.734 39.29-34.734 21.843 0 39.62 17.777 39.62 39.62 0 1.048.844 1.891 1.887 1.891Zm0 0"/></svg>',c9={port:"3000",autoReload:!0,autoStart:!0,exportDirectory:"/export",enableChalkboard:!1,enableOverview:!1,enableMenu:!1,enablePointer:!1,enableTimeBar:!1,theme:"black",highlightTheme:"zenburn",transition:"slide",transitionSpeed:"default",controls:!0,progress:!0,slideNumber:!1,showGrid:!1,autoComplete:"inPreview",paneMode:"split",themeDirectory:"",center:!0},qb={bg:"",center:!0,css:"",defaultTemplate:"",enableCustomControls:!0,enableLinks:!1,height:700,highlightTheme:"zenburn",log:!1,margin:.04,notesSeparator:"note:",remoteCSS:"",separator:`\r?
---\r?
`,showGrid:!1,template:"reveal.html",theme:"black",timeForPresentation:120,title:"",transition:"slide",verticalSeparator:`\r?
--\r?
`,width:960},u9={addImage(e){},getAll(){return[]},shouldCollect(){return!1}};var Mb=class{process(t){return this.transformBlock(t)}transformBlock(t){return t=t.replaceAll(/:::\sblock\s*/g,`<div class="block">

`),t=t.replaceAll(":::",`</div>

`),t}};var f9=require("obsidian"),zb=class{constructor(t){this.excalidrawImageRegex=/!\[\[(.*\.excalidraw)\|?([^\]]*)??\]\]\s?(<!--.*-->)?/i;this.utils=t}process(t){return t.split(`
`).map(r=>this.excalidrawImageRegex.test(r)?this.transformLine(r):r).join(`
`)}transformLine(t){let[,r,i,n]=this.excalidrawImageRegex.exec(t),s=this.utils.findImageFile(r);return s===null?(new f9.Notice(`Cannot find Image for ${r}. Make sure to activate Auto-export SVG/PNG in Excalidraw Settings.`,8e3),t):`![[${s}${i==null?"":"|"+i}]] ${n??""}`}};var jf=class{constructor(){this.regex=/\[\^([^\]]*)]/im}process(t,r){let i=t;return t.split(new RegExp(r.separator,"gmi")).map((n,s)=>n.split(new RegExp(r.verticalSeparator,"gmi")).map((o,a)=>{if(this.regex.test(o)){let l=this.transformFootNotes(o);return i=i.replace(o,l),l}return o}).join(r.verticalSeparator)).join(r.separator),i}transformFootNotes(t){if(!this.regex.test(t))return t;let r=t,i=1,n=new Map,s;for(;s=this.regex.exec(r);)r=r.split(`
`).map((l,c)=>{if(l.includes(s[0])){if(l.includes(s[0]+": "))return n.has(s[1])||n.set(s[1],l.split(s[0]+": ")[1]),"";{let u=l.split(s[0]),f=u[0].trim();return f+='<sup id="fnref:'+s[1]+'" role="doc-noteref">'+i+"</sup>",f+=u[1].trim(),i=i+1,f}}return l}).join(`
`);let o="";o+=`<div class="footnotes" role="doc-endnotes">
`,o+=`<ol>
`,n.forEach((l,c)=>{o+='<li id="fn:'+c+`" role="doc-endnote" class="footnote"><p>

`+l+`

</p></li>`}),o+=`</ol>
`,o+=`</div>
`;let a="<%? footnotes %>";return r.includes(a)?r.replaceAll(a,o):r+`
`+o}};var Ub=class{constructor(){this.boldRegex=/(?<=[^_]|^)__([^_]+)__(?!_)/gm;this.markRegex=/==([^=]*)==/gm;this.commentRegex=/%%([^%]*)%%/gm}process(t){let r=!1;return t.split(`
`).map(i=>{if(i.indexOf("```")>-1&&(r=!r),r)return i;{let n=i.split("`");if(n.length>1){for(let s=0;s<n.length;s=s+2)n[s]=n[s].replaceAll(this.boldRegex,(o,a)=>`**${a.trim()}**`).replaceAll(this.markRegex,"<mark>$1</mark>").replaceAll(this.commentRegex,"");return n.join("`")}else return i.replaceAll(this.boldRegex,(s,o)=>`**${o.trim()}**`).replaceAll(this.markRegex,"<mark>$1</mark>").replaceAll(this.commentRegex,"")}}).join(`
`).replaceAll(this.commentRegex,"")}};var Bb=class{transform(t){let r=t.getAttribute("data-background-image");r!=null&&vc().shouldCollect()&&vc().addImage(r)}};var P9=Bt(C9()),Yb=class{transform(t){let r=t.getAttribute("bg"),i=t.getAttribute("onTarget");if(r!=null){let n=this.readColor(r);n?(n.isLight()?(t.addClass("has-light-background"),t.deleteClass("has-dark-background")):(t.addClass("has-dark-background"),t.deleteClass("has-light-background")),t.deleteAttribute("bg"),i&&i=="slide"?(t.deleteAttribute("data-background-image"),t.deleteAttribute("data-background-color"),t.addAttribute("data-background-color",r)):t.addStyle("background-color",r)):(t.deleteAttribute("bg"),i&&i=="slide"&&(t.deleteAttribute("data-background-color"),t.deleteAttribute("data-background-image"),t.addAttribute("data-background-image",r)))}}readColor(t){try{return(0,P9.default)(t)}catch{return null}}};var Kb=class{transform(t){let r=t.getAttribute("border");r!=null&&(t.addStyle("border",r),t.addStyle("box-sizing","border-box"),t.deleteAttribute("border"))}};var Jb=class{constructor(t){this.from=t}transform(t){let r=t.getAttribute(this.from);r!=null&&(r.split(" ").forEach(i=>{i.trim().length>0&&t.addClass(i.trim())}),t.deleteAttribute(this.from))}};var Zb=class{transform(t){let r=t.getAttribute("class");r!=null&&(r.split(" ").map(i=>i.trim()).forEach(i=>{t.addClass(i)}),t.deleteAttribute("class"))}};var Xb=class{transform(t){let r=t.getAttribute("frag");r!=null&&(t.addClass("fragment"),t.deleteAttribute("frag"),t.addAttribute("data-fragment-index",r))}};var Ja=class e{constructor(){}static getInstance(){return e.instance||(e.instance=new e),e.instance}};var Qb=class{constructor(){this.gridAttributeRegex=/^(?:(-?\d*(?:px)?)(?:\s*|x)(-?\d*(?:px)?)|(center|top|bottom|left|right|topleft|topright|bottomleft|bottomright))$/m;this.maxWidth=Ja.getInstance().options.width,this.maxHeight=Ja.getInstance().options.height,this.isCenter=Ja.getInstance().options.center}transform(t){let r,i,n=t.getAttribute("absolute")=="true";n?(r="480px 700px",i="px"):(r="50 100",i="%");let s=t.getAttribute("drop");if(s!=null){let o=t.getAttribute("drag")??r,a=this.read(o,s,n);if(a!=null){let l=this.leftOf(a)+i,c=this.topOf(a)+i,u=this.heightOf(a)+i,f=this.widthOf(a)+i;t.addStyle("position","absolute"),t.addStyle("left",l),t.addStyle("top",c),t.addStyle("height",u),t.addStyle("width",f),n&&t.addStyle("min-height",u)}t.deleteAttribute("drag"),t.deleteAttribute("drop")}if(t.getAttribute("align")||s){let o=t.getAttribute("flow"),[a,l,c,u]=this.getAlignment(t.getAttribute("align"),o),f=t.getAttribute("justify-content")??c;switch(a&&t.addAttribute("align",a,!1),u&&t.addClass(u),o){case"row":t.addStyle("display","flex"),t.addStyle("flex-direction","row"),t.addStyle("align-items",l),t.addStyle("justify-content",f),t.addClass("flex-even");break;case"col":default:t.addStyle("display","flex"),t.addStyle("flex-direction","column"),t.addStyle("align-items",l),t.addStyle("justify-content",f);break}this.isCenter!=null&&!this.isCenter&&t.addStyle("align-items","start"),t.deleteAttribute("flow"),t.deleteAttribute("justify-content")}}getAlignment(t,r){let i=r??"col";switch(t){case"topleft":return i=="col"?["left","flex-start","flex-start",void 0]:["left","flex-start","space-evenly",void 0];case"topright":return i=="col"?["right","flex-end","flex-start",void 0]:["right","flex-start","space-evenly",void 0];case"bottomright":return i=="col"?["right","flex-end","flex-end",void 0]:["right","flex-end","space-evenly",void 0];case"bottomleft":return i=="col"?["left","flex-start","flex-end",void 0]:["left","flex-end","space-evenly",void 0];case"left":return i=="col"?["left","flex-start","space-evenly",void 0]:["left","center","space-evenly",void 0];case"right":return i=="col"?["right","flex-end","space-evenly",void 0]:["right","center","space-evenly",void 0];case"top":return i=="col"?[void 0,"center","flex-start",void 0]:[void 0,"flex-start","space-evenly",void 0];case"bottom":return i=="col"?[void 0,"center","flex-end",void 0]:[void 0,"flex-end","space-evenly",void 0];case"stretch":return i=="col"?[void 0,"center","space-evenly","stretch-column"]:[void 0,"center","space-evenly","stretch-row"];case"block":case"justify":return["justify","center","space-evenly",void 0];case"center":default:return[void 0,"center","center",void 0]}}read(t,r,i){try{let n=new Map;return n.set("slideWidth",this.maxWidth),n.set("slideHeight",this.maxHeight),i?(n.set("maxWidth",this.maxWidth),n.set("maxHeight",this.maxHeight),this.readValues(t,r,n,this.toPixel)):(n.set("maxWidth",100),n.set("maxHeight",100),this.readValues(t,r,n,this.toRelativeValue))}catch{return}}readValues(t,r,i,n){try{let[,s,o]=this.gridAttributeRegex.exec(t),[,a,l,c]=this.gridAttributeRegex.exec(r);if(s&&i.set("width",n(i.get("slideWidth"),s)),o&&i.set("height",n(i.get("slideHeight"),o)),c){let[u,f]=this.getXYof(c,i.get("width"),i.get("height"),i.get("maxWidth"),i.get("maxHeight"));i.set("x",u),i.set("y",f)}else a&&i.set("x",n(i.get("slideWidth"),a)),l&&i.set("y",n(i.get("slideHeight"),l));return i}catch{return}}toRelativeValue(t,r){return r.toLowerCase().endsWith("px")?Number(r.toLowerCase().replace("px","").trim())/t*100:Number(r)}toPixel(t,r){return r.toLowerCase().endsWith("px")?Number(r.toLowerCase().replace("px","").trim()):t/100*Number(r)}getXYof(t,r,i,n,s){switch(t){case"topleft":return[0,0];case"topright":return[n-r,0];case"bottomleft":return[0,s-i];case"bottomright":return[n-r,s-i];case"left":return[0,(s-i)/2];case"right":return[n-r,(s-i)/2];case"top":return[(n-r)/2,0];case"bottom":return[(n-r)/2,s-i];case"center":return[(n-r)/2,(s-i)/2];default:return[0,0]}}leftOf(t){return t.get("x")<0?t.get("maxWidth")+t.get("x")-t.get("width"):t.get("x")}topOf(t){return t.get("y")<0?t.get("maxHeight")+t.get("y")-t.get("height"):t.get("y")}heightOf(t){return t.get("height")}widthOf(t){return t.get("width")}};var ew=class{transform(t){let r=t.getAttribute("pad");r!=null&&(t.addStyle("padding",r),t.addStyle("box-sizing","border-box"),t.deleteAttribute("pad"))}};var tw=class{transform(t){let r=t.getAttribute("rotate");if(r!=null){let i=r.endsWith("deg")?r:r+"deg";t.addStyle("transform",`rotate(${i})`),t.deleteAttribute("rotate")}}};var Sm=class{constructor(t,r){this.from=t,this.to=r}transform(t){let r=t.getAttribute(this.from);r!=null&&(t.addStyle(this.to,r),t.deleteAttribute(this.from))}};var rw=class{transform(t){let r=t.getAttribute("style");r!=null&&(r.split(";").map(i=>i.trim()).filter(i=>i.length>0).forEach(i=>{if(i&&i.includes(":")){let[n,s]=i.split(":");n&&n.length>0&&s&&t.addStyle(n.trim(),s.trim())}}),t.deleteAttribute("style"))}};var zf=class{addClass(t){return this.class.add(t),this}deleteClass(t){return this.class.delete(t),this}hasClass(t){return this.class.has(t)}addStyle(t,r){return this.style.set(t,r),this}deleteStyle(t){return this.style.delete(t),this}hasStyle(t){return this.style.has(t)}addAttribute(t,r,i=!0){return this.attributes.set(t,r),i&&this.transformer.transform(this),this}deleteAttribute(t){return this.attributes.delete(t),this}hasAttribute(t){return this.attributes.has(t)}getAttribute(t){return this.attributes.get(t)}constructor(t){this.style=new Map,this.class=new Set,this.attributes=t,this.transformer=new pC,this.transformer.transform(this)}getClasses(){return Array.from(this.class).join(" ")}getStyles(){let t=Array();for(let[r,i]of this.style)t.push(`${r}: ${i}`);return t.join("; ")}getAttributes(){let t=Array();for(let[r,i]of this.attributes)r!="onTarget"&&t.push(`${r}="${i}"`);return t.join(" ")}},pC=class{constructor(){this.allTransformers=new Array;this.allTransformers.push(new Zb),this.allTransformers.push(new rw),this.allTransformers.push(new Yb),this.allTransformers.push(new ew),this.allTransformers.push(new Jb("animate")),this.allTransformers.push(new Xb),this.allTransformers.push(new Sm("opacity","opacity")),this.allTransformers.push(new Kb),this.allTransformers.push(new Sm("filter","filter")),this.allTransformers.push(new tw),this.allTransformers.push(new Qb),this.allTransformers.push(new Bb)}transform(t){for(let r=0;r<this.allTransformers.length;r++)this.allTransformers[r].transform(t)}};var iw=class e extends zf{constructor(t,r){r.set("onTarget",t),super(r),this.type=t}static of(t,r=[],i=[],n=new Map){if(i&&i.length>0){let s=n.get("class");if(s){let o=s.split(" ");o.push(...i),n.set("class",o.join(" "))}else n.set("class",i.join(" "))}if(r&&r.length>0){let s=n.get("style");if(s){let o=s.split(";").map(a=>a.trim());o.push(...r),n.set("style",o.join("; "))}else n.set("style",r.join("; "))}return new e(t,n)}},zr=class{constructor(){this.readCommentRegex=/<!--.*-->/;this.parseRegex=/<!--\s*(?:\.)?(element|slide):?\s*(.*)-->/;this.parsePropertiesRegex=/([^=]*)\s*=\s*"([^"]*)"\s*|([^=]*)\s*=\s*'([^']*)'\s*|([^ ]*)\s*/g}commentToString(t){return`<!-- .${t.type}: ${this.buildAttributes(t)} -->`}buildAttributes(t){let r=t.getStyles(),i=t.getClasses(),n=r.length>0?`style="${r}" `:"",s=i.length>0?`class="${i}" `:"";return`${n}${s}${t.getAttributes()}`.trim()}parseLine(t){return this.lineHasComment(t)?this.parseComment(this.readCommentStringFromLine(t)):null}parseComment(t){try{let[,r,i]=this.parseRegex.exec(t),n=this.parseAttributes(i);return new iw(r,n)}catch{return console.error("ERROR: Cannot parse comment: "+t),null}}buildComment(t,r=[],i=[],n=new Map){return iw.of(t,r,i,n)}lineHasComment(t){return this.parseRegex.test(t)}replace(t,r){return t.replace(this.readCommentRegex,this.commentToString(r))}readCommentStringFromLine(t){return this.readCommentRegex.exec(t)?.[0]??""}parseAttributes(t){let r,i=new Map;for(;(r=this.parsePropertiesRegex.exec(t))!==null;){r.index===this.parsePropertiesRegex.lastIndex&&this.parsePropertiesRegex.lastIndex++;let n,s;r.forEach((o,a)=>{(a==1||a==3)&&(n=o),(a==2||a==4)&&(s=o,i.set(n,s)),a==5&&o&&i.set(o,"true")})}return i.delete(void 0),i}};var nw=class{constructor(){this.fragmentCounter=1;this.orderedListRegex=/^\d\) /g;this.codeBlockRegex=/```[^\n]*(?:\n[^`]*\n)```/g;this.parser=new zr}process(t,r){let i=new RegExp(`${r.separator}|${r.verticalSeparator}`,"gmi"),n=Array.from(t.matchAll(this.codeBlockRegex)).map(({0:o,index:a})=>({from:t.substring(0,a).split(`
`).length-1,to:t.substring(0,a+o.length).split(`
`).length-1}));return t.split(`
`).map((o,a)=>`
${o}
`.match(i)?(this.fragmentCounter=1,o):n.some(({from:c,to:u})=>a>=c&&a<=u)?o:o.trim().startsWith("+ ")||this.orderedListRegex.test(o.trim())?this.transformLine(o):o).join(`
`)}transformLine(t){let r=this.parser.parseLine(t)??this.parser.buildComment("element");t.includes("<!--")&&(t=t.substring(0,t.indexOf("<!--"))),r.hasAttribute("data-fragment-index")||(r.addAttribute("data-fragment-index",this.fragmentCounter.toString()),r.hasClass("fragment")||r.addClass("fragment"),this.fragmentCounter++);let i="&shy;"+this.parser.commentToString(r);return t=t.replace("+ ","- "+i),t=t.replaceAll(this.orderedListRegex,"1. "+i),t}};var sw=class{constructor(){this.gridBlockRegex=/<\s*grid(?:(?!(<grid|<\/grid>)).)*<\/grid>/gs;this.gridRegex=/<\s*grid([^>]+)>(.*?)<\/grid>/s;this.gridPropertiesRegex=/([^=]*)\s*=\s*"([^"]*)"\s*|([^=]*)\s*=\s*'([^']*)'\s*/g}process(t,r){let i=t;return t.split(new RegExp(r.separator,"gmi")).map(n=>n.split(new RegExp(r.verticalSeparator,"gmi")).map(s=>{if(this.gridBlockRegex.test(s)){let o=this.transformSlide(s),a;for(;a!=o;)a&&(o=a),a=this.transformSlide(o);return i=i.split(s).join(a),a}return s}).join(r.verticalSeparator)).join(r.separator),i}transformSlide(t){let r=new Map;this.gridBlockRegex.lastIndex=0;let i;for(;(i=this.gridBlockRegex.exec(t))!==null;){i.index===this.gridBlockRegex.lastIndex&&this.gridBlockRegex.lastIndex++;let n=i[0],[s,o,a]=this.gridRegex.exec(n);r.set(s,this.transformGrid(o,a))}for(let[n,s]of r)s&&(t=t.split(n).join(s));return t}transformGrid(t,r){let i=this.parseAttributes(t.trim()),n=new zf(i);return`<div class="${n.getClasses()}" style="${n.getStyles()}" ${n.getAttributes()}>
${r}</div>`}parseAttributes(t){let r=new Map;this.gridPropertiesRegex.lastIndex=0;let i;for(;(i=this.gridPropertiesRegex.exec(t))!==null;){i.index===this.gridPropertiesRegex.lastIndex&&this.gridPropertiesRegex.lastIndex++;let[,n,s]=i;r.set(n,s)}return r}};function xm(e,t){let r=t.split(".");return!!e&&(r.length>1?xm(e[t.split(".")[0]],r.slice(1).join(".")):Object.prototype.hasOwnProperty.call(e,t))}function Uf(e,t){return t.reduce((r,i)=>(e&&e.hasOwnProperty(i)&&(r[i]=e[i]),r),{})}function I9(e,t){return Object.keys(e).reduce((r,i)=>(t.includes(i)||(r[i]=e[i]),r),{})}function mC(e,t){return Object.keys(e).reduce((r,i)=>(t(e[i])||(r[i]=e[i]),r),{})}function gC(e){return e==null}function ow(e){return gC(e)||e===""||Array.isArray(e)&&e.length===0||typeof e=="object"&&Object.keys(e).length===0}function Em(e){return/^.*?:\/\//.test(e)}function km(e){return e.startsWith("fas")||e.startsWith("far")||e.startsWith("fal")||e.startsWith("fad")||e.startsWith("fab")}function Rm(e){return e.endsWith("bmp")||e.endsWith("gif")||e.endsWith("jpeg")||e.endsWith("jpg")||e.endsWith("png")||e.endsWith("svg")||e.endsWith("webp")}var aw=class{constructor(t){this.markdownImageRegex=/(!)?\[([^\]]*)\]\((.*(?:jpg|png|jpeg|gif|bmp|webp|svg)?)(?: ".*?")?\)\s?(<!--.*-->)?/gi;this.wikilinkImageRegex=/\[\[(.*?(?:jpg|png|jpeg|webp|gif|bmp|svg))\|?([^\]]*)??\]\]/gi;this.utils=t,this.parser=new zr}process(t){return t.split(`
`).map(r=>r.replace(this.wikilinkImageRegex,(i,n,s)=>`[${s??""}](${n})`)).map(r=>this.markdownImageRegex.test(r)?this.htmlify(r):r).join(`
`)}buildComment(t,r){let i=r?this.parser.parseComment(r):this.parser.buildComment("element");if(t){let n,s;t.includes("x")?[n,s]=t.split("x"):n=t,i.addStyle("width",`${n}px`),s&&i.addStyle("height",`${s}px`)}return this.parser.commentToString(i)}htmlify(t){let r="",i=0,n;for(this.markdownImageRegex.lastIndex=0;(n=this.markdownImageRegex.exec(t))!==null;){n.index===this.markdownImageRegex.lastIndex&&this.markdownImageRegex.lastIndex++;let[s,o,a,l,c]=n,u=l,f=km(u),h=Em(u)||Rm(u);if(!f&&!h){r+=t.substring(i,n.index)+s,i=this.markdownImageRegex.lastIndex;continue}Rm(u)&&!Em(u)&&(u=this.utils.findImageFile(l),this.utils.shouldCollect()&&this.utils.addImage(u)),t.match(/^(?:[ ]{4,}|\t)!\[/)&&(o=" ");let p="";o==="!"&&(f||h)?p=this.createImageElement(u,a,c):p=this.updateMarkdownLink(t,s,l,u),r+=t.substring(i,n.index)+p,i=this.markdownImageRegex.lastIndex}return r+t.substring(i)}updateMarkdownLink(t,r,i,n){let s=r.replace(i,n);return t.indexOf(`"${r}"`)>=0?n:s}createImageElement(t,r,i){let n="";r.match(/\d+x?\d*/)&&(i=this.buildComment(r,i)??"",r="");let s=this.parser.parseLine(i)??this.parser.buildComment("element");if(km(t))n=`<i class="${t}" ${this.parser.buildAttributes(s)}></i>
`;else{if(s.hasStyle("width")&&!s.hasStyle("object-fit")&&s.addStyle("object-fit","fill"),!s.hasStyle("align-self")&&s.hasAttribute("align")){switch(s.getAttribute("align")){case"left":s.addStyle("align-self","start");break;case"right":s.addStyle("align-self","end");break;case"center":s.addStyle("align-self","center");break;case"stretch":s.addStyle("align-self","stretch"),s.addStyle("object-fit","cover"),s.addStyle("height","100%"),s.addStyle("width","100%");break;default:break}s.deleteAttribute("align")}s.hasStyle("object-fit")||s.addStyle("object-fit","scale-down"),n=`<img src="${t}" alt="${r}" ${this.parser.buildAttributes(s)}>
`}return n}};var lw=class{constructor(t){this.regex=/(?<=[^!]|^)\[\[(?:(.*?)\|)?([^\]]*)\]\]/gm;this.utils=t}process(t,r){return r.enableLinks?t.replaceAll(this.regex,(i,n,s)=>`[${s}](obsidian://open?vault=${encodeURI(this.utils.vaultName)}&file=${encodeURI(n??s)})`):t.replaceAll(this.regex,"$2")}};var cw=class{constructor(){this.singleLine=/\$(.*?)\$/g}process(t){return this.skipCodeBlocks(t)}skipCodeBlocks(t){let i=/(?<=(^|\r|\n|\r\n))`{3,}.*?(\r|\n|\r\n)[\s\S]*?(\r|\n|\r\n)`{3,}(?=($|\r|\n|\r\n))/.exec(t);return i?this.transformLatex(t.substring(0,i.index))+i[0]+this.skipCodeBlocks(t.substring(i.index+i[0].length)):this.transformLatex(t)}transformLatex(t){let r=this.markEscapedCharacters(t),i=this.processMultiLine(r),n=this.markEscapedCharacters(i),s=this.processSingleLine(n);return this.unmarkEscapedCharacters(s)}markEscapedCharacters(t){return t.replaceAll("\\$","~~d~~").replaceAll(/`\$\$/gm,"~~s~~").replaceAll(/\$\$`/gm,"~~e~~").replaceAll(/`\$/gm,"~~ss~~").replaceAll(/\$`/gm,"~~se~~")}unmarkEscapedCharacters(t){return t.replaceAll("~~d~~","\\$").replaceAll("~~e~~","$$$$`").replaceAll("~~s~~","`$$$$").replaceAll("~~ss~~","`$").replaceAll("~~se~~","$$`")}processSingleLine(t){return t.split(`
`).map(r=>(r.includes("$")&&(r=r.replaceAll(this.singleLine,"`$$$1$$`")),r)).join(`
`)}processMultiLine(t){return t.includes("$$")?t.split("$$").map((r,i)=>this.isOdd(i)?r:"`"+r+"`").join("$$").slice(1,-1):t}isOdd(t){return t&1}};var uw=class{process(t){return this.transformMermaid(t)}transformMermaid(t){let r=t.indexOf("```mermaid");if(r<0)return t;{let i=t.indexOf("```",r+11);if(i<0)return t;let n=t.substring(0,r),s=t.substring(i+3),o=t.substring(r+11,i),a=n+`
<div class="mermaid">
`+o+`
</div>
`+s;return this.transformMermaid(a)}}};var Bf=class{constructor(t){this.regex=/!\[\[(.*?)(\|[^\]]*?)?\]\]/g;this.excalidrawRegex=/(.*\.excalidraw)/i;this.markdownRegex=/!\[.*?\]\((.*?\.md)\)/g;this.wikilinkFileRegex=/\[\[(file:.+?)(\|[^\]]+)?\]\]/gi;this.fileUrlRegex=/(\[[^\]]*?\]\()(file:.+?)((?: ".*?")?\))/gi;this.utils=t}process(t){return t.split(`
`).map((r,i)=>(r=r.replace(this.fileUrlRegex,(n,s,o,a)=>{let l=this.transformAbsoluteFilePath(o);return`${s}${l}${a}`}),r=r.replace(this.wikilinkFileRegex,(n,s,o)=>{let a=o||"";return`[[${this.transformAbsoluteFilePath(s)}${a}]]`}),this.regex.test(r)?this.transformContent(r,this.regex):this.markdownRegex.test(r)?this.transformContent(r,this.markdownRegex):r)).join(`
`)}transformContent(t,r){let i="";return t.includes("<!--")&&(i=t.substring(t.indexOf("<!--"))),t.replaceAll(r,(n,s)=>{let o=null;if(s.includes("#")){let c=s.split("#");s=c[0],o=c[1]}if(Rm(s)||km(s)||Em(s))return n;let a=this.getMarkdownFile(s.replace("%20"," "));if(a===null)return n;let l=this.utils.parseFile(a,o);return l?i.length>0?this.process(l+i):this.process(l):n})}getMarkdownFile(t){if(this.excalidrawRegex.test(t))return null;let r=t;return t.toLowerCase().endsWith(".md")||(r=r+".md"),r}transformAbsoluteFilePath(t){let r=new URL(t);return r?"/local-file-url"+r.pathname:(console.debug("transformAbsoluteFilePath",t,"invalid url"),t)}};var fw=class{constructor(){this.parser=new zr}process(t){return t.split(`
`).map(r=>{let i=this.parser.parseLine(r);return i?this.parser.replace(r,i):r}).join(`
`)}};var hw=class{constructor(){this.slideCommentRegex=/<!--\s*(?:\.)?slide.*-->/;this.parser=new zr}process(t,r){let i=t;return t.split(new RegExp(r.separator,"gmi")).map(n=>n.split(new RegExp(r.verticalSeparator,"gmi")).map(s=>{if(s.trim().length>0){let o=this.transformSlide(s,r),a=i.split(s);if(a.length==2)i=a.join(o);else{let l=a.splice(1).join(s);i=[a[0],l].join(o)}return o}else return s}).join(r.verticalSeparator)).join(r.separator),i}transformSlide(t,r){let[i,n]=this.extractNotes(t,r),s,o;if(this.slideCommentRegex.test(i)){let[l]=this.slideCommentRegex.exec(i),c=this.parser.parseLine(l);c.addClass("drop"),s=i.replace(this.slideCommentRegex,""),s=s.trim(),o=this.parser.commentToString(c)}else s=i.trim(),o='<!-- .slide: class="drop" -->';let a=`${o}
<grid absolute="true" drag="100 100" drop="0 0">
${s}
</grid>`;return n.length>0&&(a+=`

`+n),a}extractNotes(t,r){let i="note:";r.notesSeparator&&r.notesSeparator.length>0&&(i=r.notesSeparator);let n=t.indexOf(i);return n>0?[t.substring(0,n),t.substring(n)]:[t,""]}};var dw=class{constructor(){this.regex=/<(\s*?([\w]*)[^>]*?)\/(?<=\/)>/gm}process(t){return this.transformBlock(t)}transformBlock(t){return t=t.replaceAll(this.regex,"<$1></$2>"),t}};var _Te={":100:":"\u{1F4AF}",":1234:":"\u{1F522}",":+1:":"\u{1F44D}",":-1:":"\u{1F44E}",":1st_place_medal:":"\u{1F947}",":2nd_place_medal:":"\u{1F948}",":3rd_place_medal:":"\u{1F949}",":8ball:":"\u{1F3B1}",":a:":"\u{1F170}",":ab:":"\u{1F18E}",":abacus:":"\u{1F9EE}",":abc:":"\u{1F524}",":abcd:":"\u{1F521}",":accept:":"\u{1F251}",":accordion:":"\u{1FA97}",":adhesive_bandage:":"\u{1FA79}",":adult:":"\u{1F9D1}",":aerial_tramway:":"\u{1F6A1}",":afghanistan:":"\u{1F1E6}\u200D\u{1F1EB}",":airplane:":"\u2708",":aland_islands:":"\u{1F1E6}\u200D\u{1F1FD}",":alarm_clock:":"\u23F0",":albania:":"\u{1F1E6}\u200D\u{1F1F1}",":alembic:":"\u2697",":algeria:":"\u{1F1E9}\u200D\u{1F1FF}",":alien:":"\u{1F47D}",":ambulance:":"\u{1F691}",":american_samoa:":"\u{1F1E6}\u200D\u{1F1F8}",":amphora:":"\u{1F3FA}",":anatomical_heart:":"\u{1FAC0}",":anchor:":"\u2693",":andorra:":"\u{1F1E6}\u200D\u{1F1E9}",":angel:":"\u{1F47C}",":anger:":"\u{1F4A2}",":angola:":"\u{1F1E6}\u200D\u{1F1F4}",":angry:":"\u{1F620}",":anguilla:":"\u{1F1E6}\u200D\u{1F1EE}",":anguished:":"\u{1F627}",":ant:":"\u{1F41C}",":antarctica:":"\u{1F1E6}\u200D\u{1F1F6}",":antigua_barbuda:":"\u{1F1E6}\u200D\u{1F1EC}",":apple:":"\u{1F34E}",":aquarius:":"\u2652",":argentina:":"\u{1F1E6}\u200D\u{1F1F7}",":aries:":"\u2648",":armenia:":"\u{1F1E6}\u200D\u{1F1F2}",":arrow_backward:":"\u25C0",":arrow_double_down:":"\u23EC",":arrow_double_up:":"\u23EB",":arrow_down:":"\u2B07",":arrow_down_small:":"\u{1F53D}",":arrow_forward:":"\u25B6",":arrow_heading_down:":"\u2935",":arrow_heading_up:":"\u2934",":arrow_left:":"\u2B05",":arrow_lower_left:":"\u2199",":arrow_lower_right:":"\u2198",":arrow_right:":"\u27A1",":arrow_right_hook:":"\u21AA",":arrow_up:":"\u2B06",":arrow_up_down:":"\u2195",":arrow_up_small:":"\u{1F53C}",":arrow_upper_left:":"\u2196",":arrow_upper_right:":"\u2197",":arrows_clockwise:":"\u{1F503}",":arrows_counterclockwise:":"\u{1F504}",":art:":"\u{1F3A8}",":articulated_lorry:":"\u{1F69B}",":artificial_satellite:":"\u{1F6F0}",":artist:":"\u{1F9D1}\u200D\u{1F3A8}",":aruba:":"\u{1F1E6}\u200D\u{1F1FC}",":ascension_island:":"\u{1F1E6}\u200D\u{1F1E8}",":asterisk:":"*\u200D\u20E3",":astonished:":"\u{1F632}",":astronaut:":"\u{1F9D1}\u200D\u{1F680}",":athletic_shoe:":"\u{1F45F}",":atm:":"\u{1F3E7}",":atom_symbol:":"\u269B",":australia:":"\u{1F1E6}\u200D\u{1F1FA}",":austria:":"\u{1F1E6}\u200D\u{1F1F9}",":auto_rickshaw:":"\u{1F6FA}",":avocado:":"\u{1F951}",":axe:":"\u{1FA93}",":azerbaijan:":"\u{1F1E6}\u200D\u{1F1FF}",":b:":"\u{1F171}",":baby:":"\u{1F476}",":baby_bottle:":"\u{1F37C}",":baby_chick:":"\u{1F424}",":baby_symbol:":"\u{1F6BC}",":back:":"\u{1F519}",":bacon:":"\u{1F953}",":badger:":"\u{1F9A1}",":badminton:":"\u{1F3F8}",":bagel:":"\u{1F96F}",":baggage_claim:":"\u{1F6C4}",":baguette_bread:":"\u{1F956}",":bahamas:":"\u{1F1E7}\u200D\u{1F1F8}",":bahrain:":"\u{1F1E7}\u200D\u{1F1ED}",":balance_scale:":"\u2696",":bald_man:":"\u{1F468}\u200D\u{1F9B2}",":bald_woman:":"\u{1F469}\u200D\u{1F9B2}",":ballet_shoes:":"\u{1FA70}",":balloon:":"\u{1F388}",":ballot_box:":"\u{1F5F3}",":ballot_box_with_check:":"\u2611",":bamboo:":"\u{1F38D}",":banana:":"\u{1F34C}",":bangbang:":"\u203C",":bangladesh:":"\u{1F1E7}\u200D\u{1F1E9}",":banjo:":"\u{1FA95}",":bank:":"\u{1F3E6}",":bar_chart:":"\u{1F4CA}",":barbados:":"\u{1F1E7}\u200D\u{1F1E7}",":barber:":"\u{1F488}",":baseball:":"\u26BE",":basket:":"\u{1F9FA}",":basketball:":"\u{1F3C0}",":basketball_man:":"\u26F9\u200D\u2642",":basketball_woman:":"\u26F9\u200D\u2640",":bat:":"\u{1F987}",":bath:":"\u{1F6C0}",":bathtub:":"\u{1F6C1}",":battery:":"\u{1F50B}",":beach_umbrella:":"\u{1F3D6}",":bear:":"\u{1F43B}",":bearded_person:":"\u{1F9D4}",":beaver:":"\u{1F9AB}",":bed:":"\u{1F6CF}",":bee:":"\u{1F41D}",":beer:":"\u{1F37A}",":beers:":"\u{1F37B}",":beetle:":"\u{1FAB2}",":beginner:":"\u{1F530}",":belarus:":"\u{1F1E7}\u200D\u{1F1FE}",":belgium:":"\u{1F1E7}\u200D\u{1F1EA}",":belize:":"\u{1F1E7}\u200D\u{1F1FF}",":bell:":"\u{1F514}",":bell_pepper:":"\u{1FAD1}",":bellhop_bell:":"\u{1F6CE}",":benin:":"\u{1F1E7}\u200D\u{1F1EF}",":bento:":"\u{1F371}",":bermuda:":"\u{1F1E7}\u200D\u{1F1F2}",":beverage_box:":"\u{1F9C3}",":bhutan:":"\u{1F1E7}\u200D\u{1F1F9}",":bicyclist:":"\u{1F6B4}",":bike:":"\u{1F6B2}",":biking_man:":"\u{1F6B4}\u200D\u2642",":biking_woman:":"\u{1F6B4}\u200D\u2640",":bikini:":"\u{1F459}",":billed_cap:":"\u{1F9E2}",":biohazard:":"\u2623",":bird:":"\u{1F426}",":birthday:":"\u{1F382}",":bison:":"\u{1F9AC}",":black_cat:":"\u{1F408}\u200D\u2B1B",":black_circle:":"\u26AB",":black_flag:":"\u{1F3F4}",":black_heart:":"\u{1F5A4}",":black_joker:":"\u{1F0CF}",":black_large_square:":"\u2B1B",":black_medium_small_square:":"\u25FE",":black_medium_square:":"\u25FC",":black_nib:":"\u2712",":black_small_square:":"\u25AA",":black_square_button:":"\u{1F532}",":blond_haired_man:":"\u{1F471}\u200D\u2642",":blond_haired_person:":"\u{1F471}",":blond_haired_woman:":"\u{1F471}\u200D\u2640",":blonde_woman:":"\u{1F471}\u200D\u2640",":blossom:":"\u{1F33C}",":blowfish:":"\u{1F421}",":blue_book:":"\u{1F4D8}",":blue_car:":"\u{1F699}",":blue_heart:":"\u{1F499}",":blue_square:":"\u{1F7E6}",":blueberries:":"\u{1FAD0}",":blush:":"\u{1F60A}",":boar:":"\u{1F417}",":boat:":"\u26F5",":bolivia:":"\u{1F1E7}\u200D\u{1F1F4}",":bomb:":"\u{1F4A3}",":bone:":"\u{1F9B4}",":book:":"\u{1F4D6}",":bookmark:":"\u{1F516}",":bookmark_tabs:":"\u{1F4D1}",":books:":"\u{1F4DA}",":boom:":"\u{1F4A5}",":boomerang:":"\u{1FA83}",":boot:":"\u{1F462}",":bosnia_herzegovina:":"\u{1F1E7}\u200D\u{1F1E6}",":botswana:":"\u{1F1E7}\u200D\u{1F1FC}",":bouncing_ball_man:":"\u26F9\u200D\u2642",":bouncing_ball_person:":"\u26F9",":bouncing_ball_woman:":"\u26F9\u200D\u2640",":bouquet:":"\u{1F490}",":bouvet_island:":"\u{1F1E7}\u200D\u{1F1FB}",":bow:":"\u{1F647}",":bow_and_arrow:":"\u{1F3F9}",":bowing_man:":"\u{1F647}\u200D\u2642",":bowing_woman:":"\u{1F647}\u200D\u2640",":bowl_with_spoon:":"\u{1F963}",":bowling:":"\u{1F3B3}",":boxing_glove:":"\u{1F94A}",":boy:":"\u{1F466}",":brain:":"\u{1F9E0}",":brazil:":"\u{1F1E7}\u200D\u{1F1F7}",":bread:":"\u{1F35E}",":breast_feeding:":"\u{1F931}",":bricks:":"\u{1F9F1}",":bride_with_veil:":"\u{1F470}\u200D\u2640",":bridge_at_night:":"\u{1F309}",":briefcase:":"\u{1F4BC}",":british_indian_ocean_territory:":"\u{1F1EE}\u200D\u{1F1F4}",":british_virgin_islands:":"\u{1F1FB}\u200D\u{1F1EC}",":broccoli:":"\u{1F966}",":broken_heart:":"\u{1F494}",":broom:":"\u{1F9F9}",":brown_circle:":"\u{1F7E4}",":brown_heart:":"\u{1F90E}",":brown_square:":"\u{1F7EB}",":brunei:":"\u{1F1E7}\u200D\u{1F1F3}",":bubble_tea:":"\u{1F9CB}",":bucket:":"\u{1FAA3}",":bug:":"\u{1F41B}",":building_construction:":"\u{1F3D7}",":bulb:":"\u{1F4A1}",":bulgaria:":"\u{1F1E7}\u200D\u{1F1EC}",":bullettrain_front:":"\u{1F685}",":bullettrain_side:":"\u{1F684}",":burkina_faso:":"\u{1F1E7}\u200D\u{1F1EB}",":burrito:":"\u{1F32F}",":burundi:":"\u{1F1E7}\u200D\u{1F1EE}",":bus:":"\u{1F68C}",":business_suit_levitating:":"\u{1F574}",":busstop:":"\u{1F68F}",":bust_in_silhouette:":"\u{1F464}",":busts_in_silhouette:":"\u{1F465}",":butter:":"\u{1F9C8}",":butterfly:":"\u{1F98B}",":cactus:":"\u{1F335}",":cake:":"\u{1F370}",":calendar:":"\u{1F4C6}",":call_me_hand:":"\u{1F919}",":calling:":"\u{1F4F2}",":cambodia:":"\u{1F1F0}\u200D\u{1F1ED}",":camel:":"\u{1F42B}",":camera:":"\u{1F4F7}",":camera_flash:":"\u{1F4F8}",":cameroon:":"\u{1F1E8}\u200D\u{1F1F2}",":camping:":"\u{1F3D5}",":canada:":"\u{1F1E8}\u200D\u{1F1E6}",":canary_islands:":"\u{1F1EE}\u200D\u{1F1E8}",":cancer:":"\u264B",":candle:":"\u{1F56F}",":candy:":"\u{1F36C}",":canned_food:":"\u{1F96B}",":canoe:":"\u{1F6F6}",":cape_verde:":"\u{1F1E8}\u200D\u{1F1FB}",":capital_abcd:":"\u{1F520}",":capricorn:":"\u2651",":car:":"\u{1F697}",":card_file_box:":"\u{1F5C3}",":card_index:":"\u{1F4C7}",":card_index_dividers:":"\u{1F5C2}",":caribbean_netherlands:":"\u{1F1E7}\u200D\u{1F1F6}",":carousel_horse:":"\u{1F3A0}",":carpentry_saw:":"\u{1FA9A}",":carrot:":"\u{1F955}",":cartwheeling:":"\u{1F938}",":cat:":"\u{1F431}",":cat2:":"\u{1F408}",":cayman_islands:":"\u{1F1F0}\u200D\u{1F1FE}",":cd:":"\u{1F4BF}",":central_african_republic:":"\u{1F1E8}\u200D\u{1F1EB}",":ceuta_melilla:":"\u{1F1EA}\u200D\u{1F1E6}",":chad:":"\u{1F1F9}\u200D\u{1F1E9}",":chains:":"\u26D3",":chair:":"\u{1FA91}",":champagne:":"\u{1F37E}",":chart:":"\u{1F4B9}",":chart_with_downwards_trend:":"\u{1F4C9}",":chart_with_upwards_trend:":"\u{1F4C8}",":checkered_flag:":"\u{1F3C1}",":cheese:":"\u{1F9C0}",":cherries:":"\u{1F352}",":cherry_blossom:":"\u{1F338}",":chess_pawn:":"\u265F",":chestnut:":"\u{1F330}",":chicken:":"\u{1F414}",":child:":"\u{1F9D2}",":children_crossing:":"\u{1F6B8}",":chile:":"\u{1F1E8}\u200D\u{1F1F1}",":chipmunk:":"\u{1F43F}",":chocolate_bar:":"\u{1F36B}",":chopsticks:":"\u{1F962}",":christmas_island:":"\u{1F1E8}\u200D\u{1F1FD}",":christmas_tree:":"\u{1F384}",":church:":"\u26EA",":cinema:":"\u{1F3A6}",":circus_tent:":"\u{1F3AA}",":city_sunrise:":"\u{1F307}",":city_sunset:":"\u{1F306}",":cityscape:":"\u{1F3D9}",":cl:":"\u{1F191}",":clamp:":"\u{1F5DC}",":clap:":"\u{1F44F}",":clapper:":"\u{1F3AC}",":classical_building:":"\u{1F3DB}",":climbing:":"\u{1F9D7}",":climbing_man:":"\u{1F9D7}\u200D\u2642",":climbing_woman:":"\u{1F9D7}\u200D\u2640",":clinking_glasses:":"\u{1F942}",":clipboard:":"\u{1F4CB}",":clipperton_island:":"\u{1F1E8}\u200D\u{1F1F5}",":clock1:":"\u{1F550}",":clock10:":"\u{1F559}",":clock1030:":"\u{1F565}",":clock11:":"\u{1F55A}",":clock1130:":"\u{1F566}",":clock12:":"\u{1F55B}",":clock1230:":"\u{1F567}",":clock130:":"\u{1F55C}",":clock2:":"\u{1F551}",":clock230:":"\u{1F55D}",":clock3:":"\u{1F552}",":clock330:":"\u{1F55E}",":clock4:":"\u{1F553}",":clock430:":"\u{1F55F}",":clock5:":"\u{1F554}",":clock530:":"\u{1F560}",":clock6:":"\u{1F555}",":clock630:":"\u{1F561}",":clock7:":"\u{1F556}",":clock730:":"\u{1F562}",":clock8:":"\u{1F557}",":clock830:":"\u{1F563}",":clock9:":"\u{1F558}",":clock930:":"\u{1F564}",":closed_book:":"\u{1F4D5}",":closed_lock_with_key:":"\u{1F510}",":closed_umbrella:":"\u{1F302}",":cloud:":"\u2601",":cloud_with_lightning:":"\u{1F329}",":cloud_with_lightning_and_rain:":"\u26C8",":cloud_with_rain:":"\u{1F327}",":cloud_with_snow:":"\u{1F328}",":clown_face:":"\u{1F921}",":clubs:":"\u2663",":cn:":"\u{1F1E8}\u200D\u{1F1F3}",":coat:":"\u{1F9E5}",":cockroach:":"\u{1FAB3}",":cocktail:":"\u{1F378}",":coconut:":"\u{1F965}",":cocos_islands:":"\u{1F1E8}\u200D\u{1F1E8}",":coffee:":"\u2615",":coffin:":"\u26B0",":coin:":"\u{1FA99}",":cold_face:":"\u{1F976}",":cold_sweat:":"\u{1F630}",":collision:":"\u{1F4A5}",":colombia:":"\u{1F1E8}\u200D\u{1F1F4}",":comet:":"\u2604",":comoros:":"\u{1F1F0}\u200D\u{1F1F2}",":compass:":"\u{1F9ED}",":computer:":"\u{1F4BB}",":computer_mouse:":"\u{1F5B1}",":confetti_ball:":"\u{1F38A}",":confounded:":"\u{1F616}",":confused:":"\u{1F615}",":congo_brazzaville:":"\u{1F1E8}\u200D\u{1F1EC}",":congo_kinshasa:":"\u{1F1E8}\u200D\u{1F1E9}",":congratulations:":"\u3297",":construction:":"\u{1F6A7}",":construction_worker:":"\u{1F477}",":construction_worker_man:":"\u{1F477}\u200D\u2642",":construction_worker_woman:":"\u{1F477}\u200D\u2640",":control_knobs:":"\u{1F39B}",":convenience_store:":"\u{1F3EA}",":cook:":"\u{1F9D1}\u200D\u{1F373}",":cook_islands:":"\u{1F1E8}\u200D\u{1F1F0}",":cookie:":"\u{1F36A}",":cool:":"\u{1F192}",":cop:":"\u{1F46E}",":copyright:":"\xA9",":corn:":"\u{1F33D}",":costa_rica:":"\u{1F1E8}\u200D\u{1F1F7}",":cote_divoire:":"\u{1F1E8}\u200D\u{1F1EE}",":couch_and_lamp:":"\u{1F6CB}",":couple:":"\u{1F46B}",":couple_with_heart:":"\u{1F491}",":couple_with_heart_man_man:":"\u{1F468}\u200D\u2764\u200D\u{1F468}",":couple_with_heart_woman_man:":"\u{1F469}\u200D\u2764\u200D\u{1F468}",":couple_with_heart_woman_woman:":"\u{1F469}\u200D\u2764\u200D\u{1F469}",":couplekiss:":"\u{1F48F}",":couplekiss_man_man:":"\u{1F468}\u200D\u2764\u200D\u{1F48B}\u200D\u{1F468}",":couplekiss_man_woman:":"\u{1F469}\u200D\u2764\u200D\u{1F48B}\u200D\u{1F468}",":couplekiss_woman_woman:":"\u{1F469}\u200D\u2764\u200D\u{1F48B}\u200D\u{1F469}",":cow:":"\u{1F42E}",":cow2:":"\u{1F404}",":cowboy_hat_face:":"\u{1F920}",":crab:":"\u{1F980}",":crayon:":"\u{1F58D}",":credit_card:":"\u{1F4B3}",":crescent_moon:":"\u{1F319}",":cricket:":"\u{1F997}",":cricket_game:":"\u{1F3CF}",":croatia:":"\u{1F1ED}\u200D\u{1F1F7}",":crocodile:":"\u{1F40A}",":croissant:":"\u{1F950}",":crossed_fingers:":"\u{1F91E}",":crossed_flags:":"\u{1F38C}",":crossed_swords:":"\u2694",":crown:":"\u{1F451}",":cry:":"\u{1F622}",":crying_cat_face:":"\u{1F63F}",":crystal_ball:":"\u{1F52E}",":cuba:":"\u{1F1E8}\u200D\u{1F1FA}",":cucumber:":"\u{1F952}",":cup_with_straw:":"\u{1F964}",":cupcake:":"\u{1F9C1}",":cupid:":"\u{1F498}",":curacao:":"\u{1F1E8}\u200D\u{1F1FC}",":curling_stone:":"\u{1F94C}",":curly_haired_man:":"\u{1F468}\u200D\u{1F9B1}",":curly_haired_woman:":"\u{1F469}\u200D\u{1F9B1}",":curly_loop:":"\u27B0",":currency_exchange:":"\u{1F4B1}",":curry:":"\u{1F35B}",":cursing_face:":"\u{1F92C}",":custard:":"\u{1F36E}",":customs:":"\u{1F6C3}",":cut_of_meat:":"\u{1F969}",":cyclone:":"\u{1F300}",":cyprus:":"\u{1F1E8}\u200D\u{1F1FE}",":czech_republic:":"\u{1F1E8}\u200D\u{1F1FF}",":dagger:":"\u{1F5E1}",":dancer:":"\u{1F483}",":dancers:":"\u{1F46F}",":dancing_men:":"\u{1F46F}\u200D\u2642",":dancing_women:":"\u{1F46F}\u200D\u2640",":dango:":"\u{1F361}",":dark_sunglasses:":"\u{1F576}",":dart:":"\u{1F3AF}",":dash:":"\u{1F4A8}",":date:":"\u{1F4C5}",":de:":"\u{1F1E9}\u200D\u{1F1EA}",":deaf_man:":"\u{1F9CF}\u200D\u2642",":deaf_person:":"\u{1F9CF}",":deaf_woman:":"\u{1F9CF}\u200D\u2640",":deciduous_tree:":"\u{1F333}",":deer:":"\u{1F98C}",":denmark:":"\u{1F1E9}\u200D\u{1F1F0}",":department_store:":"\u{1F3EC}",":derelict_house:":"\u{1F3DA}",":desert:":"\u{1F3DC}",":desert_island:":"\u{1F3DD}",":desktop_computer:":"\u{1F5A5}",":detective:":"\u{1F575}",":diamond_shape_with_a_dot_inside:":"\u{1F4A0}",":diamonds:":"\u2666",":diego_garcia:":"\u{1F1E9}\u200D\u{1F1EC}",":disappointed:":"\u{1F61E}",":disappointed_relieved:":"\u{1F625}",":disguised_face:":"\u{1F978}",":diving_mask:":"\u{1F93F}",":diya_lamp:":"\u{1FA94}",":dizzy:":"\u{1F4AB}",":dizzy_face:":"\u{1F635}",":djibouti:":"\u{1F1E9}\u200D\u{1F1EF}",":dna:":"\u{1F9EC}",":do_not_litter:":"\u{1F6AF}",":dodo:":"\u{1F9A4}",":dog:":"\u{1F436}",":dog2:":"\u{1F415}",":dollar:":"\u{1F4B5}",":dolls:":"\u{1F38E}",":dolphin:":"\u{1F42C}",":dominica:":"\u{1F1E9}\u200D\u{1F1F2}",":dominican_republic:":"\u{1F1E9}\u200D\u{1F1F4}",":door:":"\u{1F6AA}",":doughnut:":"\u{1F369}",":dove:":"\u{1F54A}",":dragon:":"\u{1F409}",":dragon_face:":"\u{1F432}",":dress:":"\u{1F457}",":dromedary_camel:":"\u{1F42A}",":drooling_face:":"\u{1F924}",":drop_of_blood:":"\u{1FA78}",":droplet:":"\u{1F4A7}",":drum:":"\u{1F941}",":duck:":"\u{1F986}",":dumpling:":"\u{1F95F}",":dvd:":"\u{1F4C0}",":e-mail:":"\u{1F4E7}",":eagle:":"\u{1F985}",":ear:":"\u{1F442}",":ear_of_rice:":"\u{1F33E}",":ear_with_hearing_aid:":"\u{1F9BB}",":earth_africa:":"\u{1F30D}",":earth_americas:":"\u{1F30E}",":earth_asia:":"\u{1F30F}",":ecuador:":"\u{1F1EA}\u200D\u{1F1E8}",":egg:":"\u{1F95A}",":eggplant:":"\u{1F346}",":egypt:":"\u{1F1EA}\u200D\u{1F1EC}",":eight:":"8\u200D\u20E3",":eight_pointed_black_star:":"\u2734",":eight_spoked_asterisk:":"\u2733",":eject_button:":"\u23CF",":el_salvador:":"\u{1F1F8}\u200D\u{1F1FB}",":electric_plug:":"\u{1F50C}",":elephant:":"\u{1F418}",":elevator:":"\u{1F6D7}",":elf:":"\u{1F9DD}",":elf_man:":"\u{1F9DD}\u200D\u2642",":elf_woman:":"\u{1F9DD}\u200D\u2640",":email:":"\u{1F4E7}",":end:":"\u{1F51A}",":england:":"\u{1F3F4}\u200D\u{E0067}\u200D\u{E0062}\u200D\u{E0065}\u200D\u{E006E}\u200D\u{E0067}\u200D\u{E007F}",":envelope:":"\u2709",":envelope_with_arrow:":"\u{1F4E9}",":equatorial_guinea:":"\u{1F1EC}\u200D\u{1F1F6}",":eritrea:":"\u{1F1EA}\u200D\u{1F1F7}",":es:":"\u{1F1EA}\u200D\u{1F1F8}",":estonia:":"\u{1F1EA}\u200D\u{1F1EA}",":ethiopia:":"\u{1F1EA}\u200D\u{1F1F9}",":eu:":"\u{1F1EA}\u200D\u{1F1FA}",":euro:":"\u{1F4B6}",":european_castle:":"\u{1F3F0}",":european_post_office:":"\u{1F3E4}",":european_union:":"\u{1F1EA}\u200D\u{1F1FA}",":evergreen_tree:":"\u{1F332}",":exclamation:":"\u2757",":exploding_head:":"\u{1F92F}",":expressionless:":"\u{1F611}",":eye:":"\u{1F441}",":eye_speech_bubble:":"\u{1F441}\u200D\u{1F5E8}",":eyeglasses:":"\u{1F453}",":eyes:":"\u{1F440}",":face_exhaling:":"\u{1F62E}\u200D\u{1F4A8}",":face_in_clouds:":"\u{1F636}\u200D\u{1F32B}",":face_with_head_bandage:":"\u{1F915}",":face_with_spiral_eyes:":"\u{1F635}\u200D\u{1F4AB}",":face_with_thermometer:":"\u{1F912}",":facepalm:":"\u{1F926}",":facepunch:":"\u{1F44A}",":factory:":"\u{1F3ED}",":factory_worker:":"\u{1F9D1}\u200D\u{1F3ED}",":fairy:":"\u{1F9DA}",":fairy_man:":"\u{1F9DA}\u200D\u2642",":fairy_woman:":"\u{1F9DA}\u200D\u2640",":falafel:":"\u{1F9C6}",":falkland_islands:":"\u{1F1EB}\u200D\u{1F1F0}",":fallen_leaf:":"\u{1F342}",":family:":"\u{1F46A}",":family_man_boy:":"\u{1F468}\u200D\u{1F466}",":family_man_boy_boy:":"\u{1F468}\u200D\u{1F466}\u200D\u{1F466}",":family_man_girl:":"\u{1F468}\u200D\u{1F467}",":family_man_girl_boy:":"\u{1F468}\u200D\u{1F467}\u200D\u{1F466}",":family_man_girl_girl:":"\u{1F468}\u200D\u{1F467}\u200D\u{1F467}",":family_man_man_boy:":"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}",":family_man_man_boy_boy:":"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}\u200D\u{1F466}",":family_man_man_girl:":"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}",":family_man_man_girl_boy:":"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F466}",":family_man_man_girl_girl:":"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F467}",":family_man_woman_boy:":"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}",":family_man_woman_boy_boy:":"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",":family_man_woman_girl:":"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}",":family_man_woman_girl_boy:":"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",":family_man_woman_girl_girl:":"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",":family_woman_boy:":"\u{1F469}\u200D\u{1F466}",":family_woman_boy_boy:":"\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",":family_woman_girl:":"\u{1F469}\u200D\u{1F467}",":family_woman_girl_boy:":"\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",":family_woman_girl_girl:":"\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",":family_woman_woman_boy:":"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}",":family_woman_woman_boy_boy:":"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",":family_woman_woman_girl:":"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}",":family_woman_woman_girl_boy:":"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",":family_woman_woman_girl_girl:":"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",":farmer:":"\u{1F9D1}\u200D\u{1F33E}",":faroe_islands:":"\u{1F1EB}\u200D\u{1F1F4}",":fast_forward:":"\u23E9",":fax:":"\u{1F4E0}",":fearful:":"\u{1F628}",":feather:":"\u{1FAB6}",":feet:":"\u{1F43E}",":female_detective:":"\u{1F575}\u200D\u2640",":female_sign:":"\u2640",":ferris_wheel:":"\u{1F3A1}",":ferry:":"\u26F4",":field_hockey:":"\u{1F3D1}",":fiji:":"\u{1F1EB}\u200D\u{1F1EF}",":file_cabinet:":"\u{1F5C4}",":file_folder:":"\u{1F4C1}",":film_projector:":"\u{1F4FD}",":film_strip:":"\u{1F39E}",":finland:":"\u{1F1EB}\u200D\u{1F1EE}",":fire:":"\u{1F525}",":fire_engine:":"\u{1F692}",":fire_extinguisher:":"\u{1F9EF}",":firecracker:":"\u{1F9E8}",":firefighter:":"\u{1F9D1}\u200D\u{1F692}",":fireworks:":"\u{1F386}",":first_quarter_moon:":"\u{1F313}",":first_quarter_moon_with_face:":"\u{1F31B}",":fish:":"\u{1F41F}",":fish_cake:":"\u{1F365}",":fishing_pole_and_fish:":"\u{1F3A3}",":fist:":"\u270A",":fist_left:":"\u{1F91B}",":fist_oncoming:":"\u{1F44A}",":fist_raised:":"\u270A",":fist_right:":"\u{1F91C}",":five:":"5\u200D\u20E3",":flags:":"\u{1F38F}",":flamingo:":"\u{1F9A9}",":flashlight:":"\u{1F526}",":flat_shoe:":"\u{1F97F}",":flatbread:":"\u{1FAD3}",":fleur_de_lis:":"\u269C",":flight_arrival:":"\u{1F6EC}",":flight_departure:":"\u{1F6EB}",":flipper:":"\u{1F42C}",":floppy_disk:":"\u{1F4BE}",":flower_playing_cards:":"\u{1F3B4}",":flushed:":"\u{1F633}",":fly:":"\u{1FAB0}",":flying_disc:":"\u{1F94F}",":flying_saucer:":"\u{1F6F8}",":fog:":"\u{1F32B}",":foggy:":"\u{1F301}",":fondue:":"\u{1FAD5}",":foot:":"\u{1F9B6}",":football:":"\u{1F3C8}",":footprints:":"\u{1F463}",":fork_and_knife:":"\u{1F374}",":fortune_cookie:":"\u{1F960}",":fountain:":"\u26F2",":fountain_pen:":"\u{1F58B}",":four:":"4\u200D\u20E3",":four_leaf_clover:":"\u{1F340}",":fox_face:":"\u{1F98A}",":fr:":"\u{1F1EB}\u200D\u{1F1F7}",":framed_picture:":"\u{1F5BC}",":free:":"\u{1F193}",":french_guiana:":"\u{1F1EC}\u200D\u{1F1EB}",":french_polynesia:":"\u{1F1F5}\u200D\u{1F1EB}",":french_southern_territories:":"\u{1F1F9}\u200D\u{1F1EB}",":fried_egg:":"\u{1F373}",":fried_shrimp:":"\u{1F364}",":fries:":"\u{1F35F}",":frog:":"\u{1F438}",":frowning:":"\u{1F626}",":frowning_face:":"\u2639",":frowning_man:":"\u{1F64D}\u200D\u2642",":frowning_person:":"\u{1F64D}",":frowning_woman:":"\u{1F64D}\u200D\u2640",":fu:":"\u{1F595}",":fuelpump:":"\u26FD",":full_moon:":"\u{1F315}",":full_moon_with_face:":"\u{1F31D}",":funeral_urn:":"\u26B1",":gabon:":"\u{1F1EC}\u200D\u{1F1E6}",":gambia:":"\u{1F1EC}\u200D\u{1F1F2}",":game_die:":"\u{1F3B2}",":garlic:":"\u{1F9C4}",":gb:":"\u{1F1EC}\u200D\u{1F1E7}",":gear:":"\u2699",":gem:":"\u{1F48E}",":gemini:":"\u264A",":genie:":"\u{1F9DE}",":genie_man:":"\u{1F9DE}\u200D\u2642",":genie_woman:":"\u{1F9DE}\u200D\u2640",":georgia:":"\u{1F1EC}\u200D\u{1F1EA}",":ghana:":"\u{1F1EC}\u200D\u{1F1ED}",":ghost:":"\u{1F47B}",":gibraltar:":"\u{1F1EC}\u200D\u{1F1EE}",":gift:":"\u{1F381}",":gift_heart:":"\u{1F49D}",":giraffe:":"\u{1F992}",":girl:":"\u{1F467}",":globe_with_meridians:":"\u{1F310}",":gloves:":"\u{1F9E4}",":goal_net:":"\u{1F945}",":goat:":"\u{1F410}",":goggles:":"\u{1F97D}",":golf:":"\u26F3",":golfing:":"\u{1F3CC}",":golfing_man:":"\u{1F3CC}\u200D\u2642",":golfing_woman:":"\u{1F3CC}\u200D\u2640",":gorilla:":"\u{1F98D}",":grapes:":"\u{1F347}",":greece:":"\u{1F1EC}\u200D\u{1F1F7}",":green_apple:":"\u{1F34F}",":green_book:":"\u{1F4D7}",":green_circle:":"\u{1F7E2}",":green_heart:":"\u{1F49A}",":green_salad:":"\u{1F957}",":green_square:":"\u{1F7E9}",":greenland:":"\u{1F1EC}\u200D\u{1F1F1}",":grenada:":"\u{1F1EC}\u200D\u{1F1E9}",":grey_exclamation:":"\u2755",":grey_question:":"\u2754",":grimacing:":"\u{1F62C}",":grin:":"\u{1F601}",":grinning:":"\u{1F600}",":guadeloupe:":"\u{1F1EC}\u200D\u{1F1F5}",":guam:":"\u{1F1EC}\u200D\u{1F1FA}",":guard:":"\u{1F482}",":guardsman:":"\u{1F482}\u200D\u2642",":guardswoman:":"\u{1F482}\u200D\u2640",":guatemala:":"\u{1F1EC}\u200D\u{1F1F9}",":guernsey:":"\u{1F1EC}\u200D\u{1F1EC}",":guide_dog:":"\u{1F9AE}",":guinea:":"\u{1F1EC}\u200D\u{1F1F3}",":guinea_bissau:":"\u{1F1EC}\u200D\u{1F1FC}",":guitar:":"\u{1F3B8}",":gun:":"\u{1F52B}",":guyana:":"\u{1F1EC}\u200D\u{1F1FE}",":haircut:":"\u{1F487}",":haircut_man:":"\u{1F487}\u200D\u2642",":haircut_woman:":"\u{1F487}\u200D\u2640",":haiti:":"\u{1F1ED}\u200D\u{1F1F9}",":hamburger:":"\u{1F354}",":hammer:":"\u{1F528}",":hammer_and_pick:":"\u2692",":hammer_and_wrench:":"\u{1F6E0}",":hamster:":"\u{1F439}",":hand:":"\u270B",":hand_over_mouth:":"\u{1F92D}",":handbag:":"\u{1F45C}",":handball_person:":"\u{1F93E}",":handshake:":"\u{1F91D}",":hankey:":"\u{1F4A9}",":hash:":"#\u200D\u20E3",":hatched_chick:":"\u{1F425}",":hatching_chick:":"\u{1F423}",":headphones:":"\u{1F3A7}",":headstone:":"\u{1FAA6}",":health_worker:":"\u{1F9D1}\u200D\u2695",":hear_no_evil:":"\u{1F649}",":heard_mcdonald_islands:":"\u{1F1ED}\u200D\u{1F1F2}",":heart:":"\u2764",":heart_decoration:":"\u{1F49F}",":heart_eyes:":"\u{1F60D}",":heart_eyes_cat:":"\u{1F63B}",":heart_on_fire:":"\u2764\u200D\u{1F525}",":heartbeat:":"\u{1F493}",":heartpulse:":"\u{1F497}",":hearts:":"\u2665",":heavy_check_mark:":"\u2714",":heavy_division_sign:":"\u2797",":heavy_dollar_sign:":"\u{1F4B2}",":heavy_exclamation_mark:":"\u2757",":heavy_heart_exclamation:":"\u2763",":heavy_minus_sign:":"\u2796",":heavy_multiplication_x:":"\u2716",":heavy_plus_sign:":"\u2795",":hedgehog:":"\u{1F994}",":helicopter:":"\u{1F681}",":herb:":"\u{1F33F}",":hibiscus:":"\u{1F33A}",":high_brightness:":"\u{1F506}",":high_heel:":"\u{1F460}",":hiking_boot:":"\u{1F97E}",":hindu_temple:":"\u{1F6D5}",":hippopotamus:":"\u{1F99B}",":hocho:":"\u{1F52A}",":hole:":"\u{1F573}",":honduras:":"\u{1F1ED}\u200D\u{1F1F3}",":honey_pot:":"\u{1F36F}",":honeybee:":"\u{1F41D}",":hong_kong:":"\u{1F1ED}\u200D\u{1F1F0}",":hook:":"\u{1FA9D}",":horse:":"\u{1F434}",":horse_racing:":"\u{1F3C7}",":hospital:":"\u{1F3E5}",":hot_face:":"\u{1F975}",":hot_pepper:":"\u{1F336}",":hotdog:":"\u{1F32D}",":hotel:":"\u{1F3E8}",":hotsprings:":"\u2668",":hourglass:":"\u231B",":hourglass_flowing_sand:":"\u23F3",":house:":"\u{1F3E0}",":house_with_garden:":"\u{1F3E1}",":houses:":"\u{1F3D8}",":hugs:":"\u{1F917}",":hungary:":"\u{1F1ED}\u200D\u{1F1FA}",":hushed:":"\u{1F62F}",":hut:":"\u{1F6D6}",":ice_cream:":"\u{1F368}",":ice_cube:":"\u{1F9CA}",":ice_hockey:":"\u{1F3D2}",":ice_skate:":"\u26F8",":icecream:":"\u{1F366}",":iceland:":"\u{1F1EE}\u200D\u{1F1F8}",":id:":"\u{1F194}",":ideograph_advantage:":"\u{1F250}",":imp:":"\u{1F47F}",":inbox_tray:":"\u{1F4E5}",":incoming_envelope:":"\u{1F4E8}",":india:":"\u{1F1EE}\u200D\u{1F1F3}",":indonesia:":"\u{1F1EE}\u200D\u{1F1E9}",":infinity:":"\u267E",":information_desk_person:":"\u{1F481}",":information_source:":"\u2139",":innocent:":"\u{1F607}",":interrobang:":"\u2049",":iphone:":"\u{1F4F1}",":iran:":"\u{1F1EE}\u200D\u{1F1F7}",":iraq:":"\u{1F1EE}\u200D\u{1F1F6}",":ireland:":"\u{1F1EE}\u200D\u{1F1EA}",":isle_of_man:":"\u{1F1EE}\u200D\u{1F1F2}",":israel:":"\u{1F1EE}\u200D\u{1F1F1}",":it:":"\u{1F1EE}\u200D\u{1F1F9}",":izakaya_lantern:":"\u{1F3EE}",":jack_o_lantern:":"\u{1F383}",":jamaica:":"\u{1F1EF}\u200D\u{1F1F2}",":japan:":"\u{1F5FE}",":japanese_castle:":"\u{1F3EF}",":japanese_goblin:":"\u{1F47A}",":japanese_ogre:":"\u{1F479}",":jeans:":"\u{1F456}",":jersey:":"\u{1F1EF}\u200D\u{1F1EA}",":jigsaw:":"\u{1F9E9}",":jordan:":"\u{1F1EF}\u200D\u{1F1F4}",":joy:":"\u{1F602}",":joy_cat:":"\u{1F639}",":joystick:":"\u{1F579}",":jp:":"\u{1F1EF}\u200D\u{1F1F5}",":judge:":"\u{1F9D1}\u200D\u2696",":juggling_person:":"\u{1F939}",":kaaba:":"\u{1F54B}",":kangaroo:":"\u{1F998}",":kazakhstan:":"\u{1F1F0}\u200D\u{1F1FF}",":kenya:":"\u{1F1F0}\u200D\u{1F1EA}",":key:":"\u{1F511}",":keyboard:":"\u2328",":keycap_ten:":"\u{1F51F}",":kick_scooter:":"\u{1F6F4}",":kimono:":"\u{1F458}",":kiribati:":"\u{1F1F0}\u200D\u{1F1EE}",":kiss:":"\u{1F48B}",":kissing:":"\u{1F617}",":kissing_cat:":"\u{1F63D}",":kissing_closed_eyes:":"\u{1F61A}",":kissing_heart:":"\u{1F618}",":kissing_smiling_eyes:":"\u{1F619}",":kite:":"\u{1FA81}",":kiwi_fruit:":"\u{1F95D}",":kneeling_man:":"\u{1F9CE}\u200D\u2642",":kneeling_person:":"\u{1F9CE}",":kneeling_woman:":"\u{1F9CE}\u200D\u2640",":knife:":"\u{1F52A}",":knot:":"\u{1FAA2}",":koala:":"\u{1F428}",":koko:":"\u{1F201}",":kosovo:":"\u{1F1FD}\u200D\u{1F1F0}",":kr:":"\u{1F1F0}\u200D\u{1F1F7}",":kuwait:":"\u{1F1F0}\u200D\u{1F1FC}",":kyrgyzstan:":"\u{1F1F0}\u200D\u{1F1EC}",":lab_coat:":"\u{1F97C}",":label:":"\u{1F3F7}",":lacrosse:":"\u{1F94D}",":ladder:":"\u{1FA9C}",":lady_beetle:":"\u{1F41E}",":lantern:":"\u{1F3EE}",":laos:":"\u{1F1F1}\u200D\u{1F1E6}",":large_blue_circle:":"\u{1F535}",":large_blue_diamond:":"\u{1F537}",":large_orange_diamond:":"\u{1F536}",":last_quarter_moon:":"\u{1F317}",":last_quarter_moon_with_face:":"\u{1F31C}",":latin_cross:":"\u271D",":latvia:":"\u{1F1F1}\u200D\u{1F1FB}",":laughing:":"\u{1F606}",":leafy_green:":"\u{1F96C}",":leaves:":"\u{1F343}",":lebanon:":"\u{1F1F1}\u200D\u{1F1E7}",":ledger:":"\u{1F4D2}",":left_luggage:":"\u{1F6C5}",":left_right_arrow:":"\u2194",":left_speech_bubble:":"\u{1F5E8}",":leftwards_arrow_with_hook:":"\u21A9",":leg:":"\u{1F9B5}",":lemon:":"\u{1F34B}",":leo:":"\u264C",":leopard:":"\u{1F406}",":lesotho:":"\u{1F1F1}\u200D\u{1F1F8}",":level_slider:":"\u{1F39A}",":liberia:":"\u{1F1F1}\u200D\u{1F1F7}",":libra:":"\u264E",":libya:":"\u{1F1F1}\u200D\u{1F1FE}",":liechtenstein:":"\u{1F1F1}\u200D\u{1F1EE}",":light_rail:":"\u{1F688}",":link:":"\u{1F517}",":lion:":"\u{1F981}",":lips:":"\u{1F444}",":lipstick:":"\u{1F484}",":lithuania:":"\u{1F1F1}\u200D\u{1F1F9}",":lizard:":"\u{1F98E}",":llama:":"\u{1F999}",":lobster:":"\u{1F99E}",":lock:":"\u{1F512}",":lock_with_ink_pen:":"\u{1F50F}",":lollipop:":"\u{1F36D}",":long_drum:":"\u{1FA98}",":loop:":"\u27BF",":lotion_bottle:":"\u{1F9F4}",":lotus_position:":"\u{1F9D8}",":lotus_position_man:":"\u{1F9D8}\u200D\u2642",":lotus_position_woman:":"\u{1F9D8}\u200D\u2640",":loud_sound:":"\u{1F50A}",":loudspeaker:":"\u{1F4E2}",":love_hotel:":"\u{1F3E9}",":love_letter:":"\u{1F48C}",":love_you_gesture:":"\u{1F91F}",":low_brightness:":"\u{1F505}",":luggage:":"\u{1F9F3}",":lungs:":"\u{1FAC1}",":luxembourg:":"\u{1F1F1}\u200D\u{1F1FA}",":lying_face:":"\u{1F925}",":m:":"\u24C2",":macau:":"\u{1F1F2}\u200D\u{1F1F4}",":macedonia:":"\u{1F1F2}\u200D\u{1F1F0}",":madagascar:":"\u{1F1F2}\u200D\u{1F1EC}",":mag:":"\u{1F50D}",":mag_right:":"\u{1F50E}",":mage:":"\u{1F9D9}",":mage_man:":"\u{1F9D9}\u200D\u2642",":mage_woman:":"\u{1F9D9}\u200D\u2640",":magic_wand:":"\u{1FA84}",":magnet:":"\u{1F9F2}",":mahjong:":"\u{1F004}",":mailbox:":"\u{1F4EB}",":mailbox_closed:":"\u{1F4EA}",":mailbox_with_mail:":"\u{1F4EC}",":mailbox_with_no_mail:":"\u{1F4ED}",":malawi:":"\u{1F1F2}\u200D\u{1F1FC}",":malaysia:":"\u{1F1F2}\u200D\u{1F1FE}",":maldives:":"\u{1F1F2}\u200D\u{1F1FB}",":male_detective:":"\u{1F575}\u200D\u2642",":male_sign:":"\u2642",":mali:":"\u{1F1F2}\u200D\u{1F1F1}",":malta:":"\u{1F1F2}\u200D\u{1F1F9}",":mammoth:":"\u{1F9A3}",":man:":"\u{1F468}",":man_artist:":"\u{1F468}\u200D\u{1F3A8}",":man_astronaut:":"\u{1F468}\u200D\u{1F680}",":man_beard:":"\u{1F9D4}\u200D\u2642",":man_cartwheeling:":"\u{1F938}\u200D\u2642",":man_cook:":"\u{1F468}\u200D\u{1F373}",":man_dancing:":"\u{1F57A}",":man_facepalming:":"\u{1F926}\u200D\u2642",":man_factory_worker:":"\u{1F468}\u200D\u{1F3ED}",":man_farmer:":"\u{1F468}\u200D\u{1F33E}",":man_feeding_baby:":"\u{1F468}\u200D\u{1F37C}",":man_firefighter:":"\u{1F468}\u200D\u{1F692}",":man_health_worker:":"\u{1F468}\u200D\u2695",":man_in_manual_wheelchair:":"\u{1F468}\u200D\u{1F9BD}",":man_in_motorized_wheelchair:":"\u{1F468}\u200D\u{1F9BC}",":man_in_tuxedo:":"\u{1F935}\u200D\u2642",":man_judge:":"\u{1F468}\u200D\u2696",":man_juggling:":"\u{1F939}\u200D\u2642",":man_mechanic:":"\u{1F468}\u200D\u{1F527}",":man_office_worker:":"\u{1F468}\u200D\u{1F4BC}",":man_pilot:":"\u{1F468}\u200D\u2708",":man_playing_handball:":"\u{1F93E}\u200D\u2642",":man_playing_water_polo:":"\u{1F93D}\u200D\u2642",":man_scientist:":"\u{1F468}\u200D\u{1F52C}",":man_shrugging:":"\u{1F937}\u200D\u2642",":man_singer:":"\u{1F468}\u200D\u{1F3A4}",":man_student:":"\u{1F468}\u200D\u{1F393}",":man_teacher:":"\u{1F468}\u200D\u{1F3EB}",":man_technologist:":"\u{1F468}\u200D\u{1F4BB}",":man_with_gua_pi_mao:":"\u{1F472}",":man_with_probing_cane:":"\u{1F468}\u200D\u{1F9AF}",":man_with_turban:":"\u{1F473}\u200D\u2642",":man_with_veil:":"\u{1F470}\u200D\u2642",":mandarin:":"\u{1F34A}",":mango:":"\u{1F96D}",":mans_shoe:":"\u{1F45E}",":mantelpiece_clock:":"\u{1F570}",":manual_wheelchair:":"\u{1F9BD}",":maple_leaf:":"\u{1F341}",":marshall_islands:":"\u{1F1F2}\u200D\u{1F1ED}",":martial_arts_uniform:":"\u{1F94B}",":martinique:":"\u{1F1F2}\u200D\u{1F1F6}",":mask:":"\u{1F637}",":massage:":"\u{1F486}",":massage_man:":"\u{1F486}\u200D\u2642",":massage_woman:":"\u{1F486}\u200D\u2640",":mate:":"\u{1F9C9}",":mauritania:":"\u{1F1F2}\u200D\u{1F1F7}",":mauritius:":"\u{1F1F2}\u200D\u{1F1FA}",":mayotte:":"\u{1F1FE}\u200D\u{1F1F9}",":meat_on_bone:":"\u{1F356}",":mechanic:":"\u{1F9D1}\u200D\u{1F527}",":mechanical_arm:":"\u{1F9BE}",":mechanical_leg:":"\u{1F9BF}",":medal_military:":"\u{1F396}",":medal_sports:":"\u{1F3C5}",":medical_symbol:":"\u2695",":mega:":"\u{1F4E3}",":melon:":"\u{1F348}",":memo:":"\u{1F4DD}",":men_wrestling:":"\u{1F93C}\u200D\u2642",":mending_heart:":"\u2764\u200D\u{1FA79}",":menorah:":"\u{1F54E}",":mens:":"\u{1F6B9}",":mermaid:":"\u{1F9DC}\u200D\u2640",":merman:":"\u{1F9DC}\u200D\u2642",":merperson:":"\u{1F9DC}",":metal:":"\u{1F918}",":metro:":"\u{1F687}",":mexico:":"\u{1F1F2}\u200D\u{1F1FD}",":microbe:":"\u{1F9A0}",":micronesia:":"\u{1F1EB}\u200D\u{1F1F2}",":microphone:":"\u{1F3A4}",":microscope:":"\u{1F52C}",":middle_finger:":"\u{1F595}",":military_helmet:":"\u{1FA96}",":milk_glass:":"\u{1F95B}",":milky_way:":"\u{1F30C}",":minibus:":"\u{1F690}",":minidisc:":"\u{1F4BD}",":mirror:":"\u{1FA9E}",":mobile_phone_off:":"\u{1F4F4}",":moldova:":"\u{1F1F2}\u200D\u{1F1E9}",":monaco:":"\u{1F1F2}\u200D\u{1F1E8}",":money_mouth_face:":"\u{1F911}",":money_with_wings:":"\u{1F4B8}",":moneybag:":"\u{1F4B0}",":mongolia:":"\u{1F1F2}\u200D\u{1F1F3}",":monkey:":"\u{1F412}",":monkey_face:":"\u{1F435}",":monocle_face:":"\u{1F9D0}",":monorail:":"\u{1F69D}",":montenegro:":"\u{1F1F2}\u200D\u{1F1EA}",":montserrat:":"\u{1F1F2}\u200D\u{1F1F8}",":moon:":"\u{1F314}",":moon_cake:":"\u{1F96E}",":morocco:":"\u{1F1F2}\u200D\u{1F1E6}",":mortar_board:":"\u{1F393}",":mosque:":"\u{1F54C}",":mosquito:":"\u{1F99F}",":motor_boat:":"\u{1F6E5}",":motor_scooter:":"\u{1F6F5}",":motorcycle:":"\u{1F3CD}",":motorized_wheelchair:":"\u{1F9BC}",":motorway:":"\u{1F6E3}",":mount_fuji:":"\u{1F5FB}",":mountain:":"\u26F0",":mountain_bicyclist:":"\u{1F6B5}",":mountain_biking_man:":"\u{1F6B5}\u200D\u2642",":mountain_biking_woman:":"\u{1F6B5}\u200D\u2640",":mountain_cableway:":"\u{1F6A0}",":mountain_railway:":"\u{1F69E}",":mountain_snow:":"\u{1F3D4}",":mouse:":"\u{1F42D}",":mouse2:":"\u{1F401}",":mouse_trap:":"\u{1FAA4}",":movie_camera:":"\u{1F3A5}",":moyai:":"\u{1F5FF}",":mozambique:":"\u{1F1F2}\u200D\u{1F1FF}",":mrs_claus:":"\u{1F936}",":muscle:":"\u{1F4AA}",":mushroom:":"\u{1F344}",":musical_keyboard:":"\u{1F3B9}",":musical_note:":"\u{1F3B5}",":musical_score:":"\u{1F3BC}",":mute:":"\u{1F507}",":mx_claus:":"\u{1F9D1}\u200D\u{1F384}",":myanmar:":"\u{1F1F2}\u200D\u{1F1F2}",":nail_care:":"\u{1F485}",":name_badge:":"\u{1F4DB}",":namibia:":"\u{1F1F3}\u200D\u{1F1E6}",":national_park:":"\u{1F3DE}",":nauru:":"\u{1F1F3}\u200D\u{1F1F7}",":nauseated_face:":"\u{1F922}",":nazar_amulet:":"\u{1F9FF}",":necktie:":"\u{1F454}",":negative_squared_cross_mark:":"\u274E",":nepal:":"\u{1F1F3}\u200D\u{1F1F5}",":nerd_face:":"\u{1F913}",":nesting_dolls:":"\u{1FA86}",":netherlands:":"\u{1F1F3}\u200D\u{1F1F1}",":neutral_face:":"\u{1F610}",":new:":"\u{1F195}",":new_caledonia:":"\u{1F1F3}\u200D\u{1F1E8}",":new_moon:":"\u{1F311}",":new_moon_with_face:":"\u{1F31A}",":new_zealand:":"\u{1F1F3}\u200D\u{1F1FF}",":newspaper:":"\u{1F4F0}",":newspaper_roll:":"\u{1F5DE}",":next_track_button:":"\u23ED",":ng:":"\u{1F196}",":ng_man:":"\u{1F645}\u200D\u2642",":ng_woman:":"\u{1F645}\u200D\u2640",":nicaragua:":"\u{1F1F3}\u200D\u{1F1EE}",":niger:":"\u{1F1F3}\u200D\u{1F1EA}",":nigeria:":"\u{1F1F3}\u200D\u{1F1EC}",":night_with_stars:":"\u{1F303}",":nine:":"9\u200D\u20E3",":ninja:":"\u{1F977}",":niue:":"\u{1F1F3}\u200D\u{1F1FA}",":no_bell:":"\u{1F515}",":no_bicycles:":"\u{1F6B3}",":no_entry:":"\u26D4",":no_entry_sign:":"\u{1F6AB}",":no_good:":"\u{1F645}",":no_good_man:":"\u{1F645}\u200D\u2642",":no_good_woman:":"\u{1F645}\u200D\u2640",":no_mobile_phones:":"\u{1F4F5}",":no_mouth:":"\u{1F636}",":no_pedestrians:":"\u{1F6B7}",":no_smoking:":"\u{1F6AD}",":non-potable_water:":"\u{1F6B1}",":norfolk_island:":"\u{1F1F3}\u200D\u{1F1EB}",":north_korea:":"\u{1F1F0}\u200D\u{1F1F5}",":northern_mariana_islands:":"\u{1F1F2}\u200D\u{1F1F5}",":norway:":"\u{1F1F3}\u200D\u{1F1F4}",":nose:":"\u{1F443}",":notebook:":"\u{1F4D3}",":notebook_with_decorative_cover:":"\u{1F4D4}",":notes:":"\u{1F3B6}",":nut_and_bolt:":"\u{1F529}",":o:":"\u2B55",":o2:":"\u{1F17E}",":ocean:":"\u{1F30A}",":octopus:":"\u{1F419}",":oden:":"\u{1F362}",":office:":"\u{1F3E2}",":office_worker:":"\u{1F9D1}\u200D\u{1F4BC}",":oil_drum:":"\u{1F6E2}",":ok:":"\u{1F197}",":ok_hand:":"\u{1F44C}",":ok_man:":"\u{1F646}\u200D\u2642",":ok_person:":"\u{1F646}",":ok_woman:":"\u{1F646}\u200D\u2640",":old_key:":"\u{1F5DD}",":older_adult:":"\u{1F9D3}",":older_man:":"\u{1F474}",":older_woman:":"\u{1F475}",":olive:":"\u{1FAD2}",":om:":"\u{1F549}",":oman:":"\u{1F1F4}\u200D\u{1F1F2}",":on:":"\u{1F51B}",":oncoming_automobile:":"\u{1F698}",":oncoming_bus:":"\u{1F68D}",":oncoming_police_car:":"\u{1F694}",":oncoming_taxi:":"\u{1F696}",":one:":"1\u200D\u20E3",":one_piece_swimsuit:":"\u{1FA71}",":onion:":"\u{1F9C5}",":open_book:":"\u{1F4D6}",":open_file_folder:":"\u{1F4C2}",":open_hands:":"\u{1F450}",":open_mouth:":"\u{1F62E}",":open_umbrella:":"\u2602",":ophiuchus:":"\u26CE",":orange:":"\u{1F34A}",":orange_book:":"\u{1F4D9}",":orange_circle:":"\u{1F7E0}",":orange_heart:":"\u{1F9E1}",":orange_square:":"\u{1F7E7}",":orangutan:":"\u{1F9A7}",":orthodox_cross:":"\u2626",":otter:":"\u{1F9A6}",":outbox_tray:":"\u{1F4E4}",":owl:":"\u{1F989}",":ox:":"\u{1F402}",":oyster:":"\u{1F9AA}",":package:":"\u{1F4E6}",":page_facing_up:":"\u{1F4C4}",":page_with_curl:":"\u{1F4C3}",":pager:":"\u{1F4DF}",":paintbrush:":"\u{1F58C}",":pakistan:":"\u{1F1F5}\u200D\u{1F1F0}",":palau:":"\u{1F1F5}\u200D\u{1F1FC}",":palestinian_territories:":"\u{1F1F5}\u200D\u{1F1F8}",":palm_tree:":"\u{1F334}",":palms_up_together:":"\u{1F932}",":panama:":"\u{1F1F5}\u200D\u{1F1E6}",":pancakes:":"\u{1F95E}",":panda_face:":"\u{1F43C}",":paperclip:":"\u{1F4CE}",":paperclips:":"\u{1F587}",":papua_new_guinea:":"\u{1F1F5}\u200D\u{1F1EC}",":parachute:":"\u{1FA82}",":paraguay:":"\u{1F1F5}\u200D\u{1F1FE}",":parasol_on_ground:":"\u26F1",":parking:":"\u{1F17F}",":parrot:":"\u{1F99C}",":part_alternation_mark:":"\u303D",":partly_sunny:":"\u26C5",":partying_face:":"\u{1F973}",":passenger_ship:":"\u{1F6F3}",":passport_control:":"\u{1F6C2}",":pause_button:":"\u23F8",":paw_prints:":"\u{1F43E}",":peace_symbol:":"\u262E",":peach:":"\u{1F351}",":peacock:":"\u{1F99A}",":peanuts:":"\u{1F95C}",":pear:":"\u{1F350}",":pen:":"\u{1F58A}",":pencil:":"\u{1F4DD}",":pencil2:":"\u270F",":penguin:":"\u{1F427}",":pensive:":"\u{1F614}",":people_holding_hands:":"\u{1F9D1}\u200D\u{1F91D}\u200D\u{1F9D1}",":people_hugging:":"\u{1FAC2}",":performing_arts:":"\u{1F3AD}",":persevere:":"\u{1F623}",":person_bald:":"\u{1F9D1}\u200D\u{1F9B2}",":person_curly_hair:":"\u{1F9D1}\u200D\u{1F9B1}",":person_feeding_baby:":"\u{1F9D1}\u200D\u{1F37C}",":person_fencing:":"\u{1F93A}",":person_in_manual_wheelchair:":"\u{1F9D1}\u200D\u{1F9BD}",":person_in_motorized_wheelchair:":"\u{1F9D1}\u200D\u{1F9BC}",":person_in_tuxedo:":"\u{1F935}",":person_red_hair:":"\u{1F9D1}\u200D\u{1F9B0}",":person_white_hair:":"\u{1F9D1}\u200D\u{1F9B3}",":person_with_probing_cane:":"\u{1F9D1}\u200D\u{1F9AF}",":person_with_turban:":"\u{1F473}",":person_with_veil:":"\u{1F470}",":peru:":"\u{1F1F5}\u200D\u{1F1EA}",":petri_dish:":"\u{1F9EB}",":philippines:":"\u{1F1F5}\u200D\u{1F1ED}",":phone:":"\u260E",":pick:":"\u26CF",":pickup_truck:":"\u{1F6FB}",":pie:":"\u{1F967}",":pig:":"\u{1F437}",":pig2:":"\u{1F416}",":pig_nose:":"\u{1F43D}",":pill:":"\u{1F48A}",":pilot:":"\u{1F9D1}\u200D\u2708",":pinata:":"\u{1FA85}",":pinched_fingers:":"\u{1F90C}",":pinching_hand:":"\u{1F90F}",":pineapple:":"\u{1F34D}",":ping_pong:":"\u{1F3D3}",":pirate_flag:":"\u{1F3F4}\u200D\u2620",":pisces:":"\u2653",":pitcairn_islands:":"\u{1F1F5}\u200D\u{1F1F3}",":pizza:":"\u{1F355}",":placard:":"\u{1FAA7}",":place_of_worship:":"\u{1F6D0}",":plate_with_cutlery:":"\u{1F37D}",":play_or_pause_button:":"\u23EF",":pleading_face:":"\u{1F97A}",":plunger:":"\u{1FAA0}",":point_down:":"\u{1F447}",":point_left:":"\u{1F448}",":point_right:":"\u{1F449}",":point_up:":"\u261D",":point_up_2:":"\u{1F446}",":poland:":"\u{1F1F5}\u200D\u{1F1F1}",":polar_bear:":"\u{1F43B}\u200D\u2744",":police_car:":"\u{1F693}",":police_officer:":"\u{1F46E}",":policeman:":"\u{1F46E}\u200D\u2642",":policewoman:":"\u{1F46E}\u200D\u2640",":poodle:":"\u{1F429}",":poop:":"\u{1F4A9}",":popcorn:":"\u{1F37F}",":portugal:":"\u{1F1F5}\u200D\u{1F1F9}",":post_office:":"\u{1F3E3}",":postal_horn:":"\u{1F4EF}",":postbox:":"\u{1F4EE}",":potable_water:":"\u{1F6B0}",":potato:":"\u{1F954}",":potted_plant:":"\u{1FAB4}",":pouch:":"\u{1F45D}",":poultry_leg:":"\u{1F357}",":pound:":"\u{1F4B7}",":pout:":"\u{1F621}",":pouting_cat:":"\u{1F63E}",":pouting_face:":"\u{1F64E}",":pouting_man:":"\u{1F64E}\u200D\u2642",":pouting_woman:":"\u{1F64E}\u200D\u2640",":pray:":"\u{1F64F}",":prayer_beads:":"\u{1F4FF}",":pregnant_woman:":"\u{1F930}",":pretzel:":"\u{1F968}",":previous_track_button:":"\u23EE",":prince:":"\u{1F934}",":princess:":"\u{1F478}",":printer:":"\u{1F5A8}",":probing_cane:":"\u{1F9AF}",":puerto_rico:":"\u{1F1F5}\u200D\u{1F1F7}",":punch:":"\u{1F44A}",":purple_circle:":"\u{1F7E3}",":purple_heart:":"\u{1F49C}",":purple_square:":"\u{1F7EA}",":purse:":"\u{1F45B}",":pushpin:":"\u{1F4CC}",":put_litter_in_its_place:":"\u{1F6AE}",":qatar:":"\u{1F1F6}\u200D\u{1F1E6}",":question:":"\u2753",":rabbit:":"\u{1F430}",":rabbit2:":"\u{1F407}",":raccoon:":"\u{1F99D}",":racehorse:":"\u{1F40E}",":racing_car:":"\u{1F3CE}",":radio:":"\u{1F4FB}",":radio_button:":"\u{1F518}",":radioactive:":"\u2622",":rage:":"\u{1F621}",":railway_car:":"\u{1F683}",":railway_track:":"\u{1F6E4}",":rainbow:":"\u{1F308}",":rainbow_flag:":"\u{1F3F3}\u200D\u{1F308}",":raised_back_of_hand:":"\u{1F91A}",":raised_eyebrow:":"\u{1F928}",":raised_hand:":"\u270B",":raised_hand_with_fingers_splayed:":"\u{1F590}",":raised_hands:":"\u{1F64C}",":raising_hand:":"\u{1F64B}",":raising_hand_man:":"\u{1F64B}\u200D\u2642",":raising_hand_woman:":"\u{1F64B}\u200D\u2640",":ram:":"\u{1F40F}",":ramen:":"\u{1F35C}",":rat:":"\u{1F400}",":razor:":"\u{1FA92}",":receipt:":"\u{1F9FE}",":record_button:":"\u23FA",":recycle:":"\u267B",":red_car:":"\u{1F697}",":red_circle:":"\u{1F534}",":red_envelope:":"\u{1F9E7}",":red_haired_man:":"\u{1F468}\u200D\u{1F9B0}",":red_haired_woman:":"\u{1F469}\u200D\u{1F9B0}",":red_square:":"\u{1F7E5}",":registered:":"\xAE",":relaxed:":"\u263A",":relieved:":"\u{1F60C}",":reminder_ribbon:":"\u{1F397}",":repeat:":"\u{1F501}",":repeat_one:":"\u{1F502}",":rescue_worker_helmet:":"\u26D1",":restroom:":"\u{1F6BB}",":reunion:":"\u{1F1F7}\u200D\u{1F1EA}",":revolving_hearts:":"\u{1F49E}",":rewind:":"\u23EA",":rhinoceros:":"\u{1F98F}",":ribbon:":"\u{1F380}",":rice:":"\u{1F35A}",":rice_ball:":"\u{1F359}",":rice_cracker:":"\u{1F358}",":rice_scene:":"\u{1F391}",":right_anger_bubble:":"\u{1F5EF}",":ring:":"\u{1F48D}",":ringed_planet:":"\u{1FA90}",":robot:":"\u{1F916}",":rock:":"\u{1FAA8}",":rocket:":"\u{1F680}",":rofl:":"\u{1F923}",":roll_eyes:":"\u{1F644}",":roll_of_paper:":"\u{1F9FB}",":roller_coaster:":"\u{1F3A2}",":roller_skate:":"\u{1F6FC}",":romania:":"\u{1F1F7}\u200D\u{1F1F4}",":rooster:":"\u{1F413}",":rose:":"\u{1F339}",":rosette:":"\u{1F3F5}",":rotating_light:":"\u{1F6A8}",":round_pushpin:":"\u{1F4CD}",":rowboat:":"\u{1F6A3}",":rowing_man:":"\u{1F6A3}\u200D\u2642",":rowing_woman:":"\u{1F6A3}\u200D\u2640",":ru:":"\u{1F1F7}\u200D\u{1F1FA}",":rugby_football:":"\u{1F3C9}",":runner:":"\u{1F3C3}",":running:":"\u{1F3C3}",":running_man:":"\u{1F3C3}\u200D\u2642",":running_shirt_with_sash:":"\u{1F3BD}",":running_woman:":"\u{1F3C3}\u200D\u2640",":rwanda:":"\u{1F1F7}\u200D\u{1F1FC}",":sa:":"\u{1F202}",":safety_pin:":"\u{1F9F7}",":safety_vest:":"\u{1F9BA}",":sagittarius:":"\u2650",":sailboat:":"\u26F5",":sake:":"\u{1F376}",":salt:":"\u{1F9C2}",":samoa:":"\u{1F1FC}\u200D\u{1F1F8}",":san_marino:":"\u{1F1F8}\u200D\u{1F1F2}",":sandal:":"\u{1F461}",":sandwich:":"\u{1F96A}",":santa:":"\u{1F385}",":sao_tome_principe:":"\u{1F1F8}\u200D\u{1F1F9}",":sari:":"\u{1F97B}",":sassy_man:":"\u{1F481}\u200D\u2642",":sassy_woman:":"\u{1F481}\u200D\u2640",":satellite:":"\u{1F4E1}",":satisfied:":"\u{1F606}",":saudi_arabia:":"\u{1F1F8}\u200D\u{1F1E6}",":sauna_man:":"\u{1F9D6}\u200D\u2642",":sauna_person:":"\u{1F9D6}",":sauna_woman:":"\u{1F9D6}\u200D\u2640",":sauropod:":"\u{1F995}",":saxophone:":"\u{1F3B7}",":scarf:":"\u{1F9E3}",":school:":"\u{1F3EB}",":school_satchel:":"\u{1F392}",":scientist:":"\u{1F9D1}\u200D\u{1F52C}",":scissors:":"\u2702",":scorpion:":"\u{1F982}",":scorpius:":"\u264F",":scotland:":"\u{1F3F4}\u200D\u{E0067}\u200D\u{E0062}\u200D\u{E0073}\u200D\u{E0063}\u200D\u{E0074}\u200D\u{E007F}",":scream:":"\u{1F631}",":scream_cat:":"\u{1F640}",":screwdriver:":"\u{1FA9B}",":scroll:":"\u{1F4DC}",":seal:":"\u{1F9AD}",":seat:":"\u{1F4BA}",":secret:":"\u3299",":see_no_evil:":"\u{1F648}",":seedling:":"\u{1F331}",":selfie:":"\u{1F933}",":senegal:":"\u{1F1F8}\u200D\u{1F1F3}",":serbia:":"\u{1F1F7}\u200D\u{1F1F8}",":service_dog:":"\u{1F415}\u200D\u{1F9BA}",":seven:":"7\u200D\u20E3",":sewing_needle:":"\u{1FAA1}",":seychelles:":"\u{1F1F8}\u200D\u{1F1E8}",":shallow_pan_of_food:":"\u{1F958}",":shamrock:":"\u2618",":shark:":"\u{1F988}",":shaved_ice:":"\u{1F367}",":sheep:":"\u{1F411}",":shell:":"\u{1F41A}",":shield:":"\u{1F6E1}",":shinto_shrine:":"\u26E9",":ship:":"\u{1F6A2}",":shirt:":"\u{1F455}",":shit:":"\u{1F4A9}",":shoe:":"\u{1F45E}",":shopping:":"\u{1F6CD}",":shopping_cart:":"\u{1F6D2}",":shorts:":"\u{1FA73}",":shower:":"\u{1F6BF}",":shrimp:":"\u{1F990}",":shrug:":"\u{1F937}",":shushing_face:":"\u{1F92B}",":sierra_leone:":"\u{1F1F8}\u200D\u{1F1F1}",":signal_strength:":"\u{1F4F6}",":singapore:":"\u{1F1F8}\u200D\u{1F1EC}",":singer:":"\u{1F9D1}\u200D\u{1F3A4}",":sint_maarten:":"\u{1F1F8}\u200D\u{1F1FD}",":six:":"6\u200D\u20E3",":six_pointed_star:":"\u{1F52F}",":skateboard:":"\u{1F6F9}",":ski:":"\u{1F3BF}",":skier:":"\u26F7",":skull:":"\u{1F480}",":skull_and_crossbones:":"\u2620",":skunk:":"\u{1F9A8}",":sled:":"\u{1F6F7}",":sleeping:":"\u{1F634}",":sleeping_bed:":"\u{1F6CC}",":sleepy:":"\u{1F62A}",":slightly_frowning_face:":"\u{1F641}",":slightly_smiling_face:":"\u{1F642}",":slot_machine:":"\u{1F3B0}",":sloth:":"\u{1F9A5}",":slovakia:":"\u{1F1F8}\u200D\u{1F1F0}",":slovenia:":"\u{1F1F8}\u200D\u{1F1EE}",":small_airplane:":"\u{1F6E9}",":small_blue_diamond:":"\u{1F539}",":small_orange_diamond:":"\u{1F538}",":small_red_triangle:":"\u{1F53A}",":small_red_triangle_down:":"\u{1F53B}",":smile:":"\u{1F604}",":smile_cat:":"\u{1F638}",":smiley:":"\u{1F603}",":smiley_cat:":"\u{1F63A}",":smiling_face_with_tear:":"\u{1F972}",":smiling_face_with_three_hearts:":"\u{1F970}",":smiling_imp:":"\u{1F608}",":smirk:":"\u{1F60F}",":smirk_cat:":"\u{1F63C}",":smoking:":"\u{1F6AC}",":snail:":"\u{1F40C}",":snake:":"\u{1F40D}",":sneezing_face:":"\u{1F927}",":snowboarder:":"\u{1F3C2}",":snowflake:":"\u2744",":snowman:":"\u26C4",":snowman_with_snow:":"\u2603",":soap:":"\u{1F9FC}",":sob:":"\u{1F62D}",":soccer:":"\u26BD",":socks:":"\u{1F9E6}",":softball:":"\u{1F94E}",":solomon_islands:":"\u{1F1F8}\u200D\u{1F1E7}",":somalia:":"\u{1F1F8}\u200D\u{1F1F4}",":soon:":"\u{1F51C}",":sos:":"\u{1F198}",":sound:":"\u{1F509}",":south_africa:":"\u{1F1FF}\u200D\u{1F1E6}",":south_georgia_south_sandwich_islands:":"\u{1F1EC}\u200D\u{1F1F8}",":south_sudan:":"\u{1F1F8}\u200D\u{1F1F8}",":space_invader:":"\u{1F47E}",":spades:":"\u2660",":spaghetti:":"\u{1F35D}",":sparkle:":"\u2747",":sparkler:":"\u{1F387}",":sparkles:":"\u2728",":sparkling_heart:":"\u{1F496}",":speak_no_evil:":"\u{1F64A}",":speaker:":"\u{1F508}",":speaking_head:":"\u{1F5E3}",":speech_balloon:":"\u{1F4AC}",":speedboat:":"\u{1F6A4}",":spider:":"\u{1F577}",":spider_web:":"\u{1F578}",":spiral_calendar:":"\u{1F5D3}",":spiral_notepad:":"\u{1F5D2}",":sponge:":"\u{1F9FD}",":spoon:":"\u{1F944}",":squid:":"\u{1F991}",":sri_lanka:":"\u{1F1F1}\u200D\u{1F1F0}",":st_barthelemy:":"\u{1F1E7}\u200D\u{1F1F1}",":st_helena:":"\u{1F1F8}\u200D\u{1F1ED}",":st_kitts_nevis:":"\u{1F1F0}\u200D\u{1F1F3}",":st_lucia:":"\u{1F1F1}\u200D\u{1F1E8}",":st_martin:":"\u{1F1F2}\u200D\u{1F1EB}",":st_pierre_miquelon:":"\u{1F1F5}\u200D\u{1F1F2}",":st_vincent_grenadines:":"\u{1F1FB}\u200D\u{1F1E8}",":stadium:":"\u{1F3DF}",":standing_man:":"\u{1F9CD}\u200D\u2642",":standing_person:":"\u{1F9CD}",":standing_woman:":"\u{1F9CD}\u200D\u2640",":star:":"\u2B50",":star2:":"\u{1F31F}",":star_and_crescent:":"\u262A",":star_of_david:":"\u2721",":star_struck:":"\u{1F929}",":stars:":"\u{1F320}",":station:":"\u{1F689}",":statue_of_liberty:":"\u{1F5FD}",":steam_locomotive:":"\u{1F682}",":stethoscope:":"\u{1FA7A}",":stew:":"\u{1F372}",":stop_button:":"\u23F9",":stop_sign:":"\u{1F6D1}",":stopwatch:":"\u23F1",":straight_ruler:":"\u{1F4CF}",":strawberry:":"\u{1F353}",":stuck_out_tongue:":"\u{1F61B}",":stuck_out_tongue_closed_eyes:":"\u{1F61D}",":stuck_out_tongue_winking_eye:":"\u{1F61C}",":student:":"\u{1F9D1}\u200D\u{1F393}",":studio_microphone:":"\u{1F399}",":stuffed_flatbread:":"\u{1F959}",":sudan:":"\u{1F1F8}\u200D\u{1F1E9}",":sun_behind_large_cloud:":"\u{1F325}",":sun_behind_rain_cloud:":"\u{1F326}",":sun_behind_small_cloud:":"\u{1F324}",":sun_with_face:":"\u{1F31E}",":sunflower:":"\u{1F33B}",":sunglasses:":"\u{1F60E}",":sunny:":"\u2600",":sunrise:":"\u{1F305}",":sunrise_over_mountains:":"\u{1F304}",":superhero:":"\u{1F9B8}",":superhero_man:":"\u{1F9B8}\u200D\u2642",":superhero_woman:":"\u{1F9B8}\u200D\u2640",":supervillain:":"\u{1F9B9}",":supervillain_man:":"\u{1F9B9}\u200D\u2642",":supervillain_woman:":"\u{1F9B9}\u200D\u2640",":surfer:":"\u{1F3C4}",":surfing_man:":"\u{1F3C4}\u200D\u2642",":surfing_woman:":"\u{1F3C4}\u200D\u2640",":suriname:":"\u{1F1F8}\u200D\u{1F1F7}",":sushi:":"\u{1F363}",":suspension_railway:":"\u{1F69F}",":svalbard_jan_mayen:":"\u{1F1F8}\u200D\u{1F1EF}",":swan:":"\u{1F9A2}",":swaziland:":"\u{1F1F8}\u200D\u{1F1FF}",":sweat:":"\u{1F613}",":sweat_drops:":"\u{1F4A6}",":sweat_smile:":"\u{1F605}",":sweden:":"\u{1F1F8}\u200D\u{1F1EA}",":sweet_potato:":"\u{1F360}",":swim_brief:":"\u{1FA72}",":swimmer:":"\u{1F3CA}",":swimming_man:":"\u{1F3CA}\u200D\u2642",":swimming_woman:":"\u{1F3CA}\u200D\u2640",":switzerland:":"\u{1F1E8}\u200D\u{1F1ED}",":symbols:":"\u{1F523}",":synagogue:":"\u{1F54D}",":syria:":"\u{1F1F8}\u200D\u{1F1FE}",":syringe:":"\u{1F489}",":t-rex:":"\u{1F996}",":taco:":"\u{1F32E}",":tada:":"\u{1F389}",":taiwan:":"\u{1F1F9}\u200D\u{1F1FC}",":tajikistan:":"\u{1F1F9}\u200D\u{1F1EF}",":takeout_box:":"\u{1F961}",":tamale:":"\u{1FAD4}",":tanabata_tree:":"\u{1F38B}",":tangerine:":"\u{1F34A}",":tanzania:":"\u{1F1F9}\u200D\u{1F1FF}",":taurus:":"\u2649",":taxi:":"\u{1F695}",":tea:":"\u{1F375}",":teacher:":"\u{1F9D1}\u200D\u{1F3EB}",":teapot:":"\u{1FAD6}",":technologist:":"\u{1F9D1}\u200D\u{1F4BB}",":teddy_bear:":"\u{1F9F8}",":telephone:":"\u260E",":telephone_receiver:":"\u{1F4DE}",":telescope:":"\u{1F52D}",":tennis:":"\u{1F3BE}",":tent:":"\u26FA",":test_tube:":"\u{1F9EA}",":thailand:":"\u{1F1F9}\u200D\u{1F1ED}",":thermometer:":"\u{1F321}",":thinking:":"\u{1F914}",":thong_sandal:":"\u{1FA74}",":thought_balloon:":"\u{1F4AD}",":thread:":"\u{1F9F5}",":three:":"3\u200D\u20E3",":thumbsdown:":"\u{1F44E}",":thumbsup:":"\u{1F44D}",":ticket:":"\u{1F3AB}",":tickets:":"\u{1F39F}",":tiger:":"\u{1F42F}",":tiger2:":"\u{1F405}",":timer_clock:":"\u23F2",":timor_leste:":"\u{1F1F9}\u200D\u{1F1F1}",":tipping_hand_man:":"\u{1F481}\u200D\u2642",":tipping_hand_person:":"\u{1F481}",":tipping_hand_woman:":"\u{1F481}\u200D\u2640",":tired_face:":"\u{1F62B}",":tm:":"\u2122",":togo:":"\u{1F1F9}\u200D\u{1F1EC}",":toilet:":"\u{1F6BD}",":tokelau:":"\u{1F1F9}\u200D\u{1F1F0}",":tokyo_tower:":"\u{1F5FC}",":tomato:":"\u{1F345}",":tonga:":"\u{1F1F9}\u200D\u{1F1F4}",":tongue:":"\u{1F445}",":toolbox:":"\u{1F9F0}",":tooth:":"\u{1F9B7}",":toothbrush:":"\u{1FAA5}",":top:":"\u{1F51D}",":tophat:":"\u{1F3A9}",":tornado:":"\u{1F32A}",":tr:":"\u{1F1F9}\u200D\u{1F1F7}",":trackball:":"\u{1F5B2}",":tractor:":"\u{1F69C}",":traffic_light:":"\u{1F6A5}",":train:":"\u{1F68B}",":train2:":"\u{1F686}",":tram:":"\u{1F68A}",":transgender_flag:":"\u{1F3F3}\u200D\u26A7",":transgender_symbol:":"\u26A7",":triangular_flag_on_post:":"\u{1F6A9}",":triangular_ruler:":"\u{1F4D0}",":trident:":"\u{1F531}",":trinidad_tobago:":"\u{1F1F9}\u200D\u{1F1F9}",":tristan_da_cunha:":"\u{1F1F9}\u200D\u{1F1E6}",":triumph:":"\u{1F624}",":trolleybus:":"\u{1F68E}",":trophy:":"\u{1F3C6}",":tropical_drink:":"\u{1F379}",":tropical_fish:":"\u{1F420}",":truck:":"\u{1F69A}",":trumpet:":"\u{1F3BA}",":tshirt:":"\u{1F455}",":tulip:":"\u{1F337}",":tumbler_glass:":"\u{1F943}",":tunisia:":"\u{1F1F9}\u200D\u{1F1F3}",":turkey:":"\u{1F983}",":turkmenistan:":"\u{1F1F9}\u200D\u{1F1F2}",":turks_caicos_islands:":"\u{1F1F9}\u200D\u{1F1E8}",":turtle:":"\u{1F422}",":tuvalu:":"\u{1F1F9}\u200D\u{1F1FB}",":tv:":"\u{1F4FA}",":twisted_rightwards_arrows:":"\u{1F500}",":two:":"2\u200D\u20E3",":two_hearts:":"\u{1F495}",":two_men_holding_hands:":"\u{1F46C}",":two_women_holding_hands:":"\u{1F46D}",":u5272:":"\u{1F239}",":u5408:":"\u{1F234}",":u55b6:":"\u{1F23A}",":u6307:":"\u{1F22F}",":u6708:":"\u{1F237}",":u6709:":"\u{1F236}",":u6e80:":"\u{1F235}",":u7121:":"\u{1F21A}",":u7533:":"\u{1F238}",":u7981:":"\u{1F232}",":u7a7a:":"\u{1F233}",":uganda:":"\u{1F1FA}\u200D\u{1F1EC}",":uk:":"\u{1F1EC}\u200D\u{1F1E7}",":ukraine:":"\u{1F1FA}\u200D\u{1F1E6}",":umbrella:":"\u2614",":unamused:":"\u{1F612}",":underage:":"\u{1F51E}",":unicorn:":"\u{1F984}",":united_arab_emirates:":"\u{1F1E6}\u200D\u{1F1EA}",":united_nations:":"\u{1F1FA}\u200D\u{1F1F3}",":unlock:":"\u{1F513}",":up:":"\u{1F199}",":upside_down_face:":"\u{1F643}",":uruguay:":"\u{1F1FA}\u200D\u{1F1FE}",":us:":"\u{1F1FA}\u200D\u{1F1F8}",":us_outlying_islands:":"\u{1F1FA}\u200D\u{1F1F2}",":us_virgin_islands:":"\u{1F1FB}\u200D\u{1F1EE}",":uzbekistan:":"\u{1F1FA}\u200D\u{1F1FF}",":v:":"\u270C",":vampire:":"\u{1F9DB}",":vampire_man:":"\u{1F9DB}\u200D\u2642",":vampire_woman:":"\u{1F9DB}\u200D\u2640",":vanuatu:":"\u{1F1FB}\u200D\u{1F1FA}",":vatican_city:":"\u{1F1FB}\u200D\u{1F1E6}",":venezuela:":"\u{1F1FB}\u200D\u{1F1EA}",":vertical_traffic_light:":"\u{1F6A6}",":vhs:":"\u{1F4FC}",":vibration_mode:":"\u{1F4F3}",":video_camera:":"\u{1F4F9}",":video_game:":"\u{1F3AE}",":vietnam:":"\u{1F1FB}\u200D\u{1F1F3}",":violin:":"\u{1F3BB}",":virgo:":"\u264D",":volcano:":"\u{1F30B}",":volleyball:":"\u{1F3D0}",":vomiting_face:":"\u{1F92E}",":vs:":"\u{1F19A}",":vulcan_salute:":"\u{1F596}",":waffle:":"\u{1F9C7}",":wales:":"\u{1F3F4}\u200D\u{E0067}\u200D\u{E0062}\u200D\u{E0077}\u200D\u{E006C}\u200D\u{E0073}\u200D\u{E007F}",":walking:":"\u{1F6B6}",":walking_man:":"\u{1F6B6}\u200D\u2642",":walking_woman:":"\u{1F6B6}\u200D\u2640",":wallis_futuna:":"\u{1F1FC}\u200D\u{1F1EB}",":waning_crescent_moon:":"\u{1F318}",":waning_gibbous_moon:":"\u{1F316}",":warning:":"\u26A0",":wastebasket:":"\u{1F5D1}",":watch:":"\u231A",":water_buffalo:":"\u{1F403}",":water_polo:":"\u{1F93D}",":watermelon:":"\u{1F349}",":wave:":"\u{1F44B}",":wavy_dash:":"\u3030",":waxing_crescent_moon:":"\u{1F312}",":waxing_gibbous_moon:":"\u{1F314}",":wc:":"\u{1F6BE}",":weary:":"\u{1F629}",":wedding:":"\u{1F492}",":weight_lifting:":"\u{1F3CB}",":weight_lifting_man:":"\u{1F3CB}\u200D\u2642",":weight_lifting_woman:":"\u{1F3CB}\u200D\u2640",":western_sahara:":"\u{1F1EA}\u200D\u{1F1ED}",":whale:":"\u{1F433}",":whale2:":"\u{1F40B}",":wheel_of_dharma:":"\u2638",":wheelchair:":"\u267F",":white_check_mark:":"\u2705",":white_circle:":"\u26AA",":white_flag:":"\u{1F3F3}",":white_flower:":"\u{1F4AE}",":white_haired_man:":"\u{1F468}\u200D\u{1F9B3}",":white_haired_woman:":"\u{1F469}\u200D\u{1F9B3}",":white_heart:":"\u{1F90D}",":white_large_square:":"\u2B1C",":white_medium_small_square:":"\u25FD",":white_medium_square:":"\u25FB",":white_small_square:":"\u25AB",":white_square_button:":"\u{1F533}",":wilted_flower:":"\u{1F940}",":wind_chime:":"\u{1F390}",":wind_face:":"\u{1F32C}",":window:":"\u{1FA9F}",":wine_glass:":"\u{1F377}",":wink:":"\u{1F609}",":wolf:":"\u{1F43A}",":woman:":"\u{1F469}",":woman_artist:":"\u{1F469}\u200D\u{1F3A8}",":woman_astronaut:":"\u{1F469}\u200D\u{1F680}",":woman_beard:":"\u{1F9D4}\u200D\u2640",":woman_cartwheeling:":"\u{1F938}\u200D\u2640",":woman_cook:":"\u{1F469}\u200D\u{1F373}",":woman_dancing:":"\u{1F483}",":woman_facepalming:":"\u{1F926}\u200D\u2640",":woman_factory_worker:":"\u{1F469}\u200D\u{1F3ED}",":woman_farmer:":"\u{1F469}\u200D\u{1F33E}",":woman_feeding_baby:":"\u{1F469}\u200D\u{1F37C}",":woman_firefighter:":"\u{1F469}\u200D\u{1F692}",":woman_health_worker:":"\u{1F469}\u200D\u2695",":woman_in_manual_wheelchair:":"\u{1F469}\u200D\u{1F9BD}",":woman_in_motorized_wheelchair:":"\u{1F469}\u200D\u{1F9BC}",":woman_in_tuxedo:":"\u{1F935}\u200D\u2640",":woman_judge:":"\u{1F469}\u200D\u2696",":woman_juggling:":"\u{1F939}\u200D\u2640",":woman_mechanic:":"\u{1F469}\u200D\u{1F527}",":woman_office_worker:":"\u{1F469}\u200D\u{1F4BC}",":woman_pilot:":"\u{1F469}\u200D\u2708",":woman_playing_handball:":"\u{1F93E}\u200D\u2640",":woman_playing_water_polo:":"\u{1F93D}\u200D\u2640",":woman_scientist:":"\u{1F469}\u200D\u{1F52C}",":woman_shrugging:":"\u{1F937}\u200D\u2640",":woman_singer:":"\u{1F469}\u200D\u{1F3A4}",":woman_student:":"\u{1F469}\u200D\u{1F393}",":woman_teacher:":"\u{1F469}\u200D\u{1F3EB}",":woman_technologist:":"\u{1F469}\u200D\u{1F4BB}",":woman_with_headscarf:":"\u{1F9D5}",":woman_with_probing_cane:":"\u{1F469}\u200D\u{1F9AF}",":woman_with_turban:":"\u{1F473}\u200D\u2640",":woman_with_veil:":"\u{1F470}\u200D\u2640",":womans_clothes:":"\u{1F45A}",":womans_hat:":"\u{1F452}",":women_wrestling:":"\u{1F93C}\u200D\u2640",":womens:":"\u{1F6BA}",":wood:":"\u{1FAB5}",":woozy_face:":"\u{1F974}",":world_map:":"\u{1F5FA}",":worm:":"\u{1FAB1}",":worried:":"\u{1F61F}",":wrench:":"\u{1F527}",":wrestling:":"\u{1F93C}",":writing_hand:":"\u270D",":x:":"\u274C",":yarn:":"\u{1F9F6}",":yawning_face:":"\u{1F971}",":yellow_circle:":"\u{1F7E1}",":yellow_heart:":"\u{1F49B}",":yellow_square:":"\u{1F7E8}",":yemen:":"\u{1F1FE}\u200D\u{1F1EA}",":yen:":"\u{1F4B4}",":yin_yang:":"\u262F",":yo_yo:":"\u{1FA80}",":yum:":"\u{1F60B}",":zambia:":"\u{1F1FF}\u200D\u{1F1F2}",":zany_face:":"\u{1F92A}",":zap:":"\u26A1",":zebra:":"\u{1F993}",":zero:":"0\u200D\u20E3",":zimbabwe:":"\u{1F1FF}\u200D\u{1F1FC}",":zipper_mouth_face:":"\u{1F910}",":zombie:":"\u{1F9DF}",":zombie_man:":"\u{1F9DF}\u200D\u2642",":zombie_woman:":"\u{1F9DF}\u200D\u2640",":zzz:":"\u{1F4A4}"},pw=class{process(t){return this.transformEmoji(t)}transformEmoji(t){return t.replace(/(:(\w|\+|-)+:)(?=|[!.?]|$)/gim,r=>_Te[r]??r)}};var mw=class{constructor(){this.regex=/:(fas|far|fal|fad|fab)_([\w-]+):/g}process(t){return this.transformIconShortcode(t)}transformIconShortcode(t){return t=t.replaceAll(this.regex,"![]($1 fa-$2)"),t}};var gw=class{process(t,r){let i=t;return r.showGrid&&t.split(new RegExp(r.separator,"gmi")).map((n,s)=>n.split(new RegExp(r.verticalSeparator,"gmi")).map((o,a)=>{let[l,c]=this.extractNotes(o,r),u=this.addDebugCode(l);return c.length>0&&(u+=`

`+c),i=i.replace(o,u),u}).join(r.verticalSeparator)).join(r.separator),i}addDebugCode(t){let r="";return r+=`<grid drag="100 10" drop="0 0" border="thin dotted blue"/>
`,r+=`<grid drag="100 10" drop="0 10" border="thin dotted blue"/>
`,r+=`<grid drag="100 10" drop="0 20" border="thin dotted blue"/>
`,r+=`<grid drag="100 10" drop="0 30" border="thin dotted blue"/>
`,r+=`<grid drag="100 10" drop="0 40" border="thin dotted blue"/>
`,r+=`<grid drag="100 10" drop="0 50" border="thin dotted blue"/>
`,r+=`<grid drag="100 10" drop="0 60" border="thin dotted blue"/>
`,r+=`<grid drag="100 10" drop="0 70" border="thin dotted blue"/>
`,r+=`<grid drag="100 10" drop="0 80" border="thin dotted blue"/>
`,r+=`<grid drag="100 10" drop="0 90" border="thin dotted blue"/>
`,r+=`<grid drag="10 100" drop="0 0" border="thin dotted blue"/>
`,r+=`<grid drag="10 100" drop="10 0" border="thin dotted blue"/>
`,r+=`<grid drag="10 100" drop="20 0" border="thin dotted blue"/>
`,r+=`<grid drag="10 100" drop="30 0" border="thin dotted blue"/>
`,r+=`<grid drag="10 100" drop="40 0" border="thin dotted blue"/>
`,r+=`<grid drag="10 100" drop="50 0" border="thin dotted blue"/>
`,r+=`<grid drag="10 100" drop="60 0" border="thin dotted blue"/>
`,r+=`<grid drag="10 100" drop="70 0" border="thin dotted blue"/>
`,r+=`<grid drag="10 100" drop="80 0" border="thin dotted blue"/>
`,r+=`<grid drag="10 100" drop="90 0" border="thin dotted blue"/>
`,t+`
`+r}extractNotes(t,r){let i="note:";r.notesSeparator&&r.notesSeparator.length>0&&(i=r.notesSeparator);let n=t.indexOf(i);return n>0?[t.substring(0,n),t.substring(n)]:[t,""]}};var yw=class{constructor(){this.regex=/>\s?\[!([^\]]+)\]-* *(.*)/}process(t){let r=t.split(`
`),i=[],n=-1,s=!0;for(let o=0;o<r.length;o++){let a=r[o];if(a.trim().startsWith(">")&&n==-1)n=o,s=!1;else if(!a.trim().startsWith(">")&&n>-1){let l=this.transformBlock(r,n,o-1);for(let c=0;c<l.length;c++){let u=l[c];i.push(u)}n=-1,s=!0}s&&i.push(r[o])}return i.join(`
`)}transformBlock(t,r,i){let n=[];if(this.regex.test(t[r])){let[,s,o]=this.regex.exec(t[r]),a=this.iconFrom(s),l=this.titleFrom(s,o),c=this.colorFrom(s);if(n.push(`<div class="callout ${c}">`),n.push('<div class="callout-title">'),n.push('<div class="callout-icon">'),n.push(""),n.push(a),n.push(""),n.push("</div>"),n.push('<div class="callout-title-inner">'),n.push(""),n.push(l),n.push(""),n.push("</div>"),n.push("</div>"),r!=i){n.push('<div class="callout-content">');for(let u=r+1;u<=i;u++){n.push("");let f=t[u].trim().substring(1).trim();n.push(f)}n.push(""),n.push("</div>")}n.push("</div>")}else for(let s=r;s<=i;s++){let o=t[s];n.push(o)}return n}colorFrom(t){switch(t.toLowerCase()){case"abstract":case"summary":case"tldr":case"info":return"callout-color1";case"todo":case"tip":case"hint":case"important":return"callout-color2";case"success":case"check":case"done":return"callout-color3";case"question":case"help":case"faq":return"callout-color4";case"warning":case"caution":case"attention":return"callout-color5";case"failure":case"fail":case"missing":return"callout-color6";case"danger":case"error":case"bug":return"callout-color7";case"example":return"callout-color8";case"quote":case"cite":return"callout-color9";default:return"callout-color-default"}}titleFrom(t,r){return r||t[0].toUpperCase()+t.substring(1).toLowerCase()}iconFrom(t){switch(t.toLowerCase()){case"abstract":case"summary":case"tldr":return":fas_clipboard-list:";case"info":return":fas_info-circle:";case"todo":return":fas_check-circle:";case"tip":case"hint":case"important":return":fas_fire-alt:";case"success":case"check":case"done":return":fas_check:";case"question":case"help":case"faq":return":fas_question-circle:";case"warning":case"caution":case"attention":return":fas_exclamation-triangle:";case"failure":case"fail":case"missing":return":fas_times:";case"danger":case"error":return":fas_bolt:";case"bug":return":fas_bug:";case"example":return":fas_list:";case"quote":case"cite":return":fas_quote-left:";default:return":fas_pencil-alt:"}}};var vw=class{constructor(t){this.emptySlideCommentRegex=/<!--\s*(?:\.)?slide(?::)?\s*-->/g;this.templateCommentRegex=/<!--\s*(?:\.)?slide.*(template="\[\[([^\]]+)\]\]"\s*).*-->/;this.propertyRegex=/:::\s([^\n]+)\s*(.*?:::[^\n]*)/gs;this.slideCommentRegex=/<!--\s*(?:\.)?slide.*-->/;this.variableRegex=/<%\??(.*?)%>/g;this.optionalRegex=/<%\?.*?%>/g;this.parser=new zr;this.utils=t,this.multipleFileProcessor=new Bf(t),this.footnoteProcessor=new jf}process(t,r){let i=t;r.defaultTemplate!=null&&t.split(new RegExp(r.separator,"gmi")).map(s=>s.split(new RegExp(r.verticalSeparator,"gmi")).map(o=>{if(this.slideCommentRegex.test(o)){let[a]=this.slideCommentRegex.exec(o),l=this.parser.parseLine(a);l.hasAttribute("template")||l.addAttribute("template",r.defaultTemplate,!1),i=i.split(o).join(o.split(a).join(this.parser.commentToString(l)))}else i=i.split(o).join(`<!-- slide template="${r.defaultTemplate}" -->
`+o);return o}).join(r.verticalSeparator)).join(r.separator);let n=i;return i.split(new RegExp(r.separator,"gmi")).map(s=>s.split(new RegExp(r.verticalSeparator,"gmi")).map(o=>{if(this.templateCommentRegex.test(o))try{let[a,l]=this.extractNotes(o,r),c=0;for(;this.templateCommentRegex.test(a);)if(c++,a=this.transformSlide(a),c>9){console.warn("WARNING: Circuit in template hierarchy detected!");break}return a=a.replaceAll(this.emptySlideCommentRegex,""),a=a.trim(),a=this.computeVariables(a,r),l.length>0&&(a+=`

`+l),n=n.split(o).join(a),a}catch(a){return console.error("Cannot process template: "+a),o}return o}).join(r.verticalSeparator)).join(r.separator),n}extractNotes(t,r){let i="note:";r.notesSeparator&&r.notesSeparator.length>0&&(i=r.notesSeparator);let n=t.indexOf(i);return n>0?[t.substring(0,n),t.substring(n)]:[t,""]}transformSlide(t){if(this.templateCommentRegex.test(t)){let[,r,i]=this.templateCommentRegex.exec(t),n=i;n.endsWith(".md")||(n=n+".md");let s=this.utils.parseFile(n,null);return s=this.multipleFileProcessor.process(s),s=s.split("<% content %>").join(t.replaceAll(r,"")),s}else return t}computeVariables(t,r){let i=t;this.propertyRegex.lastIndex=0;let n;for(;(n=this.propertyRegex.exec(t))!==null;){n.index===this.propertyRegex.lastIndex&&this.propertyRegex.lastIndex++;let[s,o,a]=n;if(o.includes("<!--")&&(o=o.substring(0,o.indexOf("<!--"))),o.trim()=="block")continue;a=`::: block
`+a;let l="<%? "+o.trim()+" %>";o="<% "+o.trim()+" %>",i=i.replaceAll(l,a+`
`+l),i=i.replaceAll(o,a),i=i.replaceAll(s,"")}for(i=this.footnoteProcessor.transformFootNotes(i);(n=this.variableRegex.exec(i))!==null;){let s=n[1].trim(),o=r;o[s]!=null&&(i=i.replaceAll(n[0],o[s]+""))}for(;(n=this.optionalRegex.exec(i))!==null;)n.index===this.optionalRegex.lastIndex&&this.optionalRegex.lastIndex++,i=i.replaceAll(n[0],"");return i}};var _w=class{constructor(){this.typeRegex=/type:\s(\w*)/;this.labelRegex=/labels:\s(.*)/;this.datasetRegex=/title:\s(.*)\s*data:\s(.*)/g;this.spanGapsRegex=/(spanGaps):\s(.*)/;this.tensionRegex=/(tension):\s(.*)/;this.beginAtZeroRegex=/(beginAtZero):\s(.*)/;this.legendRegex=/(legend):\s(.*)/;this.legendPositionRegex=/(legendPosition):\s(.*)/;this.stackedRegex=/(stacked):\s(.*)/;this.heightRegex=/(height):\s(.*)/;this.useThemeColorsRegex=/(useThemeColors):\s(.*)/;this.colorMap=["#4285f4","#ea4335","#fbbc05","#34a853","#673ab7","#cccccc","#777777"]}process(t,r){return this.transformChart(t,r)}transformChart(t,r){let i=t.indexOf("```chart");if(i<0)return t;{let n=t.indexOf("```",i+11);if(n<0)return t;let s=[...this.colorMap],o=t.substring(0,i),a=t.substring(n+3),l=t.substring(i+8,n);if(this.typeRegex.test(l)){let[,c]=this.typeRegex.exec(l),u={data:{datasets:[],labels:[]},options:{elements:{}}};if(this.useThemeColorsRegex.test(l)){let[,,f]=this.useThemeColorsRegex.exec(l);if(f.trim()=="true")for(let h=0;h<7;h++){let p=getComputedStyle(document.body).getPropertyValue("--chart-color-"+(h+1));p!=""&&(s[h]=p)}}if(this.labelRegex.test(l)){let[,f]=this.labelRegex.exec(l);u.data.labels=bTe(f),this.datasetRegex.lastIndex=0;let h=0,p;for(;(p=this.datasetRegex.exec(l))!==null;){p.index===this.datasetRegex.lastIndex&&this.datasetRegex.lastIndex++;let[,y,_]=p;u.data.datasets.push({data:JSON.parse(_),label:y,backgroundColor:s[h]}),h++}if(u.options.elements[c]={},this.spanGapsRegex.test(l)){let[,y,_]=this.spanGapsRegex.exec(l);u.options.elements[c][y]=JSON.parse(_)}if(this.tensionRegex.test(l)){let[,y,_]=this.tensionRegex.exec(l);u.options.elements[c][y]=JSON.parse(_)}if(this.beginAtZeroRegex.test(l)){let[,y,_]=this.beginAtZeroRegex.exec(l);u.options.scales||(u.options.scales={}),u.options.scales.y||(u.options.scales.y={}),u.options.scales.y[y]=JSON.parse(_)}if(this.legendRegex.test(l)){let[,,y]=this.legendRegex.exec(l);u.options.plugins||(u.options.plugins={}),u.options.plugins.legend||(u.options.plugins.legend={}),u.options.plugins.legend.display=JSON.parse(y)}if(this.legendPositionRegex.test(l)){let[,,y]=this.legendPositionRegex.exec(l);u.options.plugins||(u.options.plugins={}),u.options.plugins.legend||(u.options.plugins.legend={}),u.options.plugins.legend.position=y}if(this.stackedRegex.test(l)){let[,y,_]=this.stackedRegex.exec(l);u.options.scales||(u.options.scales={}),u.options.scales.y||(u.options.scales.y={}),u.options.scales.x||(u.options.scales.x={}),u.options.scales.x[y]=JSON.parse(_),u.options.scales.y[y]=JSON.parse(_)}if(this.heightRegex.test(l)){let[,,y]=this.heightRegex.exec(l);r.height=+y}let m=`<canvas style="max-height:${r.height}px" data-chart="${c}" >
<!--
${JSON.stringify(u)}-->
</canvas>`,g=o.trimEnd()+`
`+m+`
`+a.trimStart();return this.transformChart(g,r)}}return t}}};function bTe(e){return e.substring(1,e.length-1).split(",").map(t=>{let r=t.trim();return(r.startsWith("'")||r.startsWith('"'))&&(r=r.substring(1)),(r.endsWith("'")||r.endsWith('"'))&&(r=r.substring(0,r.length-1)),`${r.trim()}`})}var bw=class{constructor(){this.slideCommentRegex=/<!--\s*(?:\.)?slide.*-->/;this.parser=new zr}process(t,r){let i=t;return r?.bg&&((r?.bg=="transparent"||r?.bg=="rgba(0,0,0,0)")&&(i=`<style>
body {
	background-color: rgba(0,0,0,0) !important;
}
</style>
`+i),t.split(new RegExp(r.separator,"gmi")).map(n=>n.split(new RegExp(r.verticalSeparator,"gmi")).map(s=>{if(s){let o=this.transformSlide(s,r?.bg);return i=i.split(s).join(o),o}else return s}).join(r.verticalSeparator)).join(r.separator)),i}transformSlide(t,r){if(this.slideCommentRegex.test(t)){let[i]=this.slideCommentRegex.exec(t),n=this.parser.parseLine(i);return!n.hasAttribute("data-background-image")&&!n.hasAttribute("data-background-color")&&n.addAttribute("bg",r),t.replace(this.slideCommentRegex,this.parser.commentToString(n))}else return t+`
<!-- slide bg="${r}" -->
`}};var ww=class{constructor(){this.refRegex=/\^[\w-]+\s/g}process(t){return t.replaceAll(this.refRegex,"")}};var Sw=class{constructor(){this.slideCommentRegex=/<!--\s*(?:\.)?slide.*-->/;this.parser=new zr}process(t,r){let i=t;return t.split(new RegExp(r.separator,"gmi")).map((n,s)=>n.split(new RegExp(r.verticalSeparator,"gmi")).map(o=>{let a=o;if(this.slideCommentRegex.test(o)){let[l]=this.slideCommentRegex.exec(o),c=this.parser.parseLine(l);c.hasAttribute("skip")&&c.getAttribute("skip")=="true"&&(a='<!-- slide data-visibility="hidden" -->')}return i=i.replace(o,a),a}).join(r.verticalSeparator)).join(r.separator),i}};var xw=class{constructor(t){this.postProcess=t=>{let r=t.querySelectorAll("p");for(let i=0;i<r.length;i++){let n=r.item(i);n.innerText.startsWith(":::")&&n.remove()}};this.multipleFileProcessor=new Bf(t),this.blockProcessor=new Mb,this.imageProcessor=new aw(t),this.internalLinkProcessor=new lw(t),this.footnoteProcessor=new jf,this.latexProcessor=new cw,this.formatProcessor=new Ub,this.excalidrawProcessor=new zb(t),this.mermaidProcessor=new uw,this.fragmentProcessor=new nw,this.gridProcessor=new sw,this.commentProcessor=new fw,this.dropProcessor=new hw,this.autoClosingProcessor=new dw,this.emojiProcessor=new pw,this.iconsProcessor=new mw,this.debugViewProcessor=new gw,this.calloutProcessor=new yw,this.templateProcessor=new vw(t),this.chartProcessor=new _w,this.defaultBackgroundProcessor=new bw,this.referenceProcessor=new ww,this.skipSlideProcessor=new Sw}process(t,r){Ja.getInstance().options=r;let i=this.trimEnding(t,r),n,s=0;for(;i!=n;){s++,n&&(i=n);let $=this.multipleFileProcessor.process(i);if(n=this.templateProcessor.process($,r),r.defaultTemplate=null,s>9){console.warn("WARNING: Circuit in template hierarchy detected!");break}}let o=this.skipSlideProcessor.process(n,r),a=this.referenceProcessor.process(o),l=this.debugViewProcessor.process(a,r),c=this.autoClosingProcessor.process(l),u=this.defaultBackgroundProcessor.process(c,r),f=this.calloutProcessor.process(u),h=this.emojiProcessor.process(f),p=this.iconsProcessor.process(h),m=this.mermaidProcessor.process(p),g=this.blockProcessor.process(m),y=this.footnoteProcessor.process(g,r),_=this.excalidrawProcessor.process(y),S=this.imageProcessor.process(_),b=this.internalLinkProcessor.process(S,r),v=this.latexProcessor.process(b),O=this.formatProcessor.process(v),j=this.fragmentProcessor.process(O,r),R=this.dropProcessor.process(j,r),I=this.gridProcessor.process(R,r),F=this.commentProcessor.process(I),T=this.chartProcessor.process(F,r);return r.log&&(this.log("markdown","",t),this.log("merge & template",t,n),this.log("afterSkipSlideProcessor",n,o),this.log("afterReferenceProcessor",o,a),this.log("afterDebugViewProcessor",a,l),this.log("afterAutoClosingProcessor",l,c),this.log("defaultBackgroundProcessor",c,u),this.log("afterCalloutProcessor",u,f),this.log("afterEmojiProcessor",f,h),this.log("afterIconsProcessor",h,p),this.log("afterMermaidProcessor",p,m),this.log("afterBlockProcessor",m,g),this.log("afterFootNoteProcessor",g,y),this.log("afterExcalidrawProcessor",y,_),this.log("afterImageProcessor",_,S),this.log("afterInternalLinkProcessor",S,b),this.log("afterLatexProcessor",b,v),this.log("afterFormatProcessor",v,O),this.log("afterFragmentProcessor",O,j),this.log("afterDropProcessor",j,R),this.log("afterGridProcessor",R,I),this.log("afterCommentProcessor",I,F),this.log("afterChartProcessor",F,T)),T}trimEnding(t,r){let i=t+`
`,n;if((n=new RegExp(r.separator,"gmi").exec(i))!==null){let[s]=n;if(i.endsWith(s))return i.substring(0,i.lastIndexOf(s))}if((n=new RegExp(r.verticalSeparator,"gmi").exec(i))!==null){let[s]=n;if(i.endsWith(s))return i.substring(0,i.lastIndexOf(s))}return t}log(t,r,i){r!=i&&console.debug(`${t}: ${i}`)}};var $9=u9;function vc(){return $9}function wTe(e){$9=e}var Tm=class{constructor(t,r){this.images=new Set;this.isCollecting=!1;this.yamlRegex=/^---.*?---\n(.*?)($|---)/s;if(this.app=t,!(this.app.vault.adapter instanceof Ew.FileSystemAdapter))throw new Error("Slides Extended is only supported on the desktop");if(this.fileSystem=this.app.vault.adapter,this.settings=r,this.vaultDir=this.fileSystem.getBasePath()+"/",this.pluginDir=qs.default.join(this.vaultDir,this.app.vault.configDir,"plugins/slides-extended/"),this.distDir=qs.default.join(this.pluginDir,"dist/"),this.exportDir=qs.default.join(this.vaultDir,this.settings.exportDirectory),this.cssSearchPath=[qs.default.join(this.pluginDir)],this.highlightSearchPath=[qs.default.join(this.pluginDir,"plugin/highlight")],this.themeSearchPath=[qs.default.join(this.pluginDir,"css"),qs.default.join(this.distDir,"theme")],this.htmlTemplateSearchPath=[qs.default.join(this.pluginDir,"template")],this.settings.themeDirectory){let i=qs.default.join(this.vaultDir,this.settings.themeDirectory);this.cssSearchPath.unshift(i),this.highlightSearchPath.unshift(i),this.themeSearchPath.unshift(i),this.htmlTemplateSearchPath.unshift(i+"/html")}wTe(this),this.processor=new xw(this)}get markdownProcessor(){return this.processor}get vaultName(){return this.fileSystem.getName()}get vaultDirectory(){return this.vaultDir}get pluginDirectory(){return this.pluginDir}get distDirectory(){return this.distDir}get exportDirectory(){return this.exportDir}getLocalCssSearchPath(){return this.cssSearchPath}getThemeSearchPath(){return this.themeSearchPath}getHighlightSearchPath(){return this.highlightSearchPath}getHtmlTemplateSearchPath(){return this.htmlTemplateSearchPath}getSettings(){return this.settings}getTFile(t){t.startsWith("[[")&&t.endsWith("]]")&&(t=t.substring(2,t.length-2).trim());let r=this.settings.exportDirectory.startsWith("/")?this.settings.exportDirectory.substring(1):this.settings.exportDirectory,n=this.app.vault.getFiles().filter(a=>!a.path.contains(r)),s=n.filter(a=>a.path.contains(t)),o=null;if(s.length==1&&(o=s.first()),!o&&t.toLowerCase().endsWith(".excalidraw")){let a=n.filter(l=>l.path.contains(t+".svg"));a?o=a.first():(a=n.filter(l=>l.path.contains(t+".png")),a&&(o=a.first()))}if(!o&&s.length>1){let a=0;for(let l of s){let c=this.similarity(t,l.path);c>a&&(a=c,o=l)}}return o}getAbsolutePath(t){let r=this.getTFile(t);return this.absolute(r?.path)}getRelativePath(t){return t==null?null:this.getTFile(t)?.path}absolute(t){return t?this.fileSystem.getFullPath(t):null}findFile(t){let r=this.getTFile(t);return console.debug("findFile",t,r),r?r.path:t}findImageFile(t){let r="";vc().shouldCollect()||(r="/");let i=this.getTFile(t);return console.debug("findImageFile",t,i,r),i?r+i.path:t}parseFile(t,r){let i=this.getTFile(t);if(!i)return null;let n=this.absolute(i?.path),s=(0,N9.readFileSync)(n,{encoding:"utf-8"});if(r===null)return this.yamlRegex.test(s)?this.yamlRegex.exec(s)[1]:s;{let o=this.app.metadataCache.getFileCache(i),a=(0,Ew.resolveSubpath)(o,r);return a&&a.start&&a.start.line!=null?a.end&&a.end.line!=null?this.substring(s,a.start.line,a.start.col,a.end.line,a.end.col):this.substring(s,a.start.line,a.start.col,-1,-1):"![["+t+"#"+r+"]]"}}substring(t,r,i,n,s){let o="",a=t.split(`
`),l=a.length;n>-1&&(l=n);for(let c=r;c<=l;c++){let u=a[c];if(u!=null)if(c==r)o+=u.substring(i)+`
`;else if(c==l){let f=u;s>-1&&(f=u.substring(0,s)),f.includes("^")&&(f=f.substring(0,f.lastIndexOf("^"))),o+=f+`
`}else o+=u+`
`}return o}similarity(t,r){let i=t,n=r;t.length<r.length&&(i=r,n=t);let s=i.length;return s==0?1:(s-this.editDistance(i,n))/s}editDistance(t,r){t=t.toLowerCase(),r=r.toLowerCase();let i=[];for(let n=0;n<=t.length;n++){let s=n;for(let o=0;o<=r.length;o++)if(n==0)i[o]=o;else if(o>0){let a=i[o-1];t.charAt(n-1)!=r.charAt(o-1)&&(a=Math.min(Math.min(a,s),i[o])+1),i[o-1]=s,s=a}n>0&&(i[r.length]=s)}return i[r.length]}resetImageCollection(){console.debug("enable image collection for exported slides, start collecting"),this.images.clear(),this.isCollecting=!0}disableImageCollection(){console.debug("stop collecting images",this.images),this.isCollecting=!1}addImage(t){this.images.add(t)}getAll(){return Array.of(...this.images)}shouldCollect(){return this.isCollecting}};var Bn=Bt(jb()),ui=Bt(require("path")),kw=class{constructor(t){this.pluginDirectory=t.pluginDirectory,this.exportDirectory=t.exportDirectory,this.vaultDirectory=t.vaultDirectory}async export(t,r,i){let n=ui.default.extname(t),s=ui.default.basename(t).replaceAll(n,""),o=ui.default.join(this.exportDirectory,s),a=ui.default.dirname(t),l=this.vaultDirectory.replace(/\/$/,"");console.debug("export",a,l,o),await(0,Bn.emptyDir)(o),await(0,Bn.writeFile)(ui.default.join(o,"index.html"),r),await(0,Bn.copy)(ui.default.join(this.pluginDirectory,"css"),ui.default.join(o,"css")),await(0,Bn.copy)(ui.default.join(this.pluginDirectory,"dist"),ui.default.join(o,"dist")),await(0,Bn.copy)(ui.default.join(this.pluginDirectory,"plugin"),ui.default.join(o,"plugin"));for(let c of i){if(c.startsWith("http"))continue;let u=ui.default.join(l,c);if(a!==l){let f=ui.default.join(a,c);(0,Bn.existsSync)(f)&&(u=f)}console.debug("img",c,u,a!=l),await(0,Bn.copy)(u,ui.default.join(o,c))}window.open("file://"+o)}};var kW=Bt(EW());var Zf=class{constructor(t){this.settings=t}getSlideOptions(t,r=!1){let i=mC(this.settings,s=>gC(s)||s===""),n=r?this.getPrintOptions():{};return Object.assign({},qb,i,t,n)}getPrintOptions(){return{enableOverview:!1,enableChalkboard:!1,enableMenu:!1,enablePointer:!1,enableCustomControls:!1,enableTimeBar:!1,controls:!1}}getSlidifyOptions(t){return Uf(t,["separator","verticalSeparator","notesSeparator"])}getRevealOptions(t){let r=["width","height","margin","minScale","maxScale","controls","controlsTutorial","controlsLayout","controlsBackArrows","progress","slideNumber","showSlideNumber","hashOneBasedIndex","hash","respondToHashChanges","history","keyboard","keyboardCondition","disableLayout","overview","center","touch","loop","rtl","navigationMode","shuffle","fragments","fragmentInURL","embedded","help","pause","showNotes","autoPlayMedia","preloadIframes","autoAnimate","autoAnimateMatcher","autoAnimateEasing","autoAnimateDuration","autoAnimateUnmatched","autoSlide","autoSlideStoppable","autoSlideMethod","defaultTiming","mouseWheel","previewLinks","postMessage","postMessageEvents","focusBodyOnPageVisibilityChange","transition","transitionSpeed","backgroundTransition","pdfMaxPagesPerSlide","pdfSeparateFragments","pdfPageHeightOffset","viewDistance","mobileViewDistance","display","hideInactiveCursor","hideCursorTime","markdown","mermaid"],i=Uf(mC(this.settings,ow),r),n=Uf(t,r);return Object.assign({},i,n)}getTemplateSettings(t){let r=["enableOverview","enableChalkboard","enableMenu","enableCustomControls","enableTimeBar","enablePointer"],i=Uf(this.settings,r),n=Uf(t,r);return Object.assign({},i,n)}parseYamlFrontMatter(t){try{let r=(0,kW.loadFront)(t.replace(/^\uFEFF/,""));return{yamlOptions:I9(r,["__content"]),markdown:r.__content||t}}catch{return{yamlOptions:{},markdown:t}}}};var GW=Bt(NC(),1);var Dm=e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};var sCe={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Lm=e=>e.replace(/[[\]\\-]/g,"\\$&"),oCe=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),jW=e=>e.join(""),qW=(e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let i=[],n=[],s=r+1,o=!1,a=!1,l=!1,c=!1,u=r,f="";e:for(;s<e.length;){let g=e.charAt(s);if((g==="!"||g==="^")&&s===r+1){c=!0,s++;continue}if(g==="]"&&o&&!l){u=s+1;break}if(o=!0,g==="\\"&&!l){l=!0,s++;continue}if(g==="["&&!l){for(let[y,[_,S,b]]of Object.entries(sCe))if(e.startsWith(y,s)){if(f)return["$.",!1,e.length-r,!0];s+=y.length,b?n.push(_):i.push(_),a=a||S;continue e}}if(l=!1,f){g>f?i.push(Lm(f)+"-"+Lm(g)):g===f&&i.push(Lm(g)),f="",s++;continue}if(e.startsWith("-]",s+1)){i.push(Lm(g+"-")),s+=2;continue}if(e.startsWith("-",s+1)){f=g,s+=2;continue}i.push(Lm(g)),s++}if(u<s)return["",!1,0,!1];if(!i.length&&!n.length)return["$.",!1,e.length-r,!0];if(n.length===0&&i.length===1&&/^\\?.$/.test(i[0])&&!c){let g=i[0].length===2?i[0].slice(-1):i[0];return[oCe(g),!1,u-r,!1]}let h="["+(c?"^":"")+jW(i)+"]",p="["+(c?"":"^")+jW(n)+"]";return[i.length&&n.length?"("+h+"|"+p+")":i.length?h:p,a,u-r,!0]};var Hn=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");var aCe=new Set(["!","?","+","*","@"]),MW=e=>aCe.has(e),lCe="(?!(?:^|/)\\.\\.?(?:$|/))",Dw="(?!\\.)",cCe=new Set(["[","."]),uCe=new Set(["..","."]),fCe=new Set("().*{}+?[]^$\\!"),hCe=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),FC="[^/]",zW=FC+"*?",UW=FC+"+?",Wt,or,Mo,dt,Dt,Qa,Rc,el,zs,Tc,jm,jw,BW,Xf,Lw,qm,$C,qw,HW,Br=class Br{constructor(t,r,i={}){N(this,jw);N(this,qm);C(this,"type");N(this,Wt,void 0);N(this,or,void 0);N(this,Mo,!1);N(this,dt,[]);N(this,Dt,void 0);N(this,Qa,void 0);N(this,Rc,void 0);N(this,el,!1);N(this,zs,void 0);N(this,Tc,void 0);N(this,jm,!1);this.type=t,t&&A(this,or,!0),A(this,Dt,r),A(this,Wt,d(this,Dt)?d(d(this,Dt),Wt):this),A(this,zs,d(this,Wt)===this?i:d(d(this,Wt),zs)),A(this,Rc,d(this,Wt)===this?[]:d(d(this,Wt),Rc)),t==="!"&&!d(d(this,Wt),el)&&d(this,Rc).push(this),A(this,Qa,d(this,Dt)?d(d(this,Dt),dt).length:0)}get hasMagic(){if(d(this,or)!==void 0)return d(this,or);for(let t of d(this,dt))if(typeof t!="string"&&(t.type||t.hasMagic))return A(this,or,!0);return d(this,or)}toString(){return d(this,Tc)!==void 0?d(this,Tc):this.type?A(this,Tc,this.type+"("+d(this,dt).map(t=>String(t)).join("|")+")"):A(this,Tc,d(this,dt).map(t=>String(t)).join(""))}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof Br&&d(r,Dt)===this))throw new Error("invalid part: "+r);d(this,dt).push(r)}}toJSON(){let t=this.type===null?d(this,dt).slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...d(this,dt).map(r=>r.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===d(this,Wt)||d(d(this,Wt),el)&&d(this,Dt)?.type==="!")&&t.push({}),t}isStart(){if(d(this,Wt)===this)return!0;if(!d(this,Dt)?.isStart())return!1;if(d(this,Qa)===0)return!0;let t=d(this,Dt);for(let r=0;r<d(this,Qa);r++){let i=d(t,dt)[r];if(!(i instanceof Br&&i.type==="!"))return!1}return!0}isEnd(){if(d(this,Wt)===this||d(this,Dt)?.type==="!")return!0;if(!d(this,Dt)?.isEnd())return!1;if(!this.type)return d(this,Dt)?.isEnd();let t=d(this,Dt)?d(d(this,Dt),dt).length:0;return d(this,Qa)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new Br(this.type,t);for(let i of d(this,dt))r.copyIn(i);return r}static fromGlob(t,r={}){var n;let i=new Br(null,void 0,r);return L(n=Br,Xf,Lw).call(n,t,i,0,r),i}toMMPattern(){if(this!==d(this,Wt))return d(this,Wt).toMMPattern();let t=this.toString(),[r,i,n,s]=this.toRegExpSource();if(!(n||d(this,or)||d(this,zs).nocase&&!d(this,zs).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return i;let a=(d(this,zs).nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,a),{_src:r,_glob:t})}get options(){return d(this,zs)}toRegExpSource(t){let r=t??!!d(this,zs).dot;if(d(this,Wt)===this&&L(this,jw,BW).call(this),!this.type){let l=this.isStart()&&this.isEnd(),c=d(this,dt).map(p=>{var S;let[m,g,y,_]=typeof p=="string"?L(S=Br,qw,HW).call(S,p,d(this,or),l):p.toRegExpSource(t);return A(this,or,d(this,or)||y),A(this,Mo,d(this,Mo)||_),m}).join(""),u="";if(this.isStart()&&typeof d(this,dt)[0]=="string"&&!(d(this,dt).length===1&&uCe.has(d(this,dt)[0]))){let m=cCe,g=r&&m.has(c.charAt(0))||c.startsWith("\\.")&&m.has(c.charAt(2))||c.startsWith("\\.\\.")&&m.has(c.charAt(4)),y=!r&&!t&&m.has(c.charAt(0));u=g?lCe:y?Dw:""}let f="";return this.isEnd()&&d(d(this,Wt),el)&&d(this,Dt)?.type==="!"&&(f="(?:$|\\/)"),[u+c+f,Hn(c),A(this,or,!!d(this,or)),d(this,Mo)]}let i=this.type==="*"||this.type==="+",n=this.type==="!"?"(?:(?!(?:":"(?:",s=L(this,qm,$C).call(this,r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let l=this.toString();return A(this,dt,[l]),this.type=null,A(this,or,void 0),[l,Hn(this.toString()),!1,!1]}let o=!i||t||r||!Dw?"":L(this,qm,$C).call(this,!0);o===s&&(o=""),o&&(s=`(?:${s})(?:${o})*?`);let a="";if(this.type==="!"&&d(this,jm))a=(this.isStart()&&!r?Dw:"")+UW;else{let l=this.type==="!"?"))"+(this.isStart()&&!r&&!t?Dw:"")+zW+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;a=n+s+l}return[a,Hn(s),A(this,or,!!d(this,or)),d(this,Mo)]}};Wt=new WeakMap,or=new WeakMap,Mo=new WeakMap,dt=new WeakMap,Dt=new WeakMap,Qa=new WeakMap,Rc=new WeakMap,el=new WeakMap,zs=new WeakMap,Tc=new WeakMap,jm=new WeakMap,jw=new WeakSet,BW=function(){if(this!==d(this,Wt))throw new Error("should only call on root");if(d(this,el))return this;this.toString(),A(this,el,!0);let t;for(;t=d(this,Rc).pop();){if(t.type!=="!")continue;let r=t,i=d(r,Dt);for(;i;){for(let n=d(r,Qa)+1;!i.type&&n<d(i,dt).length;n++)for(let s of d(t,dt)){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(d(i,dt)[n])}r=i,i=d(r,Dt)}}return this},Xf=new WeakSet,Lw=function(t,r,i,n){var p,m;let s=!1,o=!1,a=-1,l=!1;if(r.type===null){let g=i,y="";for(;g<t.length;){let _=t.charAt(g++);if(s||_==="\\"){s=!s,y+=_;continue}if(o){g===a+1?(_==="^"||_==="!")&&(l=!0):_==="]"&&!(g===a+2&&l)&&(o=!1),y+=_;continue}else if(_==="["){o=!0,a=g,l=!1,y+=_;continue}if(!n.noext&&MW(_)&&t.charAt(g)==="("){r.push(y),y="";let S=new Br(_,r);g=L(p=Br,Xf,Lw).call(p,t,S,g,n),r.push(S);continue}y+=_}return r.push(y),g}let c=i+1,u=new Br(null,r),f=[],h="";for(;c<t.length;){let g=t.charAt(c++);if(s||g==="\\"){s=!s,h+=g;continue}if(o){c===a+1?(g==="^"||g==="!")&&(l=!0):g==="]"&&!(c===a+2&&l)&&(o=!1),h+=g;continue}else if(g==="["){o=!0,a=c,l=!1,h+=g;continue}if(MW(g)&&t.charAt(c)==="("){u.push(h),h="";let y=new Br(g,u);u.push(y),c=L(m=Br,Xf,Lw).call(m,t,y,c,n);continue}if(g==="|"){u.push(h),h="",f.push(u),u=new Br(null,r);continue}if(g===")")return h===""&&d(r,dt).length===0&&A(r,jm,!0),u.push(h),h="",r.push(...f,u),c;h+=g}return r.type=null,A(r,or,void 0),A(r,dt,[t.substring(i-1)]),c},qm=new WeakSet,$C=function(t){return d(this,dt).map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[i,n,s,o]=r.toRegExpSource(t);return A(this,Mo,d(this,Mo)||o),i}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")},qw=new WeakSet,HW=function(t,r,i=!1){let n=!1,s="",o=!1;for(let a=0;a<t.length;a++){let l=t.charAt(a);if(n){n=!1,s+=(fCe.has(l)?"\\":"")+l;continue}if(l==="\\"){a===t.length-1?s+="\\\\":n=!0;continue}if(l==="["){let[c,u,f,h]=qW(t,a);if(f){s+=c,o=o||u,a+=f-1,r=r||h;continue}}if(l==="*"){i&&t==="*"?s+=UW:s+=zW,r=!0;continue}if(l==="?"){s+=FC,r=!0;continue}s+=hCe(l)}return[s,Hn(t),!!r,o]},N(Br,Xf),N(Br,qw);var Qf=Br;var eh=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&");var fi=(e,t,r={})=>(Dm(t),!r.nocomment&&t.charAt(0)==="#"?!1:new zi(t,r).match(e)),dCe=/^\*+([^+@!?\*\[\(]*)$/,pCe=e=>t=>!t.startsWith(".")&&t.endsWith(e),mCe=e=>t=>t.endsWith(e),gCe=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),yCe=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),vCe=/^\*+\.\*+$/,_Ce=e=>!e.startsWith(".")&&e.includes("."),bCe=e=>e!=="."&&e!==".."&&e.includes("."),wCe=/^\.\*+$/,SCe=e=>e!=="."&&e!==".."&&e.startsWith("."),xCe=/^\*+$/,ECe=e=>e.length!==0&&!e.startsWith("."),kCe=e=>e.length!==0&&e!=="."&&e!=="..",RCe=/^\?+([^+@!?\*\[\(]*)?$/,TCe=([e,t=""])=>{let r=YW([e]);return t?(t=t.toLowerCase(),i=>r(i)&&i.toLowerCase().endsWith(t)):r},OCe=([e,t=""])=>{let r=KW([e]);return t?(t=t.toLowerCase(),i=>r(i)&&i.toLowerCase().endsWith(t)):r},ACe=([e,t=""])=>{let r=KW([e]);return t?i=>r(i)&&i.endsWith(t):r},CCe=([e,t=""])=>{let r=YW([e]);return t?i=>r(i)&&i.endsWith(t):r},YW=([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},KW=([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},JW=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",VW={win32:{sep:"\\"},posix:{sep:"/"}},PCe=JW==="win32"?VW.win32.sep:VW.posix.sep;fi.sep=PCe;var Tr=Symbol("globstar **");fi.GLOBSTAR=Tr;var ICe="[^/]",NCe=ICe+"*?",$Ce="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",FCe="(?:(?!(?:\\/|^)\\.).)*?",DCe=(e,t={})=>r=>fi(r,e,t);fi.filter=DCe;var _n=(e,t={})=>Object.assign({},e,t),LCe=e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return fi;let t=fi;return Object.assign((i,n,s={})=>t(i,n,_n(e,s)),{Minimatch:class extends t.Minimatch{constructor(n,s={}){super(n,_n(e,s))}static defaults(n){return t.defaults(_n(e,n)).Minimatch}},AST:class extends t.AST{constructor(n,s,o={}){super(n,s,_n(e,o))}static fromGlob(n,s={}){return t.AST.fromGlob(n,_n(e,s))}},unescape:(i,n={})=>t.unescape(i,_n(e,n)),escape:(i,n={})=>t.escape(i,_n(e,n)),filter:(i,n={})=>t.filter(i,_n(e,n)),defaults:i=>t.defaults(_n(e,i)),makeRe:(i,n={})=>t.makeRe(i,_n(e,n)),braceExpand:(i,n={})=>t.braceExpand(i,_n(e,n)),match:(i,n,s={})=>t.match(i,n,_n(e,s)),sep:t.sep,GLOBSTAR:Tr})};fi.defaults=LCe;var ZW=(e,t={})=>(Dm(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,GW.default)(e));fi.braceExpand=ZW;var jCe=(e,t={})=>new zi(e,t).makeRe();fi.makeRe=jCe;var qCe=(e,t,r={})=>{let i=new zi(t,r);return e=e.filter(n=>i.match(n)),i.options.nonull&&!e.length&&e.push(t),e};fi.match=qCe;var WW=/[?*]|[+@!]\(.*?\)|\[|\]/,MCe=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),zi=class{constructor(t,r={}){C(this,"options");C(this,"set");C(this,"pattern");C(this,"windowsPathsNoEscape");C(this,"nonegate");C(this,"negate");C(this,"comment");C(this,"empty");C(this,"preserveMultipleSlashes");C(this,"partial");C(this,"globSet");C(this,"globParts");C(this,"nocase");C(this,"isWindows");C(this,"platform");C(this,"windowsNoMagicRoot");C(this,"regexp");Dm(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||JW,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let i=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(i),this.debug(this.pattern,this.globParts);let n=this.globParts.map((s,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let l=s[0]===""&&s[1]===""&&(s[2]==="?"||!WW.test(s[2]))&&!WW.test(s[3]),c=/^[a-z]:/i.test(s[0]);if(l)return[...s.slice(0,4),...s.slice(4).map(u=>this.parse(u))];if(c)return[s[0],...s.slice(1).map(u=>this.parse(u))]}return s.map(l=>this.parse(l))});if(this.debug(this.pattern,n),this.set=n.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let o=this.set[s];o[0]===""&&o[1]===""&&this.globParts[s][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let i=0;i<t.length;i++)for(let n=0;n<t[i].length;n++)t[i][n]==="**"&&(t[i][n]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let i=-1;for(;(i=r.indexOf("**",i+1))!==-1;){let n=i;for(;r[n+1]==="**";)n++;n!==i&&r.splice(i,n-i)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((i,n)=>{let s=i[i.length-1];return n==="**"&&s==="**"?i:n===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(i.pop(),i):(i.push(n),i)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let n=1;n<t.length-1;n++){let s=t[n];n===1&&s===""&&t[0]===""||(s==="."||s==="")&&(r=!0,t.splice(n,1),n--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let i=0;for(;(i=t.indexOf("..",i+1))!==-1;){let n=t[i-1];n&&n!=="."&&n!==".."&&n!=="**"&&(r=!0,t.splice(i-1,2),i-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let i of t){let n=-1;for(;(n=i.indexOf("**",n+1))!==-1;){let o=n;for(;i[o+1]==="**";)o++;o>n&&i.splice(n+1,o-n);let a=i[n+1],l=i[n+2],c=i[n+3];if(a!==".."||!l||l==="."||l===".."||!c||c==="."||c==="..")continue;r=!0,i.splice(n,1);let u=i.slice(0);u[n]="**",t.push(u),n--}if(!this.preserveMultipleSlashes){for(let o=1;o<i.length-1;o++){let a=i[o];o===1&&a===""&&i[0]===""||(a==="."||a==="")&&(r=!0,i.splice(o,1),o--)}i[0]==="."&&i.length===2&&(i[1]==="."||i[1]==="")&&(r=!0,i.pop())}let s=0;for(;(s=i.indexOf("..",s+1))!==-1;){let o=i[s-1];if(o&&o!=="."&&o!==".."&&o!=="**"){r=!0;let l=s===1&&i[s+1]==="**"?["."]:[];i.splice(s-1,2,...l),i.length===0&&i.push(""),s-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let i=r+1;i<t.length;i++){let n=this.partsMatch(t[r],t[i],!this.preserveMultipleSlashes);if(n){t[r]=[],t[i]=n;break}}return t.filter(r=>r.length)}partsMatch(t,r,i=!1){let n=0,s=0,o=[],a="";for(;n<t.length&&s<r.length;)if(t[n]===r[s])o.push(a==="b"?r[s]:t[n]),n++,s++;else if(i&&t[n]==="**"&&r[s]===t[n+1])o.push(t[n]),n++;else if(i&&r[s]==="**"&&t[n]===r[s+1])o.push(r[s]),s++;else if(t[n]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(a==="b")return!1;a="a",o.push(t[n]),n++,s++}else if(r[s]==="*"&&t[n]&&(this.options.dot||!t[n].startsWith("."))&&t[n]!=="**"){if(a==="a")return!1;a="b",o.push(r[s]),n++,s++}else return!1;return t.length===r.length&&o}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,i=0;for(let n=0;n<t.length&&t.charAt(n)==="!";n++)r=!r,i++;i&&(this.pattern=t.slice(i)),this.negate=r}matchOne(t,r,i=!1){let n=this.options;if(this.isWindows){let g=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),y=!g&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),_=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),S=!_&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),b=y?3:g?0:void 0,v=S?3:_?0:void 0;if(typeof b=="number"&&typeof v=="number"){let[O,j]=[t[b],r[v]];O.toLowerCase()===j.toLowerCase()&&(r[v]=O,v>b?r=r.slice(v):b>v&&(t=t.slice(b)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var o=0,a=0,l=t.length,c=r.length;o<l&&a<c;o++,a++){this.debug("matchOne loop");var u=r[a],f=t[o];if(this.debug(r,u,f),u===!1)return!1;if(u===Tr){this.debug("GLOBSTAR",[r,u,f]);var h=o,p=a+1;if(p===c){for(this.debug("** at the end");o<l;o++)if(t[o]==="."||t[o]===".."||!n.dot&&t[o].charAt(0)===".")return!1;return!0}for(;h<l;){var m=t[h];if(this.debug(`
globstar while`,t,h,r,p,m),this.matchOne(t.slice(h),r.slice(p),i))return this.debug("globstar found match!",h,l,m),!0;if(m==="."||m===".."||!n.dot&&m.charAt(0)==="."){this.debug("dot detected!",t,h,r,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(i&&(this.debug(`
>>> no match, partial?`,t,h,r,p),h===l))}let g;if(typeof u=="string"?(g=f===u,this.debug("string match",u,f,g)):(g=u.test(f),this.debug("pattern match",u,f,g)),!g)return!1}if(o===l&&a===c)return!0;if(o===l)return i;if(a===c)return o===l-1&&t[o]==="";throw new Error("wtf?")}braceExpand(){return ZW(this.pattern,this.options)}parse(t){Dm(t);let r=this.options;if(t==="**")return Tr;if(t==="")return"";let i,n=null;(i=t.match(xCe))?n=r.dot?kCe:ECe:(i=t.match(dCe))?n=(r.nocase?r.dot?yCe:gCe:r.dot?mCe:pCe)(i[1]):(i=t.match(RCe))?n=(r.nocase?r.dot?OCe:TCe:r.dot?ACe:CCe)(i):(i=t.match(vCe))?n=r.dot?bCe:_Ce:(i=t.match(wCe))&&(n=SCe);let s=Qf.fromGlob(t,this.options).toMMPattern();return n&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:n}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,i=r.noglobstar?NCe:r.dot?$Ce:FCe,n=new Set(r.nocase?["i"]:[]),s=t.map(l=>{let c=l.map(u=>{if(u instanceof RegExp)for(let f of u.flags.split(""))n.add(f);return typeof u=="string"?MCe(u):u===Tr?Tr:u._src});return c.forEach((u,f)=>{let h=c[f+1],p=c[f-1];u!==Tr||p===Tr||(p===void 0?h!==void 0&&h!==Tr?c[f+1]="(?:\\/|"+i+"\\/)?"+h:c[f]=i:h===void 0?c[f-1]=p+"(?:\\/|"+i+")?":h!==Tr&&(c[f-1]=p+"(?:\\/|\\/"+i+"\\/)"+h,c[f+1]=Tr))}),c.filter(u=>u!==Tr).join("/")}).join("|"),[o,a]=t.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...n].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let i=this.options;this.isWindows&&(t=t.split("\\").join("/"));let n=this.slashSplit(t);this.debug(this.pattern,"split",n);let s=this.set;this.debug(this.pattern,"set",s);let o=n[n.length-1];if(!o)for(let a=n.length-2;!o&&a>=0;a--)o=n[a];for(let a=0;a<s.length;a++){let l=s[a],c=n;if(i.matchBase&&l.length===1&&(c=[o]),this.matchOne(c,l,r))return i.flipNegate?!0:!this.negate}return i.flipNegate?!1:this.negate}static defaults(t){return fi.defaults(t).Minimatch}};fi.AST=Qf;fi.Minimatch=zi;fi.escape=eh;fi.unescape=Hn;var RG=require("url");var th=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,QW=new Set,DC=typeof process=="object"&&process?process:{},eG=(e,t,r,i)=>{typeof DC.emitWarning=="function"?DC.emitWarning(e,t,r,i):console.error(`[${r}] ${t}: ${e}`)},Uw=globalThis.AbortController,XW=globalThis.AbortSignal;if(typeof Uw>"u"){XW=class{constructor(){C(this,"onabort");C(this,"_onabort",[]);C(this,"reason");C(this,"aborted",!1)}addEventListener(i,n){this._onabort.push(n)}},Uw=class{constructor(){C(this,"signal",new XW);t()}abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(let n of this.signal._onabort)n(i);this.signal.onabort?.(i)}}};let e=DC.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",t=()=>{e&&(e=!1,eG("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var zCe=e=>!QW.has(e),S9e=Symbol("type"),tl=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),tG=e=>tl(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?rh:null:null,rh=class extends Array{constructor(t){super(t),this.fill(0)}},ih,Oc=class Oc{constructor(t,r){C(this,"heap");C(this,"length");if(!d(Oc,ih))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(t),this.length=0}static create(t){let r=tG(t);if(!r)return[];A(Oc,ih,!0);let i=new Oc(t,r);return A(Oc,ih,!1),i}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};ih=new WeakMap,N(Oc,ih,!1);var LC=Oc,Vn,Ui,Wn,Gn,nh,sh,Gt,Yn,Lt,lt,we,hi,Bi,Hr,ar,Kn,lr,Jn,Zn,Hi,Xn,sl,di,Um,jC,Ac,zo,Bm,Vi,Bw,rG,Cc,oh,Hm,Us,rl,Bs,il,Vm,qC,UCe,ah,Mw,lh,zw,Je,at,Wm,MC,Pc,Mm,Hs,nl,Gm,zC,UC=class UC{constructor(t){N(this,Um);N(this,Bw);N(this,Us);N(this,Bs);N(this,Vm);N(this,ah);N(this,lh);N(this,Je);N(this,Wm);N(this,Pc);N(this,Hs);N(this,Gm);N(this,Vn,void 0);N(this,Ui,void 0);N(this,Wn,void 0);N(this,Gn,void 0);N(this,nh,void 0);N(this,sh,void 0);C(this,"ttl");C(this,"ttlResolution");C(this,"ttlAutopurge");C(this,"updateAgeOnGet");C(this,"updateAgeOnHas");C(this,"allowStale");C(this,"noDisposeOnSet");C(this,"noUpdateTTL");C(this,"maxEntrySize");C(this,"sizeCalculation");C(this,"noDeleteOnFetchRejection");C(this,"noDeleteOnStaleGet");C(this,"allowStaleOnFetchAbort");C(this,"allowStaleOnFetchRejection");C(this,"ignoreFetchAbort");N(this,Gt,void 0);N(this,Yn,void 0);N(this,Lt,void 0);N(this,lt,void 0);N(this,we,void 0);N(this,hi,void 0);N(this,Bi,void 0);N(this,Hr,void 0);N(this,ar,void 0);N(this,Kn,void 0);N(this,lr,void 0);N(this,Jn,void 0);N(this,Zn,void 0);N(this,Hi,void 0);N(this,Xn,void 0);N(this,sl,void 0);N(this,di,void 0);N(this,Ac,()=>{});N(this,zo,()=>{});N(this,Bm,()=>{});N(this,Vi,()=>!1);N(this,Cc,t=>{});N(this,oh,(t,r,i)=>{});N(this,Hm,(t,r,i,n)=>{if(i||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});C(this,UCe,"LRUCache");let{max:r=0,ttl:i,ttlResolution:n=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:c,disposeAfter:u,noDisposeOnSet:f,noUpdateTTL:h,maxSize:p=0,maxEntrySize:m=0,sizeCalculation:g,fetchMethod:y,memoMethod:_,noDeleteOnFetchRejection:S,noDeleteOnStaleGet:b,allowStaleOnFetchRejection:v,allowStaleOnFetchAbort:O,ignoreFetchAbort:j}=t;if(r!==0&&!tl(r))throw new TypeError("max option must be a nonnegative integer");let R=r?tG(r):Array;if(!R)throw new Error("invalid max value: "+r);if(A(this,Vn,r),A(this,Ui,p),this.maxEntrySize=m||d(this,Ui),this.sizeCalculation=g,this.sizeCalculation){if(!d(this,Ui)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(_!==void 0&&typeof _!="function")throw new TypeError("memoMethod must be a function if defined");if(A(this,sh,_),y!==void 0&&typeof y!="function")throw new TypeError("fetchMethod must be a function if specified");if(A(this,nh,y),A(this,sl,!!y),A(this,Lt,new Map),A(this,lt,new Array(r).fill(void 0)),A(this,we,new Array(r).fill(void 0)),A(this,hi,new R(r)),A(this,Bi,new R(r)),A(this,Hr,0),A(this,ar,0),A(this,Kn,LC.create(r)),A(this,Gt,0),A(this,Yn,0),typeof c=="function"&&A(this,Wn,c),typeof u=="function"?(A(this,Gn,u),A(this,lr,[])):(A(this,Gn,void 0),A(this,lr,void 0)),A(this,Xn,!!d(this,Wn)),A(this,di,!!d(this,Gn)),this.noDisposeOnSet=!!f,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!S,this.allowStaleOnFetchRejection=!!v,this.allowStaleOnFetchAbort=!!O,this.ignoreFetchAbort=!!j,this.maxEntrySize!==0){if(d(this,Ui)!==0&&!tl(d(this,Ui)))throw new TypeError("maxSize must be a positive integer if specified");if(!tl(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");L(this,Bw,rG).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=tl(n)||n===0?n:1,this.ttlAutopurge=!!s,this.ttl=i||0,this.ttl){if(!tl(this.ttl))throw new TypeError("ttl must be a positive integer if specified");L(this,Um,jC).call(this)}if(d(this,Vn)===0&&this.ttl===0&&d(this,Ui)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!d(this,Vn)&&!d(this,Ui)){let I="LRU_CACHE_UNBOUNDED";zCe(I)&&(QW.add(I),eG("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",I,UC))}}static unsafeExposeInternals(t){return{starts:d(t,Zn),ttls:d(t,Hi),sizes:d(t,Jn),keyMap:d(t,Lt),keyList:d(t,lt),valList:d(t,we),next:d(t,hi),prev:d(t,Bi),get head(){return d(t,Hr)},get tail(){return d(t,ar)},free:d(t,Kn),isBackgroundFetch:r=>{var i;return L(i=t,Je,at).call(i,r)},backgroundFetch:(r,i,n,s)=>{var o;return L(o=t,lh,zw).call(o,r,i,n,s)},moveToTail:r=>{var i;return L(i=t,Pc,Mm).call(i,r)},indexes:r=>{var i;return L(i=t,Us,rl).call(i,r)},rindexes:r=>{var i;return L(i=t,Bs,il).call(i,r)},isStale:r=>{var i;return d(i=t,Vi).call(i,r)}}}get max(){return d(this,Vn)}get maxSize(){return d(this,Ui)}get calculatedSize(){return d(this,Yn)}get size(){return d(this,Gt)}get fetchMethod(){return d(this,nh)}get memoMethod(){return d(this,sh)}get dispose(){return d(this,Wn)}get disposeAfter(){return d(this,Gn)}getRemainingTTL(t){return d(this,Lt).has(t)?1/0:0}*entries(){for(let t of L(this,Us,rl).call(this))d(this,we)[t]!==void 0&&d(this,lt)[t]!==void 0&&!L(this,Je,at).call(this,d(this,we)[t])&&(yield[d(this,lt)[t],d(this,we)[t]])}*rentries(){for(let t of L(this,Bs,il).call(this))d(this,we)[t]!==void 0&&d(this,lt)[t]!==void 0&&!L(this,Je,at).call(this,d(this,we)[t])&&(yield[d(this,lt)[t],d(this,we)[t]])}*keys(){for(let t of L(this,Us,rl).call(this)){let r=d(this,lt)[t];r!==void 0&&!L(this,Je,at).call(this,d(this,we)[t])&&(yield r)}}*rkeys(){for(let t of L(this,Bs,il).call(this)){let r=d(this,lt)[t];r!==void 0&&!L(this,Je,at).call(this,d(this,we)[t])&&(yield r)}}*values(){for(let t of L(this,Us,rl).call(this))d(this,we)[t]!==void 0&&!L(this,Je,at).call(this,d(this,we)[t])&&(yield d(this,we)[t])}*rvalues(){for(let t of L(this,Bs,il).call(this))d(this,we)[t]!==void 0&&!L(this,Je,at).call(this,d(this,we)[t])&&(yield d(this,we)[t])}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let i of L(this,Us,rl).call(this)){let n=d(this,we)[i],s=L(this,Je,at).call(this,n)?n.__staleWhileFetching:n;if(s!==void 0&&t(s,d(this,lt)[i],this))return this.get(d(this,lt)[i],r)}}forEach(t,r=this){for(let i of L(this,Us,rl).call(this)){let n=d(this,we)[i],s=L(this,Je,at).call(this,n)?n.__staleWhileFetching:n;s!==void 0&&t.call(r,s,d(this,lt)[i],this)}}rforEach(t,r=this){for(let i of L(this,Bs,il).call(this)){let n=d(this,we)[i],s=L(this,Je,at).call(this,n)?n.__staleWhileFetching:n;s!==void 0&&t.call(r,s,d(this,lt)[i],this)}}purgeStale(){let t=!1;for(let r of L(this,Bs,il).call(this,{allowStale:!0}))d(this,Vi).call(this,r)&&(L(this,Hs,nl).call(this,d(this,lt)[r],"expire"),t=!0);return t}info(t){let r=d(this,Lt).get(t);if(r===void 0)return;let i=d(this,we)[r],n=L(this,Je,at).call(this,i)?i.__staleWhileFetching:i;if(n===void 0)return;let s={value:n};if(d(this,Hi)&&d(this,Zn)){let o=d(this,Hi)[r],a=d(this,Zn)[r];if(o&&a){let l=o-(th.now()-a);s.ttl=l,s.start=Date.now()}}return d(this,Jn)&&(s.size=d(this,Jn)[r]),s}dump(){let t=[];for(let r of L(this,Us,rl).call(this,{allowStale:!0})){let i=d(this,lt)[r],n=d(this,we)[r],s=L(this,Je,at).call(this,n)?n.__staleWhileFetching:n;if(s===void 0||i===void 0)continue;let o={value:s};if(d(this,Hi)&&d(this,Zn)){o.ttl=d(this,Hi)[r];let a=th.now()-d(this,Zn)[r];o.start=Math.floor(Date.now()-a)}d(this,Jn)&&(o.size=d(this,Jn)[r]),t.unshift([i,o])}return t}load(t){this.clear();for(let[r,i]of t){if(i.start){let n=Date.now()-i.start;i.start=th.now()-n}this.set(r,i.value,i)}}set(t,r,i={}){var h,p,m;if(r===void 0)return this.delete(t),this;let{ttl:n=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=i,{noUpdateTTL:c=this.noUpdateTTL}=i,u=d(this,Hm).call(this,t,r,i.size||0,a);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),L(this,Hs,nl).call(this,t,"set"),this;let f=d(this,Gt)===0?void 0:d(this,Lt).get(t);if(f===void 0)f=d(this,Gt)===0?d(this,ar):d(this,Kn).length!==0?d(this,Kn).pop():d(this,Gt)===d(this,Vn)?L(this,ah,Mw).call(this,!1):d(this,Gt),d(this,lt)[f]=t,d(this,we)[f]=r,d(this,Lt).set(t,f),d(this,hi)[d(this,ar)]=f,d(this,Bi)[f]=d(this,ar),A(this,ar,f),va(this,Gt)._++,d(this,oh).call(this,f,u,l),l&&(l.set="add"),c=!1;else{L(this,Pc,Mm).call(this,f);let g=d(this,we)[f];if(r!==g){if(d(this,sl)&&L(this,Je,at).call(this,g)){g.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:y}=g;y!==void 0&&!o&&(d(this,Xn)&&((h=d(this,Wn))==null||h.call(this,y,t,"set")),d(this,di)&&d(this,lr)?.push([y,t,"set"]))}else o||(d(this,Xn)&&((p=d(this,Wn))==null||p.call(this,g,t,"set")),d(this,di)&&d(this,lr)?.push([g,t,"set"]));if(d(this,Cc).call(this,f),d(this,oh).call(this,f,u,l),d(this,we)[f]=r,l){l.set="replace";let y=g&&L(this,Je,at).call(this,g)?g.__staleWhileFetching:g;y!==void 0&&(l.oldValue=y)}}else l&&(l.set="update")}if(n!==0&&!d(this,Hi)&&L(this,Um,jC).call(this),d(this,Hi)&&(c||d(this,Bm).call(this,f,n,s),l&&d(this,zo).call(this,l,f)),!o&&d(this,di)&&d(this,lr)){let g=d(this,lr),y;for(;y=g?.shift();)(m=d(this,Gn))==null||m.call(this,...y)}return this}pop(){var t;try{for(;d(this,Gt);){let r=d(this,we)[d(this,Hr)];if(L(this,ah,Mw).call(this,!0),L(this,Je,at).call(this,r)){if(r.__staleWhileFetching)return r.__staleWhileFetching}else if(r!==void 0)return r}}finally{if(d(this,di)&&d(this,lr)){let r=d(this,lr),i;for(;i=r?.shift();)(t=d(this,Gn))==null||t.call(this,...i)}}}has(t,r={}){let{updateAgeOnHas:i=this.updateAgeOnHas,status:n}=r,s=d(this,Lt).get(t);if(s!==void 0){let o=d(this,we)[s];if(L(this,Je,at).call(this,o)&&o.__staleWhileFetching===void 0)return!1;if(d(this,Vi).call(this,s))n&&(n.has="stale",d(this,zo).call(this,n,s));else return i&&d(this,Ac).call(this,s),n&&(n.has="hit",d(this,zo).call(this,n,s)),!0}else n&&(n.has="miss");return!1}peek(t,r={}){let{allowStale:i=this.allowStale}=r,n=d(this,Lt).get(t);if(n===void 0||!i&&d(this,Vi).call(this,n))return;let s=d(this,we)[n];return L(this,Je,at).call(this,s)?s.__staleWhileFetching:s}async fetch(t,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:m=this.allowStaleOnFetchAbort,context:g,forceRefresh:y=!1,status:_,signal:S}=r;if(!d(this,sl))return _&&(_.fetch="get"),this.get(t,{allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:s,status:_});let b={allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:m,ignoreFetchAbort:p,status:_,signal:S},v=d(this,Lt).get(t);if(v===void 0){_&&(_.fetch="miss");let O=L(this,lh,zw).call(this,t,v,b,g);return O.__returned=O}else{let O=d(this,we)[v];if(L(this,Je,at).call(this,O)){let T=i&&O.__staleWhileFetching!==void 0;return _&&(_.fetch="inflight",T&&(_.returnedStale=!0)),T?O.__staleWhileFetching:O.__returned=O}let j=d(this,Vi).call(this,v);if(!y&&!j)return _&&(_.fetch="hit"),L(this,Pc,Mm).call(this,v),n&&d(this,Ac).call(this,v),_&&d(this,zo).call(this,_,v),O;let R=L(this,lh,zw).call(this,t,v,b,g),F=R.__staleWhileFetching!==void 0&&i;return _&&(_.fetch=j?"stale":"refresh",F&&j&&(_.returnedStale=!0)),F?R.__staleWhileFetching:R.__returned=R}}async forceFetch(t,r={}){let i=await this.fetch(t,r);if(i===void 0)throw new Error("fetch() returned undefined");return i}memo(t,r={}){let i=d(this,sh);if(!i)throw new Error("no memoMethod provided to constructor");let{context:n,forceRefresh:s,...o}=r,a=this.get(t,o);if(!s&&a!==void 0)return a;let l=i(t,a,{options:o,context:n});return this.set(t,l,o),l}get(t,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r,a=d(this,Lt).get(t);if(a!==void 0){let l=d(this,we)[a],c=L(this,Je,at).call(this,l);return o&&d(this,zo).call(this,o,a),d(this,Vi).call(this,a)?(o&&(o.get="stale"),c?(o&&i&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),i?l.__staleWhileFetching:void 0):(s||L(this,Hs,nl).call(this,t,"expire"),o&&i&&(o.returnedStale=!0),i?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(L(this,Pc,Mm).call(this,a),n&&d(this,Ac).call(this,a),l))}else o&&(o.get="miss")}delete(t){return L(this,Hs,nl).call(this,t,"delete")}clear(){return L(this,Gm,zC).call(this,"delete")}};UCe=Symbol.toStringTag,Vn=new WeakMap,Ui=new WeakMap,Wn=new WeakMap,Gn=new WeakMap,nh=new WeakMap,sh=new WeakMap,Gt=new WeakMap,Yn=new WeakMap,Lt=new WeakMap,lt=new WeakMap,we=new WeakMap,hi=new WeakMap,Bi=new WeakMap,Hr=new WeakMap,ar=new WeakMap,Kn=new WeakMap,lr=new WeakMap,Jn=new WeakMap,Zn=new WeakMap,Hi=new WeakMap,Xn=new WeakMap,sl=new WeakMap,di=new WeakMap,Um=new WeakSet,jC=function(){let t=new rh(d(this,Vn)),r=new rh(d(this,Vn));A(this,Hi,t),A(this,Zn,r),A(this,Bm,(s,o,a=th.now())=>{if(r[s]=o!==0?a:0,t[s]=o,o!==0&&this.ttlAutopurge){let l=setTimeout(()=>{d(this,Vi).call(this,s)&&L(this,Hs,nl).call(this,d(this,lt)[s],"expire")},o+1);l.unref&&l.unref()}}),A(this,Ac,s=>{r[s]=t[s]!==0?th.now():0}),A(this,zo,(s,o)=>{if(t[o]){let a=t[o],l=r[o];if(!a||!l)return;s.ttl=a,s.start=l,s.now=i||n();let c=s.now-l;s.remainingTTL=a-c}});let i=0,n=()=>{let s=th.now();if(this.ttlResolution>0){i=s;let o=setTimeout(()=>i=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{let o=d(this,Lt).get(s);if(o===void 0)return 0;let a=t[o],l=r[o];if(!a||!l)return 1/0;let c=(i||n())-l;return a-c},A(this,Vi,s=>{let o=r[s],a=t[s];return!!a&&!!o&&(i||n())-o>a})},Ac=new WeakMap,zo=new WeakMap,Bm=new WeakMap,Vi=new WeakMap,Bw=new WeakSet,rG=function(){let t=new rh(d(this,Vn));A(this,Yn,0),A(this,Jn,t),A(this,Cc,r=>{A(this,Yn,d(this,Yn)-t[r]),t[r]=0}),A(this,Hm,(r,i,n,s)=>{if(L(this,Je,at).call(this,i))return 0;if(!tl(n))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(n=s(i,r),!tl(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n}),A(this,oh,(r,i,n)=>{if(t[r]=i,d(this,Ui)){let s=d(this,Ui)-t[r];for(;d(this,Yn)>s;)L(this,ah,Mw).call(this,!0)}A(this,Yn,d(this,Yn)+t[r]),n&&(n.entrySize=i,n.totalCalculatedSize=d(this,Yn))})},Cc=new WeakMap,oh=new WeakMap,Hm=new WeakMap,Us=new WeakSet,rl=function*({allowStale:t=this.allowStale}={}){if(d(this,Gt))for(let r=d(this,ar);!(!L(this,Vm,qC).call(this,r)||((t||!d(this,Vi).call(this,r))&&(yield r),r===d(this,Hr)));)r=d(this,Bi)[r]},Bs=new WeakSet,il=function*({allowStale:t=this.allowStale}={}){if(d(this,Gt))for(let r=d(this,Hr);!(!L(this,Vm,qC).call(this,r)||((t||!d(this,Vi).call(this,r))&&(yield r),r===d(this,ar)));)r=d(this,hi)[r]},Vm=new WeakSet,qC=function(t){return t!==void 0&&d(this,Lt).get(d(this,lt)[t])===t},ah=new WeakSet,Mw=function(t){var s;let r=d(this,Hr),i=d(this,lt)[r],n=d(this,we)[r];return d(this,sl)&&L(this,Je,at).call(this,n)?n.__abortController.abort(new Error("evicted")):(d(this,Xn)||d(this,di))&&(d(this,Xn)&&((s=d(this,Wn))==null||s.call(this,n,i,"evict")),d(this,di)&&d(this,lr)?.push([n,i,"evict"])),d(this,Cc).call(this,r),t&&(d(this,lt)[r]=void 0,d(this,we)[r]=void 0,d(this,Kn).push(r)),d(this,Gt)===1?(A(this,Hr,A(this,ar,0)),d(this,Kn).length=0):A(this,Hr,d(this,hi)[r]),d(this,Lt).delete(i),va(this,Gt)._--,r},lh=new WeakSet,zw=function(t,r,i,n){let s=r===void 0?void 0:d(this,we)[r];if(L(this,Je,at).call(this,s))return s;let o=new Uw,{signal:a}=i;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let l={signal:o.signal,options:i,context:n},c=(g,y=!1)=>{let{aborted:_}=o.signal,S=i.ignoreFetchAbort&&g!==void 0;if(i.status&&(_&&!y?(i.status.fetchAborted=!0,i.status.fetchError=o.signal.reason,S&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),_&&!S&&!y)return f(o.signal.reason);let b=p;return d(this,we)[r]===p&&(g===void 0?b.__staleWhileFetching?d(this,we)[r]=b.__staleWhileFetching:L(this,Hs,nl).call(this,t,"fetch"):(i.status&&(i.status.fetchUpdated=!0),this.set(t,g,l.options))),g},u=g=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=g),f(g)),f=g=>{let{aborted:y}=o.signal,_=y&&i.allowStaleOnFetchAbort,S=_||i.allowStaleOnFetchRejection,b=S||i.noDeleteOnFetchRejection,v=p;if(d(this,we)[r]===p&&(!b||v.__staleWhileFetching===void 0?L(this,Hs,nl).call(this,t,"fetch"):_||(d(this,we)[r]=v.__staleWhileFetching)),S)return i.status&&v.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),v.__staleWhileFetching;if(v.__returned===v)throw g},h=(g,y)=>{var S;let _=(S=d(this,nh))==null?void 0:S.call(this,t,s,l);_&&_ instanceof Promise&&_.then(b=>g(b===void 0?void 0:b),y),o.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(g(void 0),i.allowStaleOnFetchAbort&&(g=b=>c(b,!0)))})};i.status&&(i.status.fetchDispatched=!0);let p=new Promise(h).then(c,u),m=Object.assign(p,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(t,m,{...l.options,status:void 0}),r=d(this,Lt).get(t)):d(this,we)[r]=m,m},Je=new WeakSet,at=function(t){if(!d(this,sl))return!1;let r=t;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof Uw},Wm=new WeakSet,MC=function(t,r){d(this,Bi)[r]=t,d(this,hi)[t]=r},Pc=new WeakSet,Mm=function(t){t!==d(this,ar)&&(t===d(this,Hr)?A(this,Hr,d(this,hi)[t]):L(this,Wm,MC).call(this,d(this,Bi)[t],d(this,hi)[t]),L(this,Wm,MC).call(this,d(this,ar),t),A(this,ar,t))},Hs=new WeakSet,nl=function(t,r){var n,s;let i=!1;if(d(this,Gt)!==0){let o=d(this,Lt).get(t);if(o!==void 0)if(i=!0,d(this,Gt)===1)L(this,Gm,zC).call(this,r);else{d(this,Cc).call(this,o);let a=d(this,we)[o];if(L(this,Je,at).call(this,a)?a.__abortController.abort(new Error("deleted")):(d(this,Xn)||d(this,di))&&(d(this,Xn)&&((n=d(this,Wn))==null||n.call(this,a,t,r)),d(this,di)&&d(this,lr)?.push([a,t,r])),d(this,Lt).delete(t),d(this,lt)[o]=void 0,d(this,we)[o]=void 0,o===d(this,ar))A(this,ar,d(this,Bi)[o]);else if(o===d(this,Hr))A(this,Hr,d(this,hi)[o]);else{let l=d(this,Bi)[o];d(this,hi)[l]=d(this,hi)[o];let c=d(this,hi)[o];d(this,Bi)[c]=d(this,Bi)[o]}va(this,Gt)._--,d(this,Kn).push(o)}}if(d(this,di)&&d(this,lr)?.length){let o=d(this,lr),a;for(;a=o?.shift();)(s=d(this,Gn))==null||s.call(this,...a)}return i},Gm=new WeakSet,zC=function(t){var r,i;for(let n of L(this,Bs,il).call(this,{allowStale:!0})){let s=d(this,we)[n];if(L(this,Je,at).call(this,s))s.__abortController.abort(new Error("deleted"));else{let o=d(this,lt)[n];d(this,Xn)&&((r=d(this,Wn))==null||r.call(this,s,o,t)),d(this,di)&&d(this,lr)?.push([s,o,t])}}if(d(this,Lt).clear(),d(this,we).fill(void 0),d(this,lt).fill(void 0),d(this,Hi)&&d(this,Zn)&&(d(this,Hi).fill(0),d(this,Zn).fill(0)),d(this,Jn)&&d(this,Jn).fill(0),A(this,Hr,0),A(this,ar,0),d(this,Kn).length=0,A(this,Yn,0),A(this,Gt,0),d(this,di)&&d(this,lr)){let n=d(this,lr),s;for(;s=n?.shift();)(i=d(this,Gn))==null||i.call(this,...s)}};var zm=UC;var vh=require("path"),hG=require("url"),Ks=require("fs"),yPe=Bt(require("fs"),1),cl=require("fs/promises");var Jw=require("events"),KC=Bt(require("stream"),1),aG=require("string_decoder");var iG=typeof process=="object"&&process?process:{stdout:null,stderr:null},BCe=e=>!!e&&typeof e=="object"&&(e instanceof al||e instanceof KC.default||HCe(e)||VCe(e)),HCe=e=>!!e&&typeof e=="object"&&e instanceof Jw.EventEmitter&&typeof e.pipe=="function"&&e.pipe!==KC.default.Writable.prototype.pipe,VCe=e=>!!e&&typeof e=="object"&&e instanceof Jw.EventEmitter&&typeof e.write=="function"&&typeof e.end=="function",Uo=Symbol("EOF"),Bo=Symbol("maybeEmitEnd"),ol=Symbol("emittedEnd"),Hw=Symbol("emittingEnd"),Ym=Symbol("emittedError"),Vw=Symbol("closed"),nG=Symbol("read"),Ww=Symbol("flush"),sG=Symbol("flushChunk"),Qn=Symbol("encoding"),ch=Symbol("decoder"),cr=Symbol("flowing"),Km=Symbol("paused"),uh=Symbol("resume"),ur=Symbol("buffer"),pi=Symbol("pipes"),fr=Symbol("bufferLength"),BC=Symbol("bufferPush"),Gw=Symbol("bufferShift"),Vr=Symbol("objectMode"),Pt=Symbol("destroyed"),HC=Symbol("error"),VC=Symbol("emitData"),oG=Symbol("emitEnd"),WC=Symbol("emitEnd2"),Vs=Symbol("async"),GC=Symbol("abort"),Yw=Symbol("aborted"),Jm=Symbol("signal"),Ic=Symbol("dataListeners"),Wi=Symbol("discarded"),Zm=e=>Promise.resolve().then(e),WCe=e=>e(),GCe=e=>e==="end"||e==="finish"||e==="prefinish",YCe=e=>e instanceof ArrayBuffer||!!e&&typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,KCe=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e),Kw=class{constructor(t,r,i){C(this,"src");C(this,"dest");C(this,"opts");C(this,"ondrain");this.src=t,this.dest=r,this.opts=i,this.ondrain=()=>t[uh](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},YC=class extends Kw{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,r,i){super(t,r,i),this.proxyErrors=n=>r.emit("error",n),t.on("error",this.proxyErrors)}},JCe=e=>!!e.objectMode,ZCe=e=>!e.objectMode&&!!e.encoding&&e.encoding!=="buffer",XCe,QCe,ePe,tPe,rPe,iPe,nPe,sPe,oPe,aPe,lPe,cPe,uPe,fPe,hPe,dPe,pPe,mPe,gPe,al=class extends Jw.EventEmitter{constructor(...r){let i=r[0]||{};super();C(this,XCe,!1);C(this,QCe,!1);C(this,ePe,[]);C(this,tPe,[]);C(this,rPe);C(this,iPe);C(this,nPe);C(this,sPe);C(this,oPe,!1);C(this,aPe,!1);C(this,lPe,!1);C(this,cPe,!1);C(this,uPe,null);C(this,fPe,0);C(this,hPe,!1);C(this,dPe);C(this,pPe,!1);C(this,mPe,0);C(this,gPe,!1);C(this,"writable",!0);C(this,"readable",!0);if(i.objectMode&&typeof i.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");JCe(i)?(this[Vr]=!0,this[Qn]=null):ZCe(i)?(this[Qn]=i.encoding,this[Vr]=!1):(this[Vr]=!1,this[Qn]=null),this[Vs]=!!i.async,this[ch]=this[Qn]?new aG.StringDecoder(this[Qn]):null,i&&i.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[ur]}),i&&i.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[pi]});let{signal:n}=i;n&&(this[Jm]=n,n.aborted?this[GC]():n.addEventListener("abort",()=>this[GC]()))}get bufferLength(){return this[fr]}get encoding(){return this[Qn]}set encoding(r){throw new Error("Encoding must be set at instantiation time")}setEncoding(r){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[Vr]}set objectMode(r){throw new Error("objectMode must be set at instantiation time")}get async(){return this[Vs]}set async(r){this[Vs]=this[Vs]||!!r}[(XCe=cr,QCe=Km,ePe=pi,tPe=ur,rPe=Vr,iPe=Qn,nPe=Vs,sPe=ch,oPe=Uo,aPe=ol,lPe=Hw,cPe=Vw,uPe=Ym,fPe=fr,hPe=Pt,dPe=Jm,pPe=Yw,mPe=Ic,gPe=Wi,GC)](){this[Yw]=!0,this.emit("abort",this[Jm]?.reason),this.destroy(this[Jm]?.reason)}get aborted(){return this[Yw]}set aborted(r){}write(r,i,n){if(this[Yw])return!1;if(this[Uo])throw new Error("write after end");if(this[Pt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof i=="function"&&(n=i,i="utf8"),i||(i="utf8");let s=this[Vs]?Zm:WCe;if(!this[Vr]&&!Buffer.isBuffer(r)){if(KCe(r))r=Buffer.from(r.buffer,r.byteOffset,r.byteLength);else if(YCe(r))r=Buffer.from(r);else if(typeof r!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[Vr]?(this[cr]&&this[fr]!==0&&this[Ww](!0),this[cr]?this.emit("data",r):this[BC](r),this[fr]!==0&&this.emit("readable"),n&&s(n),this[cr]):r.length?(typeof r=="string"&&!(i===this[Qn]&&!this[ch]?.lastNeed)&&(r=Buffer.from(r,i)),Buffer.isBuffer(r)&&this[Qn]&&(r=this[ch].write(r)),this[cr]&&this[fr]!==0&&this[Ww](!0),this[cr]?this.emit("data",r):this[BC](r),this[fr]!==0&&this.emit("readable"),n&&s(n),this[cr]):(this[fr]!==0&&this.emit("readable"),n&&s(n),this[cr])}read(r){if(this[Pt])return null;if(this[Wi]=!1,this[fr]===0||r===0||r&&r>this[fr])return this[Bo](),null;this[Vr]&&(r=null),this[ur].length>1&&!this[Vr]&&(this[ur]=[this[Qn]?this[ur].join(""):Buffer.concat(this[ur],this[fr])]);let i=this[nG](r||null,this[ur][0]);return this[Bo](),i}[nG](r,i){if(this[Vr])this[Gw]();else{let n=i;r===n.length||r===null?this[Gw]():typeof n=="string"?(this[ur][0]=n.slice(r),i=n.slice(0,r),this[fr]-=r):(this[ur][0]=n.subarray(r),i=n.subarray(0,r),this[fr]-=r)}return this.emit("data",i),!this[ur].length&&!this[Uo]&&this.emit("drain"),i}end(r,i,n){return typeof r=="function"&&(n=r,r=void 0),typeof i=="function"&&(n=i,i="utf8"),r!==void 0&&this.write(r,i),n&&this.once("end",n),this[Uo]=!0,this.writable=!1,(this[cr]||!this[Km])&&this[Bo](),this}[uh](){this[Pt]||(!this[Ic]&&!this[pi].length&&(this[Wi]=!0),this[Km]=!1,this[cr]=!0,this.emit("resume"),this[ur].length?this[Ww]():this[Uo]?this[Bo]():this.emit("drain"))}resume(){return this[uh]()}pause(){this[cr]=!1,this[Km]=!0,this[Wi]=!1}get destroyed(){return this[Pt]}get flowing(){return this[cr]}get paused(){return this[Km]}[BC](r){this[Vr]?this[fr]+=1:this[fr]+=r.length,this[ur].push(r)}[Gw](){return this[Vr]?this[fr]-=1:this[fr]-=this[ur][0].length,this[ur].shift()}[Ww](r=!1){do;while(this[sG](this[Gw]())&&this[ur].length);!r&&!this[ur].length&&!this[Uo]&&this.emit("drain")}[sG](r){return this.emit("data",r),this[cr]}pipe(r,i){if(this[Pt])return r;this[Wi]=!1;let n=this[ol];return i=i||{},r===iG.stdout||r===iG.stderr?i.end=!1:i.end=i.end!==!1,i.proxyErrors=!!i.proxyErrors,n?i.end&&r.end():(this[pi].push(i.proxyErrors?new YC(this,r,i):new Kw(this,r,i)),this[Vs]?Zm(()=>this[uh]()):this[uh]()),r}unpipe(r){let i=this[pi].find(n=>n.dest===r);i&&(this[pi].length===1?(this[cr]&&this[Ic]===0&&(this[cr]=!1),this[pi]=[]):this[pi].splice(this[pi].indexOf(i),1),i.unpipe())}addListener(r,i){return this.on(r,i)}on(r,i){let n=super.on(r,i);if(r==="data")this[Wi]=!1,this[Ic]++,!this[pi].length&&!this[cr]&&this[uh]();else if(r==="readable"&&this[fr]!==0)super.emit("readable");else if(GCe(r)&&this[ol])super.emit(r),this.removeAllListeners(r);else if(r==="error"&&this[Ym]){let s=i;this[Vs]?Zm(()=>s.call(this,this[Ym])):s.call(this,this[Ym])}return n}removeListener(r,i){return this.off(r,i)}off(r,i){let n=super.off(r,i);return r==="data"&&(this[Ic]=this.listeners("data").length,this[Ic]===0&&!this[Wi]&&!this[pi].length&&(this[cr]=!1)),n}removeAllListeners(r){let i=super.removeAllListeners(r);return(r==="data"||r===void 0)&&(this[Ic]=0,!this[Wi]&&!this[pi].length&&(this[cr]=!1)),i}get emittedEnd(){return this[ol]}[Bo](){!this[Hw]&&!this[ol]&&!this[Pt]&&this[ur].length===0&&this[Uo]&&(this[Hw]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Vw]&&this.emit("close"),this[Hw]=!1)}emit(r,...i){let n=i[0];if(r!=="error"&&r!=="close"&&r!==Pt&&this[Pt])return!1;if(r==="data")return!this[Vr]&&!n?!1:this[Vs]?(Zm(()=>this[VC](n)),!0):this[VC](n);if(r==="end")return this[oG]();if(r==="close"){if(this[Vw]=!0,!this[ol]&&!this[Pt])return!1;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(r==="error"){this[Ym]=n,super.emit(HC,n);let o=!this[Jm]||this.listeners("error").length?super.emit("error",n):!1;return this[Bo](),o}else if(r==="resume"){let o=super.emit("resume");return this[Bo](),o}else if(r==="finish"||r==="prefinish"){let o=super.emit(r);return this.removeAllListeners(r),o}let s=super.emit(r,...i);return this[Bo](),s}[VC](r){for(let n of this[pi])n.dest.write(r)===!1&&this.pause();let i=this[Wi]?!1:super.emit("data",r);return this[Bo](),i}[oG](){return this[ol]?!1:(this[ol]=!0,this.readable=!1,this[Vs]?(Zm(()=>this[WC]()),!0):this[WC]())}[WC](){if(this[ch]){let i=this[ch].end();if(i){for(let n of this[pi])n.dest.write(i);this[Wi]||super.emit("data",i)}}for(let i of this[pi])i.end();let r=super.emit("end");return this.removeAllListeners("end"),r}async collect(){let r=Object.assign([],{dataLength:0});this[Vr]||(r.dataLength=0);let i=this.promise();return this.on("data",n=>{r.push(n),this[Vr]||(r.dataLength+=n.length)}),await i,r}async concat(){if(this[Vr])throw new Error("cannot concat in objectMode");let r=await this.collect();return this[Qn]?r.join(""):Buffer.concat(r,r.dataLength)}async promise(){return new Promise((r,i)=>{this.on(Pt,()=>i(new Error("stream destroyed"))),this.on("error",n=>i(n)),this.on("end",()=>r())})}[Symbol.asyncIterator](){this[Wi]=!1;let r=!1,i=async()=>(this.pause(),r=!0,{value:void 0,done:!0});return{next:()=>{if(r)return i();let s=this.read();if(s!==null)return Promise.resolve({done:!1,value:s});if(this[Uo])return i();let o,a,l=h=>{this.off("data",c),this.off("end",u),this.off(Pt,f),i(),a(h)},c=h=>{this.off("error",l),this.off("end",u),this.off(Pt,f),this.pause(),o({value:h,done:!!this[Uo]})},u=()=>{this.off("error",l),this.off("data",c),this.off(Pt,f),i(),o({done:!0,value:void 0})},f=()=>l(new Error("stream destroyed"));return new Promise((h,p)=>{a=p,o=h,this.once(Pt,f),this.once("error",l),this.once("end",u),this.once("data",c)})},throw:i,return:i,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[Wi]=!1;let r=!1,i=()=>(this.pause(),this.off(HC,i),this.off(Pt,i),this.off("end",i),r=!0,{done:!0,value:void 0}),n=()=>{if(r)return i();let s=this.read();return s===null?i():{done:!1,value:s}};return this.once("end",i),this.once(HC,i),this.once(Pt,i),{next:n,throw:i,return:i,[Symbol.iterator](){return this}}}destroy(r){if(this[Pt])return r?this.emit("error",r):this.emit(Pt),this;this[Pt]=!0,this[Wi]=!0,this[ur].length=0,this[fr]=0;let i=this;return typeof i.close=="function"&&!this[Vw]&&i.close(),r?this.emit("error",r):this.emit(Pt),this}static get isStream(){return BCe}};var vPe=Ks.realpathSync.native,Qm={lstatSync:Ks.lstatSync,readdir:Ks.readdir,readdirSync:Ks.readdirSync,readlinkSync:Ks.readlinkSync,realpathSync:vPe,promises:{lstat:cl.lstat,readdir:cl.readdir,readlink:cl.readlink,realpath:cl.realpath}},dG=e=>!e||e===Qm||e===yPe?Qm:{...Qm,...e,promises:{...Qm.promises,...e.promises||{}}},pG=/^\\\\\?\\([a-z]:)\\?$/i,_Pe=e=>e.replace(/\//g,"\\").replace(pG,"$1\\"),bPe=/[\\\/]/,wn=0,mG=1,gG=2,Ws=4,yG=6,vG=8,Nc=10,_G=12,bn=15,Xm=~bn,JC=16,lG=32,eg=64,es=128,Zw=256,Qw=512,cG=eg|es|Qw,wPe=1023,ZC=e=>e.isFile()?vG:e.isDirectory()?Ws:e.isSymbolicLink()?Nc:e.isCharacterDevice()?gG:e.isBlockDevice()?yG:e.isSocket()?_G:e.isFIFO()?mG:wn,uG=new Map,tg=e=>{let t=uG.get(e);if(t)return t;let r=e.normalize("NFKD");return uG.set(e,r),r},fG=new Map,Xw=e=>{let t=fG.get(e);if(t)return t;let r=tg(e.toLowerCase());return fG.set(e,r),r},iS=class extends zm{constructor(){super({max:256})}},XC=class extends zm{constructor(t=16*1024){super({maxSize:t,sizeCalculation:r=>r.length+1})}},bG=Symbol("PathScurry setAsCwd"),mi,sg,og,ag,lg,cg,ug,fg,hg,dg,pg,mg,gg,yg,vg,_g,bg,wg,Sg,ll,$c,Gs,Ho,Vo,Wo,_e,Fc,Go,Ys,xg,QC,fh,eS,Dc,rg,Eg,eP,kg,tP,Lc,ig,hh,tS,Rg,rP,Tg,iP,dh,rS,aS,wG,lS,SG,cS,xG,Og,nP,ph,mh,uS,EG,jc,Wr=class{constructor(t,r=wn,i,n,s,o,a){N(this,xg);N(this,fh);N(this,Dc);N(this,Eg);N(this,kg);N(this,Lc);N(this,hh);N(this,Rg);N(this,Tg);N(this,dh);N(this,aS);N(this,lS);N(this,cS);N(this,Og);N(this,uS);C(this,"name");C(this,"root");C(this,"roots");C(this,"parent");C(this,"nocase");C(this,"isCWD",!1);N(this,mi,void 0);N(this,sg,void 0);N(this,og,void 0);N(this,ag,void 0);N(this,lg,void 0);N(this,cg,void 0);N(this,ug,void 0);N(this,fg,void 0);N(this,hg,void 0);N(this,dg,void 0);N(this,pg,void 0);N(this,mg,void 0);N(this,gg,void 0);N(this,yg,void 0);N(this,vg,void 0);N(this,_g,void 0);N(this,bg,void 0);N(this,wg,void 0);N(this,Sg,void 0);N(this,ll,void 0);N(this,$c,void 0);N(this,Gs,void 0);N(this,Ho,void 0);N(this,Vo,void 0);N(this,Wo,void 0);N(this,_e,void 0);N(this,Fc,void 0);N(this,Go,void 0);N(this,Ys,void 0);N(this,ph,[]);N(this,mh,!1);N(this,jc,void 0);this.name=t,A(this,ll,s?Xw(t):tg(t)),A(this,_e,r&wPe),this.nocase=s,this.roots=n,this.root=i||this,A(this,Fc,o),A(this,Gs,a.fullpath),A(this,Vo,a.relative),A(this,Wo,a.relativePosix),this.parent=a.parent,this.parent?A(this,mi,d(this.parent,mi)):A(this,mi,dG(a.fs))}get dev(){return d(this,sg)}get mode(){return d(this,og)}get nlink(){return d(this,ag)}get uid(){return d(this,lg)}get gid(){return d(this,cg)}get rdev(){return d(this,ug)}get blksize(){return d(this,fg)}get ino(){return d(this,hg)}get size(){return d(this,dg)}get blocks(){return d(this,pg)}get atimeMs(){return d(this,mg)}get mtimeMs(){return d(this,gg)}get ctimeMs(){return d(this,yg)}get birthtimeMs(){return d(this,vg)}get atime(){return d(this,_g)}get mtime(){return d(this,bg)}get ctime(){return d(this,wg)}get birthtime(){return d(this,Sg)}get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}depth(){return d(this,$c)!==void 0?d(this,$c):this.parent?A(this,$c,this.parent.depth()+1):A(this,$c,0)}childrenCache(){return d(this,Fc)}resolve(t){var o;if(!t)return this;let r=this.getRootString(t),n=t.substring(r.length).split(this.splitSep);return r?L(o=this.getRoot(r),xg,QC).call(o,n):L(this,xg,QC).call(this,n)}children(){let t=d(this,Fc).get(this);if(t)return t;let r=Object.assign([],{provisional:0});return d(this,Fc).set(this,r),A(this,_e,d(this,_e)&~JC),r}child(t,r){if(t===""||t===".")return this;if(t==="..")return this.parent||this;let i=this.children(),n=this.nocase?Xw(t):tg(t);for(let l of i)if(d(l,ll)===n)return l;let s=this.parent?this.sep:"",o=d(this,Gs)?d(this,Gs)+s+t:void 0,a=this.newChild(t,wn,{...r,parent:this,fullpath:o});return this.canReaddir()||A(a,_e,d(a,_e)|es),i.push(a),a}relative(){if(this.isCWD)return"";if(d(this,Vo)!==void 0)return d(this,Vo);let t=this.name,r=this.parent;if(!r)return A(this,Vo,this.name);let i=r.relative();return i+(!i||!r.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(d(this,Wo)!==void 0)return d(this,Wo);let t=this.name,r=this.parent;if(!r)return A(this,Wo,this.fullpathPosix());let i=r.relativePosix();return i+(!i||!r.parent?"":"/")+t}fullpath(){if(d(this,Gs)!==void 0)return d(this,Gs);let t=this.name,r=this.parent;if(!r)return A(this,Gs,this.name);let n=r.fullpath()+(r.parent?this.sep:"")+t;return A(this,Gs,n)}fullpathPosix(){if(d(this,Ho)!==void 0)return d(this,Ho);if(this.sep==="/")return A(this,Ho,this.fullpath());if(!this.parent){let n=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(n)?A(this,Ho,`//?/${n}`):A(this,Ho,n)}let t=this.parent,r=t.fullpathPosix(),i=r+(!r||!t.parent?"":"/")+this.name;return A(this,Ho,i)}isUnknown(){return(d(this,_e)&bn)===wn}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(d(this,_e)&bn)===vG}isDirectory(){return(d(this,_e)&bn)===Ws}isCharacterDevice(){return(d(this,_e)&bn)===gG}isBlockDevice(){return(d(this,_e)&bn)===yG}isFIFO(){return(d(this,_e)&bn)===mG}isSocket(){return(d(this,_e)&bn)===_G}isSymbolicLink(){return(d(this,_e)&Nc)===Nc}lstatCached(){return d(this,_e)&lG?this:void 0}readlinkCached(){return d(this,Go)}realpathCached(){return d(this,Ys)}readdirCached(){let t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(d(this,Go))return!0;if(!this.parent)return!1;let t=d(this,_e)&bn;return!(t!==wn&&t!==Nc||d(this,_e)&Zw||d(this,_e)&es)}calledReaddir(){return!!(d(this,_e)&JC)}isENOENT(){return!!(d(this,_e)&es)}isNamed(t){return this.nocase?d(this,ll)===Xw(t):d(this,ll)===tg(t)}async readlink(){let t=d(this,Go);if(t)return t;if(this.canReadlink()&&this.parent)try{let r=await d(this,mi).promises.readlink(this.fullpath()),i=(await this.parent.realpath())?.resolve(r);if(i)return A(this,Go,i)}catch(r){L(this,Tg,iP).call(this,r.code);return}}readlinkSync(){let t=d(this,Go);if(t)return t;if(this.canReadlink()&&this.parent)try{let r=d(this,mi).readlinkSync(this.fullpath()),i=this.parent.realpathSync()?.resolve(r);if(i)return A(this,Go,i)}catch(r){L(this,Tg,iP).call(this,r.code);return}}async lstat(){if(!(d(this,_e)&es))try{return L(this,Og,nP).call(this,await d(this,mi).promises.lstat(this.fullpath())),this}catch(t){L(this,Rg,rP).call(this,t.code)}}lstatSync(){if(!(d(this,_e)&es))try{return L(this,Og,nP).call(this,d(this,mi).lstatSync(this.fullpath())),this}catch(t){L(this,Rg,rP).call(this,t.code)}}readdirCB(t,r=!1){if(!this.canReaddir()){r?t(null,[]):queueMicrotask(()=>t(null,[]));return}let i=this.children();if(this.calledReaddir()){let s=i.slice(0,i.provisional);r?t(null,s):queueMicrotask(()=>t(null,s));return}if(d(this,ph).push(t),d(this,mh))return;A(this,mh,!0);let n=this.fullpath();d(this,mi).readdir(n,{withFileTypes:!0},(s,o)=>{if(s)L(this,hh,tS).call(this,s.code),i.provisional=0;else{for(let a of o)L(this,dh,rS).call(this,a,i);L(this,fh,eS).call(this,i)}L(this,uS,EG).call(this,i.slice(0,i.provisional))})}async readdir(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let r=this.fullpath();if(d(this,jc))await d(this,jc);else{let i=()=>{};A(this,jc,new Promise(n=>i=n));try{for(let n of await d(this,mi).promises.readdir(r,{withFileTypes:!0}))L(this,dh,rS).call(this,n,t);L(this,fh,eS).call(this,t)}catch(n){L(this,hh,tS).call(this,n.code),t.provisional=0}A(this,jc,void 0),i()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let r=this.fullpath();try{for(let i of d(this,mi).readdirSync(r,{withFileTypes:!0}))L(this,dh,rS).call(this,i,t);L(this,fh,eS).call(this,t)}catch(i){L(this,hh,tS).call(this,i.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(d(this,_e)&cG)return!1;let t=bn&d(this,_e);return t===wn||t===Ws||t===Nc}shouldWalk(t,r){return(d(this,_e)&Ws)===Ws&&!(d(this,_e)&cG)&&!t.has(this)&&(!r||r(this))}async realpath(){if(d(this,Ys))return d(this,Ys);if(!((Qw|Zw|es)&d(this,_e)))try{let t=await d(this,mi).promises.realpath(this.fullpath());return A(this,Ys,this.resolve(t))}catch{L(this,kg,tP).call(this)}}realpathSync(){if(d(this,Ys))return d(this,Ys);if(!((Qw|Zw|es)&d(this,_e)))try{let t=d(this,mi).realpathSync(this.fullpath());return A(this,Ys,this.resolve(t))}catch{L(this,kg,tP).call(this)}}[bG](t){if(t===this)return;t.isCWD=!1,this.isCWD=!0;let r=new Set([]),i=[],n=this;for(;n&&n.parent;)r.add(n),A(n,Vo,i.join(this.sep)),A(n,Wo,i.join("/")),n=n.parent,i.push("..");for(n=t;n&&n.parent&&!r.has(n);)A(n,Vo,void 0),A(n,Wo,void 0),n=n.parent}};mi=new WeakMap,sg=new WeakMap,og=new WeakMap,ag=new WeakMap,lg=new WeakMap,cg=new WeakMap,ug=new WeakMap,fg=new WeakMap,hg=new WeakMap,dg=new WeakMap,pg=new WeakMap,mg=new WeakMap,gg=new WeakMap,yg=new WeakMap,vg=new WeakMap,_g=new WeakMap,bg=new WeakMap,wg=new WeakMap,Sg=new WeakMap,ll=new WeakMap,$c=new WeakMap,Gs=new WeakMap,Ho=new WeakMap,Vo=new WeakMap,Wo=new WeakMap,_e=new WeakMap,Fc=new WeakMap,Go=new WeakMap,Ys=new WeakMap,xg=new WeakSet,QC=function(t){let r=this;for(let i of t)r=r.child(i);return r},fh=new WeakSet,eS=function(t){var r;A(this,_e,d(this,_e)|JC);for(let i=t.provisional;i<t.length;i++){let n=t[i];n&&L(r=n,Dc,rg).call(r)}},Dc=new WeakSet,rg=function(){d(this,_e)&es||(A(this,_e,(d(this,_e)|es)&Xm),L(this,Eg,eP).call(this))},Eg=new WeakSet,eP=function(){var r;let t=this.children();t.provisional=0;for(let i of t)L(r=i,Dc,rg).call(r)},kg=new WeakSet,tP=function(){A(this,_e,d(this,_e)|Qw),L(this,Lc,ig).call(this)},Lc=new WeakSet,ig=function(){if(d(this,_e)&eg)return;let t=d(this,_e);(t&bn)===Ws&&(t&=Xm),A(this,_e,t|eg),L(this,Eg,eP).call(this)},hh=new WeakSet,tS=function(t=""){t==="ENOTDIR"||t==="EPERM"?L(this,Lc,ig).call(this):t==="ENOENT"?L(this,Dc,rg).call(this):this.children().provisional=0},Rg=new WeakSet,rP=function(t=""){var r;if(t==="ENOTDIR"){let i=this.parent;L(r=i,Lc,ig).call(r)}else t==="ENOENT"&&L(this,Dc,rg).call(this)},Tg=new WeakSet,iP=function(t=""){var i;let r=d(this,_e);r|=Zw,t==="ENOENT"&&(r|=es),(t==="EINVAL"||t==="UNKNOWN")&&(r&=Xm),A(this,_e,r),t==="ENOTDIR"&&this.parent&&L(i=this.parent,Lc,ig).call(i)},dh=new WeakSet,rS=function(t,r){return L(this,lS,SG).call(this,t,r)||L(this,aS,wG).call(this,t,r)},aS=new WeakSet,wG=function(t,r){let i=ZC(t),n=this.newChild(t.name,i,{parent:this}),s=d(n,_e)&bn;return s!==Ws&&s!==Nc&&s!==wn&&A(n,_e,d(n,_e)|eg),r.unshift(n),r.provisional++,n},lS=new WeakSet,SG=function(t,r){for(let i=r.provisional;i<r.length;i++){let n=r[i];if((this.nocase?Xw(t.name):tg(t.name))===d(n,ll))return L(this,cS,xG).call(this,t,n,i,r)}},cS=new WeakSet,xG=function(t,r,i,n){let s=r.name;return A(r,_e,d(r,_e)&Xm|ZC(t)),s!==t.name&&(r.name=t.name),i!==n.provisional&&(i===n.length-1?n.pop():n.splice(i,1),n.unshift(r)),n.provisional++,r},Og=new WeakSet,nP=function(t){let{atime:r,atimeMs:i,birthtime:n,birthtimeMs:s,blksize:o,blocks:a,ctime:l,ctimeMs:c,dev:u,gid:f,ino:h,mode:p,mtime:m,mtimeMs:g,nlink:y,rdev:_,size:S,uid:b}=t;A(this,_g,r),A(this,mg,i),A(this,Sg,n),A(this,vg,s),A(this,fg,o),A(this,pg,a),A(this,wg,l),A(this,yg,c),A(this,sg,u),A(this,cg,f),A(this,hg,h),A(this,og,p),A(this,bg,m),A(this,gg,g),A(this,ag,y),A(this,ug,_),A(this,dg,S),A(this,lg,b);let v=ZC(t);A(this,_e,d(this,_e)&Xm|v|lG),v!==wn&&v!==Ws&&v!==Nc&&A(this,_e,d(this,_e)|eg)},ph=new WeakMap,mh=new WeakMap,uS=new WeakSet,EG=function(t){A(this,mh,!1);let r=d(this,ph).slice();d(this,ph).length=0,r.forEach(i=>i(null,t))},jc=new WeakMap;var nS=class e extends Wr{constructor(r,i=wn,n,s,o,a,l){super(r,i,n,s,o,a,l);C(this,"sep","\\");C(this,"splitSep",bPe)}newChild(r,i=wn,n={}){return new e(r,i,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(r){return vh.win32.parse(r).root}getRoot(r){if(r=_Pe(r.toUpperCase()),r===this.root.name)return this.root;for(let[i,n]of Object.entries(this.roots))if(this.sameRoot(r,i))return this.roots[r]=n;return this.roots[r]=new _h(r,this).root}sameRoot(r,i=this.root.name){return r=r.toUpperCase().replace(/\//g,"\\").replace(pG,"$1\\"),r===i}},sS=class e extends Wr{constructor(r,i=wn,n,s,o,a,l){super(r,i,n,s,o,a,l);C(this,"splitSep","/");C(this,"sep","/")}getRootString(r){return r.startsWith("/")?"/":""}getRoot(r){return this.root}newChild(r,i=wn,n={}){return new e(r,i,this.root,this.roots,this.nocase,this.childrenCache(),n)}},gh,yh,Ag,Cg,oS=class{constructor(t=process.cwd(),r,i,{nocase:n,childrenCacheSize:s=16*1024,fs:o=Qm}={}){C(this,"root");C(this,"rootPath");C(this,"roots");C(this,"cwd");N(this,gh,void 0);N(this,yh,void 0);N(this,Ag,void 0);C(this,"nocase");N(this,Cg,void 0);A(this,Cg,dG(o)),(t instanceof URL||t.startsWith("file://"))&&(t=(0,hG.fileURLToPath)(t));let a=r.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),A(this,gh,new iS),A(this,yh,new iS),A(this,Ag,new XC(s));let l=a.substring(this.rootPath.length).split(i);if(l.length===1&&!l[0]&&l.pop(),n===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(d(this,Cg)),this.roots[this.rootPath]=this.root;let c=this.root,u=l.length-1,f=r.sep,h=this.rootPath,p=!1;for(let m of l){let g=u--;c=c.child(m,{relative:new Array(g).fill("..").join(f),relativePosix:new Array(g).fill("..").join("/"),fullpath:h+=(p?"":f)+m}),p=!0}this.cwd=c}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return d(this,Ag)}resolve(...t){let r="";for(let s=t.length-1;s>=0;s--){let o=t[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let i=d(this,gh).get(r);if(i!==void 0)return i;let n=this.cwd.resolve(r).fullpath();return d(this,gh).set(r,n),n}resolvePosix(...t){let r="";for(let s=t.length-1;s>=0;s--){let o=t[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let i=d(this,yh).get(r);if(i!==void 0)return i;let n=this.cwd.resolve(r).fullpathPosix();return d(this,yh).set(r,n),n}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,r={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Wr||(r=t,t=this.cwd);let{withFileTypes:i}=r;if(t.canReaddir()){let n=await t.readdir();return i?n:n.map(s=>s.name)}else return[]}readdirSync(t=this.cwd,r={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Wr||(r=t,t=this.cwd);let{withFileTypes:i=!0}=r;return t.canReaddir()?i?t.readdirSync():t.readdirSync().map(n=>n.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Wr||(r=t.withFileTypes,t=this.cwd);let i=await t.readlink();return r?i:i?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Wr||(r=t.withFileTypes,t=this.cwd);let i=t.readlinkSync();return r?i:i?.fullpath()}async realpath(t=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Wr||(r=t.withFileTypes,t=this.cwd);let i=await t.realpath();return r?i:i?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Wr||(r=t.withFileTypes,t=this.cwd);let i=t.realpathSync();return r?i:i?.fullpath()}async walk(t=this.cwd,r={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Wr||(r=t,t=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(t))&&a.push(i?t:t.fullpath());let l=new Set,c=(f,h)=>{l.add(f),f.readdirCB((p,m)=>{if(p)return h(p);let g=m.length;if(!g)return h();let y=()=>{--g===0&&h()};for(let _ of m)(!s||s(_))&&a.push(i?_:_.fullpath()),n&&_.isSymbolicLink()?_.realpath().then(S=>S?.isUnknown()?S.lstat():S).then(S=>S?.shouldWalk(l,o)?c(S,y):y()):_.shouldWalk(l,o)?c(_,y):y()},!0)},u=t;return new Promise((f,h)=>{c(u,p=>{if(p)return h(p);f(a)})})}walkSync(t=this.cwd,r={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Wr||(r=t,t=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(t))&&a.push(i?t:t.fullpath());let l=new Set([t]);for(let c of l){let u=c.readdirSync();for(let f of u){(!s||s(f))&&a.push(i?f:f.fullpath());let h=f;if(f.isSymbolicLink()){if(!(n&&(h=f.realpathSync())))continue;h.isUnknown()&&h.lstatSync()}h.shouldWalk(l,o)&&l.add(h)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,r={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof Wr||(r=t,t=this.cwd),this.stream(t,r)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,r={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Wr||(r=t,t=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:s,walkFilter:o}=r;(!s||s(t))&&(yield i?t:t.fullpath());let a=new Set([t]);for(let l of a){let c=l.readdirSync();for(let u of c){(!s||s(u))&&(yield i?u:u.fullpath());let f=u;if(u.isSymbolicLink()){if(!(n&&(f=u.realpathSync())))continue;f.isUnknown()&&f.lstatSync()}f.shouldWalk(a,o)&&a.add(f)}}}stream(t=this.cwd,r={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Wr||(r=t,t=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:s,walkFilter:o}=r,a=new al({objectMode:!0});(!s||s(t))&&a.write(i?t:t.fullpath());let l=new Set,c=[t],u=0,f=()=>{let h=!1;for(;!h;){let p=c.shift();if(!p){u===0&&a.end();return}u++,l.add(p);let m=(y,_,S=!1)=>{if(y)return a.emit("error",y);if(n&&!S){let b=[];for(let v of _)v.isSymbolicLink()&&b.push(v.realpath().then(O=>O?.isUnknown()?O.lstat():O));if(b.length){Promise.all(b).then(()=>m(null,_,!0));return}}for(let b of _)b&&(!s||s(b))&&(a.write(i?b:b.fullpath())||(h=!0));u--;for(let b of _){let v=b.realpathCached()||b;v.shouldWalk(l,o)&&c.push(v)}h&&!a.flowing?a.once("drain",f):g||f()},g=!0;p.readdirCB(m,!0),g=!1}};return f(),a}streamSync(t=this.cwd,r={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof Wr||(r=t,t=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:s,walkFilter:o}=r,a=new al({objectMode:!0}),l=new Set;(!s||s(t))&&a.write(i?t:t.fullpath());let c=[t],u=0,f=()=>{let h=!1;for(;!h;){let p=c.shift();if(!p){u===0&&a.end();return}u++,l.add(p);let m=p.readdirSync();for(let g of m)(!s||s(g))&&(a.write(i?g:g.fullpath())||(h=!0));u--;for(let g of m){let y=g;if(g.isSymbolicLink()){if(!(n&&(y=g.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(l,o)&&c.push(y)}}h&&!a.flowing&&a.once("drain",f)};return f(),a}chdir(t=this.cwd){let r=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[bG](r)}};gh=new WeakMap,yh=new WeakMap,Ag=new WeakMap,Cg=new WeakMap;var _h=class extends oS{constructor(r=process.cwd(),i={}){let{nocase:n=!0}=i;super(r,vh.win32,"\\",{...i,nocase:n});C(this,"sep","\\");this.nocase=n;for(let s=this.cwd;s;s=s.parent)s.nocase=this.nocase}parseRootPath(r){return vh.win32.parse(r).root.toUpperCase()}newRoot(r){return new nS(this.rootPath,Ws,void 0,this.roots,this.nocase,this.childrenCache(),{fs:r})}isAbsolute(r){return r.startsWith("/")||r.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(r)}},bh=class extends oS{constructor(r=process.cwd(),i={}){let{nocase:n=!1}=i;super(r,vh.posix,"/",{...i,nocase:n});C(this,"sep","/");this.nocase=n}parseRootPath(r){return"/"}newRoot(r){return new sS(this.rootPath,Ws,void 0,this.roots,this.nocase,this.childrenCache(),{fs:r})}isAbsolute(r){return r.startsWith("/")}},ng=class extends bh{constructor(t=process.cwd(),r={}){let{nocase:i=!0}=r;super(t,{...r,nocase:i})}},A9e=process.platform==="win32"?nS:sS,kG=process.platform==="win32"?_h:process.platform==="darwin"?ng:bh;var SPe=e=>e.length>=1,xPe=e=>e.length>=1,Yt,Gi,hr,qc,ts,Pg,ul,fl,hl,wh,sP=class sP{constructor(t,r,i,n){N(this,Yt,void 0);N(this,Gi,void 0);N(this,hr,void 0);C(this,"length");N(this,qc,void 0);N(this,ts,void 0);N(this,Pg,void 0);N(this,ul,void 0);N(this,fl,void 0);N(this,hl,void 0);N(this,wh,!0);if(!SPe(t))throw new TypeError("empty pattern list");if(!xPe(r))throw new TypeError("empty glob list");if(r.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,i<0||i>=this.length)throw new TypeError("index out of range");if(A(this,Yt,t),A(this,Gi,r),A(this,hr,i),A(this,qc,n),d(this,hr)===0){if(this.isUNC()){let[s,o,a,l,...c]=d(this,Yt),[u,f,h,p,...m]=d(this,Gi);c[0]===""&&(c.shift(),m.shift());let g=[s,o,a,l,""].join("/"),y=[u,f,h,p,""].join("/");A(this,Yt,[g,...c]),A(this,Gi,[y,...m]),this.length=d(this,Yt).length}else if(this.isDrive()||this.isAbsolute()){let[s,...o]=d(this,Yt),[a,...l]=d(this,Gi);o[0]===""&&(o.shift(),l.shift());let c=s+"/",u=a+"/";A(this,Yt,[c,...o]),A(this,Gi,[u,...l]),this.length=d(this,Yt).length}}}pattern(){return d(this,Yt)[d(this,hr)]}isString(){return typeof d(this,Yt)[d(this,hr)]=="string"}isGlobstar(){return d(this,Yt)[d(this,hr)]===Tr}isRegExp(){return d(this,Yt)[d(this,hr)]instanceof RegExp}globString(){return A(this,Pg,d(this,Pg)||(d(this,hr)===0?this.isAbsolute()?d(this,Gi)[0]+d(this,Gi).slice(1).join("/"):d(this,Gi).join("/"):d(this,Gi).slice(d(this,hr)).join("/")))}hasMore(){return this.length>d(this,hr)+1}rest(){return d(this,ts)!==void 0?d(this,ts):this.hasMore()?(A(this,ts,new sP(d(this,Yt),d(this,Gi),d(this,hr)+1,d(this,qc))),A(d(this,ts),hl,d(this,hl)),A(d(this,ts),fl,d(this,fl)),A(d(this,ts),ul,d(this,ul)),d(this,ts)):A(this,ts,null)}isUNC(){let t=d(this,Yt);return d(this,fl)!==void 0?d(this,fl):A(this,fl,d(this,qc)==="win32"&&d(this,hr)===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3])}isDrive(){let t=d(this,Yt);return d(this,ul)!==void 0?d(this,ul):A(this,ul,d(this,qc)==="win32"&&d(this,hr)===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]))}isAbsolute(){let t=d(this,Yt);return d(this,hl)!==void 0?d(this,hl):A(this,hl,t[0]===""&&t.length>1||this.isDrive()||this.isUNC())}root(){let t=d(this,Yt)[0];return typeof t=="string"&&this.isAbsolute()&&d(this,hr)===0?t:""}checkFollowGlobstar(){return!(d(this,hr)===0||!this.isGlobstar()||!d(this,wh))}markFollowGlobstar(){return d(this,hr)===0||!this.isGlobstar()||!d(this,wh)?!1:(A(this,wh,!1),!0)}};Yt=new WeakMap,Gi=new WeakMap,hr=new WeakMap,qc=new WeakMap,ts=new WeakMap,Pg=new WeakMap,ul=new WeakMap,fl=new WeakMap,hl=new WeakMap,wh=new WeakMap;var Sh=sP;var EPe=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",xh=class{constructor(t,{nobrace:r,nocase:i,noext:n,noglobstar:s,platform:o=EPe}){C(this,"relative");C(this,"relativeChildren");C(this,"absolute");C(this,"absoluteChildren");C(this,"platform");C(this,"mmopts");this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=o,this.mmopts={dot:!0,nobrace:r,nocase:i,noext:n,noglobstar:s,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let a of t)this.add(a)}add(t){let r=new zi(t,this.mmopts);for(let i=0;i<r.set.length;i++){let n=r.set[i],s=r.globParts[i];if(!n||!s)throw new Error("invalid pattern object");for(;n[0]==="."&&s[0]===".";)n.shift(),s.shift();let o=new Sh(n,s,0,this.platform),a=new zi(o.globString(),this.mmopts),l=s[s.length-1]==="**",c=o.isAbsolute();c?this.absolute.push(a):this.relative.push(a),l&&(c?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}ignored(t){let r=t.fullpath(),i=`${r}/`,n=t.relative()||".",s=`${n}/`;for(let o of this.relative)if(o.match(n)||o.match(s))return!0;for(let o of this.absolute)if(o.match(r)||o.match(i))return!0;return!1}childrenIgnored(t){let r=t.fullpath()+"/",i=(t.relative()||".")+"/";for(let n of this.relativeChildren)if(n.match(i))return!0;for(let n of this.absoluteChildren)if(n.match(r))return!0;return!1}};var oP=class e{constructor(t=new Map){C(this,"store");this.store=t}copy(){return new e(new Map(this.store))}hasWalked(t,r){return this.store.get(t.fullpath())?.has(r.globString())}storeWalked(t,r){let i=t.fullpath(),n=this.store.get(i);n?n.add(r.globString()):this.store.set(i,new Set([r.globString()]))}},aP=class{constructor(){C(this,"store",new Map)}add(t,r,i){let n=(r?2:0)|(i?1:0),s=this.store.get(t);this.store.set(t,s===void 0?n:n&s)}entries(){return[...this.store.entries()].map(([t,r])=>[t,!!(r&2),!!(r&1)])}},lP=class{constructor(){C(this,"store",new Map)}add(t,r){if(!t.canReaddir())return;let i=this.store.get(t);i?i.find(n=>n.globString()===r.globString())||i.push(r):this.store.set(t,[r])}get(t){let r=this.store.get(t);if(!r)throw new Error("attempting to walk unknown path");return r}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}},Ig=class e{constructor(t,r){C(this,"hasWalkedCache");C(this,"matches",new aP);C(this,"subwalks",new lP);C(this,"patterns");C(this,"follow");C(this,"dot");C(this,"opts");this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=r?r.copy():new oP}processPatterns(t,r){this.patterns=r;let i=r.map(n=>[t,n]);for(let[n,s]of i){this.hasWalkedCache.storeWalked(n,s);let o=s.root(),a=s.isAbsolute()&&this.opts.absolute!==!1;if(o){n=n.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let f=s.rest();if(f)s=f;else{this.matches.add(n,!0,!1);continue}}if(n.isENOENT())continue;let l,c,u=!1;for(;typeof(l=s.pattern())=="string"&&(c=s.rest());)n=n.resolve(l),s=c,u=!0;if(l=s.pattern(),c=s.rest(),u){if(this.hasWalkedCache.hasWalked(n,s))continue;this.hasWalkedCache.storeWalked(n,s)}if(typeof l=="string"){let f=l===".."||l===""||l===".";this.matches.add(n.resolve(l),a,f);continue}else if(l===Tr){(!n.isSymbolicLink()||this.follow||s.checkFollowGlobstar())&&this.subwalks.add(n,s);let f=c?.pattern(),h=c?.rest();if(!c||(f===""||f===".")&&!h)this.matches.add(n,a,f===""||f===".");else if(f===".."){let p=n.parent||n;h?this.hasWalkedCache.hasWalked(p,h)||this.subwalks.add(p,h):this.matches.add(p,a,!0)}}else l instanceof RegExp&&this.subwalks.add(n,s)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new e(this.opts,this.hasWalkedCache)}filterEntries(t,r){let i=this.subwalks.get(t),n=this.child();for(let s of r)for(let o of i){let a=o.isAbsolute(),l=o.pattern(),c=o.rest();l===Tr?n.testGlobstar(s,o,c,a):l instanceof RegExp?n.testRegExp(s,l,c,a):n.testString(s,l,c,a)}return n}testGlobstar(t,r,i,n){if((this.dot||!t.name.startsWith("."))&&(r.hasMore()||this.matches.add(t,n,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,r):t.isSymbolicLink()&&(i&&r.checkFollowGlobstar()?this.subwalks.add(t,i):r.markFollowGlobstar()&&this.subwalks.add(t,r)))),i){let s=i.pattern();if(typeof s=="string"&&s!==".."&&s!==""&&s!==".")this.testString(t,s,i.rest(),n);else if(s===".."){let o=t.parent||t;this.subwalks.add(o,i)}else s instanceof RegExp&&this.testRegExp(t,s,i.rest(),n)}}testRegExp(t,r,i,n){r.test(t.name)&&(i?this.subwalks.add(t,i):this.matches.add(t,n,!1))}testString(t,r,i,n){t.isNamed(r)&&(i?this.subwalks.add(t,i):this.matches.add(t,n,!1))}};var kPe=(e,t)=>typeof e=="string"?new xh([e],t):Array.isArray(e)?new xh(e,t):e,Eh,Yo,zc,Ko,Mc,Fg,cP,fS=class{constructor(t,r,i){N(this,Ko);N(this,Fg);C(this,"path");C(this,"patterns");C(this,"opts");C(this,"seen",new Set);C(this,"paused",!1);C(this,"aborted",!1);N(this,Eh,[]);N(this,Yo,void 0);N(this,zc,void 0);C(this,"signal");C(this,"maxDepth");C(this,"includeChildMatches");if(this.patterns=t,this.path=r,this.opts=i,A(this,zc,!i.posix&&i.platform==="win32"?"\\":"/"),this.includeChildMatches=i.includeChildMatches!==!1,(i.ignore||!this.includeChildMatches)&&(A(this,Yo,kPe(i.ignore??[],i)),!this.includeChildMatches&&typeof d(this,Yo).add!="function")){let n="cannot ignore child matches, ignore lacks add() method.";throw new Error(n)}this.maxDepth=i.maxDepth||1/0,i.signal&&(this.signal=i.signal,this.signal.addEventListener("abort",()=>{d(this,Eh).length=0}))}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=d(this,Eh).shift());)t()}onResume(t){this.signal?.aborted||(this.paused?d(this,Eh).push(t):t())}async matchCheck(t,r){if(r&&this.opts.nodir)return;let i;if(this.opts.realpath){if(i=t.realpathCached()||await t.realpath(),!i)return;t=i}let s=t.isUnknown()||this.opts.stat?await t.lstat():t;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=await s.realpath();o&&(o.isUnknown()||this.opts.stat)&&await o.lstat()}return this.matchCheckTest(s,r)}matchCheckTest(t,r){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!r||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!t.isSymbolicLink()||!t.realpathCached()?.isDirectory())&&!L(this,Ko,Mc).call(this,t)?t:void 0}matchCheckSync(t,r){if(r&&this.opts.nodir)return;let i;if(this.opts.realpath){if(i=t.realpathCached()||t.realpathSync(),!i)return;t=i}let s=t.isUnknown()||this.opts.stat?t.lstatSync():t;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=s.realpathSync();o&&(o?.isUnknown()||this.opts.stat)&&o.lstatSync()}return this.matchCheckTest(s,r)}matchFinish(t,r){if(L(this,Ko,Mc).call(this,t))return;if(!this.includeChildMatches&&d(this,Yo)?.add){let s=`${t.relativePosix()}/**`;d(this,Yo).add(s)}let i=this.opts.absolute===void 0?r:this.opts.absolute;this.seen.add(t);let n=this.opts.mark&&t.isDirectory()?d(this,zc):"";if(this.opts.withFileTypes)this.matchEmit(t);else if(i){let s=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(s+n)}else{let s=this.opts.posix?t.relativePosix():t.relative(),o=this.opts.dotRelative&&!s.startsWith(".."+d(this,zc))?"."+d(this,zc):"";this.matchEmit(s?o+s+n:"."+n)}}async match(t,r,i){let n=await this.matchCheck(t,i);n&&this.matchFinish(n,r)}matchSync(t,r,i){let n=this.matchCheckSync(t,i);n&&this.matchFinish(n,r)}walkCB(t,r,i){this.signal?.aborted&&i(),this.walkCB2(t,r,new Ig(this.opts),i)}walkCB2(t,r,i,n){if(L(this,Fg,cP).call(this,t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2(t,r,i,n));return}i.processPatterns(t,r);let s=1,o=()=>{--s===0&&n()};for(let[a,l,c]of i.matches.entries())L(this,Ko,Mc).call(this,a)||(s++,this.match(a,l,c).then(()=>o()));for(let a of i.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirCached();a.calledReaddir()?this.walkCB3(a,l,i,o):a.readdirCB((c,u)=>this.walkCB3(a,u,i,o),!0)}o()}walkCB3(t,r,i,n){i=i.filterEntries(t,r);let s=1,o=()=>{--s===0&&n()};for(let[a,l,c]of i.matches.entries())L(this,Ko,Mc).call(this,a)||(s++,this.match(a,l,c).then(()=>o()));for(let[a,l]of i.subwalks.entries())s++,this.walkCB2(a,l,i.child(),o);o()}walkCBSync(t,r,i){this.signal?.aborted&&i(),this.walkCB2Sync(t,r,new Ig(this.opts),i)}walkCB2Sync(t,r,i,n){if(L(this,Fg,cP).call(this,t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2Sync(t,r,i,n));return}i.processPatterns(t,r);let s=1,o=()=>{--s===0&&n()};for(let[a,l,c]of i.matches.entries())L(this,Ko,Mc).call(this,a)||this.matchSync(a,l,c);for(let a of i.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirSync();this.walkCB3Sync(a,l,i,o)}o()}walkCB3Sync(t,r,i,n){i=i.filterEntries(t,r);let s=1,o=()=>{--s===0&&n()};for(let[a,l,c]of i.matches.entries())L(this,Ko,Mc).call(this,a)||this.matchSync(a,l,c);for(let[a,l]of i.subwalks.entries())s++,this.walkCB2Sync(a,l,i.child(),o);o()}};Eh=new WeakMap,Yo=new WeakMap,zc=new WeakMap,Ko=new WeakSet,Mc=function(t){return this.seen.has(t)||!!d(this,Yo)?.ignored?.(t)},Fg=new WeakSet,cP=function(t){return!!d(this,Yo)?.childrenIgnored?.(t)};var Ng=class extends fS{constructor(r,i,n){super(r,i,n);C(this,"matches",new Set)}matchEmit(r){this.matches.add(r)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((r,i)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?i(this.signal.reason):r(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}},$g=class extends fS{constructor(r,i,n){super(r,i,n);C(this,"results");this.results=new al({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(r){this.results.write(r),this.results.flowing||this.pause()}stream(){let r=this.path;return r.isUnknown()?r.lstat().then(()=>{this.walkCB(r,this.patterns,()=>this.results.end())}):this.walkCB(r,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};var RPe=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",rs=class{constructor(t,r){C(this,"absolute");C(this,"cwd");C(this,"root");C(this,"dot");C(this,"dotRelative");C(this,"follow");C(this,"ignore");C(this,"magicalBraces");C(this,"mark");C(this,"matchBase");C(this,"maxDepth");C(this,"nobrace");C(this,"nocase");C(this,"nodir");C(this,"noext");C(this,"noglobstar");C(this,"pattern");C(this,"platform");C(this,"realpath");C(this,"scurry");C(this,"stat");C(this,"signal");C(this,"windowsPathsNoEscape");C(this,"withFileTypes");C(this,"includeChildMatches");C(this,"opts");C(this,"patterns");if(!r)throw new TypeError("glob options required");if(this.withFileTypes=!!r.withFileTypes,this.signal=r.signal,this.follow=!!r.follow,this.dot=!!r.dot,this.dotRelative=!!r.dotRelative,this.nodir=!!r.nodir,this.mark=!!r.mark,r.cwd?(r.cwd instanceof URL||r.cwd.startsWith("file://"))&&(r.cwd=(0,RG.fileURLToPath)(r.cwd)):this.cwd="",this.cwd=r.cwd||"",this.root=r.root,this.magicalBraces=!!r.magicalBraces,this.nobrace=!!r.nobrace,this.noext=!!r.noext,this.realpath=!!r.realpath,this.absolute=r.absolute,this.includeChildMatches=r.includeChildMatches!==!1,this.noglobstar=!!r.noglobstar,this.matchBase=!!r.matchBase,this.maxDepth=typeof r.maxDepth=="number"?r.maxDepth:1/0,this.stat=!!r.stat,this.ignore=r.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(r.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=t,this.platform=r.platform||RPe,this.opts={...r,platform:this.platform},r.scurry){if(this.scurry=r.scurry,r.nocase!==void 0&&r.nocase!==r.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let l=r.platform==="win32"?_h:r.platform==="darwin"?ng:r.platform?bh:kG;this.scurry=new l(this.cwd,{nocase:r.nocase,fs:r.fs})}this.nocase=this.scurry.nocase;let i=this.platform==="darwin"||this.platform==="win32",n={...r,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:i,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},s=this.pattern.map(l=>new zi(l,n)),[o,a]=s.reduce((l,c)=>(l[0].push(...c.set),l[1].push(...c.globParts),l),[[],[]]);this.patterns=o.map((l,c)=>{let u=a[c];if(!u)throw new Error("invalid pattern object");return new Sh(l,u,0,this.platform)})}async walk(){return[...await new Ng(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new Ng(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new $g(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new $g(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};var uP=(e,t={})=>{Array.isArray(e)||(e=[e]);for(let r of e)if(new zi(r,t).hasMagic())return!0;return!1};function dS(e,t={}){return new rs(e,t).streamSync()}function OG(e,t={}){return new rs(e,t).stream()}function AG(e,t={}){return new rs(e,t).walkSync()}async function TG(e,t={}){return new rs(e,t).walk()}function pS(e,t={}){return new rs(e,t).iterateSync()}function CG(e,t={}){return new rs(e,t).iterate()}var TPe=dS,OPe=Object.assign(OG,{sync:dS}),APe=pS,CPe=Object.assign(CG,{sync:pS}),PPe=Object.assign(AG,{stream:dS,iterate:pS}),hS=Object.assign(TG,{glob:TG,globSync:AG,sync:PPe,globStream:OG,stream:OPe,globStreamSync:dS,streamSync:TPe,globIterate:CG,iterate:CPe,globIterateSync:pS,iterateSync:APe,Glob:rs,hasMagic:uP,escape:eh,unescape:Hn});hS.glob=hS;var IG=(global.Reveal={registerPlugin:()=>{}},PG()());var Dg=Bt(jb());var mS=class{constructor(t){this.processor=t.markdownProcessor,this.yaml=new Zf(t.getSettings()),this.exporter=new kw(t),this.utils=t}async renderFile(t,r){let i=!1,n=!1,s=!1;ow(r)||(xm(r,"export")&&(i=r?.export),xm(r,"print-pdf")&&(n=!0),xm(r,"embed")&&(s=r?.embed)),i&&this.utils.resetImageCollection();let o=(await(0,Dg.readFile)(t.toString())).toString(),a=await this.render(o,n,s);return i&&(this.utils.disableImageCollection(),await this.exporter.export(t,a,vc().getAll()),a=await this.render(o,n,s)),a}async render(t,r,i){let{yamlOptions:n,markdown:s}=this.yaml.parseYamlFrontMatter(t),o=this.yaml.getSlideOptions(n,r),a=this.yaml.getRevealOptions(o),{title:l}=o,c=this.getThemeUrl(o.theme),u=this.getHighlightThemeUrl(o.highlightTheme),f=this.yaml.getSlidifyOptions(o),h=this.processor.process(s,o),p=this.slidify(h,f),m=this.getCssPaths(o.css),g=this.getCssPaths(o.remoteCSS),y=this.yaml.getTemplateSettings(o),{enableChalkboard:_,enableCustomControls:S,enableOverview:b,enableMenu:v,enableTimeBar:O,enablePointer:j}=y,R="";vc().shouldCollect()||(R="/");let I=Object.assign(o,{title:l,slides:p,themeUrl:c,highlightThemeUrl:u,cssPaths:m,remoteCSSPaths:g,base:R,enableCustomControls:S,enableChalkboard:_,enableOverview:b,enableMenu:v,enablePointer:j,enableTimeBar:O,revealOptionsStr:JSON.stringify(a)}),F=await this.getPageTemplate(i);return d8.render(F,I)}isValidUrl(t){try{return new URL(t),!0}catch{return!1}}getHighlightThemeUrl(t){return this.getThemeUrl(t,this.utils.getHighlightSearchPath())}getThemeUrl(t,r=this.utils.getThemeSearchPath()){if(this.isValidUrl(t))return t;for(let i of r){let n=hS.sync("*.css",{cwd:i}),s=(0,Js.basename)(t).replace((0,Js.extname)(t),""),o=n.find(a=>(0,Js.basename)(a).replace((0,Js.extname)(a),"")===s);if(o)return this.toExternalPath(Js.default.join(i,o))}return t}toExternalPath(t){return t.replace(this.utils.pluginDirectory,"").replace(this.utils.vaultDirectory,"")}async getPageTemplate(t=!1){let r=t?"embed.html":qb.template,i=this.utils.getHtmlTemplateSearchPath();for(let n of i){let s=(0,Js.join)(n,r);if(await(0,Dg.exists)(s))return(await(0,Dg.readFile)(s.toString())).toString()}return console.error(`Template file ${r} not found in search path: ${i}.`),""}slidify(t,r){return IG.slidify(t,r)}getCssPaths(t,r=!1){let i=[];return t?(typeof t=="string"?i=t.split(","):i=t,i.map(n=>this.isValidUrl(n)?n:this.getThemeUrl(n,this.utils.getLocalCssSearchPath()))):i}};var Ex=require("obsidian"),kI=Bt(dK()),Gh=Bt(require("path")),mK=require("fs"),gK=require("buffer"),xx=class{constructor(t,r,i){this._port=r,this._url=i,this._revealRenderer=new mS(t),this.filePath=null,this._server=(0,pK.default)({}),this._server.register(kI.fastifyStatic,{root:t.vaultDirectory,decorateReply:!0,serve:!1}),this._server.get("/",async(n,s)=>{if(this.filePath===null)s.type("text/html").send(k$e);else{let o=await this._revealRenderer.renderFile(this.filePath,n.query);s.type("text/html").send(o)}return s}),["plugin","dist","css"].forEach(n=>{this._server.register(kI.fastifyStatic,{root:Gh.default.join(t.pluginDirectory,n),prefix:"/"+n,wildcard:!0,index:!1,decorateReply:!1,list:{format:"html",render:R$e}})}),this._server.get("/*",async(n,s)=>{let o=n.params["*"],a=async l=>{let c=await this._revealRenderer.renderFile(l,n.query);s.type("text/html").send(c)};if(o.startsWith("local-file-url")){let l=o.replace("local-file-url",Ex.Platform.resourcePathPrefix),c=await fetch(l).catch(u=>new Response(null,{status:404,statusText:u.messge}));if(c.ok)if(c.blob){let u=await c.blob(),f=await u.arrayBuffer();s.type(u.type).send(gK.Buffer.from(f))}else console.info("open a bug to handle this kind of response. Include this message",c);else s.code(404).send(c.statusText)}else if(o.startsWith("embed/")&&o.endsWith(".md")){let l=Gh.default.join(t.vaultDirectory,o.replace("embed/",""));await a(l)}else if(o.endsWith(".md"))this.filePath=Gh.default.join(t.vaultDirectory,o),await a(this.filePath);else{let l=o,c=Gh.default.dirname(this.filePath);if(c!=t.vaultDirectory){let u=Gh.default.join(c,o);(0,mK.existsSync)(u)&&(l=u.replace(t.vaultDirectory,""))}console.debug("serve file",o,c,t.vaultDirectory,l),s.sendFile(l)}return s})}get running(){return!!this._server.addresses().slice(-1).pop()}getTargetUrl(t){let r=this._url;return r.pathname=this.fixedEncodeURIComponent(t.path),r}fixedEncodeURIComponent(t){return t.replace(/[!'()*]/g,function(r){return"%"+r.charCodeAt(0).toString(16)})}async start(){if(this.running){console.debug("Slides Extended server is already running",this._server.listeningOrigin.replace(/(127\.0\.0\.1|\[::1\])/,"localhost"));return}try{await this._server.listen({host:"localhost",port:this._port}),console.info("Slides Extended is ready to go.",this._server.listeningOrigin.replace(/(127\.0\.0\.1|\[::1\])/,"localhost"))}catch(t){new Ex.Notice(`Unable to start server. Is ${this._port} already in use?`),console.error("Unable to start server",t)}}async stop(){this.running?(console.info("stopping Slides Extended server",this.running),await this._server.close()):console.debug("Slides Extended server is not running")}},k$e=`
<html lang='en'><body>
<p>Open Presentation Preview in Obsidian first</p>
</body></html>`,R$e=(e,t)=>`
<html lang='en'><body>
<ul>
  ${e.map(r=>`<li><a href="${r.href}">${r.name}</a></li>`).join(`
  `)}
</ul>
<ul>
  ${t.map(r=>`<li><a href="${r.href}" target="_blank">${r.name}</a></li>`).join(`
  `)}
</ul>
</body></html>`;var J0=require("obsidian");var ao="reveal-preview-view",Z0=class extends J0.ItemView{constructor(r,i,n,s){super(r);this.url="about:blank";this.urlRegex=/#\/(\d*)(?:\/(\d*))?(?:\/(\d*))?/;this.home=i,this.yaml=new Zf(n),this.onCloseListener=s,this.addAction("globe","Open in browser",()=>{window.open(i)}),this.addAction("grid","Show grid",()=>{n.showGrid=!n.showGrid,this.reloadIframe()}),this.addAction("refresh","Refresh slides",()=>{this.reloadIframe()}),n.paneMode==="sidebar"&&this.addAction("monitor-x","Close preview",()=>{this.leaf.detach()}),window.addEventListener("message",this.onMessage.bind(this))}onPaneMenu(r,i){super.onPaneMenu(r,i),i=="more-options"&&(r.addSeparator(),r.addItem(n=>{n.setIcon("document").setTitle("Print presentation").onClick(()=>{window.open(this.home.toString()+"?print-pdf")})}),r.addItem(n=>{n.setIcon("install").setTitle("Export as html").onClick(()=>{let s=new URL(this.url);s.searchParams.append("export","true"),this.setUrl(s.toString())})}))}onMessage(r){if(r.data.includes("?export")){this.setUrl(r.data.split("?")[0]);return}this.setUrl(r.data,!1);let i=new URL(r.data),n=decodeURI(i.pathname);n=n.substring(n.lastIndexOf("/")+1);let s=this.app.workspace.getActiveViewOfType(J0.MarkdownView);if(s&&s.file.name.includes(n)){let o=this.getTargetLine(i,s.data);s.editor.setCursor(s.editor.lastLine()),s.editor.setCursor({line:o,ch:0})}}onLineChanged(r){let i=this.app.workspace.getActiveViewOfType(J0.MarkdownView),s=this.containerEl.children[1].getElementsByTagName("iframe")[0];if(i&&s){let[o,a]=this.getTargetSlide(r,i.data);s.contentWindow.postMessage(`{"method":"setState","args":[{"indexh":${o},"indexv":${a},"paused":false}]}`,this.url)}}getTargetSlide(r,i){let{yamlOptions:n,markdown:s}=this.yaml.parseYamlFrontMatter(i),o=this.yaml.getSlideOptions(n),a=i.indexOf(s),l=i.substring(0,a).split(/^/gm).length,c=this.getSlideLines(s,o),u=r-(l>0?l-1:0),f=null;for(let[h,p]of c.entries())if(p<=u)f=h;else break;if(f){let h=f.split(",");return[Number.parseInt(h[0]),Number.parseInt(h[1])]}else return[0,0]}getTargetLine(r,i){let n=r.href.substring(r.href.lastIndexOf("#")),[,s,o]=this.urlRegex.exec(n),{yamlOptions:a,markdown:l}=this.yaml.parseYamlFrontMatter(i),c=this.yaml.getSlideOptions(a),u=i.indexOf(l),f=i.substring(0,u).split(/^/gm).length,h=this.getSlideLines(l,c),p=parseInt(s)||0,m=parseInt(o)||0;return h.get([p,m].join(","))+f}getSlideLines(r,i){let n=new Map,s=this.getIdxOfRegex(/^/gm,r),o=this.getIdxOfRegex(RegExp(i.separator,"gm"),r);for(let f of o)for(let h=0;h<s.length;h++)if(s[h]>f){n.set(h,"h");break}let a=this.getIdxOfRegex(RegExp(i.verticalSeparator,"gm"),r);for(let f of a)for(let h=0;h<s.length;h++)if(s[h]>f){n.set(h,"v");break}n.set(0,"h"),n=new Map([...n].sort((f,h)=>f[0]-h[0]));let l=new Map,c=-1,u=0;for(let[f,h]of n.entries())h=="h"&&(c++,u=0),h=="v"&&u++,l.set([c,u].join(","),f);return l}getIdxOfRegex(r,i){let n=new Array,s;do s=r.exec(i),s&&(s.index===r.lastIndex&&r.lastIndex++,n.push(s.index));while(s);return n}getViewType(){return ao}getDisplayText(){return"Slide preview"}getIcon(){return"slides"}setUrl(r,i=!0){this.url=r,i&&this.renderView()}onChange(){this.reloadIframe()}async onClose(){window.removeEventListener("message",this.onMessage),this.onCloseListener()}reloadIframe(){this.containerEl.children[1].getElementsByTagName("iframe")[0].contentWindow.postMessage("reload",this.url)}renderView(){let r=this.containerEl.children[1];r.empty(),r.addClass("reveal-preview-view"),r.createEl("iframe",{attr:{src:this.url,sandbox:"allow-scripts allow-same-origin allow-popups"}})}};var yK=require("obsidian"),kx=class extends yK.EditorSuggest{constructor(t,r){super(t),this.plugin=r}onTrigger(t,r,i){let n=this.plugin.getViewInstance();return n&&(n.url=="about:blank"&&this.plugin.showView(),n.onLineChanged(t.line)),null}getSuggestions(t){throw new Error("Method not implemented.")}renderSuggestion(t,r){throw new Error("Method not implemented.")}selectSuggestion(t,r){throw new Error("Method not implemented.")}};var et=require("obsidian"),PI=Bt(AI());var SK=Bt(require("fs")),xK=Bt(AI()),EK=(e,t)=>e.contains("highlight")||t.contains("highlight")||t.contains("hljs"),j$e=(e,t)=>!EK(e,t),q$e=(e,t)=>{let r=new Set;for(let i of e)SK.default.readdirSync(i).forEach(n=>{t(i,n)&&r.add(n)});return r},CI=(e,t)=>{let r=t=="highlight"?e.getHighlightSearchPath():e.getThemeSearchPath();return[...q$e(r,(i,n)=>n.endsWith(".css")?t=="highlight"?EK(i,n):j$e(i,n):!1)]},X0=class extends xK.FuzzyInputSuggest{getItemText(t){return t}renderNote(t,r){}renderTitle(t,r){this.renderMatches(t,r.item,r.match.matches)}};function kK(e){return e instanceof et.TFolder}var Rx=class extends et.PluginSettingTab{constructor(t,r){super(t,r),this.plugin=r}async save(){await this.plugin.update(this.newSettings)}hide(){this.save()}display(){this.newSettings=JSON.parse(JSON.stringify(this.plugin.settings)),this.drawElements()}drawElements(){let{containerEl:t}=this;t.empty(),new et.Setting(t).setName("Slide preview mode").setDesc("Select the slide preview pane display mode.").addDropdown(n=>{n.addOption("tab","as Tab").addOption("split","split Workspace").addOption("sidebar","right sidebar").setValue(this.newSettings.paneMode).onChange(s=>{s=="tab"||s=="split"||s=="sidebar"?this.newSettings.paneMode=s:console.debug("Invalid pane mode",s)})}),new et.Setting(t).setName("Automatically start server").setDesc("When enabled, the server for rendering slides will automatically start when Obsidian starts.").addToggle(n=>n.setValue(this.newSettings.autoStart).onChange(s=>{this.newSettings.autoStart=s})),new et.Setting(t).setName("Server port").setDesc("Specify the port number for the server to listen on. Default is 3000.").addText(n=>n.setPlaceholder("3000").setValue(this.newSettings.port).onChange(s=>{this.newSettings.port=s})),new et.Setting(t).setName("Auto reload").setDesc("When enabled, the slide preview window automatically updates upon detecting changes in the source file.").addToggle(n=>n.setValue(this.newSettings.autoReload).onChange(s=>{this.newSettings.autoReload=s})),new et.Setting(t).setName("Auto complete").setDesc('Enable auto-complete inputs. "Always" enables it everywhere, "When slide preview is active" enables it only when the slide preview is active, and "Never" disables it.').addDropdown(n=>{n.addOption("always","Always").addOption("inPreview","When slide preview is active").addOption("never","Never").setValue(this.newSettings.autoComplete).onChange(s=>{this.newSettings.autoComplete=s})}),new et.Setting(t).setName("Export directory").setDesc("Specify the directory where Slides Extended should export presentations.").addSearch(n=>{let s=this.app.vault.getAllLoadedFiles().filter(kK),o=new PI.FolderInputSuggest(this.app,n,s);o.onSelect(({item:a})=>{n.setValue(a.path),n.inputEl.trigger("input"),o.close()}),n.setPlaceholder("Folder").setValue(this.newSettings.exportDirectory).onChange(a=>{this.newSettings.exportDirectory=a})});let r={},i=(n,s)=>{let o=n=="slide"?"*":"*.highlight.css or *.hljs.css";return s?`Select the default ${o} theme. Options include ${n}.css files defined in ${s}.`:`Select the default ${o} theme.`};new et.Setting(t).setName("Theme directory").setDesc('Specify the vault directory for custom themes. Highlight themes should include "highlight" or "hljs" in their name.').addSearch(n=>{let s=this.app.vault.getAllLoadedFiles().filter(kK),o=new PI.FolderInputSuggest(this.app,n,s);o.onSelect(({item:a})=>{n.setValue(a.path),n.inputEl.trigger("input"),o.close()}),n.setPlaceholder("Folder").setValue(this.newSettings.themeDirectory).onChange(a=>{this.newSettings.themeDirectory=a;for(let l in r)r[l].setDesc(i(l,a))})}),new et.Setting(t).setName("Slides").setHeading(),r.slide=new et.Setting(t).setName("Default slide theme").setDesc(i("slide",this.newSettings.themeDirectory)).addSearch(n=>{let s=new X0(this.app,n,CI(this.plugin.obsidianUtils,"theme")).onSelect(({item:o})=>{n.setValue(o),n.inputEl.trigger("input"),s.close()});n.setPlaceholder("black").setValue(this.newSettings.theme).onChange(o=>{this.newSettings.theme=o})}),r.highlight=new et.Setting(t).setName("Default highlight theme").setDesc(i("highlight",this.newSettings.themeDirectory)).addSearch(n=>{let s=new X0(this.app,n,CI(this.plugin.obsidianUtils,"highlight")).onSelect(({item:o})=>{n.setValue(o),n.inputEl.trigger("input"),s.close()});n.setPlaceholder("zenburn").setValue(this.newSettings.highlightTheme).onChange(o=>{this.newSettings.highlightTheme=o})}),new et.Setting(t).setName("Center content").setDesc("When enabled, content is centered on the slide by default.").addToggle(n=>n.setValue(this.newSettings.center).onChange(s=>{this.newSettings.center=s})),new et.Setting(t).setName("Transition style").setDesc("Select a default slide transition").addDropdown(n=>{n.addOption("none","none").addOption("fade","fade").addOption("slide","slide").addOption("convex","convex").addOption("concave","concave").addOption("zoom","zoom").setValue(this.newSettings.transition).onChange(s=>{this.newSettings.transition=s})}),new et.Setting(t).setName("Transition speed").setDesc("Select a default transition speed").addDropdown(n=>{n.addOption("slow","slow").addOption("normal","default").addOption("fast","fast").setValue(this.newSettings.transitionSpeed).onChange(s=>{this.newSettings.transitionSpeed=s})}),t.createEl("h2",{text:"Plugins"}),new et.Setting(t).setName("Controls").setDesc("When enabled, display presentation control arrows.").addToggle(n=>n.setValue(this.newSettings.controls).onChange(s=>{this.newSettings.controls=s})),new et.Setting(t).setName("Chalkboard").setDesc("When enabled, the slides will contain a chalkboard.").addToggle(n=>n.setValue(this.newSettings.enableChalkboard).onChange(s=>{this.newSettings.enableChalkboard=s})),new et.Setting(t).setName("Elapsed time bar").setDesc("When enabled, display an elapsed time bar.").addToggle(n=>n.setValue(this.newSettings.enableTimeBar).onChange(s=>{this.newSettings.enableTimeBar=s})),new et.Setting(t).setName("Laser pointer").setDesc("When enabled, changes your mouse into a laser pointer (Toggle with Q).").addToggle(n=>n.setValue(this.newSettings.enablePointer).onChange(s=>{this.newSettings.enablePointer=s})),new et.Setting(t).setName("Menu").setDesc("When enabled, display a presentation menu button.").addToggle(n=>n.setValue(this.newSettings.enableMenu).onChange(s=>{this.newSettings.enableMenu=s})),new et.Setting(t).setName("Overview").setDesc("When enabled, display a presentation overview button.").addToggle(n=>n.setValue(this.newSettings.enableOverview).onChange(s=>{this.newSettings.enableOverview=s})),new et.Setting(t).setName("Progress bar").setDesc("When enabled, display a presentation progress bar.").addToggle(n=>n.setValue(this.newSettings.progress).onChange(s=>{this.newSettings.progress=s})),new et.Setting(t).setName("Slide numbers").setDesc("When enabled, display the page number of the current slide.").addToggle(n=>n.setValue(this.newSettings.slideNumber).onChange(s=>{this.newSettings.slideNumber=s}))}};function zK(e){return typeof e>"u"||e===null}function M$e(e){return typeof e=="object"&&e!==null}function z$e(e){return Array.isArray(e)?e:zK(e)?[]:[e]}function U$e(e,t){var r,i,n,s;if(t)for(s=Object.keys(t),r=0,i=s.length;r<i;r+=1)n=s[r],e[n]=t[n];return e}function B$e(e,t){var r="",i;for(i=0;i<t;i+=1)r+=e;return r}function H$e(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var V$e=zK,W$e=M$e,G$e=z$e,Y$e=B$e,K$e=H$e,J$e=U$e,Xt={isNothing:V$e,isObject:W$e,toArray:G$e,repeat:Y$e,isNegativeZero:K$e,extend:J$e};function UK(e,t){var r="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),i+" "+r):i}function ey(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=UK(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ey.prototype=Object.create(Error.prototype);ey.prototype.constructor=ey;ey.prototype.toString=function(t){return this.name+": "+UK(this,t)};var Ii=ey;function II(e,t,r,i,n){var s="",o="",a=Math.floor(n/2)-1;return i-t>a&&(s=" ... ",t=i-a+s.length),r-i>a&&(o=" ...",r=i+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+o,pos:i-t+s.length}}function NI(e,t){return Xt.repeat(" ",t-e.length)+e}function Z$e(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,i=[0],n=[],s,o=-1;s=r.exec(e.buffer);)n.push(s.index),i.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var a="",l,c,u=Math.min(e.line+t.linesAfter,n.length).toString().length,f=t.maxLength-(t.indent+u+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)c=II(e.buffer,i[o-l],n[o-l],e.position-(i[o]-i[o-l]),f),a=Xt.repeat(" ",t.indent)+NI((e.line-l+1).toString(),u)+" | "+c.str+`
`+a;for(c=II(e.buffer,i[o],n[o],e.position,f),a+=Xt.repeat(" ",t.indent)+NI((e.line+1).toString(),u)+" | "+c.str+`
`,a+=Xt.repeat("-",t.indent+u+3+c.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=n.length);l++)c=II(e.buffer,i[o+l],n[o+l],e.position-(i[o]-i[o+l]),f),a+=Xt.repeat(" ",t.indent)+NI((e.line+l+1).toString(),u)+" | "+c.str+`
`;return a.replace(/\n$/,"")}var X$e=Z$e,Q$e=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],eFe=["scalar","sequence","mapping"];function tFe(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(i){t[String(i)]=r})}),t}function rFe(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(Q$e.indexOf(r)===-1)throw new Ii('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=tFe(t.styleAliases||null),eFe.indexOf(this.kind)===-1)throw new Ii('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Jr=rFe;function RK(e,t){var r=[];return e[t].forEach(function(i){var n=r.length;r.forEach(function(s,o){s.tag===i.tag&&s.kind===i.kind&&s.multi===i.multi&&(n=o)}),r[n]=i}),r}function iFe(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function i(n){n.multi?(e.multi[n.kind].push(n),e.multi.fallback.push(n)):e[n.kind][n.tag]=e.fallback[n.tag]=n}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(i);return e}function FI(e){return this.extend(e)}FI.prototype.extend=function(t){var r=[],i=[];if(t instanceof Jr)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new Ii("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof Jr))throw new Ii("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Ii("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Ii("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(s){if(!(s instanceof Jr))throw new Ii("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(FI.prototype);return n.implicit=(this.implicit||[]).concat(r),n.explicit=(this.explicit||[]).concat(i),n.compiledImplicit=RK(n,"implicit"),n.compiledExplicit=RK(n,"explicit"),n.compiledTypeMap=iFe(n.compiledImplicit,n.compiledExplicit),n};var nFe=FI,sFe=new Jr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),oFe=new Jr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),aFe=new Jr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),lFe=new nFe({explicit:[sFe,oFe,aFe]});function cFe(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function uFe(){return null}function fFe(e){return e===null}var hFe=new Jr("tag:yaml.org,2002:null",{kind:"scalar",resolve:cFe,construct:uFe,predicate:fFe,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function dFe(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function pFe(e){return e==="true"||e==="True"||e==="TRUE"}function mFe(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var gFe=new Jr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:dFe,construct:pFe,predicate:mFe,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function yFe(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function vFe(e){return 48<=e&&e<=55}function _Fe(e){return 48<=e&&e<=57}function bFe(e){if(e===null)return!1;var t=e.length,r=0,i=!1,n;if(!t)return!1;if(n=e[r],(n==="-"||n==="+")&&(n=e[++r]),n==="0"){if(r+1===t)return!0;if(n=e[++r],n==="b"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(n!=="0"&&n!=="1")return!1;i=!0}return i&&n!=="_"}if(n==="x"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!yFe(e.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}if(n==="o"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!vFe(e.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}}if(n==="_")return!1;for(;r<t;r++)if(n=e[r],n!=="_"){if(!_Fe(e.charCodeAt(r)))return!1;i=!0}return!(!i||n==="_")}function wFe(e){var t=e,r=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(r=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function SFe(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Xt.isNegativeZero(e)}var xFe=new Jr("tag:yaml.org,2002:int",{kind:"scalar",resolve:bFe,construct:wFe,predicate:SFe,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),EFe=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function kFe(e){return!(e===null||!EFe.test(e)||e[e.length-1]==="_")}function RFe(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var TFe=/^[-+]?[0-9]+e/;function OFe(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Xt.isNegativeZero(e))return"-0.0";return r=e.toString(10),TFe.test(r)?r.replace("e",".e"):r}function AFe(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Xt.isNegativeZero(e))}var CFe=new Jr("tag:yaml.org,2002:float",{kind:"scalar",resolve:kFe,construct:RFe,predicate:AFe,represent:OFe,defaultStyle:"lowercase"}),PFe=lFe.extend({implicit:[hFe,gFe,xFe,CFe]}),IFe=PFe,BK=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),HK=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function NFe(e){return e===null?!1:BK.exec(e)!==null||HK.exec(e)!==null}function $Fe(e){var t,r,i,n,s,o,a,l=0,c=null,u,f,h;if(t=BK.exec(e),t===null&&(t=HK.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],i=+t[2]-1,n=+t[3],!t[4])return new Date(Date.UTC(r,i,n));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(u=+t[10],f=+(t[11]||0),c=(u*60+f)*6e4,t[9]==="-"&&(c=-c)),h=new Date(Date.UTC(r,i,n,s,o,a,l)),c&&h.setTime(h.getTime()-c),h}function FFe(e){return e.toISOString()}var DFe=new Jr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:NFe,construct:$Fe,instanceOf:Date,represent:FFe});function LFe(e){return e==="<<"||e===null}var jFe=new Jr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:LFe}),MI=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function qFe(e){if(e===null)return!1;var t,r,i=0,n=e.length,s=MI;for(r=0;r<n;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}function MFe(e){var t,r,i=e.replace(/[\r\n=]/g,""),n=i.length,s=MI,o=0,a=[];for(t=0;t<n;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(i.charAt(t));return r=n%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function zFe(e){var t="",r=0,i,n,s=e.length,o=MI;for(i=0;i<s;i++)i%3===0&&i&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[i];return n=s%3,n===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):n===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):n===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function UFe(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var BFe=new Jr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:qFe,construct:MFe,predicate:UFe,represent:zFe}),HFe=Object.prototype.hasOwnProperty,VFe=Object.prototype.toString;function WFe(e){if(e===null)return!0;var t=[],r,i,n,s,o,a=e;for(r=0,i=a.length;r<i;r+=1){if(n=a[r],o=!1,VFe.call(n)!=="[object Object]")return!1;for(s in n)if(HFe.call(n,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function GFe(e){return e!==null?e:[]}var YFe=new Jr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:WFe,construct:GFe}),KFe=Object.prototype.toString;function JFe(e){if(e===null)return!0;var t,r,i,n,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(i=o[t],KFe.call(i)!=="[object Object]"||(n=Object.keys(i),n.length!==1))return!1;s[t]=[n[0],i[n[0]]]}return!0}function ZFe(e){if(e===null)return[];var t,r,i,n,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)i=o[t],n=Object.keys(i),s[t]=[n[0],i[n[0]]];return s}var XFe=new Jr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:JFe,construct:ZFe}),QFe=Object.prototype.hasOwnProperty;function eDe(e){if(e===null)return!0;var t,r=e;for(t in r)if(QFe.call(r,t)&&r[t]!==null)return!1;return!0}function tDe(e){return e!==null?e:{}}var rDe=new Jr("tag:yaml.org,2002:set",{kind:"mapping",resolve:eDe,construct:tDe}),VK=IFe.extend({implicit:[DFe,jFe],explicit:[BFe,YFe,XFe,rDe]}),Al=Object.prototype.hasOwnProperty,Tx=1,WK=2,GK=3,Ox=4,$I=1,iDe=2,TK=3,nDe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,sDe=/[\x85\u2028\u2029]/,oDe=/[,\[\]\{\}]/,YK=/^(?:!|!!|![a-z\-]+!)$/i,KK=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function OK(e){return Object.prototype.toString.call(e)}function lo(e){return e===10||e===13}function du(e){return e===9||e===32}function Ni(e){return e===9||e===32||e===10||e===13}function Kh(e){return e===44||e===91||e===93||e===123||e===125}function aDe(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function lDe(e){return e===120?2:e===117?4:e===85?8:0}function cDe(e){return 48<=e&&e<=57?e-48:-1}function AK(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function uDe(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var JK=new Array(256),ZK=new Array(256);for(hu=0;hu<256;hu++)JK[hu]=AK(hu)?1:0,ZK[hu]=AK(hu);var hu;function fDe(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||VK,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function XK(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=X$e(r),new Ii(t,r)}function pe(e,t){throw XK(e,t)}function Ax(e,t){e.onWarning&&e.onWarning.call(null,XK(e,t))}var CK={YAML:function(t,r,i){var n,s,o;t.version!==null&&pe(t,"duplication of %YAML directive"),i.length!==1&&pe(t,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),n===null&&pe(t,"ill-formed argument of the YAML directive"),s=parseInt(n[1],10),o=parseInt(n[2],10),s!==1&&pe(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&Ax(t,"unsupported YAML version of the document")},TAG:function(t,r,i){var n,s;i.length!==2&&pe(t,"TAG directive accepts exactly two arguments"),n=i[0],s=i[1],YK.test(n)||pe(t,"ill-formed tag handle (first argument) of the TAG directive"),Al.call(t.tagMap,n)&&pe(t,'there is a previously declared suffix for "'+n+'" tag handle'),KK.test(s)||pe(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{pe(t,"tag prefix is malformed: "+s)}t.tagMap[n]=s}};function Ol(e,t,r,i){var n,s,o,a;if(t<r){if(a=e.input.slice(t,r),i)for(n=0,s=a.length;n<s;n+=1)o=a.charCodeAt(n),o===9||32<=o&&o<=1114111||pe(e,"expected valid JSON character");else nDe.test(a)&&pe(e,"the stream contains non-printable characters");e.result+=a}}function PK(e,t,r,i){var n,s,o,a;for(Xt.isObject(r)||pe(e,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(r),o=0,a=n.length;o<a;o+=1)s=n[o],Al.call(t,s)||(t[s]=r[s],i[s]=!0)}function Jh(e,t,r,i,n,s,o,a,l){var c,u;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),c=0,u=n.length;c<u;c+=1)Array.isArray(n[c])&&pe(e,"nested arrays are not supported inside keys"),typeof n=="object"&&OK(n[c])==="[object Object]"&&(n[c]="[object Object]");if(typeof n=="object"&&OK(n)==="[object Object]"&&(n="[object Object]"),n=String(n),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,u=s.length;c<u;c+=1)PK(e,t,s[c],r);else PK(e,t,s,r);else!e.json&&!Al.call(r,n)&&Al.call(t,n)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,pe(e,"duplicated mapping key")),n==="__proto__"?Object.defineProperty(t,n,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[n]=s,delete r[n];return t}function zI(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):pe(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Mt(e,t,r){for(var i=0,n=e.input.charCodeAt(e.position);n!==0;){for(;du(n);)n===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),n=e.input.charCodeAt(++e.position);if(t&&n===35)do n=e.input.charCodeAt(++e.position);while(n!==10&&n!==13&&n!==0);if(lo(n))for(zI(e),n=e.input.charCodeAt(e.position),i++,e.lineIndent=0;n===32;)e.lineIndent++,n=e.input.charCodeAt(++e.position);else break}return r!==-1&&i!==0&&e.lineIndent<r&&Ax(e,"deficient indentation"),i}function Ix(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Ni(r)))}function UI(e,t){t===1?e.result+=" ":t>1&&(e.result+=Xt.repeat(`
`,t-1))}function hDe(e,t,r){var i,n,s,o,a,l,c,u,f=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),Ni(p)||Kh(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(n=e.input.charCodeAt(e.position+1),Ni(n)||r&&Kh(n)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;p!==0;){if(p===58){if(n=e.input.charCodeAt(e.position+1),Ni(n)||r&&Kh(n))break}else if(p===35){if(i=e.input.charCodeAt(e.position-1),Ni(i))break}else{if(e.position===e.lineStart&&Ix(e)||r&&Kh(p))break;if(lo(p))if(l=e.line,c=e.lineStart,u=e.lineIndent,Mt(e,!1,-1),e.lineIndent>=t){a=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=c,e.lineIndent=u;break}}a&&(Ol(e,s,o,!1),UI(e,e.line-l),s=o=e.position,a=!1),du(p)||(o=e.position+1),p=e.input.charCodeAt(++e.position)}return Ol(e,s,o,!1),e.result?!0:(e.kind=f,e.result=h,!1)}function dDe(e,t){var r,i,n;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=n=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Ol(e,i,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)i=e.position,e.position++,n=e.position;else return!0;else lo(r)?(Ol(e,i,n,!0),UI(e,Mt(e,!1,t)),i=n=e.position):e.position===e.lineStart&&Ix(e)?pe(e,"unexpected end of the document within a single quoted scalar"):(e.position++,n=e.position);pe(e,"unexpected end of the stream within a single quoted scalar")}function pDe(e,t){var r,i,n,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Ol(e,r,e.position,!0),e.position++,!0;if(a===92){if(Ol(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),lo(a))Mt(e,!1,t);else if(a<256&&JK[a])e.result+=ZK[a],e.position++;else if((o=lDe(a))>0){for(n=o,s=0;n>0;n--)a=e.input.charCodeAt(++e.position),(o=aDe(a))>=0?s=(s<<4)+o:pe(e,"expected hexadecimal character");e.result+=uDe(s),e.position++}else pe(e,"unknown escape sequence");r=i=e.position}else lo(a)?(Ol(e,r,i,!0),UI(e,Mt(e,!1,t)),r=i=e.position):e.position===e.lineStart&&Ix(e)?pe(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}pe(e,"unexpected end of the stream within a double quoted scalar")}function mDe(e,t){var r=!0,i,n,s,o=e.tag,a,l=e.anchor,c,u,f,h,p,m=Object.create(null),g,y,_,S;if(S=e.input.charCodeAt(e.position),S===91)u=93,p=!1,a=[];else if(S===123)u=125,p=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),S=e.input.charCodeAt(++e.position);S!==0;){if(Mt(e,!0,t),S=e.input.charCodeAt(e.position),S===u)return e.position++,e.tag=o,e.anchor=l,e.kind=p?"mapping":"sequence",e.result=a,!0;r?S===44&&pe(e,"expected the node content, but found ','"):pe(e,"missed comma between flow collection entries"),y=g=_=null,f=h=!1,S===63&&(c=e.input.charCodeAt(e.position+1),Ni(c)&&(f=h=!0,e.position++,Mt(e,!0,t))),i=e.line,n=e.lineStart,s=e.position,Zh(e,t,Tx,!1,!0),y=e.tag,g=e.result,Mt(e,!0,t),S=e.input.charCodeAt(e.position),(h||e.line===i)&&S===58&&(f=!0,S=e.input.charCodeAt(++e.position),Mt(e,!0,t),Zh(e,t,Tx,!1,!0),_=e.result),p?Jh(e,a,m,y,g,_,i,n,s):f?a.push(Jh(e,null,m,y,g,_,i,n,s)):a.push(g),Mt(e,!0,t),S=e.input.charCodeAt(e.position),S===44?(r=!0,S=e.input.charCodeAt(++e.position)):r=!1}pe(e,"unexpected end of the stream within a flow collection")}function gDe(e,t){var r,i,n=$I,s=!1,o=!1,a=t,l=0,c=!1,u,f;if(f=e.input.charCodeAt(e.position),f===124)i=!1;else if(f===62)i=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)$I===n?n=f===43?TK:iDe:pe(e,"repeat of a chomping mode identifier");else if((u=cDe(f))>=0)u===0?pe(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?pe(e,"repeat of an indentation width identifier"):(a=t+u-1,o=!0);else break;if(du(f)){do f=e.input.charCodeAt(++e.position);while(du(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!lo(f)&&f!==0)}for(;f!==0;){for(zI(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),lo(f)){l++;continue}if(e.lineIndent<a){n===TK?e.result+=Xt.repeat(`
`,s?1+l:l):n===$I&&s&&(e.result+=`
`);break}for(i?du(f)?(c=!0,e.result+=Xt.repeat(`
`,s?1+l:l)):c?(c=!1,e.result+=Xt.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=Xt.repeat(`
`,l):e.result+=Xt.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,r=e.position;!lo(f)&&f!==0;)f=e.input.charCodeAt(++e.position);Ol(e,r,e.position,!1)}return!0}function IK(e,t){var r,i=e.tag,n=e.anchor,s=[],o,a=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,pe(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!Ni(o))));){if(a=!0,e.position++,Mt(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,Zh(e,t,GK,!1,!0),s.push(e.result),Mt(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)pe(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=i,e.anchor=n,e.kind="sequence",e.result=s,!0):!1}function yDe(e,t,r){var i,n,s,o,a,l,c=e.tag,u=e.anchor,f={},h=Object.create(null),p=null,m=null,g=null,y=!1,_=!1,S;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),S=e.input.charCodeAt(e.position);S!==0;){if(!y&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,pe(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),s=e.line,(S===63||S===58)&&Ni(i))S===63?(y&&(Jh(e,f,h,p,m,null,o,a,l),p=m=g=null),_=!0,y=!0,n=!0):y?(y=!1,n=!0):pe(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,S=i;else{if(o=e.line,a=e.lineStart,l=e.position,!Zh(e,r,WK,!1,!0))break;if(e.line===s){for(S=e.input.charCodeAt(e.position);du(S);)S=e.input.charCodeAt(++e.position);if(S===58)S=e.input.charCodeAt(++e.position),Ni(S)||pe(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(Jh(e,f,h,p,m,null,o,a,l),p=m=g=null),_=!0,y=!1,n=!1,p=e.tag,m=e.result;else if(_)pe(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=u,!0}else if(_)pe(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=u,!0}if((e.line===s||e.lineIndent>t)&&(y&&(o=e.line,a=e.lineStart,l=e.position),Zh(e,t,Ox,!0,n)&&(y?m=e.result:g=e.result),y||(Jh(e,f,h,p,m,g,o,a,l),p=m=g=null),Mt(e,!0,-1),S=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&S!==0)pe(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&Jh(e,f,h,p,m,null,o,a,l),_&&(e.tag=c,e.anchor=u,e.kind="mapping",e.result=f),_}function vDe(e){var t,r=!1,i=!1,n,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&pe(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(i=!0,n="!!",o=e.input.charCodeAt(++e.position)):n="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):pe(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Ni(o);)o===33&&(i?pe(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),YK.test(n)||pe(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),oDe.test(s)&&pe(e,"tag suffix cannot contain flow indicator characters")}s&&!KK.test(s)&&pe(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{pe(e,"tag name is malformed: "+s)}return r?e.tag=s:Al.call(e.tagMap,n)?e.tag=e.tagMap[n]+s:n==="!"?e.tag="!"+s:n==="!!"?e.tag="tag:yaml.org,2002:"+s:pe(e,'undeclared tag handle "'+n+'"'),!0}function _De(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&pe(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Ni(r)&&!Kh(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&pe(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function bDe(e){var t,r,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!Ni(i)&&!Kh(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&pe(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Al.call(e.anchorMap,r)||pe(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Mt(e,!0,-1),!0}function Zh(e,t,r,i,n){var s,o,a,l=1,c=!1,u=!1,f,h,p,m,g,y;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=Ox===r||GK===r,i&&Mt(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;vDe(e)||_De(e);)Mt(e,!0,-1)?(c=!0,a=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=c||n),(l===1||Ox===r)&&(Tx===r||WK===r?g=t:g=t+1,y=e.position-e.lineStart,l===1?a&&(IK(e,y)||yDe(e,y,g))||mDe(e,g)?u=!0:(o&&gDe(e,g)||dDe(e,g)||pDe(e,g)?u=!0:bDe(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&pe(e,"alias node should not have any properties")):hDe(e,g,Tx===r)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(u=a&&IK(e,y))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&pe(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,h=e.implicitTypes.length;f<h;f+=1)if(m=e.implicitTypes[f],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Al.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,p=e.typeMap.multi[e.kind||"fallback"],f=0,h=p.length;f<h;f+=1)if(e.tag.slice(0,p[f].tag.length)===p[f].tag){m=p[f];break}m||pe(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&pe(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):pe(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function wDe(e){var t=e.position,r,i,n,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(Mt(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Ni(o);)o=e.input.charCodeAt(++e.position);for(i=e.input.slice(r,e.position),n=[],i.length<1&&pe(e,"directive name must not be less than one character in length");o!==0;){for(;du(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!lo(o));break}if(lo(o))break;for(r=e.position;o!==0&&!Ni(o);)o=e.input.charCodeAt(++e.position);n.push(e.input.slice(r,e.position))}o!==0&&zI(e),Al.call(CK,i)?CK[i](e,i,n):Ax(e,'unknown document directive "'+i+'"')}if(Mt(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Mt(e,!0,-1)):s&&pe(e,"directives end mark is expected"),Zh(e,e.lineIndent-1,Ox,!1,!0),Mt(e,!0,-1),e.checkLineBreaks&&sDe.test(e.input.slice(t,e.position))&&Ax(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Ix(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Mt(e,!0,-1));return}if(e.position<e.length-1)pe(e,"end of the stream or a document separator is expected");else return}function QK(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new fDe(e,t),i=e.indexOf("\0");for(i!==-1&&(r.position=i,pe(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)wDe(r);return r.documents}function SDe(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var i=QK(e,r);if(typeof t!="function")return i;for(var n=0,s=i.length;n<s;n+=1)t(i[n])}function xDe(e,t){var r=QK(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Ii("expected a single document in the stream, but found more")}}var EDe=SDe,kDe=xDe,eJ={loadAll:EDe,load:kDe},tJ=Object.prototype.toString,rJ=Object.prototype.hasOwnProperty,BI=65279,RDe=9,ty=10,TDe=13,ODe=32,ADe=33,CDe=34,DI=35,PDe=37,IDe=38,NDe=39,$De=42,iJ=44,FDe=45,Cx=58,DDe=61,LDe=62,jDe=63,qDe=64,nJ=91,sJ=93,MDe=96,oJ=123,zDe=124,aJ=125,Zr={};Zr[0]="\\0";Zr[7]="\\a";Zr[8]="\\b";Zr[9]="\\t";Zr[10]="\\n";Zr[11]="\\v";Zr[12]="\\f";Zr[13]="\\r";Zr[27]="\\e";Zr[34]='\\"';Zr[92]="\\\\";Zr[133]="\\N";Zr[160]="\\_";Zr[8232]="\\L";Zr[8233]="\\P";var UDe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],BDe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function HDe(e,t){var r,i,n,s,o,a,l;if(t===null)return{};for(r={},i=Object.keys(t),n=0,s=i.length;n<s;n+=1)o=i[n],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&rJ.call(l.styleAliases,a)&&(a=l.styleAliases[a]),r[o]=a;return r}function VDe(e){var t,r,i;if(t=e.toString(16).toUpperCase(),e<=255)r="x",i=2;else if(e<=65535)r="u",i=4;else if(e<=4294967295)r="U",i=8;else throw new Ii("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Xt.repeat("0",i-t.length)+t}var WDe=1,ry=2;function GDe(e){this.schema=e.schema||VK,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Xt.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=HDe(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?ry:WDe,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function NK(e,t){for(var r=Xt.repeat(" ",t),i=0,n=-1,s="",o,a=e.length;i<a;)n=e.indexOf(`
`,i),n===-1?(o=e.slice(i),i=a):(o=e.slice(i,n+1),i=n+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function LI(e,t){return`
`+Xt.repeat(" ",e.indent*t)}function YDe(e,t){var r,i,n;for(r=0,i=e.implicitTypes.length;r<i;r+=1)if(n=e.implicitTypes[r],n.resolve(t))return!0;return!1}function Px(e){return e===ODe||e===RDe}function iy(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==BI||65536<=e&&e<=1114111}function $K(e){return iy(e)&&e!==BI&&e!==TDe&&e!==ty}function FK(e,t,r){var i=$K(e),n=i&&!Px(e);return(r?i:i&&e!==iJ&&e!==nJ&&e!==sJ&&e!==oJ&&e!==aJ)&&e!==DI&&!(t===Cx&&!n)||$K(t)&&!Px(t)&&e===DI||t===Cx&&n}function KDe(e){return iy(e)&&e!==BI&&!Px(e)&&e!==FDe&&e!==jDe&&e!==Cx&&e!==iJ&&e!==nJ&&e!==sJ&&e!==oJ&&e!==aJ&&e!==DI&&e!==IDe&&e!==$De&&e!==ADe&&e!==zDe&&e!==DDe&&e!==LDe&&e!==NDe&&e!==CDe&&e!==PDe&&e!==qDe&&e!==MDe}function JDe(e){return!Px(e)&&e!==Cx}function Q0(e,t){var r=e.charCodeAt(t),i;return r>=55296&&r<=56319&&t+1<e.length&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function lJ(e){var t=/^\n* /;return t.test(e)}var cJ=1,jI=2,uJ=3,fJ=4,Yh=5;function ZDe(e,t,r,i,n,s,o,a){var l,c=0,u=null,f=!1,h=!1,p=i!==-1,m=-1,g=KDe(Q0(e,0))&&JDe(Q0(e,e.length-1));if(t||o)for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=Q0(e,l),!iy(c))return Yh;g=g&&FK(c,u,a),u=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=Q0(e,l),c===ty)f=!0,p&&(h=h||l-m-1>i&&e[m+1]!==" ",m=l);else if(!iy(c))return Yh;g=g&&FK(c,u,a),u=c}h=h||p&&l-m-1>i&&e[m+1]!==" "}return!f&&!h?g&&!o&&!n(e)?cJ:s===ry?Yh:jI:r>9&&lJ(e)?Yh:o?s===ry?Yh:jI:h?fJ:uJ}function XDe(e,t,r,i,n){e.dump=function(){if(t.length===0)return e.quotingType===ry?'""':"''";if(!e.noCompatMode&&(UDe.indexOf(t)!==-1||BDe.test(t)))return e.quotingType===ry?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=i||e.flowLevel>-1&&r>=e.flowLevel;function l(c){return YDe(e,c)}switch(ZDe(t,a,e.indent,o,l,e.quotingType,e.forceQuotes&&!i,n)){case cJ:return t;case jI:return"'"+t.replace(/'/g,"''")+"'";case uJ:return"|"+DK(t,e.indent)+LK(NK(t,s));case fJ:return">"+DK(t,e.indent)+LK(NK(QDe(t,o),s));case Yh:return'"'+eLe(t)+'"';default:throw new Ii("impossible error: invalid scalar style")}}()}function DK(e,t){var r=lJ(e)?String(t):"",i=e[e.length-1]===`
`,n=i&&(e[e.length-2]===`
`||e===`
`),s=n?"+":i?"":"-";return r+s+`
`}function LK(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function QDe(e,t){for(var r=/(\n+)([^\n]*)/g,i=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,jK(e.slice(0,c),t)}(),n=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],l=o[2];s=l[0]===" ",i+=a+(!n&&!s&&l!==""?`
`:"")+jK(l,t),n=s}return i}function jK(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,i,n=0,s,o=0,a=0,l="";i=r.exec(e);)a=i.index,a-n>t&&(s=o>n?o:a,l+=`
`+e.slice(n,s),n=s+1),o=a;return l+=`
`,e.length-n>t&&o>n?l+=e.slice(n,o)+`
`+e.slice(o+1):l+=e.slice(n),l.slice(1)}function eLe(e){for(var t="",r=0,i,n=0;n<e.length;r>=65536?n+=2:n++)r=Q0(e,n),i=Zr[r],!i&&iy(r)?(t+=e[n],r>=65536&&(t+=e[n+1])):t+=i||VDe(r);return t}function tLe(e,t,r){var i="",n=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(oa(e,t,a,!1,!1)||typeof a>"u"&&oa(e,t,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=n,e.dump="["+i+"]"}function qK(e,t,r,i){var n="",s=e.tag,o,a,l;for(o=0,a=r.length;o<a;o+=1)l=r[o],e.replacer&&(l=e.replacer.call(r,String(o),l)),(oa(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&oa(e,t+1,null,!0,!0,!1,!0))&&((!i||n!=="")&&(n+=LI(e,t)),e.dump&&ty===e.dump.charCodeAt(0)?n+="-":n+="- ",n+=e.dump);e.tag=s,e.dump=n||"[]"}function rLe(e,t,r){var i="",n=e.tag,s=Object.keys(r),o,a,l,c,u;for(o=0,a=s.length;o<a;o+=1)u="",i!==""&&(u+=", "),e.condenseFlow&&(u+='"'),l=s[o],c=r[l],e.replacer&&(c=e.replacer.call(r,l,c)),oa(e,t,l,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),oa(e,t,c,!1,!1)&&(u+=e.dump,i+=u));e.tag=n,e.dump="{"+i+"}"}function iLe(e,t,r,i){var n="",s=e.tag,o=Object.keys(r),a,l,c,u,f,h;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Ii("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)h="",(!i||n!=="")&&(h+=LI(e,t)),c=o[a],u=r[c],e.replacer&&(u=e.replacer.call(r,c,u)),oa(e,t+1,c,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&ty===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,f&&(h+=LI(e,t)),oa(e,t+1,u,!0,f)&&(e.dump&&ty===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,n+=h));e.tag=s,e.dump=n||"{}"}function MK(e,t,r){var i,n,s,o,a,l;for(n=r?e.explicitTypes:e.implicitTypes,s=0,o=n.length;s<o;s+=1)if(a=n[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,tJ.call(a.represent)==="[object Function]")i=a.represent(t,l);else if(rJ.call(a.represent,l))i=a.represent[l](t,l);else throw new Ii("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=i}return!0}return!1}function oa(e,t,r,i,n,s,o){e.tag=null,e.dump=r,MK(e,r,!1)||MK(e,r,!0);var a=tJ.call(e.dump),l=i,c;i&&(i=e.flowLevel<0||e.flowLevel>t);var u=a==="[object Object]"||a==="[object Array]",f,h;if(u&&(f=e.duplicates.indexOf(r),h=f!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(n=!1),h&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(u&&h&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),a==="[object Object]")i&&Object.keys(e.dump).length!==0?(iLe(e,t,e.dump,n),h&&(e.dump="&ref_"+f+e.dump)):(rLe(e,t,e.dump),h&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?qK(e,t-1,e.dump,n):qK(e,t,e.dump,n),h&&(e.dump="&ref_"+f+e.dump)):(tLe(e,t,e.dump),h&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&XDe(e,e.dump,t,s,l);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Ii("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function nLe(e,t){var r=[],i=[],n,s;for(qI(e,r,i),n=0,s=i.length;n<s;n+=1)t.duplicates.push(r[i[n]]);t.usedDuplicates=new Array(s)}function qI(e,t,r){var i,n,s;if(e!==null&&typeof e=="object")if(n=t.indexOf(e),n!==-1)r.indexOf(n)===-1&&r.push(n);else if(t.push(e),Array.isArray(e))for(n=0,s=e.length;n<s;n+=1)qI(e[n],t,r);else for(i=Object.keys(e),n=0,s=i.length;n<s;n+=1)qI(e[i[n]],t,r)}function sLe(e,t){t=t||{};var r=new GDe(t);r.noRefs||nLe(e,r);var i=e;return r.replacer&&(i=r.replacer.call({"":i},"",i)),oa(r,0,i,!0,!0)?r.dump+`
`:""}var oLe=sLe,aLe={dump:oLe};function HI(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var hJ=eJ.load,nGe=eJ.loadAll,sGe=aLe.dump;var oGe=HI("safeLoad","load"),aGe=HI("safeLoadAll","loadAll"),lGe=HI("safeDump","dump");var Nx=class{constructor(t){this.handler=async(t,r)=>{try{let i=this.readParameters(t),n=i.page?`${i.page}`:"0",s=new URL(`http://localhost:${this.plugin.settings.port}/embed/${i.slide}#/${n}`);s.searchParams.append("embed","true");let o=r.createDiv();o.empty(),o.addClass("reveal-preview-view"),o.createEl("iframe",{attr:{src:s.toString(),sandbox:"allow-scripts allow-same-origin allow-popups"}})}catch(i){r.createEl("h2",{text:"Parameters invalid: "+i.message})}};this.plugin=t}readParameters(t){let r=hJ(t),i=this.plugin.obsidianUtils.findFile(r.slide.toString());return i&&i.endsWith(".md")?r.slide=i:i&&(r.slide=i+".md"),r}};var ya=require("fs"),R1=Bt(require("path")),See=Bt(wee()),xee=require("obsidian"),T1=class{constructor(t){this.plugin=t,this.pluginDirectory=this.plugin.obsidianUtils.pluginDirectory,this.distDirectory=this.plugin.obsidianUtils.distDirectory}isOutdated(){return!(0,ya.existsSync)(this.distDirectory)||this.isOldVersion()}isOldVersion(){let t=R1.default.join(this.pluginDirectory,"distVersion.json");if((0,ya.existsSync)(t)){let r=(0,ya.readFileSync)(t,{encoding:"utf-8"});return JSON.parse(r).version!=this.plugin.manifest.version}else return!0}async update(){let r=`https://github.com/ebullient/obsidian-slides-extended/releases/download/${this.plugin.manifest.version}/slides-extended.zip`,i=await(0,xee.requestUrl)(r);if(i.status!=200){console.error(`Failed to download ${r}`);return}let n=new See.default,s=await n.loadAsync(i.arrayBuffer),o=this.pluginDirectory;Object.keys(s.files).forEach(function(a){s.files[a].dir||n.file(a).async("nodebuffer").then(function(l){let c=R1.default.join(o,a),u=R1.default.dirname(c);(0,ya.mkdirSync)(u,{recursive:!0}),(0,ya.writeFileSync)(c,l)})})}};var O1=class extends Ly.Plugin{constructor(){super(...arguments);this.layoutReady=async()=>{try{let r=this.manifest.version,i=new T1(this);console.log("Slides Extended v%s, needsReload=%s",r,i.isOutdated()),i.isOutdated()&&(await i.update(),console.log("Slides Extended updated to v%s",r)),this.configureServer(),await this.initServer()}catch(r){console.debug("Slides Extended caught an error",r)}};this.configureServer=()=>{this.revealServer=new xx(this.obsidianUtils,this.port,this.url)};this.initServer=async()=>{this.settings.autoStart&&await this.revealServer.start();let r=this.getViewInstance();r&&r.url=="about:blank"&&await this.showView()};this.stopServer=async()=>{this.revealServer&&await this.revealServer.stop();let r=this.getViewInstance();r&&await r.onClose()}}async onload(){await this.loadSettings(),(0,Ly.addIcon)("slides",a9),(0,Ly.addIcon)("refresh",l9);let r=Number(this.settings.port);this.port=isNaN(r)?3e3:r,this.serverUrl=new URL(`http://localhost:${this.port}`),this.obsidianUtils=new Tm(this.app,this.settings),this.registerView(ao,i=>new Z0(i,this.url,this.settings,this.hideView.bind(this))),this.registerEvent(this.app.vault.on("modify",this.onChange.bind(this))),this.registerEditorSuggest(new kx(this.app,this)),this.addRibbonIcon("slides","Show slide preview",async()=>{await this.showView()}),this.addCommand({id:"open-preview",name:"Show slide preview",callback:async()=>this.toggleView()}),this.addCommand({id:"reload-preview",name:"Reload slide preview",callback:()=>{let i=this.getViewInstance();i&&i.onChange()}}),this.addCommand({id:"stop-server-preview",name:"Stop slide preview server",callback:async()=>this.revealServer.stop()}),this.addCommand({id:"start-server-preview",name:"Start slide preview server",callback:async()=>this.revealServer.start()}),this.addSettingTab(new Rx(this.app,this)),this.app.workspace.onLayoutReady(this.layoutReady),this.slideProcessor=new Nx(this),this.registerMarkdownCodeBlockProcessor("slide",this.slideProcessor.handler),this.registerMarkdownPostProcessor(this.obsidianUtils.markdownProcessor.postProcess)}get url(){return this.serverUrl}getViewInstance(){for(let r of this.app.workspace.getLeavesOfType(ao)){let i=r.view;if(i instanceof Z0)return i}return null}onChange(r){if(!this.settings.autoReload)return;let i=this.getViewInstance();i&&r==this.target&&i.onChange()}async toggleView(){this.getViewInstance()?this.app.workspace.detachLeavesOfType(ao):await this.showView()}hideView(){}async showView(){let r=this.app.workspace.getActiveFile();if(!r||r==this.target&&this.app.workspace.getLeavesOfType(ao).length>0)return;this.target=r,await this.activateView();let i=this.revealServer.getTargetUrl(this.target);await this.openUrl(i)}async openUrl(r){this.getViewInstance().setUrl(r.toString())}async activateView(){this.app.workspace.detachLeavesOfType(ao),this.settings.paneMode=="sidebar"?await this.app.workspace.getRightLeaf(!0).setViewState({type:ao,active:!0}):await this.app.workspace.getLeaf(this.settings.paneMode).setViewState({type:ao,active:!1}),this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(ao)[0])}async onunload(){console.debug("unloading Slides Extended"),await this.stopServer()}async loadSettings(){this.settings=Object.assign({},c9,await this.loadData())}async saveSettings(){await this.saveData(this.settings),console.debug("Slides Extended: settings saved"),await this.stopServer(),this.obsidianUtils=new Tm(this.app,this.settings),this.configureServer(),await this.initServer();let r=this.getViewInstance();r&&await r.onChange()}async update(r){this.settings=r,await this.saveSettings()}};var O3e=O1;
/*! Bundled license information:

forwarded/index.js:
  (*!
   * forwarded
   * Copyright(c) 2014-2017 Douglas Christopher Wilson
   * MIT Licensed
   *)

proxy-addr/index.js:
  (*!
   * proxy-addr
   * Copyright(c) 2014-2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

toad-cache/dist/toad-cache.cjs:
  (**
   * toad-cache
   *
   * @copyright 2024 Igor Savin <kibertoad@gmail.com>
   * @license MIT
   * @version 3.7.0
   *)

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

light-my-request/lib/form-data.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

reveal.js/plugin/markdown/markdown.js:
  (*!
     * The reveal.js markdown plugin. Handles parsing of
     * markdown inside of presentations as well as loading
     * of external markdown documents.
     *)

escape-html/index.js:
  (*!
   * escape-html
   * Copyright(c) 2012-2013 TJ Holowaychuk
   * Copyright(c) 2015 Andreas Lubbe
   * Copyright(c) 2015 Tiancheng "Timothy" Gu
   * MIT Licensed
   *)

@fastify/send/lib/clearHeaders.js:
  (*!
   * send
   * Copyright(c) 2012 TJ Holowaychuk
   * Copyright(c) 2014-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

@fastify/send/lib/containsDotFile.js:
  (*!
   * send
   * Copyright(c) 2012 TJ Holowaychuk
   * Copyright(c) 2014-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

@fastify/send/lib/contentRange.js:
  (*!
   * send
   * Copyright(c) 2012 TJ Holowaychuk
   * Copyright(c) 2014-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

@fastify/send/lib/createHtmlDocument.js:
  (*!
   * send
   * Copyright(c) 2012 TJ Holowaychuk
   * Copyright(c) 2014-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

depd/index.js:
  (*!
   * depd
   * Copyright(c) 2014-2018 Douglas Christopher Wilson
   * MIT Licensed
   *)

statuses/index.js:
  (*!
   * statuses
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

toidentifier/index.js:
  (*!
   * toidentifier
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

http-errors/index.js:
  (*!
   * http-errors
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

@fastify/send/lib/parseBytesRange.js:
  (*!
   * Based on range-parser
   *
   * Copyright(c) 2012-2014 TJ Holowaychuk
   * Copyright(c) 2015-2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

@fastify/send/lib/SendStream.js:
  (*!
   * send
   * Copyright(c) 2012 TJ Holowaychuk
   * Copyright(c) 2014-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

@fastify/send/index.js:
  (*!
   * send
   * Copyright(c) 2012 TJ Holowaychuk
   * Copyright(c) 2014-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

content-disposition/index.js:
  (*!
   * content-disposition
   * Copyright(c) 2014-2017 Douglas Christopher Wilson
   * MIT Licensed
   *)

mustache/mustache.mjs:
  (*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/


/* nosourcemap */